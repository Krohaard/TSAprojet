var p=Object.defineProperty;var s=(l,a)=>p(l,"name",{value:a,configurable:!0});import{bs as c,cU as w,cV as v,r,H as g,c as k,d as V,e as b,u as M,l as x,x as $,A as y,E as i,bq as B,n as H}from"./vendor-other-CcUSxTdr.js";import{aa as h}from"./vendor-primevue-D4_dEx5Z.js";import{b4 as E}from"./index-UkVvUXbW.js";import"./vendor-vue-BFtl7jfJ.js";import"./vendor-xterm-DV1MVhAx.js";import"./vendor-three-zdhtZbSm.js";import"./vendor-tiptap-BLQhG9Oo.js";const T=["innerHTML"],A=c({__name:"WidgetMarkdown",props:w({widget:{}},{modelValue:{default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(l){const a=v(l,"modelValue"),t=r(!1),n=r(),d=g(()=>E(a.value||"")),u=s(async()=>{t.value||l.widget.options?.read_only||(t.value=!0,await H(),n.value?.$el?.focus())},"startEditing"),m=s(()=>{t.value=!1},"handleBlur");return(o,e)=>(k(),V("div",{class:"widget-expands widget-markdown relative w-full",onDblclick:u},[b("div",{class:M(["comfy-markdown-content size-full min-h-[60px] overflow-y-auto rounded-lg text-sm",t.value===!1?"visible":"invisible"]),innerHTML:d.value},null,10,T),x(y(B(h),{ref_key:"textareaRef",ref:n,modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=f=>a.value=f),"aria-label":`${o.$t("g.edit")} ${o.widget.name||o.$t("g.markdown")} ${o.$t("g.content")}`,class:"absolute inset-0 min-h-[60px] w-full resize-none",pt:{root:{class:"text-sm w-full h-full",onBlur:m}},"data-capture-wheel":"true",onClick:e[1]||(e[1]=i(()=>{},["stop"])),onKeydown:e[2]||(e[2]=i(()=>{},["stop"]))},null,8,["modelValue","aria-label","pt"]),[[$,t.value]])],32))}});export{A as default};
//# sourceMappingURL=WidgetMarkdown-BI0ARhBH.js.map
