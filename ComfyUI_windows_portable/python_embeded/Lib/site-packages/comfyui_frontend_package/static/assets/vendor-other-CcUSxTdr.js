var cX=Object.defineProperty;var o=(t,e)=>cX(t,"name",{value:e,configurable:!0});const at=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Qc="8.48.0",kt=globalThis;function nE(t,e,n){const r=n||kt,i=r.__SENTRY__=r.__SENTRY__||{},s=i[Qc]=i[Qc]||{};return s[t]||(s[t]=e())}o(nE,"getGlobalSingleton");const Kf=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,fX="Sentry Logger ",bS=["debug","info","warn","error","log","assert","trace"],Ob={};function Yf(t){if(!("console"in kt))return t();const e=kt.console,n={},r=Object.keys(Ob);r.forEach(i=>{const s=Ob[i];n[i]=e[i],e[i]=s});try{return t()}finally{r.forEach(i=>{e[i]=n[i]})}}o(Yf,"consoleSandbox");function hX(){let t=!1;const e={enable:o(()=>{t=!0},"enable"),disable:o(()=>{t=!1},"disable"),isEnabled:o(()=>t,"isEnabled")};return Kf?bS.forEach(n=>{e[n]=(...r)=>{t&&Yf(()=>{kt.console[n](`${fX}[${n}]:`,...r)})}}):bS.forEach(n=>{e[n]=()=>{}}),e}o(hX,"makeLogger");const De=nE("logger",hX),k8=50,df="?",sM=/\(error: (.*)\)/,oM=/captureMessage|captureException/;function A8(...t){const e=t.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const s=[],a=n.split(`
`);for(let l=r;l<a.length;l++){const u=a[l];if(u.length>1024)continue;const c=sM.test(u)?u.replace(sM,"$1"):u;if(!c.match(/\S*Error: /)){for(const f of e){const h=f(c);if(h){s.push(h);break}}if(s.length>=k8+i)break}}return pX(s.slice(i))}}o(A8,"createStackParser");function dX(t){return Array.isArray(t)?A8(...t):t}o(dX,"stackParserFromStackParserOptions");function pX(t){if(!t.length)return[];const e=Array.from(t);return/sentryWrapped/.test(L1(e).function||"")&&e.pop(),e.reverse(),oM.test(L1(e).function||"")&&(e.pop(),oM.test(L1(e).function||"")&&e.pop()),e.slice(0,k8).map(n=>({...n,filename:n.filename||L1(e).filename,function:n.function||df}))}o(pX,"stripSentryFramesAndReverse");function L1(t){return t[t.length-1]||{}}o(L1,"getLastStackFrame");const a2="<anonymous>";function Fu(t){try{return!t||typeof t!="function"?a2:t.name||a2}catch{return a2}}o(Fu,"getFunctionName");function aM(t){const e=t.exception;if(e){const n=[];try{return e.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}o(aM,"getFramesFromEvent");const Y_={},lM={};function Xf(t,e){Y_[t]=Y_[t]||[],Y_[t].push(e)}o(Xf,"addHandler");function Jf(t,e){if(!lM[t]){lM[t]=!0;try{e()}catch(n){Kf&&De.error(`Error while instrumenting ${t}`,n)}}}o(Jf,"maybeInstrument");function so(t,e){const n=t&&Y_[t];if(n)for(const r of n)try{r(e)}catch(i){Kf&&De.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Fu(r)}
Error:`,i)}}o(so,"triggerHandlers");let l2=null;function mX(t){const e="error";Xf(e,t),Jf(e,gX)}o(mX,"addGlobalErrorInstrumentationHandler");function gX(){l2=kt.onerror,kt.onerror=function(t,e,n,r,i){return so("error",{column:r,error:i,line:n,msg:t,url:e}),l2?l2.apply(this,arguments):!1},kt.onerror.__SENTRY_INSTRUMENTED__=!0}o(gX,"instrumentError");let u2=null;function yX(t){const e="unhandledrejection";Xf(e,t),Jf(e,_X)}o(yX,"addGlobalUnhandledRejectionInstrumentationHandler");function _X(){u2=kt.onunhandledrejection,kt.onunhandledrejection=function(t){return so("unhandledrejection",t),u2?u2.apply(this,arguments):!0},kt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}o(_X,"instrumentUnhandledRejection");function Cp(){return VC(kt),kt}o(Cp,"getMainCarrier");function VC(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||Qc,e[Qc]=e[Qc]||{}}o(VC,"getSentryCarrier");const C8=Object.prototype.toString;function jC(t){switch(C8.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return pf(t,Error)}}o(jC,"isError$1");function Ip(t,e){return C8.call(t)===`[object ${e}]`}o(Ip,"isBuiltin");function I8(t){return Ip(t,"ErrorEvent")}o(I8,"isErrorEvent$1");function uM(t){return Ip(t,"DOMError")}o(uM,"isDOMError");function bX(t){return Ip(t,"DOMException")}o(bX,"isDOMException");function pl(t){return Ip(t,"String")}o(pl,"isString$8");function WC(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}o(WC,"isParameterizedString");function HC(t){return t===null||WC(t)||typeof t!="object"&&typeof t!="function"}o(HC,"isPrimitive$1");function Vd(t){return Ip(t,"Object")}o(Vd,"isPlainObject$5");function rE(t){return typeof Event<"u"&&pf(t,Event)}o(rE,"isEvent");function wX(t){return typeof Element<"u"&&pf(t,Element)}o(wX,"isElement$1");function vX(t){return Ip(t,"RegExp")}o(vX,"isRegExp$5");function iE(t){return!!(t&&t.then&&typeof t.then=="function")}o(iE,"isThenable$1");function EX(t){return Vd(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}o(EX,"isSyntheticEvent");function pf(t,e){try{return t instanceof e}catch{return!1}}o(pf,"isInstanceOf");function R8(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}o(R8,"isVueViewModel");const GC=kt,xX=80;function O8(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,i=[];let s=0,a=0;const l=" > ",u=l.length;let c;const f=Array.isArray(e)?e:e.keyAttrs,h=!Array.isArray(e)&&e.maxStringLength||xX;for(;n&&s++<r&&(c=TX(n,f),!(c==="html"||s>1&&a+i.length*u+c.length>=h));)i.push(c),a+=c.length,n=n.parentNode;return i.reverse().join(l)}catch{return"<unknown>"}}o(O8,"htmlTreeAsString");function TX(t,e){const n=t,r=[];if(!n||!n.tagName)return"";if(GC.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=e&&e.length?e.filter(a=>n.getAttribute(a)).map(a=>[a,n.getAttribute(a)]):null;if(i&&i.length)i.forEach(a=>{r.push(`[${a[0]}="${a[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const a=n.className;if(a&&pl(a)){const l=a.split(/\s+/);for(const u of l)r.push(`.${u}`)}}const s=["aria-label","type","name","title","alt"];for(const a of s){const l=n.getAttribute(a);l&&r.push(`[${a}="${l}"]`)}return r.join("")}o(TX,"_htmlElementAsString");function SX(){try{return GC.document.location.href}catch{return""}}o(SX,"getLocationHref");function kX(t){if(!GC.HTMLElement)return null;let e=t;const n=5;for(let r=0;r<n;r++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}o(kX,"getComponentName$1");function yd(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}o(yd,"truncate$1");function cM(t,e){if(!Array.isArray(t))return"";const n=[];for(let r=0;r<t.length;r++){const i=t[r];try{R8(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}o(cM,"safeJoin");function AX(t,e,n=!1){return pl(t)?vX(e)?e.test(t):pl(e)?n?t===e:t.includes(e):!1:!1}o(AX,"isMatchingPattern");function sE(t,e=[],n=!1){return e.some(r=>AX(t,r,n))}o(sE,"stringMatchesSomePattern");function Ji(t,e,n){if(!(e in t))return;const r=t[e],i=n(r);typeof i=="function"&&N8(i,r);try{t[e]=i}catch{Kf&&De.log(`Failed to replace method "${e}" in object`,t)}}o(Ji,"fill$2");function Ds(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch{Kf&&De.log(`Failed to add non-enumerable property "${e}" to object`,t)}}o(Ds,"addNonEnumerableProperty");function N8(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,Ds(t,"__sentry_original__",e)}catch{}}o(N8,"markFunctionWrapped");function qC(t){return t.__sentry_original__}o(qC,"getOriginalFunction");function M8(t){if(jC(t))return{message:t.message,name:t.name,stack:t.stack,...hM(t)};if(rE(t)){const e={type:t.type,target:fM(t.target),currentTarget:fM(t.currentTarget),...hM(t)};return typeof CustomEvent<"u"&&pf(t,CustomEvent)&&(e.detail=t.detail),e}else return t}o(M8,"convertToPlainObject");function fM(t){try{return wX(t)?O8(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}o(fM,"serializeEventTarget");function hM(t){if(typeof t=="object"&&t!==null){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}else return{}}o(hM,"getOwnProperties");function CX(t,e=40){const n=Object.keys(M8(t));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=e)return yd(r,e);for(let i=n.length;i>0;i--){const s=n.slice(0,i).join(", ");if(!(s.length>e))return i===n.length?s:yd(s,e)}return""}o(CX,"extractExceptionKeysForMessage");function fi(t){return wS(t,new Map)}o(fi,"dropUndefinedKeys");function wS(t,e){if(IX(t)){const n=e.get(t);if(n!==void 0)return n;const r={};e.set(t,r);for(const i of Object.getOwnPropertyNames(t))typeof t[i]<"u"&&(r[i]=wS(t[i],e));return r}if(Array.isArray(t)){const n=e.get(t);if(n!==void 0)return n;const r=[];return e.set(t,r),t.forEach(i=>{r.push(wS(i,e))}),r}return t}o(wS,"_dropUndefinedKeys");function IX(t){if(!Vd(t))return!1;try{const e=Object.getPrototypeOf(t).constructor.name;return!e||e==="Object"}catch{return!0}}o(IX,"isPojo");const D8=1e3;function uy(){return Date.now()/D8}o(uy,"dateTimestampInSeconds");function RX(){const{performance:t}=kt;if(!t||!t.now)return uy;const e=Date.now()-t.now(),n=t.timeOrigin==null?e:t.timeOrigin;return()=>(n+t.now())/D8}o(RX,"createUnixTimestampInSecondsFunc");const oo=RX();(()=>{const{performance:t}=kt;if(!t||!t.now)return;const e=3600*1e3,n=t.now(),r=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,s=i<e,a=t.timing&&t.timing.navigationStart,u=typeof a=="number"?Math.abs(a+n-r):e,c=u<e;return s||c?i<=u?t.timeOrigin:a:r})();function Rs(){const t=kt,e=t.crypto||t.msCrypto;let n=o(()=>Math.random()*16,"getRandomByte");try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=o(()=>{const r=new Uint8Array(1);return e.getRandomValues(r),r[0]},"getRandomByte"))}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}o(Rs,"uuid4");function P8(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}o(P8,"getFirstException");function nu(t){const{message:e,event_id:n}=t;if(e)return e;const r=P8(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}o(nu,"getEventDescription");function vS(t,e,n){const r=t.exception=t.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=e||""),s.type||(s.type="Error")}o(vS,"addExceptionTypeValue");function jd(t,e){const n=P8(t);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...e},e&&"data"in e){const s={...i&&i.data,...e.data};n.mechanism.data=s}}o(jd,"addExceptionMechanism");function dM(t){if(OX(t))return!0;try{Ds(t,"__sentry_captured__",!0)}catch{}return!1}o(dM,"checkOrSetAlreadyCaught");function OX(t){try{return t.__sentry_captured__}catch{}}o(OX,"isAlreadyCaptured");var Ja;(function(t){t[t.PENDING=0]="PENDING";const n=1;t[t.RESOLVED=n]="RESOLVED";const r=2;t[t.REJECTED=r]="REJECTED"})(Ja||(Ja={}));function mf(t){return new Es(e=>{e(t)})}o(mf,"resolvedSyncPromise");function Nb(t){return new Es((e,n)=>{n(t)})}o(Nb,"rejectedSyncPromise");class Es{static{o(this,"SyncPromise")}constructor(e){Es.prototype.__init.call(this),Es.prototype.__init2.call(this),Es.prototype.__init3.call(this),Es.prototype.__init4.call(this),this._state=Ja.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new Es((r,i)=>{this._handlers.push([!1,s=>{if(!e)r(s);else try{r(e(s))}catch(a){i(a)}},s=>{if(!n)i(s);else try{r(n(s))}catch(a){i(a)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new Es((n,r)=>{let i,s;return this.then(a=>{s=!1,i=a,e&&e()},a=>{s=!0,i=a,e&&e()}).then(()=>{if(s){r(i);return}n(i)})})}__init(){this._resolve=e=>{this._setResult(Ja.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(Ja.REJECTED,e)}}__init3(){this._setResult=(e,n)=>{if(this._state===Ja.PENDING){if(iE(n)){n.then(this._resolve,this._reject);return}this._state=e,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Ja.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===Ja.RESOLVED&&n[1](this._value),this._state===Ja.REJECTED&&n[2](this._value),n[0]=!0)})}}}function NX(t){const e=oo(),n={sid:Rs(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:o(()=>DX(n),"toJSON")};return t&&Wd(n,t),n}o(NX,"makeSession");function Wd(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||oo(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:Rs()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}o(Wd,"updateSession");function MX(t,e){let n={};t.status==="ok"&&(n={status:"exited"}),Wd(t,n)}o(MX,"closeSession");function DX(t){return fi({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}o(DX,"sessionToJSON");function Mb(){return Rs()}o(Mb,"generateTraceId");function Qg(){return Rs().substring(16)}o(Qg,"generateSpanId");function oE(t,e,n=2){if(!e||typeof e!="object"||n<=0)return e;if(t&&e&&Object.keys(e).length===0)return t;const r={...t};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=oE(r[i],e[i],n-1));return r}o(oE,"merge$2");const ES="_sentrySpan";function xS(t,e){e?Ds(t,ES,e):delete t[ES]}o(xS,"_setSpanForScope");function Db(t){return t[ES]}o(Db,"_getSpanForScope");const PX=100;class KC{static{o(this,"ScopeClass")}constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Mb(),spanId:Qg()}}clone(){const e=new KC;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,xS(e,Db(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Wd(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e,[r,i]=n instanceof Bu?[n.getScopeData(),n.getRequestSession()]:Vd(n)?[e,e.requestSession]:[],{tags:s,extra:a,user:l,contexts:u,level:c,fingerprint:f=[],propagationContext:h}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...a},this._contexts={...this._contexts,...u},l&&Object.keys(l).length&&(this._user=l),c&&(this._level=c),f.length&&(this._fingerprint=f),h&&(this._propagationContext=h),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,xS(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Mb()}),this._notifyScopeListeners(),this}addBreadcrumb(e,n){const r=typeof n=="number"?n:PX;if(r<=0)return this;const i={timestamp:uy(),...e},s=this._breadcrumbs;return s.push(i),this._breadcrumbs=s.length>r?s.slice(-r):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Db(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=oE(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:Qg(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,n){const r=n&&n.event_id?n.event_id:Rs();if(!this._client)return De.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:i,...n,event_id:r},this),r}captureMessage(e,n,r){const i=r&&r.event_id?r.event_id:Rs();if(!this._client)return De.warn("No client configured on scope - will not capture message!"),i;const s=new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:s,...r,event_id:i},this),i}captureEvent(e,n){const r=n&&n.event_id?n.event_id:Rs();return this._client?(this._client.captureEvent(e,{...n,event_id:r},this),r):(De.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}const Bu=KC;function $X(){return nE("defaultCurrentScope",()=>new Bu)}o($X,"getDefaultCurrentScope");function LX(){return nE("defaultIsolationScope",()=>new Bu)}o(LX,"getDefaultIsolationScope");class FX{static{o(this,"AsyncContextStack")}constructor(e,n){let r;e?r=e:r=new Bu;let i;n?i=n:i=new Bu,this._stack=[{scope:r}],this._isolationScope=i}withScope(e){const n=this._pushScope();let r;try{r=e(n)}catch(i){throw this._popScope(),i}return iE(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Hd(){const t=Cp(),e=VC(t);return e.stack=e.stack||new FX($X(),LX())}o(Hd,"getAsyncContextStack");function BX(t){return Hd().withScope(t)}o(BX,"withScope$1");function UX(t,e){const n=Hd();return n.withScope(()=>(n.getStackTop().scope=t,e(t)))}o(UX,"withSetScope");function pM(t){return Hd().withScope(()=>t(Hd().getIsolationScope()))}o(pM,"withIsolationScope");function zX(){return{withIsolationScope:pM,withScope:BX,withSetScope:UX,withSetIsolationScope:o((t,e)=>pM(e),"withSetIsolationScope"),getCurrentScope:o(()=>Hd().getScope(),"getCurrentScope"),getIsolationScope:o(()=>Hd().getIsolationScope(),"getIsolationScope")}}o(zX,"getStackAsyncContextStrategy");function cy(t){const e=VC(t);return e.acs?e.acs:zX()}o(cy,"getAsyncContextStrategy");function ss(){const t=Cp();return cy(t).getCurrentScope()}o(ss,"getCurrentScope$1");function Zf(){const t=Cp();return cy(t).getIsolationScope()}o(Zf,"getIsolationScope");function VX(){return nE("globalScope",()=>new Bu)}o(VX,"getGlobalScope");function YC(...t){const e=Cp(),n=cy(e);if(t.length===2){const[r,i]=t;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(t[0])}o(YC,"withScope");function Rn(){return ss().getClient()}o(Rn,"getClient");function jX(t){const e=t.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:i}=e;return fi({trace_id:n,span_id:r,parent_span_id:i})}o(jX,"getTraceContextFromScope");const WX="_sentryMetrics";function TS(t){const e=t[WX];if(!e)return;const n={};for(const[,[r,i]]of e)(n[r]||(n[r]=[])).push(fi(i));return n}o(TS,"getMetricSummaryJsonForSpan");const Pb="sentry.source",$8="sentry.sample_rate",SS="sentry.op",kS="sentry.origin",HX="sentry.measurement_unit",GX="sentry.measurement_value",mM="sentry.custom_span_name",qX="sentry.profile_id",KX="sentry.exclusive_time",YX=0,XX=1,JX="sentry-",ZX=/^sentry-/;function QX(t){const e=eJ(t);if(!e)return;const n=Object.entries(e).reduce((r,[i,s])=>{if(i.match(ZX)){const a=i.slice(JX.length);r[a]=s}return r},{});if(Object.keys(n).length>0)return n}o(QX,"baggageHeaderToDynamicSamplingContext");function eJ(t){if(!(!t||!pl(t)&&!Array.isArray(t)))return Array.isArray(t)?t.reduce((e,n)=>{const r=gM(n);return Object.entries(r).forEach(([i,s])=>{e[i]=s}),e},{}):gM(t)}o(eJ,"parseBaggageHeader");function gM(t){return t.split(",").map(e=>e.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((e,[n,r])=>(n&&r&&(e[n]=r),e),{})}o(gM,"baggageHeaderToObject");const L8=0,F8=1;let yM=!1;function tJ(t){const{spanId:e,traceId:n}=t.spanContext(),{data:r,op:i,parent_span_id:s,status:a,origin:l}=bo(t);return fi({parent_span_id:s,span_id:e,trace_id:n,data:r,op:i,status:a,origin:l})}o(tJ,"spanToTransactionTraceContext");function nJ(t){const{spanId:e,traceId:n,isRemote:r}=t.spanContext(),i=r?e:bo(t).parent_span_id,s=r?Qg():e;return fi({parent_span_id:i,span_id:s,trace_id:n})}o(nJ,"spanToTraceContext");function _d(t){return typeof t=="number"?_M(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?_M(t.getTime()):oo()}o(_d,"spanTimeInputToSeconds");function _M(t){return t>9999999999?t/1e3:t}o(_M,"ensureTimestampInSeconds");function bo(t){if(iJ(t))return t.getSpanJSON();try{const{spanId:e,traceId:n}=t.spanContext();if(rJ(t)){const{attributes:r,startTime:i,name:s,endTime:a,parentSpanId:l,status:u}=t;return fi({span_id:e,trace_id:n,data:r,description:s,parent_span_id:l,start_timestamp:_d(i),timestamp:_d(a)||void 0,status:B8(u),op:r[SS],origin:r[kS],_metrics_summary:TS(t)})}return{span_id:e,trace_id:n}}catch{return{}}}o(bo,"spanToJSON");function rJ(t){const e=t;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}o(rJ,"spanIsOpenTelemetrySdkTraceBaseSpan");function iJ(t){return typeof t.getSpanJSON=="function"}o(iJ,"spanIsSentrySpan");function fy(t){const{traceFlags:e}=t.spanContext();return e===F8}o(fy,"spanIsSampled");function B8(t){if(!(!t||t.code===YX))return t.code===XX?"ok":t.message||"unknown_error"}o(B8,"getStatusMessage");const dg="_sentryChildSpans",AS="_sentryRootSpan";function U8(t,e){const n=t[AS]||t;Ds(e,AS,n),t[dg]?t[dg].add(e):Ds(t,dg,new Set([e]))}o(U8,"addChildSpanToSpan");function sJ(t){const e=new Set;function n(r){if(!e.has(r)&&fy(r)){e.add(r);const i=r[dg]?Array.from(r[dg]):[];for(const s of i)n(s)}}return o(n,"addSpanChildren"),n(t),Array.from(e)}o(sJ,"getSpanDescendants");function Cu(t){return t[AS]||t}o(Cu,"getRootSpan");function T9e(){const t=Cp(),e=cy(t);return e.getActiveSpan?e.getActiveSpan():Db(ss())}o(T9e,"getActiveSpan");function z8(){yM||(Yf(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),yM=!0)}o(z8,"showSpanDropWarning");const V8="_sentryScope",j8="_sentryIsolationScope";function oJ(t,e,n){t&&(Ds(t,j8,n),Ds(t,V8,e))}o(oJ,"setCapturedScopesOnSpan");function bM(t){return{scope:t[V8],isolationScope:t[j8]}}o(bM,"getCapturedScopesOnSpan");function XC(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=Rn(),n=t||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}o(XC,"hasTracingEnabled");class JC{static{o(this,"SentryNonRecordingSpan")}constructor(e={}){this._traceId=e.traceId||Mb(),this._spanId=e.spanId||Qg()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:L8}}end(e){}setAttribute(e,n){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,n,r){return this}addLink(e){return this}addLinks(e){return this}recordException(e,n){}}const ZC="production",W8="_frozenDsc";function wM(t,e){Ds(t,W8,e)}o(wM,"freezeDscOnSpan");function H8(t,e){const n=e.getOptions(),{publicKey:r}=e.getDsn()||{},i=fi({environment:n.environment||ZC,release:n.release,public_key:r,trace_id:t});return e.emit("createDsc",i),i}o(H8,"getDynamicSamplingContextFromClient");function aJ(t,e){const n=e.getPropagationContext();return n.dsc||H8(n.traceId,t)}o(aJ,"getDynamicSamplingContextFromScope");function aE(t){const e=Rn();if(!e)return{};const n=Cu(t),r=n[W8];if(r)return r;const i=n.spanContext().traceState,s=i&&i.get("sentry.dsc"),a=s&&QX(s);if(a)return a;const l=H8(t.spanContext().traceId,e),u=bo(n),c=u.data||{},f=c[$8];f!=null&&(l.sample_rate=`${f}`);const h=c[Pb],d=u.description;return h!=="url"&&d&&(l.transaction=d),XC()&&(l.sampled=String(fy(n))),e.emit("createDsc",l,n),l}o(aE,"getDynamicSamplingContextFromSpan");function lJ(t){if(!at)return;const{description:e="< unknown name >",op:n="< unknown op >",parent_span_id:r}=bo(t),{spanId:i}=t.spanContext(),s=fy(t),a=Cu(t),l=a===t,u=`[Tracing] Starting ${s?"sampled":"unsampled"} ${l?"root ":""}span`,c=[`op: ${n}`,`name: ${e}`,`ID: ${i}`];if(r&&c.push(`parent ID: ${r}`),!l){const{op:f,description:h}=bo(a);c.push(`root ID: ${a.spanContext().spanId}`),f&&c.push(`root op: ${f}`),h&&c.push(`root description: ${h}`)}De.log(`${u}
  ${c.join(`
  `)}`)}o(lJ,"logSpanStart");function uJ(t){if(!at)return;const{description:e="< unknown name >",op:n="< unknown op >"}=bo(t),{spanId:r}=t.spanContext(),s=Cu(t)===t,a=`[Tracing] Finishing "${n}" ${s?"root ":""}span "${e}" with ID ${r}`;De.log(a)}o(uJ,"logSpanEnd");function G8(t){if(typeof t=="boolean")return Number(t);const e=typeof t=="string"?parseFloat(t):t;if(typeof e!="number"||isNaN(e)||e<0||e>1){at&&De.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`);return}return e}o(G8,"parseSampleRate");function cJ(t,e){if(!XC(t))return[!1];const n=Zf().getScopeData().sdkProcessingMetadata.normalizedRequest,r={...e,normalizedRequest:e.normalizedRequest||n};let i;typeof t.tracesSampler=="function"?i=t.tracesSampler(r):r.parentSampled!==void 0?i=r.parentSampled:typeof t.tracesSampleRate<"u"?i=t.tracesSampleRate:i=1;const s=G8(i);return s===void 0?(at&&De.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):s?Math.random()<s?[!0,s]:(at&&De.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[!1,s]):(at&&De.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,s])}o(cJ,"sampleSpan");const fJ=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function hJ(t){return t==="http"||t==="https"}o(hJ,"isValidProtocol");function hy(t,e=!1){const{host:n,path:r,pass:i,port:s,projectId:a,protocol:l,publicKey:u}=t;return`${l}://${u}${e&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${a}`}o(hy,"dsnToString");function dJ(t){const e=fJ.exec(t);if(!e){Yf(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}const[n,r,i="",s="",a="",l=""]=e.slice(1);let u="",c=l;const f=c.split("/");if(f.length>1&&(u=f.slice(0,-1).join("/"),c=f.pop()),c){const h=c.match(/^\d+/);h&&(c=h[0])}return q8({host:s,pass:i,path:u,projectId:c,port:a,protocol:n,publicKey:r})}o(dJ,"dsnFromString");function q8(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}o(q8,"dsnFromComponents");function pJ(t){if(!Kf)return!0;const{port:e,projectId:n,protocol:r}=t;return["protocol","publicKey","host","projectId"].find(a=>t[a]?!1:(De.error(`Invalid Sentry Dsn: ${a} missing`),!0))?!1:n.match(/^\d+$/)?hJ(r)?e&&isNaN(parseInt(e,10))?(De.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(De.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(De.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}o(pJ,"validateDsn");function mJ(t){const e=typeof t=="string"?dJ(t):q8(t);if(!(!e||!pJ(e)))return e}o(mJ,"makeDsn");function gJ(){const t=typeof WeakSet=="function",e=t?new WeakSet:[];function n(i){if(t)return e.has(i)?!0:(e.add(i),!1);for(let s=0;s<e.length;s++)if(e[s]===i)return!0;return e.push(i),!1}o(n,"memoize");function r(i){if(t)e.delete(i);else for(let s=0;s<e.length;s++)if(e[s]===i){e.splice(s,1);break}}return o(r,"unmemoize"),[n,r]}o(gJ,"memoBuilder");function Za(t,e=100,n=1/0){try{return CS("",t,e,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}o(Za,"normalize$2");function K8(t,e=3,n=100*1024){const r=Za(t,e);return wJ(r)>n?K8(t,e-1,n):r}o(K8,"normalizeToSize");function CS(t,e,n=1/0,r=1/0,i=gJ()){const[s,a]=i;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const l=yJ(t,e);if(!l.startsWith("[object "))return l;if(e.__sentry_skip_normalization__)return e;const u=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(u===0)return l.replace("object ","");if(s(e))return"[Circular ~]";const c=e;if(c&&typeof c.toJSON=="function")try{const p=c.toJSON();return CS("",p,u-1,r,i)}catch{}const f=Array.isArray(e)?[]:{};let h=0;const d=M8(e);for(const p in d){if(!Object.prototype.hasOwnProperty.call(d,p))continue;if(h>=r){f[p]="[MaxProperties ~]";break}const m=d[p];f[p]=CS(p,m,u-1,r,i),h++}return a(e),f}o(CS,"visit");function yJ(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(R8(e))return"[VueViewModel]";if(EX(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${Fu(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const n=_J(e);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}o(yJ,"stringifyValue");function _J(t){const e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}o(_J,"getConstructorName");function bJ(t){return~-encodeURI(t).split(/%..|./).length}o(bJ,"utf8Length");function wJ(t){return bJ(JSON.stringify(t))}o(wJ,"jsonSize");function Rp(t,e=[]){return[t,e]}o(Rp,"createEnvelope");function vJ(t,e){const[n,r]=t;return[n,[...r,e]]}o(vJ,"addItemToEnvelope");function vM(t,e){const n=t[1];for(const r of n){const i=r[0].type;if(e(r,i))return!0}return!1}o(vM,"forEachEnvelopeItem");function IS(t){return kt.__SENTRY__&&kt.__SENTRY__.encodePolyfill?kt.__SENTRY__.encodePolyfill(t):new TextEncoder().encode(t)}o(IS,"encodeUTF8");function EJ(t){const[e,n]=t;let r=JSON.stringify(e);function i(s){typeof r=="string"?r=typeof s=="string"?r+s:[IS(r),s]:r.push(typeof s=="string"?IS(s):s)}o(i,"append");for(const s of n){const[a,l]=s;if(i(`
${JSON.stringify(a)}
`),typeof l=="string"||l instanceof Uint8Array)i(l);else{let u;try{u=JSON.stringify(l)}catch{u=JSON.stringify(Za(l))}i(u)}}return typeof r=="string"?r:xJ(r)}o(EJ,"serializeEnvelope");function xJ(t){const e=t.reduce((i,s)=>i+s.length,0),n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}o(xJ,"concatBuffers");function TJ(t){return[{type:"span"},t]}o(TJ,"createSpanEnvelopeItem");function SJ(t){const e=typeof t.data=="string"?IS(t.data):t.data;return[fi({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}o(SJ,"createAttachmentEnvelopeItem");const kJ={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function EM(t){return kJ[t]}o(EM,"envelopeItemTypeToDataCategory");function Y8(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}o(Y8,"getSdkMetadataForEnvelopeHeader");function AJ(t,e,n,r){const i=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!n&&r&&{dsn:hy(r)},...i&&{trace:fi({...i})}}}o(AJ,"createEventEnvelopeHeaders");function CJ(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}o(CJ,"enhanceEventWithSdkInfo");function IJ(t,e,n,r){const i=Y8(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&e&&{dsn:hy(e)}},a="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return Rp(s,[a])}o(IJ,"createSessionEnvelope");function RJ(t,e,n,r){const i=Y8(n),s=t.type&&t.type!=="replay_event"?t.type:"event";CJ(t,n&&n.sdk);const a=AJ(t,i,r,e);return delete t.sdkProcessingMetadata,Rp(a,[[{type:s},t]])}o(RJ,"createEventEnvelope");function OJ(t,e){function n(f){return!!f.trace_id&&!!f.public_key}o(n,"dscHasRequiredProps");const r=aE(t[0]),i=e&&e.getDsn(),s=e&&e.getOptions().tunnel,a={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!s&&i&&{dsn:hy(i)}},l=e&&e.getOptions().beforeSendSpan,u=l?f=>{const h=l(bo(f));return h||z8(),h}:f=>bo(f),c=[];for(const f of t){const h=u(f);h&&c.push(TJ(h))}return Rp(a,c)}o(OJ,"createSpanEnvelope");function xM(t){if(!t||t.length===0)return;const e={};return t.forEach(n=>{const r=n.attributes||{},i=r[HX],s=r[GX];typeof i=="string"&&typeof s=="number"&&(e[n.name]={value:s,unit:i})}),e}o(xM,"timedEventsToMeasurements");const TM=1e3;class QC{static{o(this,"SentrySpan")}constructor(e={}){this._traceId=e.traceId||Mb(),this._spanId=e.spanId||Qg(),this._startTime=e.startTimestamp||oo(),this._attributes={},this.setAttributes({[kS]:"manual",[SS]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this}addLinks(e){return this}recordException(e,n){}spanContext(){const{_spanId:e,_traceId:n,_sampled:r}=this;return{spanId:e,traceId:n,traceFlags:r?F8:L8}}setAttribute(e,n){return n===void 0?delete this._attributes[e]:this._attributes[e]=n,this}setAttributes(e){return Object.keys(e).forEach(n=>this.setAttribute(n,e[n])),this}updateStartTime(e){this._startTime=_d(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(Pb,"custom"),this}end(e){this._endTime||(this._endTime=_d(e),uJ(this),this._onSpanEnded())}getSpanJSON(){return fi({data:this._attributes,description:this._name,op:this._attributes[SS],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:B8(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[kS],_metrics_summary:TS(this),profile_id:this._attributes[qX],exclusive_time:this._attributes[KX],measurements:xM(this._events),is_segment:this._isStandaloneSpan&&Cu(this)===this||void 0,segment_id:this._isStandaloneSpan?Cu(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,n,r){at&&De.log("[Tracing] Adding an event to span:",e);const i=SM(n)?n:r||oo(),s=SM(n)?{}:n||{},a={name:e,time:_d(i),attributes:s};return this._events.push(a),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const e=Rn();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===Cu(this)))return;if(this._isStandaloneSpan){this._sampled?MJ(OJ([this],e)):(at&&De.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(bM(this).scope||ss()).captureEvent(r)}_convertSpanToTransaction(){if(!kM(bo(this)))return;this._name||(at&&De.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:e,isolationScope:n}=bM(this),i=(e||ss()).getClient()||Rn();if(this._sampled!==!0){at&&De.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}const a=sJ(this).filter(h=>h!==this&&!NJ(h)).map(h=>bo(h)).filter(kM),l=this._attributes[Pb];delete this._attributes[mM],a.forEach(h=>{h.data&&delete h.data[mM]});const u={contexts:{trace:tJ(this)},spans:a.length>TM?a.sort((h,d)=>h.start_timestamp-d.start_timestamp).slice(0,TM):a,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:n,...fi({dynamicSamplingContext:aE(this)})},_metrics_summary:TS(this),...l&&{transaction_info:{source:l}}},c=xM(this._events);return c&&Object.keys(c).length&&(at&&De.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),u.measurements=c),u}}function SM(t){return t&&typeof t=="number"||t instanceof Date||Array.isArray(t)}o(SM,"isSpanTimeInput");function kM(t){return!!t.start_timestamp&&!!t.timestamp&&!!t.span_id&&!!t.trace_id}o(kM,"isFullFinishedSpan");function NJ(t){return t instanceof QC&&t.isStandaloneSpan()}o(NJ,"isStandaloneSpan");function MJ(t){const e=Rn();if(!e)return;const n=t[1];if(!n||n.length===0){e.recordDroppedEvent("before_send","span");return}e.sendEnvelope(t)}o(MJ,"sendSpanEnvelope");const X8="__SENTRY_SUPPRESS_TRACING__";function S9e(t){const e=J8();if(e.startInactiveSpan)return e.startInactiveSpan(t);const n=$J(t),{forceTransaction:r,parentSpan:i}=t;return(t.scope?a=>YC(t.scope,a):i!==void 0?a=>DJ(i,a):a=>a())(()=>{const a=ss(),l=FJ(a);return t.onlyIfParent&&!l?new JC:PJ({parentSpan:l,spanArguments:n,forceTransaction:r,scope:a})})}o(S9e,"startInactiveSpan");function DJ(t,e){const n=J8();return n.withActiveSpan?n.withActiveSpan(t,e):YC(r=>(xS(r,t||void 0),e(r)))}o(DJ,"withActiveSpan");function PJ({parentSpan:t,spanArguments:e,forceTransaction:n,scope:r}){if(!XC())return new JC;const i=Zf();let s;if(t&&!n)s=LJ(t,r,e),U8(t,s);else if(t){const a=aE(t),{traceId:l,spanId:u}=t.spanContext(),c=fy(t);s=AM({traceId:l,parentSpanId:u,...e},r,c),wM(s,a)}else{const{traceId:a,dsc:l,parentSpanId:u,sampled:c}={...i.getPropagationContext(),...r.getPropagationContext()};s=AM({traceId:a,parentSpanId:u,...e},r,c),l&&wM(s,l)}return lJ(s),oJ(s,r,i),s}o(PJ,"createChildOrRootSpan");function $J(t){const n={isStandalone:(t.experimental||{}).standalone,...t};if(t.startTime){const r={...n};return r.startTimestamp=_d(t.startTime),delete r.startTime,r}return n}o($J,"parseSentrySpanArguments");function J8(){const t=Cp();return cy(t)}o(J8,"getAcs");function AM(t,e,n){const r=Rn(),i=r&&r.getOptions()||{},{name:s="",attributes:a}=t,[l,u]=e.getScopeData().sdkProcessingMetadata[X8]?[!1]:cJ(i,{name:s,parentSampled:n,attributes:a,transactionContext:{name:s,parentSampled:n}}),c=new QC({...t,attributes:{[Pb]:"custom",...t.attributes},sampled:l});return u!==void 0&&c.setAttribute($8,u),r&&r.emit("spanStart",c),c}o(AM,"_startRootSpan");function LJ(t,e,n){const{spanId:r,traceId:i}=t.spanContext(),s=e.getScopeData().sdkProcessingMetadata[X8]?!1:fy(t),a=s?new QC({...n,parentSpanId:r,traceId:i,sampled:s}):new JC({traceId:i});U8(t,a);const l=Rn();return l&&(l.emit("spanStart",a),n.endTimestamp&&l.emit("spanEnd",a)),a}o(LJ,"_startChildSpan");function FJ(t){const e=Db(t);if(!e)return;const n=Rn();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?Cu(e):e}o(FJ,"getParentSpan");function RS(t,e,n,r=0){return new Es((i,s)=>{const a=t[r];if(e===null||typeof a!="function")i(e);else{const l=a({...e},n);at&&a.id&&l===null&&De.log(`Event processor "${a.id}" dropped event`),iE(l)?l.then(u=>RS(t,u,n,r+1).then(i)).then(null,s):RS(t,l,n,r+1).then(i).then(null,s)}})}o(RS,"notifyEventProcessors");let F1,CM,B1;function BJ(t){const e=kt._sentryDebugIds;if(!e)return{};const n=Object.keys(e);return B1&&n.length===CM||(CM=n.length,B1=n.reduce((r,i)=>{F1||(F1={});const s=F1[i];if(s)r[s[0]]=s[1];else{const a=t(i);for(let l=a.length-1;l>=0;l--){const u=a[l],c=u&&u.filename,f=e[i];if(c&&f){r[c]=f,F1[i]=[c,f];break}}}return r},{})),B1}o(BJ,"getFilenameToDebugIdMap");function UJ(t,e){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=e;zJ(t,e),r&&WJ(t,r),HJ(t,n),VJ(t,i),jJ(t,s)}o(UJ,"applyScopeDataToEvent");function IM(t,e){const{extra:n,tags:r,user:i,contexts:s,level:a,sdkProcessingMetadata:l,breadcrumbs:u,fingerprint:c,eventProcessors:f,attachments:h,propagationContext:d,transactionName:p,span:m}=e;U1(t,"extra",n),U1(t,"tags",r),U1(t,"user",i),U1(t,"contexts",s),t.sdkProcessingMetadata=oE(t.sdkProcessingMetadata,l,2),a&&(t.level=a),p&&(t.transactionName=p),m&&(t.span=m),u.length&&(t.breadcrumbs=[...t.breadcrumbs,...u]),c.length&&(t.fingerprint=[...t.fingerprint,...c]),f.length&&(t.eventProcessors=[...t.eventProcessors,...f]),h.length&&(t.attachments=[...t.attachments,...h]),t.propagationContext={...t.propagationContext,...d}}o(IM,"mergeScopeData");function U1(t,e,n){t[e]=oE(t[e],n,1)}o(U1,"mergeAndOverwriteScopeData");function zJ(t,e){const{extra:n,tags:r,user:i,contexts:s,level:a,transactionName:l}=e,u=fi(n);u&&Object.keys(u).length&&(t.extra={...u,...t.extra});const c=fi(r);c&&Object.keys(c).length&&(t.tags={...c,...t.tags});const f=fi(i);f&&Object.keys(f).length&&(t.user={...f,...t.user});const h=fi(s);h&&Object.keys(h).length&&(t.contexts={...h,...t.contexts}),a&&(t.level=a),l&&t.type!=="transaction"&&(t.transaction=l)}o(zJ,"applyDataToEvent");function VJ(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}o(VJ,"applyBreadcrumbsToEvent");function jJ(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}o(jJ,"applySdkMetadataToEvent");function WJ(t,e){t.contexts={trace:nJ(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:aE(e),...t.sdkProcessingMetadata};const n=Cu(e),r=bo(n).description;r&&!t.transaction&&t.type==="transaction"&&(t.transaction=r)}o(WJ,"applySpanToEvent");function HJ(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}o(HJ,"applyFingerprintToEvent");function GJ(t,e,n,r,i,s){const{normalizeDepth:a=3,normalizeMaxBreadth:l=1e3}=t,u={...e,event_id:e.event_id||n.event_id||Rs(),timestamp:e.timestamp||uy()},c=n.integrations||t.integrations.map(_=>_.name);qJ(u,t),XJ(u,c),i&&i.emit("applyFrameMetadata",e),e.type===void 0&&KJ(u,t.stackParser);const f=ZJ(r,n.captureContext);n.mechanism&&jd(u,n.mechanism);const h=i?i.getEventProcessors():[],d=VX().getScopeData();if(s){const _=s.getScopeData();IM(d,_)}if(f){const _=f.getScopeData();IM(d,_)}const p=[...n.attachments||[],...d.attachments];p.length&&(n.attachments=p),UJ(u,d);const m=[...h,...d.eventProcessors];return RS(m,u,n).then(_=>(_&&YJ(_),typeof a=="number"&&a>0?JJ(_,a,l):_))}o(GJ,"prepareEvent");function qJ(t,e){const{environment:n,release:r,dist:i,maxValueLength:s=250}=e;t.environment=t.environment||n||ZC,!t.release&&r&&(t.release=r),!t.dist&&i&&(t.dist=i),t.message&&(t.message=yd(t.message,s));const a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=yd(a.value,s));const l=t.request;l&&l.url&&(l.url=yd(l.url,s))}o(qJ,"applyClientOptions");function KJ(t,e){const n=BJ(e);try{t.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{n&&i.filename&&(i.debug_id=n[i.filename])})})}catch{}}o(KJ,"applyDebugIds");function YJ(t){const e={};try{t.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?e[i.abs_path]=i.debug_id:i.filename&&(e[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const n=t.debug_meta.images;Object.entries(e).forEach(([r,i])=>{n.push({type:"sourcemap",code_file:r,debug_id:i})})}o(YJ,"applyDebugMeta");function XJ(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}o(XJ,"applyIntegrationsMetadata");function JJ(t,e,n){if(!t)return null;const r={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(i=>({...i,...i.data&&{data:Za(i.data,e,n)}}))},...t.user&&{user:Za(t.user,e,n)},...t.contexts&&{contexts:Za(t.contexts,e,n)},...t.extra&&{extra:Za(t.extra,e,n)}};return t.contexts&&t.contexts.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=Za(t.contexts.trace.data,e,n))),t.spans&&(r.spans=t.spans.map(i=>({...i,...i.data&&{data:Za(i.data,e,n)}}))),t.contexts&&t.contexts.flags&&r.contexts&&(r.contexts.flags=Za(t.contexts.flags,3,n)),r}o(JJ,"normalizeEvent");function ZJ(t,e){if(!e)return t;const n=t?t.clone():new Bu;return n.update(e),n}o(ZJ,"getFinalScope");function QJ(t){if(t)return eZ(t)?{captureContext:t}:nZ(t)?{captureContext:t}:t}o(QJ,"parseEventHintOrCaptureContext");function eZ(t){return t instanceof Bu||typeof t=="function"}o(eZ,"hintIsScopeOrFunction");const tZ=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function nZ(t){return Object.keys(t).some(e=>tZ.includes(e))}o(nZ,"hintIsScopeContext");function rZ(t,e){return ss().captureException(t,QJ(e))}o(rZ,"captureException");function Z8(t,e){return ss().captureEvent(t,e)}o(Z8,"captureEvent");function RM(t){const e=Rn(),n=Zf(),r=ss(),{release:i,environment:s=ZC}=e&&e.getOptions()||{},{userAgent:a}=kt.navigator||{},l=NX({release:i,environment:s,user:r.getUser()||n.getUser(),...a&&{userAgent:a},...t}),u=n.getSession();return u&&u.status==="ok"&&Wd(u,{status:"exited"}),Q8(),n.setSession(l),r.setSession(l),l}o(RM,"startSession");function Q8(){const t=Zf(),e=ss(),n=e.getSession()||t.getSession();n&&MX(n),e5(),t.setSession(),e.setSession()}o(Q8,"endSession");function e5(){const t=Zf(),e=ss(),n=Rn(),r=e.getSession()||t.getSession();r&&n&&n.captureSession(r)}o(e5,"_sendSessionUpdate");function OM(t=!1){if(t){Q8();return}e5()}o(OM,"captureSession");const iZ="7";function sZ(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}o(sZ,"getBaseApiEndpoint");function oZ(t){return`${sZ(t)}${t.projectId}/envelope/`}o(oZ,"_getIngestEndpoint");function aZ(t,e){const n={sentry_version:iZ};return t.publicKey&&(n.sentry_key=t.publicKey),e&&(n.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(n).toString()}o(aZ,"_encodedAuth");function lZ(t,e,n){return e||`${oZ(t)}?${aZ(t,n)}`}o(lZ,"getEnvelopeEndpointWithUrlEncodedAuth");const NM=[];function uZ(t){const e={};return t.forEach(n=>{const{name:r}=n,i=e[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(e[r]=n)}),Object.values(e)}o(uZ,"filterDuplicates");function cZ(t){const e=t.defaultIntegrations||[],n=t.integrations;e.forEach(a=>{a.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...e,...n];else if(typeof n=="function"){const a=n(e);r=Array.isArray(a)?a:[a]}else r=e;const i=uZ(r),s=i.findIndex(a=>a.name==="Debug");if(s>-1){const[a]=i.splice(s,1);i.push(a)}return i}o(cZ,"getIntegrationsToSetup");function fZ(t,e){const n={};return e.forEach(r=>{r&&t5(t,r,n)}),n}o(fZ,"setupIntegrations");function MM(t,e){for(const n of e)n&&n.afterAllSetup&&n.afterAllSetup(t)}o(MM,"afterSetupIntegrations");function t5(t,e,n){if(n[e.name]){at&&De.log(`Integration skipped because it was already installed: ${e.name}`);return}if(n[e.name]=e,NM.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),NM.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){const r=e.preprocessEvent.bind(e);t.on("preprocessEvent",(i,s)=>r(i,s,t))}if(typeof e.processEvent=="function"){const r=e.processEvent.bind(e),i=Object.assign((s,a)=>r(s,a,t),{id:e.name});t.addEventProcessor(i)}at&&De.log(`Integration installed: ${e.name}`)}o(t5,"setupIntegration");function k9e(t){return t}o(k9e,"defineIntegration");function hZ(t,e,n){const r=[{type:"client_report"},{timestamp:uy(),discarded_events:t}];return Rp(e?{dsn:e}:{},[r])}o(hZ,"createClientReportEnvelope");class ea extends Error{static{o(this,"SentryError")}constructor(e,n="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}const DM="Not capturing exception because it's already been captured.";class dZ{static{o(this,"BaseClient")}constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=mJ(e.dsn):at&&De.warn("No DSN provided, client will not send events."),this._dsn){const i=lZ(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:i})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find(i=>i in e&&e[i]==null);r&&Yf(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(e,n,r){const i=Rs();if(dM(e))return at&&De.log(DM),i;const s={event_id:i,...n};return this._process(this.eventFromException(e,s).then(a=>this._captureEvent(a,s,r))),s.event_id}captureMessage(e,n,r,i){const s={event_id:Rs(),...r},a=WC(e)?e:String(e),l=HC(e)?this.eventFromMessage(a,n,s):this.eventFromException(e,s);return this._process(l.then(u=>this._captureEvent(u,s,i))),s.event_id}captureEvent(e,n,r){const i=Rs();if(n&&n.originalException&&dM(n.originalException))return at&&De.log(DM),i;const s={event_id:i,...n},l=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,s,l||r)),s.event_id}captureSession(e){typeof e.release!="string"?at&&De.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Wd(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(e).then(r=>n.flush(e).then(i=>r&&i))):mf(!0)}close(e){return this.flush(e).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const n=this._integrations[e.name];t5(this,e,this._integrations),n||MM(this,[e])}sendEvent(e,n={}){this.emit("beforeSendEvent",e,n);let r=RJ(e,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=vJ(r,SJ(s));const i=this.sendEnvelope(r);i&&i.then(s=>this.emit("afterSendEvent",e,s),null)}sendSession(e){const n=IJ(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(e,n,r){if(this._options.sendClientReports){const i=typeof r=="number"?r:1,s=`${e}:${n}`;at&&De.log(`Recording outcome: "${s}"${i>1?` (${i} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+i}}on(e,n){const r=this._hooks[e]=this._hooks[e]||[];return r.push(n),()=>{const i=r.indexOf(n);i>-1&&r.splice(i,1)}}emit(e,...n){const r=this._hooks[e];r&&r.forEach(i=>i(...n))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,n=>(at&&De.error("Error while sending envelope:",n),n)):(at&&De.error("Transport disabled"),mf({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=fZ(this,e),MM(this,e)}_updateSessionFromEvent(e,n){let r=!1,i=!1;const s=n.exception&&n.exception.values;if(s){i=!0;for(const u of s){const c=u.mechanism;if(c&&c.handled===!1){r=!0;break}}}const a=e.status==="ok";(a&&e.errors===0||a&&r)&&(Wd(e,{...r&&{status:"crashed"},errors:e.errors||Number(i||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Es(n=>{let r=0;const i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=i,e&&r>=e&&(clearInterval(s),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,n,r=ss(),i=Zf()){const s=this.getOptions(),a=Object.keys(this._integrations);return!n.integrations&&a.length>0&&(n.integrations=a),this.emit("preprocessEvent",e,n),e.type||i.setLastEventId(e.event_id||n.event_id),GJ(s,e,n,r,this,i).then(l=>{if(l===null)return l;l.contexts={trace:jX(r),...l.contexts};const u=aJ(this,r);return l.sdkProcessingMetadata={dynamicSamplingContext:u,...l.sdkProcessingMetadata},l})}_captureEvent(e,n={},r){return this._processEvent(e,n,r).then(i=>i.event_id,i=>{if(at){const s=i;s.logLevel==="log"?De.log(s.message):De.warn(s)}})}_processEvent(e,n,r){const i=this.getOptions(),{sampleRate:s}=i,a=r5(e),l=n5(e),u=e.type||"error",c=`before send for type \`${u}\``,f=typeof s>"u"?void 0:G8(s);if(l&&typeof f=="number"&&Math.random()>f)return this.recordDroppedEvent("sample_rate","error",e),Nb(new ea(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const h=u==="replay_event"?"replay":u,p=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,n,r,p).then(m=>{if(m===null)throw this.recordDroppedEvent("event_processor",h,e),new ea("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return m;const _=mZ(this,i,m,n);return pZ(_,c)}).then(m=>{if(m===null){if(this.recordDroppedEvent("before_send",h,e),a){const S=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",S)}throw new ea(`${c} returned \`null\`, will not send event.`,"log")}const y=r&&r.getSession();if(!a&&y&&this._updateSessionFromEvent(y,m),a){const b=m.sdkProcessingMetadata&&m.sdkProcessingMetadata.spanCountBeforeProcessing||0,S=m.spans?m.spans.length:0,v=b-S;v>0&&this.recordDroppedEvent("before_send","span",v)}const _=m.transaction_info;if(a&&_&&m.transaction!==e.transaction){const b="custom";m.transaction_info={..._,source:b}}return this.sendEvent(m,n),m}).then(null,m=>{throw m instanceof ea?m:(this.captureException(m,{data:{__sentry__:!0},originalException:m}),new ea(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${m}`))})}_process(e){this._numProcessing++,e.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([n,r])=>{const[i,s]=n.split(":");return{reason:i,category:s,quantity:r}})}_flushOutcomes(){at&&De.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0){at&&De.log("No outcomes to send");return}if(!this._dsn){at&&De.log("No dsn provided, will not send outcomes");return}at&&De.log("Sending outcomes:",e);const n=hZ(e,this._options.tunnel&&hy(this._dsn));this.sendEnvelope(n)}}function pZ(t,e){const n=`${e} must return \`null\` or a valid event.`;if(iE(t))return t.then(r=>{if(!Vd(r)&&r!==null)throw new ea(n);return r},r=>{throw new ea(`${e} rejected with ${r}`)});if(!Vd(t)&&t!==null)throw new ea(n);return t}o(pZ,"_validateBeforeSendResult");function mZ(t,e,n,r){const{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:a}=e;if(n5(n)&&i)return i(n,r);if(r5(n)){if(n.spans&&a){const l=[];for(const u of n.spans){const c=a(u);c?l.push(c):(z8(),t.recordDroppedEvent("before_send","span"))}n.spans=l}if(s){if(n.spans){const l=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:l}}return s(n,r)}}return n}o(mZ,"processBeforeSend");function n5(t){return t.type===void 0}o(n5,"isErrorEvent");function r5(t){return t.type==="transaction"}o(r5,"isTransactionEvent");function gZ(t,e){e.debug===!0&&(at?De.enable():Yf(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),ss().update(e.initialScope);const r=new t(e);return yZ(r),r.init(),r}o(gZ,"initAndBind");function yZ(t){ss().setClient(t)}o(yZ,"setCurrentClient");function _Z(t){const e=[];function n(){return t===void 0||e.length<t}o(n,"isReady");function r(a){return e.splice(e.indexOf(a),1)[0]||Promise.resolve(void 0)}o(r,"remove");function i(a){if(!n())return Nb(new ea("Not adding Promise because buffer limit was reached."));const l=a();return e.indexOf(l)===-1&&e.push(l),l.then(()=>r(l)).then(null,()=>r(l).then(null,()=>{})),l}o(i,"add");function s(a){return new Es((l,u)=>{let c=e.length;if(!c)return l(!0);const f=setTimeout(()=>{a&&a>0&&l(!1)},a);e.forEach(h=>{mf(h).then(()=>{--c||(clearTimeout(f),l(!0))},u)})})}return o(s,"drain"),{$:e,add:i,drain:s}}o(_Z,"makePromiseBuffer");const bZ=60*1e3;function wZ(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${t}`);return isNaN(r)?bZ:r-e}o(wZ,"parseRetryAfterHeader");function vZ(t,e){return t[e]||t.all||0}o(vZ,"disabledUntil");function EZ(t,e,n=Date.now()){return vZ(t,e)>n}o(EZ,"isRateLimited");function xZ(t,{statusCode:e,headers:n},r=Date.now()){const i={...t},s=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(s)for(const l of s.trim().split(",")){const[u,c,,,f]=l.split(":",5),h=parseInt(u,10),d=(isNaN(h)?60:h)*1e3;if(!c)i.all=r+d;else for(const p of c.split(";"))p==="metric_bucket"?(!f||f.split(";").includes("custom"))&&(i[p]=r+d):i[p]=r+d}else a?i.all=r+wZ(a,r):e===429&&(i.all=r+60*1e3);return i}o(xZ,"updateRateLimits");const TZ=64;function SZ(t,e,n=_Z(t.bufferSize||TZ)){let r={};const i=o(a=>n.drain(a),"flush");function s(a){const l=[];if(vM(a,(h,d)=>{const p=EM(d);if(EZ(r,p)){const m=PM(h,d);t.recordDroppedEvent("ratelimit_backoff",p,m)}else l.push(h)}),l.length===0)return mf({});const u=Rp(a[0],l),c=o(h=>{vM(u,(d,p)=>{const m=PM(d,p);t.recordDroppedEvent(h,EM(p),m)})},"recordEnvelopeLoss"),f=o(()=>e({body:EJ(u)}).then(h=>(h.statusCode!==void 0&&(h.statusCode<200||h.statusCode>=300)&&at&&De.warn(`Sentry responded with status code ${h.statusCode} to sent event.`),r=xZ(r,h),h),h=>{throw c("network_error"),h}),"requestTask");return n.add(f).then(h=>h,h=>{if(h instanceof ea)return at&&De.error("Skipped sending event because buffer is full."),c("queue_overflow"),mf({});throw h})}return o(s,"send"),{send:s,flush:i}}o(SZ,"createTransport");function PM(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}o(PM,"getEventForEnvelopeItem");function kZ(t,e,n=[e],r="npm"){const i=t._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${e}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:Qc})),version:Qc}),t._metadata=i}o(kZ,"applySdkMetadata");const AZ=100;function gf(t,e){const n=Rn(),r=Zf();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=AZ}=n.getOptions();if(s<=0)return;const l={timestamp:uy(),...t},u=i?Yf(()=>i(l,e)):l;u!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",u,e),r.addBreadcrumb(u,s))}o(gf,"addBreadcrumb");let $M;const CZ="FunctionToString",LM=new WeakMap,IZ=o(()=>({name:CZ,setupOnce(){$M=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=qC(this),n=LM.has(Rn())&&e!==void 0?e:this;return $M.apply(n,t)}}catch{}},setup(t){LM.set(t,!0)}}),"_functionToStringIntegration"),RZ=IZ,OZ=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],NZ="InboundFilters",MZ=o((t={})=>({name:NZ,processEvent(e,n,r){const i=r.getOptions(),s=PZ(t,i);return $Z(e,s)?null:e}}),"_inboundFiltersIntegration"),DZ=MZ;function PZ(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:OZ],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}o(PZ,"_mergeOptions");function $Z(t,e){return e.ignoreInternal&&VZ(t)?(at&&De.warn(`Event dropped due to being internal Sentry Error.
Event: ${nu(t)}`),!0):LZ(t,e.ignoreErrors)?(at&&De.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${nu(t)}`),!0):WZ(t)?(at&&De.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${nu(t)}`),!0):FZ(t,e.ignoreTransactions)?(at&&De.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${nu(t)}`),!0):BZ(t,e.denyUrls)?(at&&De.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${nu(t)}.
Url: ${$b(t)}`),!0):UZ(t,e.allowUrls)?!1:(at&&De.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${nu(t)}.
Url: ${$b(t)}`),!0)}o($Z,"_shouldDropEvent$1");function LZ(t,e){return t.type||!e||!e.length?!1:zZ(t).some(n=>sE(n,e))}o(LZ,"_isIgnoredError");function FZ(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;const n=t.transaction;return n?sE(n,e):!1}o(FZ,"_isIgnoredTransaction");function BZ(t,e){if(!e||!e.length)return!1;const n=$b(t);return n?sE(n,e):!1}o(BZ,"_isDeniedUrl");function UZ(t,e){if(!e||!e.length)return!0;const n=$b(t);return n?sE(n,e):!0}o(UZ,"_isAllowedUrl");function zZ(t){const e=[];t.message&&e.push(t.message);let n;try{n=t.exception.values[t.exception.values.length-1]}catch{}return n&&n.value&&(e.push(n.value),n.type&&e.push(`${n.type}: ${n.value}`)),e}o(zZ,"_getPossibleEventMessages");function VZ(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}o(VZ,"_isSentryError");function jZ(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}o(jZ,"_getLastValidUrl");function $b(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?jZ(e):null}catch{return at&&De.error(`Cannot extract url for event ${nu(t)}`),null}}o($b,"_getEventFilterUrl");function WZ(t){return t.type||!t.exception||!t.exception.values||t.exception.values.length===0?!1:!t.message&&!t.exception.values.some(e=>e.stacktrace||e.type&&e.type!=="Error"||e.value)}o(WZ,"_isUselessError");function HZ(t,e,n=250,r,i,s,a){if(!s.exception||!s.exception.values||!a||!pf(a.originalException,Error))return;const l=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;l&&(s.exception.values=GZ(OS(t,e,i,a.originalException,r,s.exception.values,l,0),n))}o(HZ,"applyAggregateErrorsToEvent");function OS(t,e,n,r,i,s,a,l){if(s.length>=n+1)return s;let u=[...s];if(pf(r[i],Error)){FM(a,l);const c=t(e,r[i]),f=u.length;BM(c,i,f,l),u=OS(t,e,n,r[i],i,[c,...u],c,f)}return Array.isArray(r.errors)&&r.errors.forEach((c,f)=>{if(pf(c,Error)){FM(a,l);const h=t(e,c),d=u.length;BM(h,`errors[${f}]`,d,l),u=OS(t,e,n,c,i,[h,...u],h,d)}}),u}o(OS,"aggregateExceptionsFromError");function FM(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}o(FM,"applyExceptionGroupFieldsForParentException");function BM(t,e,n,r){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:r}}o(BM,"applyExceptionGroupFieldsForChildException");function GZ(t,e){return t.map(n=>(n.value&&(n.value=yd(n.value,e)),n))}o(GZ,"truncateAggregateExceptions");function c2(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}o(c2,"parseUrl$1");function qZ(t){const e="console";Xf(e,t),Jf(e,KZ)}o(qZ,"addConsoleInstrumentationHandler");function KZ(){"console"in kt&&bS.forEach(function(t){t in kt.console&&Ji(kt.console,t,function(e){return Ob[t]=e,function(...n){so("console",{args:n,level:t});const i=Ob[t];i&&i.apply(kt.console,n)}})})}o(KZ,"instrumentConsole");function YZ(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}o(YZ,"severityLevelFromString");const XZ="Dedupe",JZ=o(()=>{let t;return{name:XZ,processEvent(e){if(e.type)return e;try{if(QZ(e,t))return at&&De.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}},"_dedupeIntegration"),ZZ=JZ;function QZ(t,e){return e?!!(eQ(t,e)||tQ(t,e)):!1}o(QZ,"_shouldDropEvent");function eQ(t,e){const n=t.message,r=e.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!s5(t,e)||!i5(t,e))}o(eQ,"_isSameMessageEvent");function tQ(t,e){const n=UM(e),r=UM(t);return!(!n||!r||n.type!==r.type||n.value!==r.value||!s5(t,e)||!i5(t,e))}o(tQ,"_isSameExceptionEvent");function i5(t,e){let n=aM(t),r=aM(e);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const s=r[i],a=n[i];if(s.filename!==a.filename||s.lineno!==a.lineno||s.colno!==a.colno||s.function!==a.function)return!1}return!0}o(i5,"_isSameStacktrace");function s5(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}o(s5,"_isSameFingerprint");function UM(t){return t.exception&&t.exception.values&&t.exception.values[0]}o(UM,"_getExceptionFromEvent");function o5(t){if(t!==void 0)return t>=400&&t<500?"warning":t>=500?"error":void 0}o(o5,"getBreadcrumbLogLevelFromHttpStatusCode");const NS=kt;function a5(){if(!("fetch"in NS))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}o(a5,"supportsFetch");function MS(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}o(MS,"isNativeFunction");function nQ(){if(typeof EdgeRuntime=="string")return!0;if(!a5())return!1;if(MS(NS.fetch))return!0;let t=!1;const e=NS.document;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=MS(n.contentWindow.fetch)),e.head.removeChild(n)}catch(n){Kf&&De.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return t}o(nQ,"supportsNativeFetch");function rQ(t,e){const n="fetch";Xf(n,t),Jf(n,()=>iQ(void 0,e))}o(rQ,"addFetchInstrumentationHandler");function iQ(t,e=!1){e&&!nQ()||Ji(kt,"fetch",function(n){return function(...r){const i=new Error,{method:s,url:a}=sQ(r),l={args:r,fetchData:{method:s,url:a},startTimestamp:oo()*1e3,virtualError:i};return so("fetch",{...l}),n.apply(kt,r).then(async u=>(so("fetch",{...l,endTimestamp:oo()*1e3,response:u}),u),u=>{throw so("fetch",{...l,endTimestamp:oo()*1e3,error:u}),jC(u)&&u.stack===void 0&&(u.stack=i.stack,Ds(u,"framesToPop",1)),u})}})}o(iQ,"instrumentFetch");function DS(t,e){return!!t&&typeof t=="object"&&!!t[e]}o(DS,"hasProp");function zM(t){return typeof t=="string"?t:t?DS(t,"url")?t.url:t.toString?t.toString():"":""}o(zM,"getUrlFromResource");function sQ(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){const[n,r]=t;return{url:zM(n),method:DS(r,"method")?String(r.method).toUpperCase():"GET"}}const e=t[0];return{url:zM(e),method:DS(e,"method")?String(e.method).toUpperCase():"GET"}}o(sQ,"parseFetchArgs");function oQ(){return"npm"}o(oQ,"getSDKSource");const z1=kt;function aQ(){const t=z1.chrome,e=t&&t.app&&t.app.runtime,n="history"in z1&&!!z1.history.pushState&&!!z1.history.replaceState;return!e&&n}o(aQ,"supportsHistory");const Wt=kt;let PS=0;function l5(){return PS>0}o(l5,"shouldIgnoreOnError");function lQ(){PS++,setTimeout(()=>{PS--})}o(lQ,"ignoreNextOnError");function Gd(t,e={}){function n(i){return typeof i=="function"}if(o(n,"isFunction"),!n(t))return t;try{const i=t.__sentry_wrapped__;if(i)return typeof i=="function"?i:t;if(qC(t))return t}catch{return t}const r=o(function(...i){try{const s=i.map(a=>Gd(a,e));return t.apply(this,s)}catch(s){throw lQ(),YC(a=>{a.addEventProcessor(l=>(e.mechanism&&(vS(l,void 0),jd(l,e.mechanism)),l.extra={...l.extra,arguments:i},l)),rZ(s)}),s}},"sentryWrapped");try{for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}catch{}N8(r,t),Ds(t,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return t.name}})}catch{}return r}o(Gd,"wrap$5");const dy=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function eI(t,e){const n=tI(t,e),r={type:dQ(e),value:pQ(e)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}o(eI,"exceptionFromError");function uQ(t,e,n,r){const i=Rn(),s=i&&i.getOptions().normalizeDepth,a=bQ(e),l={__serialized__:K8(e,s)};if(a)return{exception:{values:[eI(t,a)]},extra:l};const u={exception:{values:[{type:rE(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:yQ(e,{isUnhandledRejection:r})}]},extra:l};if(n){const c=tI(t,n);c.length&&(u.exception.values[0].stacktrace={frames:c})}return u}o(uQ,"eventFromPlainObject");function f2(t,e){return{exception:{values:[eI(t,e)]}}}o(f2,"eventFromError");function tI(t,e){const n=e.stacktrace||e.stack||"",r=fQ(e),i=hQ(e);try{return t(n,r,i)}catch{}return[]}o(tI,"parseStackFrames");const cQ=/Minified React error #\d+;/i;function fQ(t){return t&&cQ.test(t.message)?1:0}o(fQ,"getSkipFirstStackStringLines");function hQ(t){return typeof t.framesToPop=="number"?t.framesToPop:0}o(hQ,"getPopFirstTopFrames");function u5(t){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?t instanceof WebAssembly.Exception:!1}o(u5,"isWebAssemblyException");function dQ(t){const e=t&&t.name;return!e&&u5(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}o(dQ,"extractType");function pQ(t){const e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:u5(t)&&Array.isArray(t.message)&&t.message.length==2?t.message[1]:e:"No error message"}o(pQ,"extractMessage");function mQ(t,e,n,r){const i=n&&n.syntheticException||void 0,s=nI(t,e,i,r);return jd(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),mf(s)}o(mQ,"eventFromException");function gQ(t,e,n="info",r,i){const s=r&&r.syntheticException||void 0,a=$S(t,e,s,i);return a.level=n,r&&r.event_id&&(a.event_id=r.event_id),mf(a)}o(gQ,"eventFromMessage");function nI(t,e,n,r,i){let s;if(I8(e)&&e.error)return f2(t,e.error);if(uM(e)||bX(e)){const a=e;if("stack"in e)s=f2(t,e);else{const l=a.name||(uM(a)?"DOMError":"DOMException"),u=a.message?`${l}: ${a.message}`:l;s=$S(t,u,n,r),vS(s,u)}return"code"in a&&(s.tags={...s.tags,"DOMException.code":`${a.code}`}),s}return jC(e)?f2(t,e):Vd(e)||rE(e)?(s=uQ(t,e,n,i),jd(s,{synthetic:!0}),s):(s=$S(t,e,n,r),vS(s,`${e}`),jd(s,{synthetic:!0}),s)}o(nI,"eventFromUnknownInput");function $S(t,e,n,r){const i={};if(r&&n){const s=tI(t,n);s.length&&(i.exception={values:[{value:e,stacktrace:{frames:s}}]}),jd(i,{synthetic:!0})}if(WC(e)){const{__sentry_template_string__:s,__sentry_template_values__:a}=e;return i.logentry={message:s,params:a},i}return i.message=e,i}o($S,"eventFromString");function yQ(t,{isUnhandledRejection:e}){const n=CX(t),r=e?"promise rejection":"exception";return I8(t)?`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``:rE(t)?`Event \`${_Q(t)}\` (type=${t.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}o(yQ,"getNonErrorObjectExceptionValue");function _Q(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}o(_Q,"getObjectClassName");function bQ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=t[e];if(n instanceof Error)return n}}o(bQ,"getErrorPropertyFromObject");function wQ(t,{metadata:e,tunnel:n,dsn:r}){const i={event_id:t.event_id,sent_at:new Date().toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!n&&!!r&&{dsn:hy(r)}},s=vQ(t);return Rp(i,[s])}o(wQ,"createUserFeedbackEnvelope");function vQ(t){return[{type:"user_report"},t]}o(vQ,"createUserFeedbackEnvelopeItem");class EQ extends dZ{static{o(this,"BrowserClient")}constructor(e){const n={parentSpanIsAlwaysRootSpan:!0,...e},r=Wt.SENTRY_SDK_SOURCE||oQ();kZ(n,"browser",["browser"],r),super(n),n.sendClientReports&&Wt.document&&Wt.document.addEventListener("visibilitychange",()=>{Wt.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,n){return mQ(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",r){return gQ(this._options.stackParser,e,n,r,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){dy&&De.warn("SDK not enabled, will not capture user feedback.");return}const n=wQ(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(e,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,r)}}const xQ=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,oi=kt,TQ=1e3;let VM,LS,FS;function SQ(t){const e="dom";Xf(e,t),Jf(e,kQ)}o(SQ,"addClickKeypressInstrumentationHandler");function kQ(){if(!oi.document)return;const t=so.bind(null,"dom"),e=jM(t,!0);oi.document.addEventListener("click",e,!1),oi.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(n=>{const i=oi[n],s=i&&i.prototype;!s||!s.hasOwnProperty||!s.hasOwnProperty("addEventListener")||(Ji(s,"addEventListener",function(a){return function(l,u,c){if(l==="click"||l=="keypress")try{const f=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},h=f[l]=f[l]||{refCount:0};if(!h.handler){const d=jM(t);h.handler=d,a.call(this,l,d,c)}h.refCount++}catch{}return a.call(this,l,u,c)}}),Ji(s,"removeEventListener",function(a){return function(l,u,c){if(l==="click"||l=="keypress")try{const f=this.__sentry_instrumentation_handlers__||{},h=f[l];h&&(h.refCount--,h.refCount<=0&&(a.call(this,l,h.handler,c),h.handler=void 0,delete f[l]),Object.keys(f).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return a.call(this,l,u,c)}}))})}o(kQ,"instrumentDOM");function AQ(t){if(t.type!==LS)return!1;try{if(!t.target||t.target._sentryId!==FS)return!1}catch{}return!0}o(AQ,"isSimilarToLastCapturedEvent");function CQ(t,e){return t!=="keypress"?!1:!e||!e.tagName?!0:!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)}o(CQ,"shouldSkipDOMEvent");function jM(t,e=!1){return n=>{if(!n||n._sentryCaptured)return;const r=IQ(n);if(CQ(n.type,r))return;Ds(n,"_sentryCaptured",!0),r&&!r._sentryId&&Ds(r,"_sentryId",Rs());const i=n.type==="keypress"?"input":n.type;AQ(n)||(t({event:n,name:i,global:e}),LS=n.type,FS=r?r._sentryId:void 0),clearTimeout(VM),VM=oi.setTimeout(()=>{FS=void 0,LS=void 0},TQ)}}o(jM,"makeDOMEventHandler");function IQ(t){try{return t.target}catch{return null}}o(IQ,"getEventTarget");let V1;function c5(t){const e="history";Xf(e,t),Jf(e,RQ)}o(c5,"addHistoryInstrumentationHandler");function RQ(){if(!aQ())return;const t=oi.onpopstate;oi.onpopstate=function(...n){const r=oi.location.href,i=V1;if(V1=r,so("history",{from:i,to:r}),t)try{return t.apply(this,n)}catch{}};function e(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const s=V1,a=String(i);V1=a,so("history",{from:s,to:a})}return n.apply(this,r)}}o(e,"historyReplacementFunction"),Ji(oi.history,"pushState",e),Ji(oi.history,"replaceState",e)}o(RQ,"instrumentHistory");const X_={};function OQ(t){const e=X_[t];if(e)return e;let n=oi[t];if(MS(n))return X_[t]=n.bind(oi);const r=oi.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const s=i.contentWindow;s&&s[t]&&(n=s[t]),r.head.removeChild(i)}catch(i){xQ&&De.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,i)}return n&&(X_[t]=n.bind(oi))}o(OQ,"getNativeImplementation");function WM(t){X_[t]=void 0}o(WM,"clearCachedImplementation");const Ym="__sentry_xhr_v3__";function NQ(t){const e="xhr";Xf(e,t),Jf(e,MQ)}o(NQ,"addXhrInstrumentationHandler");function MQ(){if(!oi.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,n,r){const i=new Error,s=oo()*1e3,a=pl(r[0])?r[0].toUpperCase():void 0,l=DQ(r[1]);if(!a||!l)return e.apply(n,r);n[Ym]={method:a,url:l,request_headers:{}},a==="POST"&&l.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const u=o(()=>{const c=n[Ym];if(c&&n.readyState===4){try{c.status_code=n.status}catch{}const f={endTimestamp:oo()*1e3,startTimestamp:s,xhr:n,virtualError:i};so("xhr",f)}},"onreadystatechangeHandler");return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(c,f,h){return u(),c.apply(f,h)}}):n.addEventListener("readystatechange",u),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(c,f,h){const[d,p]=h,m=f[Ym];return m&&pl(d)&&pl(p)&&(m.request_headers[d.toLowerCase()]=p),c.apply(f,h)}}),e.apply(n,r)}}),t.send=new Proxy(t.send,{apply(e,n,r){const i=n[Ym];if(!i)return e.apply(n,r);r[0]!==void 0&&(i.body=r[0]);const s={startTimestamp:oo()*1e3,xhr:n};return so("xhr",s),e.apply(n,r)}})}o(MQ,"instrumentXHR");function DQ(t){if(pl(t))return t;try{return t.toString()}catch{}}o(DQ,"parseUrl");function PQ(t,e=OQ("fetch")){let n=0,r=0;function i(s){const a=s.body.length;n+=a,r++;const l={body:s.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n<=6e4&&r<15,...t.fetchOptions};if(!e)return WM("fetch"),Nb("No fetch implementation available");try{return e(t.url,l).then(u=>(n-=a,r--,{statusCode:u.status,headers:{"x-sentry-rate-limits":u.headers.get("X-Sentry-Rate-Limits"),"retry-after":u.headers.get("Retry-After")}}))}catch(u){return WM("fetch"),n-=a,r--,Nb(u)}}return o(i,"makeRequest"),SZ(t,i)}o(PQ,"makeFetchTransport");const $Q=30,LQ=50;function BS(t,e,n,r){const i={filename:t,function:e==="<anonymous>"?df:e,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}o(BS,"createFrame");const FQ=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,BQ=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,UQ=/\((\S*)(?::(\d+))(?::(\d+))\)/,zQ=o(t=>{const e=FQ.exec(t);if(e){const[,r,i,s]=e;return BS(r,df,+i,+s)}const n=BQ.exec(t);if(n){if(n[2]&&n[2].indexOf("eval")===0){const a=UQ.exec(n[2]);a&&(n[2]=a[1],n[3]=a[2],n[4]=a[3])}const[i,s]=f5(n[1]||df,n[2]);return BS(s,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},"chromeStackParserFn"),VQ=[$Q,zQ],jQ=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,WQ=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,HQ=o(t=>{const e=jQ.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const s=WQ.exec(e[3]);s&&(e[1]=e[1]||"eval",e[3]=s[1],e[4]=s[2],e[5]="")}let r=e[3],i=e[1]||df;return[i,r]=f5(i,r),BS(r,i,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},"gecko$1"),GQ=[LQ,HQ],qQ=[VQ,GQ],KQ=A8(...qQ),f5=o((t,e)=>{const n=t.indexOf("safari-extension")!==-1,r=t.indexOf("safari-web-extension")!==-1;return n||r?[t.indexOf("@")!==-1?t.split("@")[0]:df,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},"extractSafariExtensionDetails"),j1=1024,YQ="Breadcrumbs",XQ=o((t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:YQ,setup(n){e.console&&qZ(eee(n)),e.dom&&SQ(QQ(n,e.dom)),e.xhr&&NQ(tee(n)),e.fetch&&rQ(nee(n)),e.history&&c5(ree(n)),e.sentry&&n.on("beforeSendEvent",ZQ(n))}}},"_breadcrumbsIntegration"),JQ=XQ;function ZQ(t){return o(function(n){Rn()===t&&gf({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:nu(n)},{event:n})},"addSentryBreadcrumb")}o(ZQ,"_getSentryBreadcrumbHandler");function QQ(t,e){return o(function(r){if(Rn()!==t)return;let i,s,a=typeof e=="object"?e.serializeAttribute:void 0,l=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;l&&l>j1&&(dy&&De.warn(`\`dom.maxStringLength\` cannot exceed ${j1}, but a value of ${l} was configured. Sentry will use ${j1} instead.`),l=j1),typeof a=="string"&&(a=[a]);try{const c=r.event,f=iee(c)?c.target:c;i=O8(f,{keyAttrs:a,maxStringLength:l}),s=kX(f)}catch{i="<unknown>"}if(i.length===0)return;const u={category:`ui.${r.name}`,message:i};s&&(u.data={"ui.component_name":s}),gf(u,{event:r.event,name:r.name,global:r.global})},"_innerDomBreadcrumb")}o(QQ,"_getDomBreadcrumbHandler");function eee(t){return o(function(n){if(Rn()!==t)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:YZ(n.level),message:cM(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${cM(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;gf(r,{input:n.args,level:n.level})},"_consoleBreadcrumb")}o(eee,"_getConsoleBreadcrumbHandler");function tee(t){return o(function(n){if(Rn()!==t)return;const{startTimestamp:r,endTimestamp:i}=n,s=n.xhr[Ym];if(!r||!i||!s)return;const{method:a,url:l,status_code:u,body:c}=s,f={method:a,url:l,status_code:u},h={xhr:n.xhr,input:c,startTimestamp:r,endTimestamp:i},d=o5(u);gf({category:"xhr",data:f,type:"http",level:d},h)},"_xhrBreadcrumb")}o(tee,"_getXhrBreadcrumbHandler");function nee(t){return o(function(n){if(Rn()!==t)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const s=n.fetchData,a={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i};gf({category:"fetch",data:s,level:"error",type:"http"},a)}else{const s=n.response,a={...n.fetchData,status_code:s&&s.status},l={input:n.args,response:s,startTimestamp:r,endTimestamp:i},u=o5(a.status_code);gf({category:"fetch",data:a,type:"http",level:u},l)}},"_fetchBreadcrumb")}o(nee,"_getFetchBreadcrumbHandler");function ree(t){return o(function(n){if(Rn()!==t)return;let r=n.from,i=n.to;const s=c2(Wt.location.href);let a=r?c2(r):void 0;const l=c2(i);(!a||!a.path)&&(a=s),s.protocol===l.protocol&&s.host===l.host&&(i=l.relative),s.protocol===a.protocol&&s.host===a.host&&(r=a.relative),gf({category:"navigation",data:{from:r,to:i}})},"_historyBreadcrumb")}o(ree,"_getHistoryBreadcrumbHandler");function iee(t){return!!t&&!!t.target}o(iee,"_isEvent");const see=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],oee="BrowserApiErrors",aee=o((t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:oee,setupOnce(){e.setTimeout&&Ji(Wt,"setTimeout",HM),e.setInterval&&Ji(Wt,"setInterval",HM),e.requestAnimationFrame&&Ji(Wt,"requestAnimationFrame",uee),e.XMLHttpRequest&&"XMLHttpRequest"in Wt&&Ji(XMLHttpRequest.prototype,"send",cee);const n=e.eventTarget;n&&(Array.isArray(n)?n:see).forEach(fee)}}},"_browserApiErrorsIntegration"),lee=aee;function HM(t){return function(...e){const n=e[0];return e[0]=Gd(n,{mechanism:{data:{function:Fu(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}o(HM,"_wrapTimeFunction");function uee(t){return function(e){return t.apply(this,[Gd(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Fu(t)},handled:!1,type:"instrument"}})])}}o(uee,"_wrapRAF");function cee(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&Ji(n,i,function(s){const a={mechanism:{data:{function:i,handler:Fu(s)},handled:!1,type:"instrument"}},l=qC(s);return l&&(a.mechanism.data.handler=Fu(l)),Gd(s,a)})}),t.apply(this,e)}}o(cee,"_wrapXHR");function fee(t){const n=Wt[t],r=n&&n.prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Ji(r,"addEventListener",function(i){return function(s,a,l){try{hee(a)&&(a.handleEvent=Gd(a.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Fu(a),target:t},handled:!1,type:"instrument"}}))}catch{}return i.apply(this,[s,Gd(a,{mechanism:{data:{function:"addEventListener",handler:Fu(a),target:t},handled:!1,type:"instrument"}}),l])}}),Ji(r,"removeEventListener",function(i){return function(s,a,l){try{const u=a.__sentry_wrapped__;u&&i.call(this,s,u,l)}catch{}return i.call(this,s,a,l)}}))}o(fee,"_wrapEventTarget");function hee(t){return typeof t.handleEvent=="function"}o(hee,"isEventListenerObject");const dee=()=>({name:"BrowserSession",setupOnce(){if(typeof Wt.document>"u"){dy&&De.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}RM({ignoreDuration:!0}),OM(),c5(({from:t,to:e})=>{t!==void 0&&t!==e&&(RM({ignoreDuration:!0}),OM())})}}),pee="GlobalHandlers",mee=o((t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:pee,setupOnce(){Error.stackTraceLimit=50},setup(n){e.onerror&&(yee(n),GM("onerror")),e.onunhandledrejection&&(_ee(n),GM("onunhandledrejection"))}}},"_globalHandlersIntegration"),gee=mee;function yee(t){mX(e=>{const{stackParser:n,attachStacktrace:r}=h5();if(Rn()!==t||l5())return;const{msg:i,url:s,line:a,column:l,error:u}=e,c=vee(nI(n,u||i,void 0,r,!1),s,a,l);c.level="error",Z8(c,{originalException:u,mechanism:{handled:!1,type:"onerror"}})})}o(yee,"_installGlobalOnErrorHandler");function _ee(t){yX(e=>{const{stackParser:n,attachStacktrace:r}=h5();if(Rn()!==t||l5())return;const i=bee(e),s=HC(i)?wee(i):nI(n,i,void 0,r,!0);s.level="error",Z8(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}o(_ee,"_installGlobalOnUnhandledRejectionHandler");function bee(t){if(HC(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}o(bee,"_getUnhandledRejectionError");function wee(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}o(wee,"_eventFromRejectionWithPrimitive");function vee(t,e,n,r){const i=t.exception=t.exception||{},s=i.values=i.values||[],a=s[0]=s[0]||{},l=a.stacktrace=a.stacktrace||{},u=l.frames=l.frames||[],c=r,f=n,h=pl(e)&&e.length>0?e:SX();return u.length===0&&u.push({colno:c,filename:h,function:df,in_app:!0,lineno:f}),t}o(vee,"_enhanceEventWithInitialFrame");function GM(t){dy&&De.log(`Global Handler attached: ${t}`)}o(GM,"globalHandlerLog");function h5(){const t=Rn();return t&&t.getOptions()||{stackParser:o(()=>[],"stackParser"),attachStacktrace:!1}}o(h5,"getOptions");const Eee=()=>({name:"HttpContext",preprocessEvent(t){if(!Wt.navigator&&!Wt.location&&!Wt.document)return;const e=t.request&&t.request.url||Wt.location&&Wt.location.href,{referrer:n}=Wt.document||{},{userAgent:r}=Wt.navigator||{},i={...t.request&&t.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...t.request,...e&&{url:e},headers:i};t.request=s}}),xee="cause",Tee=5,See="LinkedErrors",kee=o((t={})=>{const e=t.limit||Tee,n=t.key||xee;return{name:See,preprocessEvent(r,i,s){const a=s.getOptions();HZ(eI,a.stackParser,a.maxValueLength,n,e,r,i)}}},"_linkedErrorsIntegration"),Aee=kee;function Cee(t){const e=[DZ(),RZ(),lee(),JQ(),gee(),Aee(),ZZ(),Eee()];return t.autoSessionTracking!==!1&&e.push(dee()),e}o(Cee,"getDefaultIntegrations");function Iee(t={}){const e={defaultIntegrations:Cee(t),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:Wt.SENTRY_RELEASE&&Wt.SENTRY_RELEASE.id?Wt.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return t.defaultIntegrations==null&&delete t.defaultIntegrations,{...e,...t}}o(Iee,"applyDefaultOptions");function Ree(){const t=typeof Wt.window<"u"&&Wt;if(!t)return!1;const e=t.chrome?"chrome":"browser",n=t[e],r=n&&n.runtime&&n.runtime.id,i=Wt.location&&Wt.location.href||"",s=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],a=!!r&&Wt===Wt.top&&s.some(u=>i.startsWith(`${u}//`)),l=typeof t.nw<"u";return!!r&&!a&&!l}o(Ree,"shouldShowBrowserExtensionError");function A9e(t={}){const e=Iee(t);if(!e.skipBrowserExtensionCheck&&Ree()){Yf(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}dy&&(a5()||De.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...e,stackParser:dX(e.stackParser||KQ),integrations:cZ(e),transport:e.transport||PQ};return gZ(EQ,n)}o(A9e,"init$3");/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oee=o(()=>{},"getDefaultsFromPostinstall");var qM={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee=o(function(t,e){if(!t)throw Op(e)},"assert"),Op=o(function(t){return new Error("Firebase Database ("+d5.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},"assertionError");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=o(function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},"stringToByteArray$1"),Nee=o(function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},"byteArrayToString"),lE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,f=s>>2,h=(s&3)<<4|l>>4;let d=(l&15)<<2|c>>6,p=c&63;u||(p=64,a||(d=64)),r.push(n[f],n[h],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(p5(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Nee(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||h==null)throw new Mee;const d=s<<2|l>>4;if(r.push(d),c!==64){const p=l<<4&240|c>>2;if(r.push(p),h!==64){const m=c<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Mee extends Error{static{o(this,"DecodeBase64StringError")}constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m5=o(function(t){const e=p5(t);return lE.encodeByteArray(e,!0)},"base64Encode"),g5=o(function(t){return m5(t).replace(/\./g,"")},"base64urlEncodeWithoutPadding"),Lb=o(function(t){try{return lE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},"base64Decode");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dee(t){return y5(void 0,t)}o(Dee,"deepCopy$1");function y5(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Pee(n)||(t[n]=y5(t[n],e[n]));return t}o(y5,"deepExtend");function Pee(t){return t!=="__proto__"}o(Pee,"isValidKey$1");/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}o($ee,"getGlobal$1");/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lee=o(()=>$ee().__FIREBASE_DEFAULTS__,"getDefaultsFromGlobal"),Fee=o(()=>{if(typeof process>"u"||typeof qM>"u")return;const t=qM.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},"getDefaultsFromEnvVariable"),Bee=o(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Lb(t[1]);return e&&JSON.parse(e)},"getDefaultsFromCookie"),_5=o(()=>{try{return Oee()||Lee()||Fee()||Bee()}catch(t){`${t}`;return}},"getDefaults"),b5=o(()=>{var t;return(t=_5())===null||t===void 0?void 0:t.config},"getDefaultAppConfig"),Uee=o(t=>{var e;return(e=_5())===null||e===void 0?void 0:e[`_${t}`]},"getExperimentalSetting");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{static{o(this,"Deferred")}constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}o(mi,"getUA");function rI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mi())}o(rI,"isMobileCordova");function zee(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}o(zee,"isCloudflareWorker");function Vee(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}o(Vee,"isBrowserExtension");function w5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}o(w5,"isReactNative");function jee(){const t=mi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}o(jee,"isIE");function v5(){return d5.NODE_ADMIN===!0}o(v5,"isNodeSdk");function E5(){try{return typeof indexedDB=="object"}catch{return!1}}o(E5,"isIndexedDBAvailable");function Wee(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}o(Wee,"validateIndexedDBOpenable");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hee="FirebaseError";class Ia extends Error{static{o(this,"FirebaseError")}constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Hee,Object.setPrototypeOf(this,Ia.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Np.prototype.create)}}class Np{static{o(this,"ErrorFactory")}constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?Gee(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new Ia(i,l,r)}}function Gee(t,e){return t.replace(qee,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}o(Gee,"replaceTemplate");const qee=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(t){return JSON.parse(t)}o(t0,"jsonEval");function Sr(t){return JSON.stringify(t)}o(Sr,"stringify");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=o(function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=t0(Lb(s[0])||""),n=t0(Lb(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},"decode$2"),Kee=o(function(t){const e=x5(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},"isValidFormat"),Yee=o(function(t){const e=x5(t).claims;return typeof e=="object"&&e.admin===!0},"isAdmin");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(t,e){return Object.prototype.hasOwnProperty.call(t,e)}o(Ol,"contains");function qd(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}o(qd,"safeGet");function US(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}o(US,"isEmpty$3");function Fb(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}o(Fb,"map$5");function Bb(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(KM(s)&&KM(a)){if(!Bb(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}o(Bb,"deepEqual");function KM(t){return t!==null&&typeof t=="object"}o(KM,"isObject$8");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}o(Mp,"querystring");function Xm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}o(Xm,"querystringDecode");function Jm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}o(Jm,"extractQuerystring");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xee{static{o(this,"Sha1")}constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const d=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],u=this.chain_[4],c,f;for(let h=0;h<80;h++){h<40?h<20?(c=l^s&(a^l),f=1518500249):(c=s^a^l,f=1859775393):h<60?(c=s&a|l&(s|a),f=2400959708):(c=s^a^l,f=3395469782);const d=(i<<5|i>>>27)+c+u+f+r[h]&4294967295;u=l,l=a,a=(s<<30|s>>>2)&4294967295,s=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let a=this.inbuf_;for(;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=e[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function Jee(t,e){const n=new Zee(t,e);return n.subscribe.bind(n)}o(Jee,"createSubscribe");class Zee{static{o(this,"ObserverProxy")}constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Qee(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=h2),i.error===void 0&&(i.error=h2),i.complete===void 0&&(i.complete=h2);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qee(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}o(Qee,"implementsAnyMethods");function h2(){}o(h2,"noop$6");function ete(t,e){return`${t} failed: ${e} argument `}o(ete,"errorPrefix");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tte=o(function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Ee(r<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},"stringToByteArray"),uE=o(function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},"stringLength");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(t){return t&&t._delegate?t._delegate:t}o(Us,"getModularInstance");class wo{static{o(this,"Component")}constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nte{static{o(this,"Provider")}constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new e0;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ite(e))try{this.getOrInitializeService({instanceIdentifier:Mc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Mc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mc){return this.instances.has(e)}getOptions(e=Mc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rte(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mc){return this.component?this.component.multipleInstances?e:Mc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rte(t){return t===Mc?void 0:t}o(rte,"normalizeIdentifierForFactory");function ite(t){return t.instantiationMode==="EAGER"}o(ite,"isComponentEager");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ste{static{o(this,"ComponentContainer")}constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nte(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Rt||(Rt={}));const ote={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},ate=Rt.INFO,lte={[Rt.DEBUG]:"log",[Rt.VERBOSE]:"log",[Rt.INFO]:"info",[Rt.WARN]:"warn",[Rt.ERROR]:"error"},ute=o((t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=lte[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},"defaultLogHandler");class py{static{o(this,"Logger")}constructor(e){this.name=e,this._logLevel=ate,this._logHandler=ute,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ote[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rt.DEBUG,...e),this._logHandler(this,Rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rt.VERBOSE,...e),this._logHandler(this,Rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rt.INFO,...e),this._logHandler(this,Rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rt.WARN,...e),this._logHandler(this,Rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rt.ERROR,...e),this._logHandler(this,Rt.ERROR,...e)}}const cte=o((t,e)=>e.some(n=>t instanceof n),"instanceOfAny");let YM,XM;function fte(){return YM||(YM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}o(fte,"getIdbProxyableTypes");function hte(){return XM||(XM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}o(hte,"getCursorAdvanceMethods");const T5=new WeakMap,zS=new WeakMap,S5=new WeakMap,d2=new WeakMap,iI=new WeakMap;function dte(t){const e=new Promise((n,r)=>{const i=o(()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},"unlisten"),s=o(()=>{n(Iu(t.result)),i()},"success"),a=o(()=>{r(t.error),i()},"error");t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&T5.set(n,t)}).catch(()=>{}),iI.set(e,t),e}o(dte,"promisifyRequest");function pte(t){if(zS.has(t))return;const e=new Promise((n,r)=>{const i=o(()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},"unlisten"),s=o(()=>{n(),i()},"complete"),a=o(()=>{r(t.error||new DOMException("AbortError","AbortError")),i()},"error");t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});zS.set(t,e)}o(pte,"cacheDonePromiseForTransaction");let VS={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||S5.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Iu(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mte(t){VS=t(VS)}o(mte,"replaceTraps");function gte(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(p2(this),e,...n);return S5.set(r,e.sort?e.sort():[e]),Iu(r)}:hte().includes(t)?function(...e){return t.apply(p2(this),e),Iu(T5.get(this))}:function(...e){return Iu(t.apply(p2(this),e))}}o(gte,"wrapFunction");function yte(t){return typeof t=="function"?gte(t):(t instanceof IDBTransaction&&pte(t),cte(t,fte())?new Proxy(t,VS):t)}o(yte,"transformCachableValue");function Iu(t){if(t instanceof IDBRequest)return dte(t);if(d2.has(t))return d2.get(t);const e=yte(t);return e!==t&&(d2.set(t,e),iI.set(e,t)),e}o(Iu,"wrap$4");const p2=o(t=>iI.get(t),"unwrap");function _te(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=Iu(a);return r&&a.addEventListener("upgradeneeded",u=>{r(Iu(a.result),u.oldVersion,u.newVersion,Iu(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}o(_te,"openDB");const bte=["get","getKey","getAll","getAllKeys","count"],wte=["put","add","delete","clear"],m2=new Map;function JM(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(m2.get(e))return m2.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=wte.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||bte.includes(n)))return;const s=o(async function(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]},"method");return m2.set(e,s),s}o(JM,"getMethod");mte(t=>({...t,get:o((e,n,r)=>JM(e,n)||t.get(e,n,r),"get"),has:o((e,n)=>!!JM(e,n)||t.has(e,n),"has")}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vte{static{o(this,"PlatformLoggerServiceImpl")}constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ete(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Ete(t){const e=t.getComponent();return e?.type==="VERSION"}o(Ete,"isVersionServiceProvider");const jS="@firebase/app",ZM="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=new py("@firebase/app"),xte="@firebase/app-compat",Tte="@firebase/analytics-compat",Ste="@firebase/analytics",kte="@firebase/app-check-compat",Ate="@firebase/app-check",Cte="@firebase/auth",Ite="@firebase/auth-compat",Rte="@firebase/database",Ote="@firebase/data-connect",Nte="@firebase/database-compat",Mte="@firebase/functions",Dte="@firebase/functions-compat",Pte="@firebase/installations",$te="@firebase/installations-compat",Lte="@firebase/messaging",Fte="@firebase/messaging-compat",Bte="@firebase/performance",Ute="@firebase/performance-compat",zte="@firebase/remote-config",Vte="@firebase/remote-config-compat",jte="@firebase/storage",Wte="@firebase/storage-compat",Hte="@firebase/firestore",Gte="@firebase/vertexai",qte="@firebase/firestore-compat",Kte="firebase",Yte="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="[DEFAULT]",Xte={[jS]:"fire-core",[xte]:"fire-core-compat",[Ste]:"fire-analytics",[Tte]:"fire-analytics-compat",[Ate]:"fire-app-check",[kte]:"fire-app-check-compat",[Cte]:"fire-auth",[Ite]:"fire-auth-compat",[Rte]:"fire-rtdb",[Ote]:"fire-data-connect",[Nte]:"fire-rtdb-compat",[Mte]:"fire-fn",[Dte]:"fire-fn-compat",[Pte]:"fire-iid",[$te]:"fire-iid-compat",[Lte]:"fire-fcm",[Fte]:"fire-fcm-compat",[Bte]:"fire-perf",[Ute]:"fire-perf-compat",[zte]:"fire-rc",[Vte]:"fire-rc-compat",[jte]:"fire-gcs",[Wte]:"fire-gcs-compat",[Hte]:"fire-fst",[qte]:"fire-fst-compat",[Gte]:"fire-vertex","fire-js":"fire-js",[Kte]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=new Map,Jte=new Map,HS=new Map;function QM(t,e){try{t.container.addComponent(e)}catch(n){wl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}o(QM,"_addComponent");function da(t){const e=t.name;if(HS.has(e))return wl.debug(`There were multiple attempts to register component ${e}.`),!1;HS.set(e,t);for(const n of Ub.values())QM(n,t);for(const n of Jte.values())QM(n,t);return!0}o(da,"_registerComponent");function Zte(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}o(Zte,"_getProvider");function ai(t){return t==null?!1:t.settings!==void 0}o(ai,"_isFirebaseServerApp");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qte={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ru=new Np("app","Firebase",Qte);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ene{static{o(this,"FirebaseAppImpl")}constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ru.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=Yte;function tne(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:WS,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ru.create("bad-app-name",{appName:String(i)});if(n||(n=b5()),!n)throw Ru.create("no-options");const s=Ub.get(i);if(s){if(Bb(n,s.options)&&Bb(r,s.config))return s;throw Ru.create("duplicate-app",{appName:i})}const a=new ste(i);for(const u of HS.values())a.addComponent(u);const l=new ene(n,r,a);return Ub.set(i,l),l}o(tne,"initializeApp");function C9e(t=WS){const e=Ub.get(t);if(!e&&t===WS&&b5())return tne();if(!e)throw Ru.create("no-app",{appName:t});return e}o(C9e,"getApp");function Qi(t,e,n){var r;let i=(r=Xte[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wl.warn(l.join(" "));return}da(new wo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}o(Qi,"registerVersion");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nne="firebase-heartbeat-database",rne=1,n0="firebase-heartbeat-store";let g2=null;function k5(){return g2||(g2=_te(nne,rne,{upgrade:o((t,e)=>{switch(e){case 0:try{t.createObjectStore(n0)}catch(n){console.warn(n)}}},"upgrade")}).catch(t=>{throw Ru.create("idb-open",{originalErrorMessage:t.message})})),g2}o(k5,"getDbPromise");async function ine(t){try{const n=(await k5()).transaction(n0),r=await n.objectStore(n0).get(A5(t));return await n.done,r}catch(e){if(e instanceof Ia)wl.warn(e.message);else{const n=Ru.create("idb-get",{originalErrorMessage:e?.message});wl.warn(n.message)}}}o(ine,"readHeartbeatsFromIndexedDB");async function eD(t,e){try{const r=(await k5()).transaction(n0,"readwrite");await r.objectStore(n0).put(e,A5(t)),await r.done}catch(n){if(n instanceof Ia)wl.warn(n.message);else{const r=Ru.create("idb-set",{originalErrorMessage:n?.message});wl.warn(r.message)}}}o(eD,"writeHeartbeatsToIndexedDB");function A5(t){return`${t.name}!${t.options.appId}`}o(A5,"computeKey$1");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sne=1024,one=30;class ane{static{o(this,"HeartbeatServiceImpl")}constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new une(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=tD();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>one){const a=cne(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){wl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=tD(),{heartbeatsToSend:r,unsentEntries:i}=lne(this._heartbeatsCache.heartbeats),s=g5(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return wl.warn(n),""}}}function tD(){return new Date().toISOString().substring(0,10)}o(tD,"getUTCDateString");function lne(t,e=sne){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),nD(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}o(lne,"extractHeartbeatsForHeader");class une{static{o(this,"HeartbeatStorageImpl")}constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E5()?Wee().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ine(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return eD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return eD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function nD(t){return g5(JSON.stringify({version:2,heartbeats:t})).length}o(nD,"countBytes");function cne(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}o(cne,"getEarliestHeartbeatIdx");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fne(t){da(new wo("platform-logger",e=>new vte(e),"PRIVATE")),da(new wo("heartbeat",e=>new ane(e),"PRIVATE")),Qi(jS,ZM,t),Qi(jS,ZM,"esm2017"),Qi("fire-js","")}o(fne,"registerCoreComponents");fne("");var hne="firebase",dne="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qi(hne,dne,"app");/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function sI(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}o(sI,"makeMap");const Tt={},bd=[],ao=o(()=>{},"NOOP"),pne=o(()=>!1,"NO"),cE=o(t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),"isOn"),oI=o(t=>t.startsWith("onUpdate:"),"isModelListener"),On=Object.assign,aI=o((t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},"remove$2"),mne=Object.prototype.hasOwnProperty,It=o((t,e)=>mne.call(t,e),"hasOwn$2"),$e=Array.isArray,wd=o(t=>fE(t)==="[object Map]","isMap$2"),C5=o(t=>fE(t)==="[object Set]","isSet$2"),Fe=o(t=>typeof t=="function","isFunction$5"),dn=o(t=>typeof t=="string","isString$7"),Nl=o(t=>typeof t=="symbol","isSymbol$2"),Qt=o(t=>t!==null&&typeof t=="object","isObject$7"),I5=o(t=>(Qt(t)||Fe(t))&&Fe(t.then)&&Fe(t.catch),"isPromise$1"),R5=Object.prototype.toString,fE=o(t=>R5.call(t),"toTypeString$1"),gne=o(t=>fE(t).slice(8,-1),"toRawType"),O5=o(t=>fE(t)==="[object Object]","isPlainObject$4"),lI=o(t=>dn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,"isIntegerKey"),pg=sI(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),hE=o(t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},"cacheStringFunction"),yne=/-(\w)/g,gi=hE(t=>t.replace(yne,(e,n)=>n?n.toUpperCase():"")),_ne=/\B([A-Z])/g,Ml=hE(t=>t.replace(_ne,"-$1").toLowerCase()),dE=hE(t=>t.charAt(0).toUpperCase()+t.slice(1)),mg=hE(t=>t?`on${dE(t)}`:""),Ri=o((t,e)=>!Object.is(t,e),"hasChanged"),J_=o((t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},"invokeArrayFns"),N5=o((t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},"def$1"),GS=o(t=>{const e=parseFloat(t);return isNaN(e)?t:e},"looseToNumber"),M5=o(t=>{const e=dn(t)?Number(t):NaN;return isNaN(e)?t:e},"toNumber$1");let rD;const pE=o(()=>rD||(rD=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),"getGlobalThis$1");function Qf(t){if($e(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=dn(r)?Ene(r):Qf(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(dn(t)||Qt(t))return t}o(Qf,"normalizeStyle");const bne=/;(?![^(]*\))/g,wne=/:([^]+)/,vne=/\/\*[^]*?\*\//g;function Ene(t){const e={};return t.replace(vne,"").split(bne).forEach(n=>{if(n){const r=n.split(wne);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}o(Ene,"parseStringStyle");function mE(t){let e="";if(dn(t))e=t;else if($e(t))for(let n=0;n<t.length;n++){const r=mE(t[n]);r&&(e+=r+" ")}else if(Qt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}o(mE,"normalizeClass");function I9e(t){if(!t)return null;let{class:e,style:n}=t;return e&&!dn(e)&&(t.class=mE(e)),n&&(t.style=Qf(n)),t}o(I9e,"normalizeProps");const xne="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Tne=sI(xne);function D5(t){return!!t||t===""}o(D5,"includeBooleanAttr");const P5=o(t=>!!(t&&t.__v_isRef===!0),"isRef$1"),Sne=o(t=>dn(t)?t:t==null?"":$e(t)||Qt(t)&&(t.toString===R5||!Fe(t.toString))?P5(t)?Sne(t.value):JSON.stringify(t,$5,2):String(t),"toDisplayString$1"),$5=o((t,e)=>P5(e)?$5(t,e.value):wd(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[y2(r,s)+" =>"]=i,n),{})}:C5(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>y2(n))}:Nl(e)?y2(e):Qt(e)&&!$e(e)&&!O5(e)?String(e):e,"replacer"),y2=o((t,e="")=>{var n;return Nl(t)?`Symbol(${(n=t.description)!=null?n:e})`:t},"stringifySymbol");/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ii;class L5{static{o(this,"EffectScope")}constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ii,!e&&ii&&(this.index=(ii.scopes||(ii.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=ii;try{return ii=this,e()}finally{ii=n}}}on(){ii=this}off(){ii=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function kne(t){return new L5(t)}o(kne,"effectScope");function F5(){return ii}o(F5,"getCurrentScope");function Ane(t,e=!1){ii&&ii.cleanups.push(t)}o(Ane,"onScopeDispose");let Kt;const _2=new WeakSet;class B5{static{o(this,"ReactiveEffect")}constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ii&&ii.active&&ii.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,_2.has(this)&&(_2.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||z5(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,iD(this),V5(this);const e=Kt,n=lo;Kt=this,lo=!0;try{return this.fn()}finally{j5(this),Kt=e,lo=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)fI(e);this.deps=this.depsTail=void 0,iD(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?_2.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){qS(this)&&this.run()}get dirty(){return qS(this)}}let U5=0,gg,yg;function z5(t,e=!1){if(t.flags|=8,e){t.next=yg,yg=t;return}t.next=gg,gg=t}o(z5,"batch");function uI(){U5++}o(uI,"startBatch");function cI(){if(--U5>0)return;if(yg){let e=yg;for(yg=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;gg;){let e=gg;for(gg=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}o(cI,"endBatch");function V5(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}o(V5,"prepareDeps");function j5(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),fI(r),Cne(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}o(j5,"cleanupDeps");function qS(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(W5(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}o(qS,"isDirty$1");function W5(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===r0))return;t.globalVersion=r0;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!qS(t)){t.flags&=-3;return}const n=Kt,r=lo;Kt=t,lo=!0;try{V5(t);const i=t.fn(t._value);(e.version===0||Ri(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Kt=n,lo=r,j5(t),t.flags&=-3}}o(W5,"refreshComputed");function fI(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)fI(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}o(fI,"removeSub");function Cne(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}o(Cne,"removeDep");let lo=!0;const H5=[];function sc(){H5.push(lo),lo=!1}o(sc,"pauseTracking");function oc(){const t=H5.pop();lo=t===void 0?!0:t}o(oc,"resetTracking");function iD(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Kt;Kt=void 0;try{e()}finally{Kt=n}}}o(iD,"cleanupEffect");let r0=0;class Ine{static{o(this,"Link")}constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class gE{static{o(this,"Dep")}constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Kt||!lo||Kt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Kt)n=this.activeLink=new Ine(Kt,this),Kt.deps?(n.prevDep=Kt.depsTail,Kt.depsTail.nextDep=n,Kt.depsTail=n):Kt.deps=Kt.depsTail=n,G5(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Kt.depsTail,n.nextDep=void 0,Kt.depsTail.nextDep=n,Kt.depsTail=n,Kt.deps===n&&(Kt.deps=r)}return n}trigger(e){this.version++,r0++,this.notify(e)}notify(e){uI();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{cI()}}}function G5(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)G5(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}o(G5,"addSub");const zb=new WeakMap,ef=Symbol(""),KS=Symbol(""),i0=Symbol("");function $r(t,e,n){if(lo&&Kt){let r=zb.get(t);r||zb.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new gE),i.map=r,i.key=n),i.track()}}o($r,"track");function al(t,e,n,r,i,s){const a=zb.get(t);if(!a){r0++;return}const l=o(u=>{u&&u.trigger()},"run");if(uI(),e==="clear")a.forEach(l);else{const u=$e(t),c=u&&lI(n);if(u&&n==="length"){const f=Number(r);a.forEach((h,d)=>{(d==="length"||d===i0||!Nl(d)&&d>=f)&&l(h)})}else switch((n!==void 0||a.has(void 0))&&l(a.get(n)),c&&l(a.get(i0)),e){case"add":u?c&&l(a.get("length")):(l(a.get(ef)),wd(t)&&l(a.get(KS)));break;case"delete":u||(l(a.get(ef)),wd(t)&&l(a.get(KS)));break;case"set":wd(t)&&l(a.get(ef));break}}cI()}o(al,"trigger");function Rne(t,e){const n=zb.get(t);return n&&n.get(e)}o(Rne,"getDepFromReactive");function Oh(t){const e=yt(t);return e===t?e:($r(e,"iterate",i0),Os(t)?e:e.map(Lr))}o(Oh,"reactiveReadArray");function yE(t){return $r(t=yt(t),"iterate",i0),t}o(yE,"shallowReadArray");const One={__proto__:null,[Symbol.iterator](){return b2(this,Symbol.iterator,Lr)},concat(...t){return Oh(this).concat(...t.map(e=>$e(e)?Oh(e):e))},entries(){return b2(this,"entries",t=>(t[1]=Lr(t[1]),t))},every(t,e){return za(this,"every",t,e,void 0,arguments)},filter(t,e){return za(this,"filter",t,e,n=>n.map(Lr),arguments)},find(t,e){return za(this,"find",t,e,Lr,arguments)},findIndex(t,e){return za(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return za(this,"findLast",t,e,Lr,arguments)},findLastIndex(t,e){return za(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return za(this,"forEach",t,e,void 0,arguments)},includes(...t){return w2(this,"includes",t)},indexOf(...t){return w2(this,"indexOf",t)},join(t){return Oh(this).join(t)},lastIndexOf(...t){return w2(this,"lastIndexOf",t)},map(t,e){return za(this,"map",t,e,void 0,arguments)},pop(){return wm(this,"pop")},push(...t){return wm(this,"push",t)},reduce(t,...e){return sD(this,"reduce",t,e)},reduceRight(t,...e){return sD(this,"reduceRight",t,e)},shift(){return wm(this,"shift")},some(t,e){return za(this,"some",t,e,void 0,arguments)},splice(...t){return wm(this,"splice",t)},toReversed(){return Oh(this).toReversed()},toSorted(t){return Oh(this).toSorted(t)},toSpliced(...t){return Oh(this).toSpliced(...t)},unshift(...t){return wm(this,"unshift",t)},values(){return b2(this,"values",Lr)}};function b2(t,e,n){const r=yE(t),i=r[e]();return r!==t&&!Os(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}o(b2,"iterator$1");const Nne=Array.prototype;function za(t,e,n,r,i,s){const a=yE(t),l=a!==t&&!Os(t),u=a[e];if(u!==Nne[e]){const h=u.apply(t,s);return l?Lr(h):h}let c=n;a!==t&&(l?c=o(function(h,d){return n.call(this,Lr(h),d,t)},"wrappedFn"):n.length>2&&(c=o(function(h,d){return n.call(this,h,d,t)},"wrappedFn")));const f=u.call(a,c,r);return l&&i?i(f):f}o(za,"apply$2");function sD(t,e,n,r){const i=yE(t);let s=n;return i!==t&&(Os(t)?n.length>3&&(s=o(function(a,l,u){return n.call(this,a,l,u,t)},"wrappedFn")):s=o(function(a,l,u){return n.call(this,a,Lr(l),u,t)},"wrappedFn")),i[e](s,...r)}o(sD,"reduce$1");function w2(t,e,n){const r=yt(t);$r(r,"iterate",i0);const i=r[e](...n);return(i===-1||i===!1)&&pI(n[0])?(n[0]=yt(n[0]),r[e](...n)):i}o(w2,"searchProxy");function wm(t,e,n=[]){sc(),uI();const r=yt(t)[e].apply(t,n);return cI(),oc(),r}o(wm,"noTracking");const Mne=sI("__proto__,__v_isRef,__isVue"),q5=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Nl));function Dne(t){Nl(t)||(t=String(t));const e=yt(this);return $r(e,"has",t),e.hasOwnProperty(t)}o(Dne,"hasOwnProperty$2");class K5{static{o(this,"BaseReactiveHandler")}constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?Wne:Z5:s?J5:X5).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const a=$e(e);if(!i){let u;if(a&&(u=One[n]))return u;if(n==="hasOwnProperty")return Dne}const l=Reflect.get(e,n,an(e)?e:r);return(Nl(n)?q5.has(n):Mne(n))||(i||$r(e,"get",n),s)?l:an(l)?a&&lI(n)?l:l.value:Qt(l)?i?Dp(l):yf(l):l}}class Y5 extends K5{static{o(this,"MutableReactiveHandler")}constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const u=_f(s);if(!Os(r)&&!_f(r)&&(s=yt(s),r=yt(r)),!$e(e)&&an(s)&&!an(r))return u?!1:(s.value=r,!0)}const a=$e(e)&&lI(n)?Number(n)<e.length:It(e,n),l=Reflect.set(e,n,r,an(e)?e:i);return e===yt(i)&&(a?Ri(r,s)&&al(e,"set",n,r):al(e,"add",n,r)),l}deleteProperty(e,n){const r=It(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&al(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Nl(n)||!q5.has(n))&&$r(e,"has",n),r}ownKeys(e){return $r(e,"iterate",$e(e)?"length":ef),Reflect.ownKeys(e)}}class Pne extends K5{static{o(this,"ReadonlyReactiveHandler")}constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const $ne=new Y5,Lne=new Pne,Fne=new Y5(!0);const YS=o(t=>t,"toShallow"),W1=o(t=>Reflect.getPrototypeOf(t),"getProto");function Bne(t,e,n){return function(...r){const i=this.__v_raw,s=yt(i),a=wd(s),l=t==="entries"||t===Symbol.iterator&&a,u=t==="keys"&&a,c=i[t](...r),f=n?YS:e?XS:Lr;return!e&&$r(s,"iterate",u?KS:ef),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:l?[f(h[0]),f(h[1])]:f(h),done:d}},[Symbol.iterator](){return this}}}}o(Bne,"createIterableMethod");function H1(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}o(H1,"createReadonlyMethod");function Une(t,e){const n={get(i){const s=this.__v_raw,a=yt(s),l=yt(i);t||(Ri(i,l)&&$r(a,"get",i),$r(a,"get",l));const{has:u}=W1(a),c=e?YS:t?XS:Lr;if(u.call(a,i))return c(s.get(i));if(u.call(a,l))return c(s.get(l));s!==a&&s.get(i)},get size(){const i=this.__v_raw;return!t&&$r(yt(i),"iterate",ef),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,a=yt(s),l=yt(i);return t||(Ri(i,l)&&$r(a,"has",i),$r(a,"has",l)),i===l?s.has(i):s.has(i)||s.has(l)},forEach(i,s){const a=this,l=a.__v_raw,u=yt(l),c=e?YS:t?XS:Lr;return!t&&$r(u,"iterate",ef),l.forEach((f,h)=>i.call(s,c(f),c(h),a))}};return On(n,t?{add:H1("add"),set:H1("set"),delete:H1("delete"),clear:H1("clear")}:{add(i){!e&&!Os(i)&&!_f(i)&&(i=yt(i));const s=yt(this);return W1(s).has.call(s,i)||(s.add(i),al(s,"add",i,i)),this},set(i,s){!e&&!Os(s)&&!_f(s)&&(s=yt(s));const a=yt(this),{has:l,get:u}=W1(a);let c=l.call(a,i);c||(i=yt(i),c=l.call(a,i));const f=u.call(a,i);return a.set(i,s),c?Ri(s,f)&&al(a,"set",i,s):al(a,"add",i,s),this},delete(i){const s=yt(this),{has:a,get:l}=W1(s);let u=a.call(s,i);u||(i=yt(i),u=a.call(s,i)),l&&l.call(s,i);const c=s.delete(i);return u&&al(s,"delete",i,void 0),c},clear(){const i=yt(this),s=i.size!==0,a=i.clear();return s&&al(i,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Bne(i,t,e)}),n}o(Une,"createInstrumentations");function hI(t,e){const n=Une(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(It(n,i)&&i in r?n:r,i,s)}o(hI,"createInstrumentationGetter");const zne={get:hI(!1,!1)},Vne={get:hI(!1,!0)},jne={get:hI(!0,!1)};const X5=new WeakMap,J5=new WeakMap,Z5=new WeakMap,Wne=new WeakMap;function Hne(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}o(Hne,"targetTypeMap");function Gne(t){return t.__v_skip||!Object.isExtensible(t)?0:Hne(gne(t))}o(Gne,"getTargetType");function yf(t){return _f(t)?t:dI(t,!1,$ne,zne,X5)}o(yf,"reactive");function qne(t){return dI(t,!1,Fne,Vne,J5)}o(qne,"shallowReactive");function Dp(t){return dI(t,!0,Lne,jne,Z5)}o(Dp,"readonly");function dI(t,e,n,r,i){if(!Qt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const a=Gne(t);if(a===0)return t;const l=new Proxy(t,a===2?r:n);return i.set(t,l),l}o(dI,"createReactiveObject");function vd(t){return _f(t)?vd(t.__v_raw):!!(t&&t.__v_isReactive)}o(vd,"isReactive");function _f(t){return!!(t&&t.__v_isReadonly)}o(_f,"isReadonly");function Os(t){return!!(t&&t.__v_isShallow)}o(Os,"isShallow");function pI(t){return t?!!t.__v_raw:!1}o(pI,"isProxy");function yt(t){const e=t&&t.__v_raw;return e?yt(e):t}o(yt,"toRaw");function Q5(t){return!It(t,"__v_skip")&&Object.isExtensible(t)&&N5(t,"__v_skip",!0),t}o(Q5,"markRaw");const Lr=o(t=>Qt(t)?yf(t):t,"toReactive$1"),XS=o(t=>Qt(t)?Dp(t):t,"toReadonly");function an(t){return t?t.__v_isRef===!0:!1}o(an,"isRef");function Ce(t){return eB(t,!1)}o(Ce,"ref");function s0(t){return eB(t,!0)}o(s0,"shallowRef");function eB(t,e){return an(t)?t:new Kne(t,e)}o(eB,"createRef");class Kne{static{o(this,"RefImpl")}constructor(e,n){this.dep=new gE,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:yt(e),this._value=n?e:Lr(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Os(e)||_f(e);e=r?e:yt(e),Ri(e,n)&&(this._rawValue=e,this._value=r?e:Lr(e),this.dep.trigger())}}function R9e(t){t.dep&&t.dep.trigger()}o(R9e,"triggerRef");function ke(t){return an(t)?t.value:t}o(ke,"unref");function Ho(t){return Fe(t)?t():ke(t)}o(Ho,"toValue$3");const Yne={get:o((t,e,n)=>e==="__v_raw"?t:ke(Reflect.get(t,e,n)),"get"),set:o((t,e,n,r)=>{const i=t[e];return an(i)&&!an(n)?(i.value=n,!0):Reflect.set(t,e,n,r)},"set")};function tB(t){return vd(t)?t:new Proxy(t,Yne)}o(tB,"proxyRefs");class Xne{static{o(this,"CustomRefImpl")}constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new gE,{get:r,set:i}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function _E(t){return new Xne(t)}o(_E,"customRef");function Kd(t){const e=$e(t)?new Array(t.length):{};for(const n in t)e[n]=rB(t,n);return e}o(Kd,"toRefs$1");class Jne{static{o(this,"ObjectRefImpl")}constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Rne(yt(this._object),this._key)}}class Zne{static{o(this,"GetterRefImpl")}constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function nB(t,e,n){return an(t)?t:Fe(t)?new Zne(t):Qt(t)&&arguments.length>1?rB(t,e,n):Ce(t)}o(nB,"toRef$1");function rB(t,e,n){const r=t[e];return an(r)?r:new Jne(t,e,n)}o(rB,"propertyToRef");class Qne{static{o(this,"ComputedRefImpl")}constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new gE(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=r0-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Kt!==this)return z5(this,!0),!0}get value(){const e=this.dep.track();return W5(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function ere(t,e,n=!1){let r,i;return Fe(t)?r=t:(r=t.get,i=t.set),new Qne(r,i,n)}o(ere,"computed$1");const G1={},Vb=new WeakMap;let Dc;function tre(t,e=!1,n=Dc){if(n){let r=Vb.get(n);r||Vb.set(n,r=[]),r.push(t)}}o(tre,"onWatcherCleanup");function nre(t,e,n=Tt){const{immediate:r,deep:i,once:s,scheduler:a,augmentJob:l,call:u}=n,c=o(k=>i?k:Os(k)||i===!1||i===0?ll(k,1):ll(k),"reactiveGetter");let f,h,d,p,m=!1,y=!1;if(an(t)?(h=o(()=>t.value,"getter"),m=Os(t)):vd(t)?(h=o(()=>c(t),"getter"),m=!0):$e(t)?(y=!0,m=t.some(k=>vd(k)||Os(k)),h=o(()=>t.map(k=>{if(an(k))return k.value;if(vd(k))return c(k);if(Fe(k))return u?u(k,2):k()}),"getter")):Fe(t)?e?h=u?()=>u(t,2):t:h=o(()=>{if(d){sc();try{d()}finally{oc()}}const k=Dc;Dc=f;try{return u?u(t,3,[p]):t(p)}finally{Dc=k}},"getter"):h=ao,e&&i){const k=h,C=i===!0?1/0:i;h=o(()=>ll(k(),C),"getter")}const _=F5(),b=o(()=>{f.stop(),_&&_.active&&aI(_.effects,f)},"watchHandle");if(s&&e){const k=e;e=o((...C)=>{k(...C),b()},"cb")}let S=y?new Array(t.length).fill(G1):G1;const v=o(k=>{if(!(!(f.flags&1)||!f.dirty&&!k))if(e){const C=f.run();if(i||m||(y?C.some((R,x)=>Ri(R,S[x])):Ri(C,S))){d&&d();const R=Dc;Dc=f;try{const x=[C,S===G1?void 0:y&&S[0]===G1?[]:S,p];u?u(e,3,x):e(...x),S=C}finally{Dc=R}}}else f.run()},"job");return l&&l(v),f=new B5(h),f.scheduler=a?()=>a(v,!1):v,p=o(k=>tre(k,!1,f),"boundCleanup"),d=f.onStop=()=>{const k=Vb.get(f);if(k){if(u)u(k,4);else for(const C of k)C();Vb.delete(f)}},e?r?v(!0):S=f.run():a?a(v.bind(null,!0),!0):f.run(),b.pause=f.pause.bind(f),b.resume=f.resume.bind(f),b.stop=b,b}o(nre,"watch$1");function ll(t,e=1/0,n){if(e<=0||!Qt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,an(t))ll(t.value,e,n);else if($e(t))for(let r=0;r<t.length;r++)ll(t[r],e,n);else if(C5(t)||wd(t))t.forEach(r=>{ll(r,e,n)});else if(O5(t)){for(const r in t)ll(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&ll(t[r],e,n)}return t}o(ll,"traverse");/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function my(t,e,n,r){try{return r?t(...r):t()}catch(i){Pp(i,e,n)}}o(my,"callWithErrorHandling");function vo(t,e,n,r){if(Fe(t)){const i=my(t,e,n,r);return i&&I5(i)&&i.catch(s=>{Pp(s,e,n)}),i}if($e(t)){const i=[];for(let s=0;s<t.length;s++)i.push(vo(t[s],e,n,r));return i}}o(vo,"callWithAsyncErrorHandling");function Pp(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||Tt;if(e){let l=e.parent;const u=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const f=l.ec;if(f){for(let h=0;h<f.length;h++)if(f[h](t,u,c)===!1)return}l=l.parent}if(s){sc(),my(s,null,10,[t,u,c]),oc();return}}rre(t,n,i,r,a)}o(Pp,"handleError");function rre(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}o(rre,"logError");const si=[];let Go=-1;const Ed=[];let ru=null,Zh=0;const iB=Promise.resolve();let jb=null;function bf(t){const e=jb||iB;return t?e.then(this?t.bind(this):t):e}o(bf,"nextTick");function ire(t){let e=Go+1,n=si.length;for(;e<n;){const r=e+n>>>1,i=si[r],s=o0(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}o(ire,"findInsertionIndex");function mI(t){if(!(t.flags&1)){const e=o0(t),n=si[si.length-1];!n||!(t.flags&2)&&e>=o0(n)?si.push(t):si.splice(ire(e),0,t),t.flags|=1,sB()}}o(mI,"queueJob");function sB(){jb||(jb=iB.then(aB))}o(sB,"queueFlush");function Wb(t){$e(t)?Ed.push(...t):ru&&t.id===-1?ru.splice(Zh+1,0,t):t.flags&1||(Ed.push(t),t.flags|=1),sB()}o(Wb,"queuePostFlushCb");function oD(t,e,n=Go+1){for(;n<si.length;n++){const r=si[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;si.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}o(oD,"flushPreFlushCbs");function oB(t){if(Ed.length){const e=[...new Set(Ed)].sort((n,r)=>o0(n)-o0(r));if(Ed.length=0,ru){ru.push(...e);return}for(ru=e,Zh=0;Zh<ru.length;Zh++){const n=ru[Zh];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}ru=null,Zh=0}}o(oB,"flushPostFlushCbs");const o0=o(t=>t.id==null?t.flags&2?-1:1/0:t.id,"getId");function aB(t){try{for(Go=0;Go<si.length;Go++){const e=si[Go];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),my(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Go<si.length;Go++){const e=si[Go];e&&(e.flags&=-2)}Go=-1,si.length=0,oB(),jb=null,(si.length||Ed.length)&&aB()}}o(aB,"flushJobs");let Kn=null,lB=null;function Hb(t){const e=Kn;return Kn=t,lB=t&&t.type.__scopeId||null,e}o(Hb,"setCurrentRenderingInstance");function Ps(t,e=Kn,n){if(!e||t._n)return t;const r=o((...i)=>{r._d&&wD(-1);const s=Hb(e);let a;try{a=t(...i)}finally{Hb(s),r._d&&wD(1)}return a},"renderFnWithContext");return r._n=!0,r._c=!0,r._d=!0,r}o(Ps,"withCtx");function O9e(t,e){if(Kn===null)return t;const n=TE(Kn),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,a,l,u=Tt]=e[i];s&&(Fe(s)&&(s={mounted:s,updated:s}),s.deep&&ll(a),r.push({dir:s,instance:n,value:a,oldValue:void 0,arg:l,modifiers:u}))}return t}o(O9e,"withDirectives");function Sc(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let a=0;a<i.length;a++){const l=i[a];s&&(l.oldValue=s[a].value);let u=l.dir[r];u&&(sc(),vo(u,n,8,[t.el,l,t,e]),oc())}}o(Sc,"invokeDirectiveHook");const uB=Symbol("_vte"),cB=o(t=>t.__isTeleport,"isTeleport"),_g=o(t=>t&&(t.disabled||t.disabled===""),"isTeleportDisabled"),aD=o(t=>t&&(t.defer||t.defer===""),"isTeleportDeferred"),lD=o(t=>typeof SVGElement<"u"&&t instanceof SVGElement,"isTargetSVG"),uD=o(t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,"isTargetMathML"),JS=o((t,e)=>{const n=t&&t.to;return dn(n)?e?e(n):null:n},"resolveTarget"),fB={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,a,l,u,c){const{mc:f,pc:h,pbc:d,o:{insert:p,querySelector:m,createText:y,createComment:_}}=c,b=_g(e.props);let{shapeFlag:S,children:v,dynamicChildren:k}=e;if(t==null){const C=e.el=y(""),R=e.anchor=y("");p(C,n,r),p(R,n,r);const x=o((T,O)=>{S&16&&(i&&i.isCE&&(i.ce._teleportTarget=T),f(v,T,O,i,s,a,l,u))},"mount"),E=o(()=>{const T=e.target=JS(e.props,m),O=hB(T,e,y,p);T&&(a!=="svg"&&lD(T)?a="svg":a!=="mathml"&&uD(T)&&(a="mathml"),b||(x(T,O),Z_(e,!1)))},"mountToTarget");b&&(x(n,R),Z_(e,!0)),aD(e.props)?ri(()=>{E(),e.el.__isMounted=!0},s):E()}else{if(aD(e.props)&&!t.el.__isMounted){ri(()=>{fB.process(t,e,n,r,i,s,a,l,u,c),delete t.el.__isMounted},s);return}e.el=t.el,e.targetStart=t.targetStart;const C=e.anchor=t.anchor,R=e.target=t.target,x=e.targetAnchor=t.targetAnchor,E=_g(t.props),T=E?n:R,O=E?C:x;if(a==="svg"||lD(R)?a="svg":(a==="mathml"||uD(R))&&(a="mathml"),k?(d(t.dynamicChildren,k,T,i,s,a,l),TI(t,e,!0)):u||h(t,e,T,O,i,s,a,l,!1),b)E?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):q1(e,n,C,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const N=e.target=JS(e.props,m);N&&q1(e,N,null,c,0)}else E&&q1(e,R,x,c,1);Z_(e,b)}},remove(t,e,n,{um:r,o:{remove:i}},s){const{shapeFlag:a,children:l,anchor:u,targetStart:c,targetAnchor:f,target:h,props:d}=t;if(h&&(i(c),i(f)),s&&i(u),a&16){const p=s||!_g(d);for(let m=0;m<l.length;m++){const y=l[m];r(y,e,n,p,!!y.dynamicChildren)}}},move:q1,hydrate:sre};function q1(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:a,anchor:l,shapeFlag:u,children:c,props:f}=t,h=s===2;if(h&&r(a,e,n),(!h||_g(f))&&u&16)for(let d=0;d<c.length;d++)i(c[d],e,n,2);h&&r(l,e,n)}o(q1,"moveTeleport");function sre(t,e,n,r,i,s,{o:{nextSibling:a,parentNode:l,querySelector:u,insert:c,createText:f}},h){const d=e.target=JS(e.props,u);if(d){const p=_g(e.props),m=d._lpa||d.firstChild;if(e.shapeFlag&16)if(p)e.anchor=h(a(t),e,l(t),n,r,i,s),e.targetStart=m,e.targetAnchor=m&&a(m);else{e.anchor=a(t);let y=m;for(;y;){if(y&&y.nodeType===8){if(y.data==="teleport start anchor")e.targetStart=y;else if(y.data==="teleport anchor"){e.targetAnchor=y,d._lpa=e.targetAnchor&&a(e.targetAnchor);break}}y=a(y)}e.targetAnchor||hB(d,e,f,c),h(m&&a(m),e,d,n,r,i,s)}Z_(e,p)}return e.anchor&&a(e.anchor)}o(sre,"hydrateTeleport");const N9e=fB;function Z_(t,e){const n=t.ctx;if(n&&n.ut){let r,i;for(e?(r=t.el,i=t.anchor):(r=t.targetStart,i=t.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}o(Z_,"updateCssVars");function hB(t,e,n,r){const i=e.targetStart=n(""),s=e.targetAnchor=n("");return i[uB]=s,t&&(r(i,t),r(s,t)),s}o(hB,"prepareAnchor");const iu=Symbol("_leaveCb"),K1=Symbol("_enterCb");function dB(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ac(()=>{t.isMounted=!0}),_I(()=>{t.isUnmounting=!0}),t}o(dB,"useTransitionState");const fs=[Function,Array],pB={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:fs,onEnter:fs,onAfterEnter:fs,onEnterCancelled:fs,onBeforeLeave:fs,onLeave:fs,onAfterLeave:fs,onLeaveCancelled:fs,onBeforeAppear:fs,onAppear:fs,onAfterAppear:fs,onAppearCancelled:fs},mB=o(t=>{const e=t.subTree;return e.component?mB(e.component):e},"recursiveGetSubtree"),ore={name:"BaseTransition",props:pB,setup(t,{slots:e}){const n=Ui(),r=dB();return()=>{const i=e.default&&gI(e.default(),!0);if(!i||!i.length)return;const s=gB(i),a=yt(t),{mode:l}=a;if(r.isLeaving)return v2(s);const u=cD(s);if(!u)return v2(s);let c=a0(u,a,r,n,h=>c=h);u.type!==fr&&wf(u,c);let f=n.subTree&&cD(n.subTree);if(f&&f.type!==fr&&!ta(u,f)&&mB(n).type!==fr){let h=a0(f,a,r,n);if(wf(f,h),l==="out-in"&&u.type!==fr)return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete h.afterLeave,f=void 0},v2(s);l==="in-out"&&u.type!==fr?h.delayLeave=(d,p,m)=>{const y=yB(r,f);y[String(f.key)]=f,d[iu]=()=>{p(),d[iu]=void 0,delete c.delayedLeave,f=void 0},c.delayedLeave=()=>{m(),delete c.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return s}}};function gB(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==fr){e=n;break}}return e}o(gB,"findNonCommentChild");const are=ore;function yB(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}o(yB,"getLeavingNodesForType");function a0(t,e,n,r,i){const{appear:s,mode:a,persisted:l=!1,onBeforeEnter:u,onEnter:c,onAfterEnter:f,onEnterCancelled:h,onBeforeLeave:d,onLeave:p,onAfterLeave:m,onLeaveCancelled:y,onBeforeAppear:_,onAppear:b,onAfterAppear:S,onAppearCancelled:v}=e,k=String(t.key),C=yB(n,t),R=o((T,O)=>{T&&vo(T,r,9,O)},"callHook2"),x=o((T,O)=>{const N=O[1];R(T,O),$e(T)?T.every(I=>I.length<=1)&&N():T.length<=1&&N()},"callAsyncHook"),E={mode:a,persisted:l,beforeEnter(T){let O=u;if(!n.isMounted)if(s)O=_||u;else return;T[iu]&&T[iu](!0);const N=C[k];N&&ta(t,N)&&N.el[iu]&&N.el[iu](),R(O,[T])},enter(T){let O=c,N=f,I=h;if(!n.isMounted)if(s)O=b||c,N=S||f,I=v||h;else return;let M=!1;const V=T[K1]=j=>{M||(M=!0,j?R(I,[T]):R(N,[T]),E.delayedLeave&&E.delayedLeave(),T[K1]=void 0)};O?x(O,[T,V]):V()},leave(T,O){const N=String(t.key);if(T[K1]&&T[K1](!0),n.isUnmounting)return O();R(d,[T]);let I=!1;const M=T[iu]=V=>{I||(I=!0,O(),V?R(y,[T]):R(m,[T]),T[iu]=void 0,C[N]===t&&delete C[N])};C[N]=t,p?x(p,[T,M]):M()},clone(T){const O=a0(T,e,n,r,i);return i&&i(O),O}};return E}o(a0,"resolveTransitionHooks");function v2(t){if(gy(t))return t=vl(t),t.children=null,t}o(v2,"emptyPlaceholder");function cD(t){if(!gy(t))return cB(t.type)&&t.children?gB(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Fe(n.default))return n.default()}}o(cD,"getInnerChild$1");function wf(t,e){t.shapeFlag&6&&t.component?(t.transition=e,wf(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}o(wf,"setTransitionHooks");function gI(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let a=t[s];const l=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===cr?(a.patchFlag&128&&i++,r=r.concat(gI(a.children,e,l))):(e||a.type!==fr)&&r.push(l!=null?vl(a,{key:l}):a)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}o(gI,"getTransitionRawChildren");/*! #__NO_SIDE_EFFECTS__ */function Hr(t,e){return Fe(t)?On({name:t.name},e,{setup:t}):t}o(Hr,"defineComponent");function M9e(){const t=Ui();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}o(M9e,"useId");function yI(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}o(yI,"markAsyncBoundary");function D9e(t){const e=Ui(),n=s0(null);if(e){const i=e.refs===Tt?e.refs={}:e.refs;Object.defineProperty(i,t,{enumerable:!0,get:o(()=>n.value,"get"),set:o(s=>n.value=s,"set")})}return n}o(D9e,"useTemplateRef");function Gb(t,e,n,r,i=!1){if($e(t)){t.forEach((m,y)=>Gb(m,e&&($e(e)?e[y]:e),n,r,i));return}if(xd(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Gb(t,e,n,r.component.subTree);return}const s=r.shapeFlag&4?TE(r.component):r.el,a=i?null:s,{i:l,r:u}=t,c=e&&e.r,f=l.refs===Tt?l.refs={}:l.refs,h=l.setupState,d=yt(h),p=h===Tt?()=>!1:m=>It(d,m);if(c!=null&&c!==u&&(dn(c)?(f[c]=null,p(c)&&(h[c]=null)):an(c)&&(c.value=null)),Fe(u))my(u,l,12,[a,f]);else{const m=dn(u),y=an(u);if(m||y){const _=o(()=>{if(t.f){const b=m?p(u)?h[u]:f[u]:u.value;i?$e(b)&&aI(b,s):$e(b)?b.includes(s)||b.push(s):m?(f[u]=[s],p(u)&&(h[u]=f[u])):(u.value=[s],t.k&&(f[t.k]=u.value))}else m?(f[u]=a,p(u)&&(h[u]=a)):y&&(u.value=a,t.k&&(f[t.k]=a))},"doSet");a?(_.id=-1,ri(_,n)):_()}}}o(Gb,"setRef");const fD=o(t=>t.nodeType===8,"isComment");pE().requestIdleCallback;pE().cancelIdleCallback;function lre(t,e){if(fD(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(fD(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}o(lre,"forEachElement");const xd=o(t=>!!t.type.__asyncLoader,"isAsyncWrapper");/*! #__NO_SIDE_EFFECTS__ */function P9e(t){Fe(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,hydrate:s,timeout:a,suspensible:l=!0,onError:u}=t;let c=null,f,h=0;const d=o(()=>(h++,c=null,p()),"retry"),p=o(()=>{let m;return c||(m=c=e().catch(y=>{if(y=y instanceof Error?y:new Error(String(y)),u)return new Promise((_,b)=>{u(y,o(()=>_(d()),"userRetry"),o(()=>b(y),"userFail"),h+1)});throw y}).then(y=>m!==c&&c?c:(y&&(y.__esModule||y[Symbol.toStringTag]==="Module")&&(y=y.default),f=y,y)))},"load");return Hr({name:"AsyncComponentWrapper",__asyncLoader:p,__asyncHydrate(m,y,_){const b=s?()=>{const S=s(_,v=>lre(m,v));S&&(y.bum||(y.bum=[])).push(S)}:_;f?b():p().then(()=>!y.isUnmounted&&b())},get __asyncResolved(){return f},setup(){const m=qn;if(yI(m),f)return()=>E2(f,m);const y=o(v=>{c=null,Pp(v,m,13,!r)},"onError");if(l&&m.suspense||Jd)return p().then(v=>()=>E2(v,m)).catch(v=>(y(v),()=>r?An(r,{error:v}):null));const _=Ce(!1),b=Ce(),S=Ce(!!i);return i&&setTimeout(()=>{S.value=!1},i),a!=null&&setTimeout(()=>{if(!_.value&&!b.value){const v=new Error(`Async component timed out after ${a}ms.`);y(v),b.value=v}},a),p().then(()=>{_.value=!0,m.parent&&gy(m.parent.vnode)&&m.parent.update()}).catch(v=>{y(v),b.value=v}),()=>{if(_.value&&f)return E2(f,m);if(b.value&&r)return An(r,{error:b.value});if(n&&!S.value)return An(n)}}})}o(P9e,"defineAsyncComponent");function E2(t,e){const{ref:n,props:r,children:i,ce:s}=e.vnode,a=An(t,r,i);return a.ref=n,a.ce=s,delete e.vnode.ce,a}o(E2,"createInnerComp");const gy=o(t=>t.type.__isKeepAlive,"isKeepAlive");function ure(t,e){_B(t,"a",e)}o(ure,"onActivated");function cre(t,e){_B(t,"da",e)}o(cre,"onDeactivated");function _B(t,e,n=qn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(bE(e,r,n),n){let i=n.parent;for(;i&&i.parent;)gy(i.parent.vnode)&&fre(r,e,n,i),i=i.parent}}o(_B,"registerKeepAliveHook");function fre(t,e,n,r){const i=bE(e,t,r,!0);wE(()=>{aI(r[e],i)},n)}o(fre,"injectToKeepAliveRoot");function bE(t,e,n=qn,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...a)=>{sc();const l=yy(n),u=vo(e,n,t,a);return l(),oc(),u});return r?i.unshift(s):i.push(s),s}}o(bE,"injectHook");const Dl=o(t=>(e,n=qn)=>{(!Jd||t==="sp")&&bE(t,(...r)=>e(...r),n)},"createHook"),hre=Dl("bm"),ac=Dl("m"),bB=Dl("bu"),wB=Dl("u"),_I=Dl("bum"),wE=Dl("um"),dre=Dl("sp"),pre=Dl("rtg"),mre=Dl("rtc");function gre(t,e=qn){bE("ec",t,e)}o(gre,"onErrorCaptured");const bI="components",yre="directives";function $9e(t,e){return wI(bI,t,!0,e)||t}o($9e,"resolveComponent");const vB=Symbol.for("v-ndc");function _re(t){return dn(t)?wI(bI,t,!1)||t:t||vB}o(_re,"resolveDynamicComponent");function L9e(t){return wI(yre,t)}o(L9e,"resolveDirective");function wI(t,e,n=!0,r=!1){const i=Kn||qn;if(i){const s=i.type;if(t===bI){const l=uie(s,!1);if(l&&(l===e||l===gi(e)||l===dE(gi(e))))return s}const a=hD(i[t]||s[t],e)||hD(i.appContext[t],e);return!a&&r?s:a}}o(wI,"resolveAsset");function hD(t,e){return t&&(t[e]||t[gi(e)]||t[dE(gi(e))])}o(hD,"resolve");function bre(t,e,n,r){let i;const s=n,a=$e(t);if(a||dn(t)){const l=a&&vd(t);let u=!1;l&&(u=!Os(t),t=yE(t)),i=new Array(t.length);for(let c=0,f=t.length;c<f;c++)i[c]=e(u?Lr(t[c]):t[c],c,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let l=0;l<t;l++)i[l]=e(l+1,l,void 0,s)}else if(Qt(t))if(t[Symbol.iterator])i=Array.from(t,(l,u)=>e(l,u,void 0,s));else{const l=Object.keys(t);i=new Array(l.length);for(let u=0,c=l.length;u<c;u++){const f=l[u];i[u]=e(t[f],f,u,s)}}else i=[];return i}o(bre,"renderList");function F9e(t,e){for(let n=0;n<e.length;n++){const r=e[n];if($e(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}o(F9e,"createSlots");function Pl(t,e,n={},r,i){if(Kn.ce||Kn.parent&&xd(Kn.parent)&&Kn.parent.ce)return e!=="default"&&(n.name=e),Un(),Ar(cr,null,[An("slot",n,r&&r())],64);let s=t[e];s&&s._c&&(s._d=!1),Un();const a=s&&EB(s(n)),l=n.key||a&&a.key,u=Ar(cr,{key:(l&&!Nl(l)?l:`_${e}`)+(!a&&r?"_fb":"")},a||(r?r():[]),a&&t._===1?64:-2);return!i&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),s&&s._c&&(s._d=!0),u}o(Pl,"renderSlot");function EB(t){return t.some(e=>Xd(e)?!(e.type===fr||e.type===cr&&!EB(e.children)):!0)?t:null}o(EB,"ensureValidVNode");function B9e(t,e){const n={};for(const r in t)n[/[A-Z]/.test(r)?`on:${r}`:mg(r)]=t[r];return n}o(B9e,"toHandlers");const ZS=o(t=>t?qB(t)?TE(t):ZS(t.parent):null,"getPublicInstance"),bg=On(Object.create(null),{$:o(t=>t,"$"),$el:o(t=>t.vnode.el,"$el"),$data:o(t=>t.data,"$data"),$props:o(t=>t.props,"$props"),$attrs:o(t=>t.attrs,"$attrs"),$slots:o(t=>t.slots,"$slots"),$refs:o(t=>t.refs,"$refs"),$parent:o(t=>ZS(t.parent),"$parent"),$root:o(t=>ZS(t.root),"$root"),$host:o(t=>t.ce,"$host"),$emit:o(t=>t.emit,"$emit"),$options:o(t=>vI(t),"$options"),$forceUpdate:o(t=>t.f||(t.f=()=>{mI(t.update)}),"$forceUpdate"),$nextTick:o(t=>t.n||(t.n=bf.bind(t.proxy)),"$nextTick"),$watch:o(t=>zre.bind(t),"$watch")}),x2=o((t,e)=>t!==Tt&&!t.__isScriptSetup&&It(t,e),"hasSetupBinding"),wre={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:a,type:l,appContext:u}=t;let c;if(e[0]!=="$"){const p=a[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(x2(r,e))return a[e]=1,r[e];if(i!==Tt&&It(i,e))return a[e]=2,i[e];if((c=t.propsOptions[0])&&It(c,e))return a[e]=3,s[e];if(n!==Tt&&It(n,e))return a[e]=4,n[e];QS&&(a[e]=0)}}const f=bg[e];let h,d;if(f)return e==="$attrs"&&$r(t.attrs,"get",""),f(t);if((h=l.__cssModules)&&(h=h[e]))return h;if(n!==Tt&&It(n,e))return a[e]=4,n[e];if(d=u.config.globalProperties,It(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return x2(i,e)?(i[e]=n,!0):r!==Tt&&It(r,e)?(r[e]=n,!0):It(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},a){let l;return!!n[a]||t!==Tt&&It(t,a)||x2(e,a)||(l=s[0])&&It(l,a)||It(r,a)||It(bg,a)||It(i.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:It(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function U9e(){return xB().slots}o(U9e,"useSlots");function z9e(){return xB().attrs}o(z9e,"useAttrs");function xB(){const t=Ui();return t.setupContext||(t.setupContext=YB(t))}o(xB,"getContext");function qb(t){return $e(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}o(qb,"normalizePropsOrEmits");function V9e(t,e){return!t||!e?t||e:$e(t)&&$e(e)?t.concat(e):On({},qb(t),qb(e))}o(V9e,"mergeModels");let QS=!0;function vre(t){const e=vI(t),n=t.proxy,r=t.ctx;QS=!1,e.beforeCreate&&dD(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:a,watch:l,provide:u,inject:c,created:f,beforeMount:h,mounted:d,beforeUpdate:p,updated:m,activated:y,deactivated:_,beforeDestroy:b,beforeUnmount:S,destroyed:v,unmounted:k,render:C,renderTracked:R,renderTriggered:x,errorCaptured:E,serverPrefetch:T,expose:O,inheritAttrs:N,components:I,directives:M,filters:V}=e;if(c&&Ere(c,r,null),a)for(const q in a){const te=a[q];Fe(te)&&(r[q]=te.bind(n))}if(i){const q=i.call(n,n);Qt(q)&&(t.data=yf(q))}if(QS=!0,s)for(const q in s){const te=s[q],Z=Fe(te)?te.bind(n,n):Fe(te.get)?te.get.bind(n,n):ao,ue=!Fe(te)&&Fe(te.set)?te.set.bind(n):ao,ce=We({get:Z,set:ue});Object.defineProperty(r,q,{enumerable:!0,configurable:!0,get:o(()=>ce.value,"get"),set:o(ge=>ce.value=ge,"set")})}if(l)for(const q in l)TB(l[q],r,n,q);if(u){const q=Fe(u)?u.call(n):u;Reflect.ownKeys(q).forEach(te=>{EI(te,q[te])})}f&&dD(f,t,"c");function H(q,te){$e(te)?te.forEach(Z=>q(Z.bind(n))):te&&q(te.bind(n))}if(o(H,"registerLifecycleHook"),H(hre,h),H(ac,d),H(bB,p),H(wB,m),H(ure,y),H(cre,_),H(gre,E),H(mre,R),H(pre,x),H(_I,S),H(wE,k),H(dre,T),$e(O))if(O.length){const q=t.exposed||(t.exposed={});O.forEach(te=>{Object.defineProperty(q,te,{get:o(()=>n[te],"get"),set:o(Z=>n[te]=Z,"set")})})}else t.exposed||(t.exposed={});C&&t.render===ao&&(t.render=C),N!=null&&(t.inheritAttrs=N),I&&(t.components=I),M&&(t.directives=M),T&&yI(t)}o(vre,"applyOptions");function Ere(t,e,n=ao){$e(t)&&(t=ek(t));for(const r in t){const i=t[r];let s;Qt(i)?"default"in i?s=Td(i.from||r,i.default,!0):s=Td(i.from||r):s=Td(i),an(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:o(()=>s.value,"get"),set:o(a=>s.value=a,"set")}):e[r]=s}}o(Ere,"resolveInjections");function dD(t,e,n){vo($e(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}o(dD,"callHook$1");function TB(t,e,n,r){let i=r.includes(".")?LB(n,r):()=>n[r];if(dn(t)){const s=e[t];Fe(s)&&Zt(i,s)}else if(Fe(t))Zt(i,t.bind(n));else if(Qt(t))if($e(t))t.forEach(s=>TB(s,e,n,r));else{const s=Fe(t.handler)?t.handler.bind(n):e[t.handler];Fe(s)&&Zt(i,s,t)}}o(TB,"createWatcher");function vI(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,l=s.get(e);let u;return l?u=l:!i.length&&!n&&!r?u=e:(u={},i.length&&i.forEach(c=>Kb(u,c,a,!0)),Kb(u,e,a)),Qt(e)&&s.set(e,u),u}o(vI,"resolveMergedOptions");function Kb(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Kb(t,s,n,!0),i&&i.forEach(a=>Kb(t,a,n,!0));for(const a in e)if(!(r&&a==="expose")){const l=xre[a]||n&&n[a];t[a]=l?l(t[a],e[a]):e[a]}return t}o(Kb,"mergeOptions");const xre={data:pD,props:mD,emits:mD,methods:Zm,computed:Zm,beforeCreate:ti,created:ti,beforeMount:ti,mounted:ti,beforeUpdate:ti,updated:ti,beforeDestroy:ti,beforeUnmount:ti,destroyed:ti,unmounted:ti,activated:ti,deactivated:ti,errorCaptured:ti,serverPrefetch:ti,components:Zm,directives:Zm,watch:Sre,provide:pD,inject:Tre};function pD(t,e){return e?t?o(function(){return On(Fe(t)?t.call(this,this):t,Fe(e)?e.call(this,this):e)},"mergedDataFn"):e:t}o(pD,"mergeDataFn");function Tre(t,e){return Zm(ek(t),ek(e))}o(Tre,"mergeInject");function ek(t){if($e(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}o(ek,"normalizeInject");function ti(t,e){return t?[...new Set([].concat(t,e))]:e}o(ti,"mergeAsArray");function Zm(t,e){return t?On(Object.create(null),t,e):e}o(Zm,"mergeObjectOptions");function mD(t,e){return t?$e(t)&&$e(e)?[...new Set([...t,...e])]:On(Object.create(null),qb(t),qb(e??{})):e}o(mD,"mergeEmitsOrPropsOptions");function Sre(t,e){if(!t)return e;if(!e)return t;const n=On(Object.create(null),t);for(const r in e)n[r]=ti(t[r],e[r]);return n}o(Sre,"mergeWatchOptions");function SB(){return{app:null,config:{isNativeTag:pne,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}o(SB,"createAppContext");let kre=0;function Are(t,e){return o(function(r,i=null){Fe(r)||(r=On({},r)),i!=null&&!Qt(i)&&(i=null);const s=SB(),a=new WeakSet,l=[];let u=!1;const c=s.app={_uid:kre++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:fie,get config(){return s.config},set config(f){},use(f,...h){return a.has(f)||(f&&Fe(f.install)?(a.add(f),f.install(c,...h)):Fe(f)&&(a.add(f),f(c,...h))),c},mixin(f){return s.mixins.includes(f)||s.mixins.push(f),c},component(f,h){return h?(s.components[f]=h,c):s.components[f]},directive(f,h){return h?(s.directives[f]=h,c):s.directives[f]},mount(f,h,d){if(!u){const p=c._ceVNode||An(r,i);return p.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),h&&e?e(p,f):t(p,f,d),u=!0,c._container=f,f.__vue_app__=c,TE(p.component)}},onUnmount(f){l.push(f)},unmount(){u&&(vo(l,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(f,h){return s.provides[f]=h,c},runWithContext(f){const h=tf;tf=c;try{return f()}finally{tf=h}}};return c},"createApp")}o(Are,"createAppAPI");let tf=null;function EI(t,e){if(qn){let n=qn.provides;const r=qn.parent&&qn.parent.provides;r===n&&(n=qn.provides=Object.create(r)),n[t]=e}}o(EI,"provide");function Td(t,e,n=!1){const r=qn||Kn;if(r||tf){const i=tf?tf._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Fe(e)?e.call(r&&r.proxy):e}}o(Td,"inject");function j9e(){return!!(qn||Kn||tf)}o(j9e,"hasInjectionContext");const kB={},AB=o(()=>Object.create(kB),"createInternalObject"),CB=o(t=>Object.getPrototypeOf(t)===kB,"isInternalObject");function Cre(t,e,n,r=!1){const i={},s=AB();t.propsDefaults=Object.create(null),IB(t,e,i,s);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);n?t.props=r?i:qne(i):t.type.props?t.props=i:t.props=s,t.attrs=s}o(Cre,"initProps");function Ire(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:a}}=t,l=yt(i),[u]=t.propsOptions;let c=!1;if((r||a>0)&&!(a&16)){if(a&8){const f=t.vnode.dynamicProps;for(let h=0;h<f.length;h++){let d=f[h];if(EE(t.emitsOptions,d))continue;const p=e[d];if(u)if(It(s,d))p!==s[d]&&(s[d]=p,c=!0);else{const m=gi(d);i[m]=tk(u,l,m,p,t,!1)}else p!==s[d]&&(s[d]=p,c=!0)}}}else{IB(t,e,i,s)&&(c=!0);let f;for(const h in l)(!e||!It(e,h)&&((f=Ml(h))===h||!It(e,f)))&&(u?n&&(n[h]!==void 0||n[f]!==void 0)&&(i[h]=tk(u,l,h,void 0,t,!0)):delete i[h]);if(s!==l)for(const h in s)(!e||!It(e,h))&&(delete s[h],c=!0)}c&&al(t.attrs,"set","")}o(Ire,"updateProps");function IB(t,e,n,r){const[i,s]=t.propsOptions;let a=!1,l;if(e)for(let u in e){if(pg(u))continue;const c=e[u];let f;i&&It(i,f=gi(u))?!s||!s.includes(f)?n[f]=c:(l||(l={}))[f]=c:EE(t.emitsOptions,u)||(!(u in r)||c!==r[u])&&(r[u]=c,a=!0)}if(s){const u=yt(n),c=l||Tt;for(let f=0;f<s.length;f++){const h=s[f];n[h]=tk(i,u,h,c[h],t,!It(c,h))}}return a}o(IB,"setFullProps");function tk(t,e,n,r,i,s){const a=t[n];if(a!=null){const l=It(a,"default");if(l&&r===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&Fe(u)){const{propsDefaults:c}=i;if(n in c)r=c[n];else{const f=yy(i);r=c[n]=u.call(null,e),f()}}else r=u;i.ce&&i.ce._setProp(n,r)}a[0]&&(s&&!l?r=!1:a[1]&&(r===""||r===Ml(n))&&(r=!0))}return r}o(tk,"resolvePropValue");const Rre=new WeakMap;function RB(t,e,n=!1){const r=n?Rre:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,a={},l=[];let u=!1;if(!Fe(t)){const f=o(h=>{u=!0;const[d,p]=RB(h,e,!0);On(a,d),p&&l.push(...p)},"extendProps");!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!s&&!u)return Qt(t)&&r.set(t,bd),bd;if($e(s))for(let f=0;f<s.length;f++){const h=gi(s[f]);gD(h)&&(a[h]=Tt)}else if(s)for(const f in s){const h=gi(f);if(gD(h)){const d=s[f],p=a[h]=$e(d)||Fe(d)?{type:d}:On({},d),m=p.type;let y=!1,_=!0;if($e(m))for(let b=0;b<m.length;++b){const S=m[b],v=Fe(S)&&S.name;if(v==="Boolean"){y=!0;break}else v==="String"&&(_=!1)}else y=Fe(m)&&m.name==="Boolean";p[0]=y,p[1]=_,(y||It(p,"default"))&&l.push(h)}}const c=[a,l];return Qt(t)&&r.set(t,c),c}o(RB,"normalizePropsOptions");function gD(t){return t[0]!=="$"&&!pg(t)}o(gD,"validatePropName");const OB=o(t=>t[0]==="_"||t==="$stable","isInternalKey"),xI=o(t=>$e(t)?t.map(Ks):[Ks(t)],"normalizeSlotValue"),Ore=o((t,e,n)=>{if(e._n)return e;const r=Ps((...i)=>xI(e(...i)),n);return r._c=!1,r},"normalizeSlot"),NB=o((t,e,n)=>{const r=t._ctx;for(const i in t){if(OB(i))continue;const s=t[i];if(Fe(s))e[i]=Ore(i,s,r);else if(s!=null){const a=xI(s);e[i]=()=>a}}},"normalizeObjectSlots"),MB=o((t,e)=>{const n=xI(e);t.slots.default=()=>n},"normalizeVNodeSlots"),DB=o((t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},"assignSlots"),Nre=o((t,e,n)=>{const r=t.slots=AB();if(t.vnode.shapeFlag&32){const i=e._;i?(DB(r,e,n),n&&N5(r,"_",i,!0)):NB(e,r)}else e&&MB(t,e)},"initSlots"),Mre=o((t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,a=Tt;if(r.shapeFlag&32){const l=e._;l?n&&l===1?s=!1:DB(i,e,n):(s=!e.$stable,NB(e,i)),a=e}else e&&(MB(t,e),a={default:1});if(s)for(const l in i)!OB(l)&&a[l]==null&&delete i[l]},"updateSlots"),ri=Zre;function Dre(t){return Pre(t)}o(Dre,"createRenderer");function Pre(t,e){const n=pE();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:a,createText:l,createComment:u,setText:c,setElementText:f,parentNode:h,nextSibling:d,setScopeId:p=ao,insertStaticContent:m}=t,y=o((L,U,B,K=null,J=null,Q=null,ie=void 0,D=null,$=!!U.dynamicChildren)=>{if(L===U)return;L&&!ta(L,U)&&(K=Dt(L),ge(L,J,Q,!0),L=null),U.patchFlag===-2&&($=!1,U.dynamicChildren=null);const{type:F,ref:re,shapeFlag:ae}=U;switch(F){case xE:_(L,U,B,K);break;case fr:b(L,U,B,K);break;case wg:L==null&&S(U,B,K,ie);break;case cr:I(L,U,B,K,J,Q,ie,D,$);break;default:ae&1?C(L,U,B,K,J,Q,ie,D,$):ae&6?M(L,U,B,K,J,Q,ie,D,$):(ae&64||ae&128)&&F.process(L,U,B,K,J,Q,ie,D,$,Fn)}re!=null&&J&&Gb(re,L&&L.ref,Q,U||L,!U)},"patch"),_=o((L,U,B,K)=>{if(L==null)r(U.el=l(U.children),B,K);else{const J=U.el=L.el;U.children!==L.children&&c(J,U.children)}},"processText"),b=o((L,U,B,K)=>{L==null?r(U.el=u(U.children||""),B,K):U.el=L.el},"processCommentNode"),S=o((L,U,B,K)=>{[L.el,L.anchor]=m(L.children,U,B,K,L.el,L.anchor)},"mountStaticNode"),v=o(({el:L,anchor:U},B,K)=>{let J;for(;L&&L!==U;)J=d(L),r(L,B,K),L=J;r(U,B,K)},"moveStaticNode"),k=o(({el:L,anchor:U})=>{let B;for(;L&&L!==U;)B=d(L),i(L),L=B;i(U)},"removeStaticNode"),C=o((L,U,B,K,J,Q,ie,D,$)=>{U.type==="svg"?ie="svg":U.type==="math"&&(ie="mathml"),L==null?R(U,B,K,J,Q,ie,D,$):T(L,U,J,Q,ie,D,$)},"processElement"),R=o((L,U,B,K,J,Q,ie,D)=>{let $,F;const{props:re,shapeFlag:ae,transition:he,dirs:_e}=L;if($=L.el=a(L.type,Q,re&&re.is,re),ae&8?f($,L.children):ae&16&&E(L.children,$,null,K,J,T2(L,Q),ie,D),_e&&Sc(L,null,K,"created"),x($,L,L.scopeId,ie,K),re){for(const mt in re)mt!=="value"&&!pg(mt)&&s($,mt,null,re[mt],Q,K);"value"in re&&s($,"value",null,re.value,Q),(F=re.onVnodeBeforeMount)&&Po(F,K,L)}_e&&Sc(L,null,K,"beforeMount");const Ie=$re(J,he);Ie&&he.beforeEnter($),r($,U,B),((F=re&&re.onVnodeMounted)||Ie||_e)&&ri(()=>{F&&Po(F,K,L),Ie&&he.enter($),_e&&Sc(L,null,K,"mounted")},J)},"mountElement"),x=o((L,U,B,K,J)=>{if(B&&p(L,B),K)for(let Q=0;Q<K.length;Q++)p(L,K[Q]);if(J){let Q=J.subTree;if(U===Q||UB(Q.type)&&(Q.ssContent===U||Q.ssFallback===U)){const ie=J.vnode;x(L,ie,ie.scopeId,ie.slotScopeIds,J.parent)}}},"setScopeId"),E=o((L,U,B,K,J,Q,ie,D,$=0)=>{for(let F=$;F<L.length;F++){const re=L[F]=D?su(L[F]):Ks(L[F]);y(null,re,U,B,K,J,Q,ie,D)}},"mountChildren"),T=o((L,U,B,K,J,Q,ie)=>{const D=U.el=L.el;let{patchFlag:$,dynamicChildren:F,dirs:re}=U;$|=L.patchFlag&16;const ae=L.props||Tt,he=U.props||Tt;let _e;if(B&&kc(B,!1),(_e=he.onVnodeBeforeUpdate)&&Po(_e,B,U,L),re&&Sc(U,L,B,"beforeUpdate"),B&&kc(B,!0),(ae.innerHTML&&he.innerHTML==null||ae.textContent&&he.textContent==null)&&f(D,""),F?O(L.dynamicChildren,F,D,B,K,T2(U,J),Q):ie||te(L,U,D,null,B,K,T2(U,J),Q,!1),$>0){if($&16)N(D,ae,he,B,J);else if($&2&&ae.class!==he.class&&s(D,"class",null,he.class,J),$&4&&s(D,"style",ae.style,he.style,J),$&8){const Ie=U.dynamicProps;for(let mt=0;mt<Ie.length;mt++){const ft=Ie[mt],Bn=ae[ft],Nn=he[ft];(Nn!==Bn||ft==="value")&&s(D,ft,Bn,Nn,J,B)}}$&1&&L.children!==U.children&&f(D,U.children)}else!ie&&F==null&&N(D,ae,he,B,J);((_e=he.onVnodeUpdated)||re)&&ri(()=>{_e&&Po(_e,B,U,L),re&&Sc(U,L,B,"updated")},K)},"patchElement"),O=o((L,U,B,K,J,Q,ie)=>{for(let D=0;D<U.length;D++){const $=L[D],F=U[D],re=$.el&&($.type===cr||!ta($,F)||$.shapeFlag&70)?h($.el):B;y($,F,re,null,K,J,Q,ie,!0)}},"patchBlockChildren"),N=o((L,U,B,K,J)=>{if(U!==B){if(U!==Tt)for(const Q in U)!pg(Q)&&!(Q in B)&&s(L,Q,U[Q],null,J,K);for(const Q in B){if(pg(Q))continue;const ie=B[Q],D=U[Q];ie!==D&&Q!=="value"&&s(L,Q,D,ie,J,K)}"value"in B&&s(L,"value",U.value,B.value,J)}},"patchProps"),I=o((L,U,B,K,J,Q,ie,D,$)=>{const F=U.el=L?L.el:l(""),re=U.anchor=L?L.anchor:l("");let{patchFlag:ae,dynamicChildren:he,slotScopeIds:_e}=U;_e&&(D=D?D.concat(_e):_e),L==null?(r(F,B,K),r(re,B,K),E(U.children||[],B,re,J,Q,ie,D,$)):ae>0&&ae&64&&he&&L.dynamicChildren?(O(L.dynamicChildren,he,B,J,Q,ie,D),(U.key!=null||J&&U===J.subTree)&&TI(L,U,!0)):te(L,U,B,re,J,Q,ie,D,$)},"processFragment"),M=o((L,U,B,K,J,Q,ie,D,$)=>{U.slotScopeIds=D,L==null?U.shapeFlag&512?J.ctx.activate(U,B,K,ie,$):V(U,B,K,J,Q,ie,$):j(L,U,$)},"processComponent"),V=o((L,U,B,K,J,Q,ie)=>{const D=L.component=sie(L,K,J);if(gy(L)&&(D.ctx.renderer=Fn),oie(D,!1,ie),D.asyncDep){if(J&&J.registerDep(D,H,ie),!L.el){const $=D.subTree=An(fr);b(null,$,U,B)}}else H(D,L,U,B,J,Q,ie)},"mountComponent"),j=o((L,U,B)=>{const K=U.component=L.component;if(Gre(L,U,B))if(K.asyncDep&&!K.asyncResolved){q(K,U,B);return}else K.next=U,K.update();else U.el=L.el,K.vnode=U},"updateComponent"),H=o((L,U,B,K,J,Q,ie)=>{const D=o(()=>{if(L.isMounted){let{next:ae,bu:he,u:_e,parent:Ie,vnode:mt}=L;{const Mn=PB(L);if(Mn){ae&&(ae.el=mt.el,q(L,ae,ie)),Mn.asyncDep.then(()=>{L.isUnmounted||D()});return}}let ft=ae,Bn;kc(L,!1),ae?(ae.el=mt.el,q(L,ae,ie)):ae=mt,he&&J_(he),(Bn=ae.props&&ae.props.onVnodeBeforeUpdate)&&Po(Bn,Ie,ae,mt),kc(L,!0);const Nn=S2(L),vn=L.subTree;L.subTree=Nn,y(vn,Nn,h(vn.el),Dt(vn),L,J,Q),ae.el=Nn.el,ft===null&&SI(L,Nn.el),_e&&ri(_e,J),(Bn=ae.props&&ae.props.onVnodeUpdated)&&ri(()=>Po(Bn,Ie,ae,mt),J)}else{let ae;const{el:he,props:_e}=U,{bm:Ie,m:mt,parent:ft,root:Bn,type:Nn}=L,vn=xd(U);if(kc(L,!1),Ie&&J_(Ie),!vn&&(ae=_e&&_e.onVnodeBeforeMount)&&Po(ae,ft,U),kc(L,!0),he&&er){const Mn=o(()=>{L.subTree=S2(L),er(he,L.subTree,L,J,null)},"hydrateSubTree");vn&&Nn.__asyncHydrate?Nn.__asyncHydrate(he,L,Mn):Mn()}else{Bn.ce&&Bn.ce._injectChildStyle(Nn);const Mn=L.subTree=S2(L);y(null,Mn,B,K,L,J,Q),U.el=Mn.el}if(mt&&ri(mt,J),!vn&&(ae=_e&&_e.onVnodeMounted)){const Mn=U;ri(()=>Po(ae,ft,Mn),J)}(U.shapeFlag&256||ft&&xd(ft.vnode)&&ft.vnode.shapeFlag&256)&&L.a&&ri(L.a,J),L.isMounted=!0,U=B=K=null}},"componentUpdateFn");L.scope.on();const $=L.effect=new B5(D);L.scope.off();const F=L.update=$.run.bind($),re=L.job=$.runIfDirty.bind($);re.i=L,re.id=L.uid,$.scheduler=()=>mI(re),kc(L,!0),F()},"setupRenderEffect"),q=o((L,U,B)=>{U.component=L;const K=L.vnode.props;L.vnode=U,L.next=null,Ire(L,U.props,K,B),Mre(L,U.children,B),sc(),oD(L),oc()},"updateComponentPreRender"),te=o((L,U,B,K,J,Q,ie,D,$=!1)=>{const F=L&&L.children,re=L?L.shapeFlag:0,ae=U.children,{patchFlag:he,shapeFlag:_e}=U;if(he>0){if(he&128){ue(F,ae,B,K,J,Q,ie,D,$);return}else if(he&256){Z(F,ae,B,K,J,Q,ie,D,$);return}}_e&8?(re&16&&Ge(F,J,Q),ae!==F&&f(B,ae)):re&16?_e&16?ue(F,ae,B,K,J,Q,ie,D,$):Ge(F,J,Q,!0):(re&8&&f(B,""),_e&16&&E(ae,B,K,J,Q,ie,D,$))},"patchChildren"),Z=o((L,U,B,K,J,Q,ie,D,$)=>{L=L||bd,U=U||bd;const F=L.length,re=U.length,ae=Math.min(F,re);let he;for(he=0;he<ae;he++){const _e=U[he]=$?su(U[he]):Ks(U[he]);y(L[he],_e,B,null,J,Q,ie,D,$)}F>re?Ge(L,J,Q,!0,!1,ae):E(U,B,K,J,Q,ie,D,$,ae)},"patchUnkeyedChildren"),ue=o((L,U,B,K,J,Q,ie,D,$)=>{let F=0;const re=U.length;let ae=L.length-1,he=re-1;for(;F<=ae&&F<=he;){const _e=L[F],Ie=U[F]=$?su(U[F]):Ks(U[F]);if(ta(_e,Ie))y(_e,Ie,B,null,J,Q,ie,D,$);else break;F++}for(;F<=ae&&F<=he;){const _e=L[ae],Ie=U[he]=$?su(U[he]):Ks(U[he]);if(ta(_e,Ie))y(_e,Ie,B,null,J,Q,ie,D,$);else break;ae--,he--}if(F>ae){if(F<=he){const _e=he+1,Ie=_e<re?U[_e].el:K;for(;F<=he;)y(null,U[F]=$?su(U[F]):Ks(U[F]),B,Ie,J,Q,ie,D,$),F++}}else if(F>he)for(;F<=ae;)ge(L[F],J,Q,!0),F++;else{const _e=F,Ie=F,mt=new Map;for(F=Ie;F<=he;F++){const Hn=U[F]=$?su(U[F]):Ks(U[F]);Hn.key!=null&&mt.set(Hn.key,F)}let ft,Bn=0;const Nn=he-Ie+1;let vn=!1,Mn=0;const tr=new Array(Nn);for(F=0;F<Nn;F++)tr[F]=0;for(F=_e;F<=ae;F++){const Hn=L[F];if(Bn>=Nn){ge(Hn,J,Q,!0);continue}let Or;if(Hn.key!=null)Or=mt.get(Hn.key);else for(ft=Ie;ft<=he;ft++)if(tr[ft-Ie]===0&&ta(Hn,U[ft])){Or=ft;break}Or===void 0?ge(Hn,J,Q,!0):(tr[Or-Ie]=F+1,Or>=Mn?Mn=Or:vn=!0,y(Hn,U[Or],B,null,J,Q,ie,D,$),Bn++)}const Vi=vn?Lre(tr):bd;for(ft=Vi.length-1,F=Nn-1;F>=0;F--){const Hn=Ie+F,Or=U[Hn],zl=Hn+1<re?U[Hn+1].el:K;tr[F]===0?y(null,Or,B,zl,J,Q,ie,D,$):vn&&(ft<0||F!==Vi[ft]?ce(Or,B,zl,2):ft--)}}},"patchKeyedChildren"),ce=o((L,U,B,K,J=null)=>{const{el:Q,type:ie,transition:D,children:$,shapeFlag:F}=L;if(F&6){ce(L.component.subTree,U,B,K);return}if(F&128){L.suspense.move(U,B,K);return}if(F&64){ie.move(L,U,B,Fn);return}if(ie===cr){r(Q,U,B);for(let ae=0;ae<$.length;ae++)ce($[ae],U,B,K);r(L.anchor,U,B);return}if(ie===wg){v(L,U,B);return}if(K!==2&&F&1&&D)if(K===0)D.beforeEnter(Q),r(Q,U,B),ri(()=>D.enter(Q),J);else{const{leave:ae,delayLeave:he,afterLeave:_e}=D,Ie=o(()=>r(Q,U,B),"remove22"),mt=o(()=>{ae(Q,()=>{Ie(),_e&&_e()})},"performLeave");he?he(Q,Ie,mt):mt()}else r(Q,U,B)},"move"),ge=o((L,U,B,K=!1,J=!1)=>{const{type:Q,props:ie,ref:D,children:$,dynamicChildren:F,shapeFlag:re,patchFlag:ae,dirs:he,cacheIndex:_e}=L;if(ae===-2&&(J=!1),D!=null&&Gb(D,null,B,L,!0),_e!=null&&(U.renderCache[_e]=void 0),re&256){U.ctx.deactivate(L);return}const Ie=re&1&&he,mt=!xd(L);let ft;if(mt&&(ft=ie&&ie.onVnodeBeforeUnmount)&&Po(ft,U,L),re&6)Oe(L.component,B,K);else{if(re&128){L.suspense.unmount(B,K);return}Ie&&Sc(L,null,U,"beforeUnmount"),re&64?L.type.remove(L,U,B,Fn,K):F&&!F.hasOnce&&(Q!==cr||ae>0&&ae&64)?Ge(F,U,B,!1,!0):(Q===cr&&ae&384||!J&&re&16)&&Ge($,U,B),K&&Te(L)}(mt&&(ft=ie&&ie.onVnodeUnmounted)||Ie)&&ri(()=>{ft&&Po(ft,U,L),Ie&&Sc(L,null,U,"unmounted")},B)},"unmount"),Te=o(L=>{const{type:U,el:B,anchor:K,transition:J}=L;if(U===cr){Ct(B,K);return}if(U===wg){k(L);return}const Q=o(()=>{i(B),J&&!J.persisted&&J.afterLeave&&J.afterLeave()},"performRemove");if(L.shapeFlag&1&&J&&!J.persisted){const{leave:ie,delayLeave:D}=J,$=o(()=>ie(B,Q),"performLeave");D?D(L.el,Q,$):$()}else Q()},"remove2"),Ct=o((L,U)=>{let B;for(;L!==U;)B=d(L),i(L),L=B;i(U)},"removeFragment"),Oe=o((L,U,B)=>{const{bum:K,scope:J,job:Q,subTree:ie,um:D,m:$,a:F}=L;yD($),yD(F),K&&J_(K),J.stop(),Q&&(Q.flags|=8,ge(ie,L,U,B)),D&&ri(D,U),ri(()=>{L.isUnmounted=!0},U),U&&U.pendingBranch&&!U.isUnmounted&&L.asyncDep&&!L.asyncResolved&&L.suspenseId===U.pendingId&&(U.deps--,U.deps===0&&U.resolve())},"unmountComponent"),Ge=o((L,U,B,K=!1,J=!1,Q=0)=>{for(let ie=Q;ie<L.length;ie++)ge(L[ie],U,B,K,J)},"unmountChildren"),Dt=o(L=>{if(L.shapeFlag&6)return Dt(L.component.subTree);if(L.shapeFlag&128)return L.suspense.next();const U=d(L.anchor||L.el),B=U&&U[uB];return B?d(B):U},"getNextHostNode");let Jr=!1;const Ci=o((L,U,B)=>{L==null?U._vnode&&ge(U._vnode,null,null,!0):y(U._vnode||null,L,U,null,null,null,B),U._vnode=L,Jr||(Jr=!0,oD(),oB(),Jr=!1)},"render"),Fn={p:y,um:ge,m:ce,r:Te,mt:V,mc:E,pc:te,pbc:O,n:Dt,o:t};let Zr,er;return{render:Ci,hydrate:Zr,createApp:Are(Ci,Zr)}}o(Pre,"baseCreateRenderer");function T2({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}o(T2,"resolveChildrenNamespace");function kc({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}o(kc,"toggleRecurse");function $re(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}o($re,"needTransition");function TI(t,e,n=!1){const r=t.children,i=e.children;if($e(r)&&$e(i))for(let s=0;s<r.length;s++){const a=r[s];let l=i[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[s]=su(i[s]),l.el=a.el),!n&&l.patchFlag!==-2&&TI(a,l)),l.type===xE&&(l.el=a.el)}}o(TI,"traverseStaticChildren");function Lre(t){const e=t.slice(),n=[0];let r,i,s,a,l;const u=t.length;for(r=0;r<u;r++){const c=t[r];if(c!==0){if(i=n[n.length-1],t[i]<c){e[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)l=s+a>>1,t[n[l]]<c?s=l+1:a=l;c<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=e[a];return n}o(Lre,"getSequence");function PB(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:PB(e)}o(PB,"locateNonHydratedAsyncRoot");function yD(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}o(yD,"invalidateMount");const Fre=Symbol.for("v-scx"),Bre=o(()=>Td(Fre),"useSSRContext");function $B(t,e){return vE(t,null,e)}o($B,"watchEffect");function Ure(t,e){return vE(t,null,{flush:"sync"})}o(Ure,"watchSyncEffect");function Zt(t,e,n){return vE(t,e,n)}o(Zt,"watch");function vE(t,e,n=Tt){const{immediate:r,deep:i,flush:s,once:a}=n,l=On({},n),u=e&&r||!e&&s!=="post";let c;if(Jd){if(s==="sync"){const p=Bre();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!u){const p=o(()=>{},"watchStopHandle");return p.stop=ao,p.resume=ao,p.pause=ao,p}}const f=qn;l.call=(p,m,y)=>vo(p,f,m,y);let h=!1;s==="post"?l.scheduler=p=>{ri(p,f&&f.suspense)}:s!=="sync"&&(h=!0,l.scheduler=(p,m)=>{m?p():mI(p)}),l.augmentJob=p=>{e&&(p.flags|=4),h&&(p.flags|=2,f&&(p.id=f.uid,p.i=f))};const d=nre(t,e,l);return Jd&&(c?c.push(d):u&&d()),d}o(vE,"doWatch");function zre(t,e,n){const r=this.proxy,i=dn(t)?t.includes(".")?LB(r,t):()=>r[t]:t.bind(r,r);let s;Fe(e)?s=e:(s=e.handler,n=e);const a=yy(this),l=vE(i,s.bind(r),n);return a(),l}o(zre,"instanceWatch");function LB(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}o(LB,"createPathGetter");function W9e(t,e,n=Tt){const r=Ui(),i=gi(e),s=Ml(e),a=FB(t,i),l=_E((u,c)=>{let f,h=Tt,d;return Ure(()=>{const p=t[i];Ri(f,p)&&(f=p,c())}),{get(){return u(),n.get?n.get(f):f},set(p){const m=n.set?n.set(p):p;if(!Ri(m,f)&&!(h!==Tt&&Ri(p,h)))return;const y=r.vnode.props;y&&(e in y||i in y||s in y)&&(`onUpdate:${e}`in y||`onUpdate:${i}`in y||`onUpdate:${s}`in y)||(f=p,c()),r.emit(`update:${e}`,m),Ri(p,m)&&Ri(p,h)&&!Ri(m,d)&&c(),h=p,d=m}}});return l[Symbol.iterator]=()=>{let u=0;return{next(){return u<2?{value:u++?a||Tt:l,done:!1}:{done:!0}}}},l}o(W9e,"useModel");const FB=o((t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${gi(e)}Modifiers`]||t[`${Ml(e)}Modifiers`],"getModelModifiers");function Vre(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Tt;let i=n;const s=e.startsWith("update:"),a=s&&FB(r,e.slice(7));a&&(a.trim&&(i=n.map(f=>dn(f)?f.trim():f)),a.number&&(i=n.map(GS)));let l,u=r[l=mg(e)]||r[l=mg(gi(e))];!u&&s&&(u=r[l=mg(Ml(e))]),u&&vo(u,t,6,i);const c=r[l+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,vo(c,t,6,i)}}o(Vre,"emit");function BB(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let a={},l=!1;if(!Fe(t)){const u=o(c=>{const f=BB(c,e,!0);f&&(l=!0,On(a,f))},"extendEmits");!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!s&&!l?(Qt(t)&&r.set(t,null),null):($e(s)?s.forEach(u=>a[u]=null):On(a,s),Qt(t)&&r.set(t,a),a)}o(BB,"normalizeEmitsOptions");function EE(t,e){return!t||!cE(e)?!1:(e=e.slice(2).replace(/Once$/,""),It(t,e[0].toLowerCase()+e.slice(1))||It(t,Ml(e))||It(t,e))}o(EE,"isEmitListener");function S2(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:a,attrs:l,emit:u,render:c,renderCache:f,props:h,data:d,setupState:p,ctx:m,inheritAttrs:y}=t,_=Hb(t);let b,S;try{if(n.shapeFlag&4){const k=i||r,C=k;b=Ks(c.call(C,k,f,h,p,d,m)),S=l}else{const k=e;b=Ks(k.length>1?k(h,{attrs:l,slots:a,emit:u}):k(h,null)),S=e.props?l:Wre(l)}}catch(k){vg.length=0,Pp(k,t,1),b=An(fr)}let v=b;if(S&&y!==!1){const k=Object.keys(S),{shapeFlag:C}=v;k.length&&C&7&&(s&&k.some(oI)&&(S=Hre(S,s)),v=vl(v,S,!1,!0))}return n.dirs&&(v=vl(v,null,!1,!0),v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&wf(v,n.transition),b=v,Hb(_),b}o(S2,"renderComponentRoot");function jre(t,e=!0){let n;for(let r=0;r<t.length;r++){const i=t[r];if(Xd(i)){if(i.type!==fr||i.children==="v-if"){if(n)return;n=i}}else return}return n}o(jre,"filterSingleRoot");const Wre=o(t=>{let e;for(const n in t)(n==="class"||n==="style"||cE(n))&&((e||(e={}))[n]=t[n]);return e},"getFunctionalFallthrough"),Hre=o((t,e)=>{const n={};for(const r in t)(!oI(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n},"filterModelListeners");function Gre(t,e,n){const{props:r,children:i,component:s}=t,{props:a,children:l,patchFlag:u}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?_D(r,a,c):!!a;if(u&8){const f=e.dynamicProps;for(let h=0;h<f.length;h++){const d=f[h];if(a[d]!==r[d]&&!EE(c,d))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:r===a?!1:r?a?_D(r,a,c):!0:!!a;return!1}o(Gre,"shouldUpdateComponent");function _D(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!EE(n,s))return!0}return!1}o(_D,"hasPropsChanged");function SI({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}o(SI,"updateHOCHostEl");const UB=o(t=>t.__isSuspense,"isSuspense");let nk=0;const qre={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,a,l,u,c){if(t==null)Kre(e,n,r,i,s,a,l,u,c);else{if(s&&s.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}Yre(t,e,n,r,i,a,l,u,c)}},hydrate:Xre,normalize:Jre},H9e=qre;function l0(t,e){const n=t.props&&t.props[e];Fe(n)&&n()}o(l0,"triggerEvent");function Kre(t,e,n,r,i,s,a,l,u){const{p:c,o:{createElement:f}}=u,h=f("div"),d=t.suspense=zB(t,i,r,e,h,n,s,a,l,u);c(null,d.pendingBranch=t.ssContent,h,null,r,d,s,a),d.deps>0?(l0(t,"onPending"),l0(t,"onFallback"),c(null,t.ssFallback,e,n,r,null,s,a),Sd(d,t.ssFallback)):d.resolve(!1,!0)}o(Kre,"mountSuspense");function Yre(t,e,n,r,i,s,a,l,{p:u,um:c,o:{createElement:f}}){const h=e.suspense=t.suspense;h.vnode=e,e.el=t.el;const d=e.ssContent,p=e.ssFallback,{activeBranch:m,pendingBranch:y,isInFallback:_,isHydrating:b}=h;if(y)h.pendingBranch=d,ta(d,y)?(u(y,d,h.hiddenContainer,null,i,h,s,a,l),h.deps<=0?h.resolve():_&&(b||(u(m,p,n,r,i,null,s,a,l),Sd(h,p)))):(h.pendingId=nk++,b?(h.isHydrating=!1,h.activeBranch=y):c(y,i,h),h.deps=0,h.effects.length=0,h.hiddenContainer=f("div"),_?(u(null,d,h.hiddenContainer,null,i,h,s,a,l),h.deps<=0?h.resolve():(u(m,p,n,r,i,null,s,a,l),Sd(h,p))):m&&ta(d,m)?(u(m,d,n,r,i,h,s,a,l),h.resolve(!0)):(u(null,d,h.hiddenContainer,null,i,h,s,a,l),h.deps<=0&&h.resolve()));else if(m&&ta(d,m))u(m,d,n,r,i,h,s,a,l),Sd(h,d);else if(l0(e,"onPending"),h.pendingBranch=d,d.shapeFlag&512?h.pendingId=d.component.suspenseId:h.pendingId=nk++,u(null,d,h.hiddenContainer,null,i,h,s,a,l),h.deps<=0)h.resolve();else{const{timeout:S,pendingId:v}=h;S>0?setTimeout(()=>{h.pendingId===v&&h.fallback(p)},S):S===0&&h.fallback(p)}}o(Yre,"patchSuspense");function zB(t,e,n,r,i,s,a,l,u,c,f=!1){const{p:h,m:d,um:p,n:m,o:{parentNode:y,remove:_}}=c;let b;const S=Qre(t);S&&e&&e.pendingBranch&&(b=e.pendingId,e.deps++);const v=t.props?M5(t.props.timeout):void 0,k=s,C={vnode:t,parent:e,parentComponent:n,namespace:a,container:r,hiddenContainer:i,deps:0,pendingId:nk++,timeout:typeof v=="number"?v:-1,activeBranch:null,pendingBranch:null,isInFallback:!f,isHydrating:f,isUnmounted:!1,effects:[],resolve(R=!1,x=!1){const{vnode:E,activeBranch:T,pendingBranch:O,pendingId:N,effects:I,parentComponent:M,container:V}=C;let j=!1;C.isHydrating?C.isHydrating=!1:R||(j=T&&O.transition&&O.transition.mode==="out-in",j&&(T.transition.afterLeave=()=>{N===C.pendingId&&(d(O,V,s===k?m(T):s,0),Wb(I))}),T&&(y(T.el)===V&&(s=m(T)),p(T,M,C,!0)),j||d(O,V,s,0)),Sd(C,O),C.pendingBranch=null,C.isInFallback=!1;let H=C.parent,q=!1;for(;H;){if(H.pendingBranch){H.effects.push(...I),q=!0;break}H=H.parent}!q&&!j&&Wb(I),C.effects=[],S&&e&&e.pendingBranch&&b===e.pendingId&&(e.deps--,e.deps===0&&!x&&e.resolve()),l0(E,"onResolve")},fallback(R){if(!C.pendingBranch)return;const{vnode:x,activeBranch:E,parentComponent:T,container:O,namespace:N}=C;l0(x,"onFallback");const I=m(E),M=o(()=>{C.isInFallback&&(h(null,R,O,I,T,null,N,l,u),Sd(C,R))},"mountFallback"),V=R.transition&&R.transition.mode==="out-in";V&&(E.transition.afterLeave=M),C.isInFallback=!0,p(E,T,null,!0),V||M()},move(R,x,E){C.activeBranch&&d(C.activeBranch,R,x,E),C.container=R},next(){return C.activeBranch&&m(C.activeBranch)},registerDep(R,x,E){const T=!!C.pendingBranch;T&&C.deps++;const O=R.vnode.el;R.asyncDep.catch(N=>{Pp(N,R,0)}).then(N=>{if(R.isUnmounted||C.isUnmounted||C.pendingId!==R.suspenseId)return;R.asyncResolved=!0;const{vnode:I}=R;ik(R,N,!1),O&&(I.el=O);const M=!O&&R.subTree.el;x(R,I,y(O||R.subTree.el),O?null:m(R.subTree),C,a,E),M&&_(M),SI(R,I.el),T&&--C.deps===0&&C.resolve()})},unmount(R,x){C.isUnmounted=!0,C.activeBranch&&p(C.activeBranch,n,R,x),C.pendingBranch&&p(C.pendingBranch,n,R,x)}};return C}o(zB,"createSuspenseBoundary");function Xre(t,e,n,r,i,s,a,l,u){const c=e.suspense=zB(e,r,n,t.parentNode,document.createElement("div"),null,i,s,a,l,!0),f=u(t,c.pendingBranch=e.ssContent,n,c,s,a);return c.deps===0&&c.resolve(!1,!0),f}o(Xre,"hydrateSuspense");function Jre(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=bD(r?n.default:n),t.ssFallback=r?bD(n.fallback):An(fr)}o(Jre,"normalizeSuspenseChildren");function bD(t){let e;if(Fe(t)){const n=Yd&&t._c;n&&(t._d=!1,Un()),t=t(),n&&(t._d=!0,e=Ni,VB())}return $e(t)&&(t=jre(t)),t=Ks(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}o(bD,"normalizeSuspenseSlot");function Zre(t,e){e&&e.pendingBranch?$e(t)?e.effects.push(...t):e.effects.push(t):Wb(t)}o(Zre,"queueEffectWithSuspense");function Sd(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,SI(r,i))}o(Sd,"setActiveBranch");function Qre(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}o(Qre,"isVNodeSuspensible");const cr=Symbol.for("v-fgt"),xE=Symbol.for("v-txt"),fr=Symbol.for("v-cmt"),wg=Symbol.for("v-stc"),vg=[];let Ni=null;function Un(t=!1){vg.push(Ni=t?null:[])}o(Un,"openBlock");function VB(){vg.pop(),Ni=vg[vg.length-1]||null}o(VB,"closeBlock");let Yd=1;function wD(t,e=!1){Yd+=t,t<0&&Ni&&e&&(Ni.hasOnce=!0)}o(wD,"setBlockTracking");function jB(t){return t.dynamicChildren=Yd>0?Ni||bd:null,VB(),Yd>0&&Ni&&Ni.push(t),t}o(jB,"setupBlock");function vD(t,e,n,r,i,s){return jB(HB(t,e,n,r,i,s,!0))}o(vD,"createElementBlock");function Ar(t,e,n,r,i){return jB(An(t,e,n,r,i,!0))}o(Ar,"createBlock");function Xd(t){return t?t.__v_isVNode===!0:!1}o(Xd,"isVNode");function ta(t,e){return t.type===e.type&&t.key===e.key}o(ta,"isSameVNodeType");const WB=o(({key:t})=>t??null,"normalizeKey"),Q_=o(({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?dn(t)||an(t)||Fe(t)?{i:Kn,r:t,k:e,f:!!n}:t:null),"normalizeRef");function HB(t,e=null,n=null,r=0,i=null,s=t===cr?0:1,a=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&WB(e),ref:e&&Q_(e),scopeId:lB,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Kn};return l?(kI(u,n),s&128&&t.normalize(u)):n&&(u.shapeFlag|=dn(n)?8:16),Yd>0&&!a&&Ni&&(u.patchFlag>0||s&6)&&u.patchFlag!==32&&Ni.push(u),u}o(HB,"createBaseVNode");const An=eie;function eie(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===vB)&&(t=fr),Xd(t)){const l=vl(t,e,!0);return n&&kI(l,n),Yd>0&&!s&&Ni&&(l.shapeFlag&6?Ni[Ni.indexOf(t)]=l:Ni.push(l)),l.patchFlag=-2,l}if(cie(t)&&(t=t.__vccOpts),e){e=tie(e);let{class:l,style:u}=e;l&&!dn(l)&&(e.class=mE(l)),Qt(u)&&(pI(u)&&!$e(u)&&(u=On({},u)),e.style=Qf(u))}const a=dn(t)?1:UB(t)?128:cB(t)?64:Qt(t)?4:Fe(t)?2:0;return HB(t,e,n,r,i,a,s,!0)}o(eie,"_createVNode");function tie(t){return t?pI(t)||CB(t)?On({},t):t:null}o(tie,"guardReactiveProps");function vl(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:a,children:l,transition:u}=t,c=e?El(i||{},e):i,f={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&WB(c),ref:e&&e.ref?n&&s?$e(s)?s.concat(Q_(e)):[s,Q_(e)]:Q_(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==cr?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&vl(t.ssContent),ssFallback:t.ssFallback&&vl(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&r&&wf(f,u.clone(f)),f}o(vl,"cloneVNode");function nie(t=" ",e=0){return An(xE,null,t,e)}o(nie,"createTextVNode");function G9e(t,e){const n=An(wg,null,t);return n.staticCount=e,n}o(G9e,"createStaticVNode");function GB(t="",e=!1){return e?(Un(),Ar(fr,null,t)):An(fr,null,t)}o(GB,"createCommentVNode");function Ks(t){return t==null||typeof t=="boolean"?An(fr):$e(t)?An(cr,null,t.slice()):Xd(t)?su(t):An(xE,null,String(t))}o(Ks,"normalizeVNode");function su(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:vl(t)}o(su,"cloneIfMounted");function kI(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if($e(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),kI(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!CB(e)?e._ctx=Kn:i===3&&Kn&&(Kn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Fe(e)?(e={default:e,_ctx:Kn},n=32):(e=String(e),r&64?(n=16,e=[nie(e)]):n=8);t.children=e,t.shapeFlag|=n}o(kI,"normalizeChildren");function El(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=mE([e.class,r.class]));else if(i==="style")e.style=Qf([e.style,r.style]);else if(cE(i)){const s=e[i],a=r[i];a&&s!==a&&!($e(s)&&s.includes(a))&&(e[i]=s?[].concat(s,a):a)}else i!==""&&(e[i]=r[i])}return e}o(El,"mergeProps");function Po(t,e,n,r=null){vo(t,e,7,[n,r])}o(Po,"invokeVNodeHook");const rie=SB();let iie=0;function sie(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||rie,s={uid:iie++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new L5(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:RB(r,i),emitsOptions:BB(r,i),emit:null,emitted:null,propsDefaults:Tt,inheritAttrs:r.inheritAttrs,ctx:Tt,data:Tt,props:Tt,attrs:Tt,slots:Tt,refs:Tt,setupState:Tt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Vre.bind(null,s),t.ce&&t.ce(s),s}o(sie,"createComponentInstance");let qn=null;const Ui=o(()=>qn||Kn,"getCurrentInstance");let Yb,rk;{const t=pE(),e=o((n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(a=>a(s)):i[0](s)}},"registerGlobalSetter");Yb=e("__VUE_INSTANCE_SETTERS__",n=>qn=n),rk=e("__VUE_SSR_SETTERS__",n=>Jd=n)}const yy=o(t=>{const e=qn;return Yb(t),t.scope.on(),()=>{t.scope.off(),Yb(e)}},"setCurrentInstance"),ED=o(()=>{qn&&qn.scope.off(),Yb(null)},"unsetCurrentInstance");function qB(t){return t.vnode.shapeFlag&4}o(qB,"isStatefulComponent");let Jd=!1;function oie(t,e=!1,n=!1){e&&rk(e);const{props:r,children:i}=t.vnode,s=qB(t);Cre(t,r,s,e),Nre(t,i,n);const a=s?aie(t,e):void 0;return e&&rk(!1),a}o(oie,"setupComponent");function aie(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,wre);const{setup:r}=n;if(r){sc();const i=t.setupContext=r.length>1?YB(t):null,s=yy(t),a=my(r,t,0,[t.props,i]),l=I5(a);if(oc(),s(),(l||t.sp)&&!xd(t)&&yI(t),l){if(a.then(ED,ED),e)return a.then(u=>{ik(t,u,e)}).catch(u=>{Pp(u,t,0)});t.asyncDep=a}else ik(t,a,e)}else KB(t,e)}o(aie,"setupStatefulComponent");function ik(t,e,n){Fe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Qt(e)&&(t.setupState=tB(e)),KB(t,n)}o(ik,"handleSetupResult");let xD;function KB(t,e,n){const r=t.type;if(!t.render){if(!e&&xD&&!r.render){const i=r.template||vI(t).template;if(i){const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:l,compilerOptions:u}=r,c=On(On({isCustomElement:s,delimiters:l},a),u);r.render=xD(i,c)}}t.render=r.render||ao}{const i=yy(t);sc();try{vre(t)}finally{oc(),i()}}}o(KB,"finishComponentSetup");const lie={get(t,e){return $r(t,"get",""),t[e]}};function YB(t){const e=o(n=>{t.exposed=n||{}},"expose");return{attrs:new Proxy(t.attrs,lie),slots:t.slots,emit:t.emit,expose:e}}o(YB,"createSetupContext");function TE(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(tB(Q5(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in bg)return bg[n](t)},has(e,n){return n in e||n in bg}})):t.proxy}o(TE,"getComponentPublicInstance");function uie(t,e=!0){return Fe(t)?t.displayName||t.name:t.name||e&&t.__name}o(uie,"getComponentName");function cie(t){return Fe(t)&&"__vccOpts"in t}o(cie,"isClassComponent");const We=o((t,e)=>ere(t,e,Jd),"computed");function kd(t,e,n){const r=arguments.length;return r===2?Qt(e)&&!$e(e)?Xd(e)?An(t,null,[e]):An(t,e):An(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Xd(n)&&(n=[n]),An(t,e,n))}o(kd,"h$2");const fie="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let sk;const TD=typeof window<"u"&&window.trustedTypes;if(TD)try{sk=TD.createPolicy("vue",{createHTML:o(t=>t,"createHTML")})}catch{}const XB=sk?t=>sk.createHTML(t):t=>t,hie="http://www.w3.org/2000/svg",die="http://www.w3.org/1998/Math/MathML",Qa=typeof document<"u"?document:null,SD=Qa&&Qa.createElement("template"),pie={insert:o((t,e,n)=>{e.insertBefore(t,n||null)},"insert"),remove:o(t=>{const e=t.parentNode;e&&e.removeChild(t)},"remove"),createElement:o((t,e,n,r)=>{const i=e==="svg"?Qa.createElementNS(hie,t):e==="mathml"?Qa.createElementNS(die,t):n?Qa.createElement(t,{is:n}):Qa.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},"createElement"),createText:o(t=>Qa.createTextNode(t),"createText"),createComment:o(t=>Qa.createComment(t),"createComment"),setText:o((t,e)=>{t.nodeValue=e},"setText"),setElementText:o((t,e)=>{t.textContent=e},"setElementText"),parentNode:o(t=>t.parentNode,"parentNode"),nextSibling:o(t=>t.nextSibling,"nextSibling"),querySelector:o(t=>Qa.querySelector(t),"querySelector"),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const a=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{SD.innerHTML=XB(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const l=SD.content;if(r==="svg"||r==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}e.insertBefore(l,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Gl="transition",vm="animation",Zd=Symbol("_vtc"),JB={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ZB=On({},pB,JB),mie=o(t=>(t.displayName="Transition",t.props=ZB,t),"decorate$1"),q9e=mie((t,{slots:e})=>kd(are,QB(t),e)),Ac=o((t,e=[])=>{$e(t)?t.forEach(n=>n(...e)):t&&t(...e)},"callHook"),kD=o(t=>t?$e(t)?t.some(e=>e.length>1):t.length>1:!1,"hasExplicitCallback");function QB(t){const e={};for(const I in t)I in JB||(e[I]=t[I]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:u=s,appearActiveClass:c=a,appearToClass:f=l,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,m=gie(i),y=m&&m[0],_=m&&m[1],{onBeforeEnter:b,onEnter:S,onEnterCancelled:v,onLeave:k,onLeaveCancelled:C,onBeforeAppear:R=b,onAppear:x=S,onAppearCancelled:E=v}=e,T=o((I,M,V,j)=>{I._enterCancelled=j,eu(I,M?f:l),eu(I,M?c:a),V&&V()},"finishEnter"),O=o((I,M)=>{I._isLeaving=!1,eu(I,h),eu(I,p),eu(I,d),M&&M()},"finishLeave"),N=o(I=>(M,V)=>{const j=I?x:S,H=o(()=>T(M,I,V),"resolve");Ac(j,[M,H]),AD(()=>{eu(M,I?u:s),Bo(M,I?f:l),kD(j)||CD(M,r,y,H)})},"makeEnterHook");return On(e,{onBeforeEnter(I){Ac(b,[I]),Bo(I,s),Bo(I,a)},onBeforeAppear(I){Ac(R,[I]),Bo(I,u),Bo(I,c)},onEnter:N(!1),onAppear:N(!0),onLeave(I,M){I._isLeaving=!0;const V=o(()=>O(I,M),"resolve");Bo(I,h),I._enterCancelled?(Bo(I,d),ok()):(ok(),Bo(I,d)),AD(()=>{I._isLeaving&&(eu(I,h),Bo(I,p),kD(k)||CD(I,r,_,V))}),Ac(k,[I,V])},onEnterCancelled(I){T(I,!1,void 0,!0),Ac(v,[I])},onAppearCancelled(I){T(I,!0,void 0,!0),Ac(E,[I])},onLeaveCancelled(I){O(I),Ac(C,[I])}})}o(QB,"resolveTransitionProps");function gie(t){if(t==null)return null;if(Qt(t))return[k2(t.enter),k2(t.leave)];{const e=k2(t);return[e,e]}}o(gie,"normalizeDuration");function k2(t){return M5(t)}o(k2,"NumberOf");function Bo(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Zd]||(t[Zd]=new Set)).add(e)}o(Bo,"addTransitionClass");function eu(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Zd];n&&(n.delete(e),n.size||(t[Zd]=void 0))}o(eu,"removeTransitionClass");function AD(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}o(AD,"nextFrame");let yie=0;function CD(t,e,n,r){const i=t._endId=++yie,s=o(()=>{i===t._endId&&r()},"resolveIfNotStale");if(n!=null)return setTimeout(s,n);const{type:a,timeout:l,propCount:u}=eU(t,e);if(!a)return r();const c=a+"end";let f=0;const h=o(()=>{t.removeEventListener(c,d),s()},"end"),d=o(p=>{p.target===t&&++f>=u&&h()},"onEnd");setTimeout(()=>{f<u&&h()},l+1),t.addEventListener(c,d)}o(CD,"whenTransitionEnds");function eU(t,e){const n=window.getComputedStyle(t),r=o(m=>(n[m]||"").split(", "),"getStyleProperties"),i=r(`${Gl}Delay`),s=r(`${Gl}Duration`),a=ID(i,s),l=r(`${vm}Delay`),u=r(`${vm}Duration`),c=ID(l,u);let f=null,h=0,d=0;e===Gl?a>0&&(f=Gl,h=a,d=s.length):e===vm?c>0&&(f=vm,h=c,d=u.length):(h=Math.max(a,c),f=h>0?a>c?Gl:vm:null,d=f?f===Gl?s.length:u.length:0);const p=f===Gl&&/\b(transform|all)(,|$)/.test(r(`${Gl}Property`).toString());return{type:f,timeout:h,propCount:d,hasTransform:p}}o(eU,"getTransitionInfo");function ID(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>RD(n)+RD(t[r])))}o(ID,"getTimeout");function RD(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}o(RD,"toMs");function ok(){return document.body.offsetHeight}o(ok,"forceReflow");function _ie(t,e,n){const r=t[Zd];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}o(_ie,"patchClass");const Xb=Symbol("_vod"),tU=Symbol("_vsh"),K9e={beforeMount(t,{value:e},{transition:n}){t[Xb]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Em(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Em(t,!0),r.enter(t)):r.leave(t,()=>{Em(t,!1)}):Em(t,e))},beforeUnmount(t,{value:e}){Em(t,e)}};function Em(t,e){t.style.display=e?t[Xb]:"none",t[tU]=!e}o(Em,"setDisplay");const nU=Symbol("");function Y9e(t){const e=Ui();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>Jb(s,i))},r=o(()=>{const i=t(e.proxy);e.ce?Jb(e.ce,i):ak(e.subTree,i),n(i)},"setVars");bB(()=>{Wb(r)}),ac(()=>{Zt(r,ao,{flush:"post"});const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),wE(()=>i.disconnect())})}o(Y9e,"useCssVars");function ak(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{ak(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Jb(t.el,e);else if(t.type===cr)t.children.forEach(n=>ak(n,e));else if(t.type===wg){let{el:n,anchor:r}=t;for(;n&&(Jb(n,e),n!==r);)n=n.nextSibling}}o(ak,"setVarsOnVNode");function Jb(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const i in e)n.setProperty(`--${i}`,e[i]),r+=`--${i}: ${e[i]};`;n[nU]=r}}o(Jb,"setVarsOnNode");const bie=/(^|;)\s*display\s*:/;function wie(t,e,n){const r=t.style,i=dn(n);let s=!1;if(n&&!i){if(e)if(dn(e))for(const a of e.split(";")){const l=a.slice(0,a.indexOf(":")).trim();n[l]==null&&eb(r,l,"")}else for(const a in e)n[a]==null&&eb(r,a,"");for(const a in n)a==="display"&&(s=!0),eb(r,a,n[a])}else if(i){if(e!==n){const a=r[nU];a&&(n+=";"+a),r.cssText=n,s=bie.test(n)}}else e&&t.removeAttribute("style");Xb in t&&(t[Xb]=s?r.display:"",t[tU]&&(r.display="none"))}o(wie,"patchStyle");const OD=/\s*!important$/;function eb(t,e,n){if($e(n))n.forEach(r=>eb(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=vie(t,e);OD.test(n)?t.setProperty(Ml(r),n.replace(OD,""),"important"):t[r]=n}}o(eb,"setStyle");const ND=["Webkit","Moz","ms"],A2={};function vie(t,e){const n=A2[e];if(n)return n;let r=gi(e);if(r!=="filter"&&r in t)return A2[e]=r;r=dE(r);for(let i=0;i<ND.length;i++){const s=ND[i]+r;if(s in t)return A2[e]=s}return e}o(vie,"autoPrefix");const MD="http://www.w3.org/1999/xlink";function DD(t,e,n,r,i,s=Tne(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(MD,e.slice(6,e.length)):t.setAttributeNS(MD,e,n):n==null||s&&!D5(n)?t.removeAttribute(e):t.setAttribute(e,s?"":Nl(n)?String(n):n)}o(DD,"patchAttr");function PD(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?XB(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const l=s==="OPTION"?t.getAttribute("value")||"":t.value,u=n==null?t.type==="checkbox"?"on":"":String(n);(l!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=D5(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(i||e)}o(PD,"patchDOMProp");function Qh(t,e,n,r){t.addEventListener(e,n,r)}o(Qh,"addEventListener");function Eie(t,e,n,r){t.removeEventListener(e,n,r)}o(Eie,"removeEventListener");const $D=Symbol("_vei");function xie(t,e,n,r,i=null){const s=t[$D]||(t[$D]={}),a=s[e];if(r&&a)a.value=r;else{const[l,u]=Tie(e);if(r){const c=s[e]=Aie(r,i);Qh(t,l,c,u)}else a&&(Eie(t,l,a,u),s[e]=void 0)}}o(xie,"patchEvent");const LD=/(?:Once|Passive|Capture)$/;function Tie(t){let e;if(LD.test(t)){e={};let r;for(;r=t.match(LD);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ml(t.slice(2)),e]}o(Tie,"parseName");let C2=0;const Sie=Promise.resolve(),kie=o(()=>C2||(Sie.then(()=>C2=0),C2=Date.now()),"getNow");function Aie(t,e){const n=o(r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;vo(Cie(r,n.value),e,5,[r])},"invoker");return n.value=t,n.attached=kie(),n}o(Aie,"createInvoker");function Cie(t,e){if($e(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}o(Cie,"patchStopImmediatePropagation");const FD=o(t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,"isNativeOn"),Iie=o((t,e,n,r,i,s)=>{const a=i==="svg";e==="class"?_ie(t,r,a):e==="style"?wie(t,n,r):cE(e)?oI(e)||xie(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Rie(t,e,r,a))?(PD(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&DD(t,e,r,a,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!dn(r))?PD(t,gi(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),DD(t,e,r,a))},"patchProp");function Rie(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&FD(e)&&Fe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return FD(e)&&dn(n)?!1:e in t}o(Rie,"shouldSetAsProp");const rU=new WeakMap,iU=new WeakMap,Zb=Symbol("_moveCb"),BD=Symbol("_enterCb"),Oie=o(t=>(delete t.props.mode,t),"decorate"),Nie=Oie({name:"TransitionGroup",props:On({},ZB,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Ui(),r=dB();let i,s;return wB(()=>{if(!i.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!$ie(i[0].el,n.vnode.el,a))return;i.forEach(Mie),i.forEach(Die);const l=i.filter(Pie);ok(),l.forEach(u=>{const c=u.el,f=c.style;Bo(c,a),f.transform=f.webkitTransform=f.transitionDuration="";const h=c[Zb]=d=>{d&&d.target!==c||(!d||/transform$/.test(d.propertyName))&&(c.removeEventListener("transitionend",h),c[Zb]=null,eu(c,a))};c.addEventListener("transitionend",h)})}),()=>{const a=yt(t),l=QB(a);let u=a.tag||cr;if(i=[],s)for(let c=0;c<s.length;c++){const f=s[c];f.el&&f.el instanceof Element&&(i.push(f),wf(f,a0(f,l,r,n)),rU.set(f,f.el.getBoundingClientRect()))}s=e.default?gI(e.default()):[];for(let c=0;c<s.length;c++){const f=s[c];f.key!=null&&wf(f,a0(f,l,r,n))}return An(u,null,s)}}}),X9e=Nie;function Mie(t){const e=t.el;e[Zb]&&e[Zb](),e[BD]&&e[BD]()}o(Mie,"callPendingCbs");function Die(t){iU.set(t,t.el.getBoundingClientRect())}o(Die,"recordPosition");function Pie(t){const e=rU.get(t),n=iU.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}o(Pie,"applyTranslation");function $ie(t,e,n){const r=t.cloneNode(),i=t[Zd];i&&i.forEach(l=>{l.split(/\s+/).forEach(u=>u&&r.classList.remove(u))}),n.split(/\s+/).forEach(l=>l&&r.classList.add(l)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:a}=eU(r);return s.removeChild(r),a}o($ie,"hasCSSTransform");const UD=o(t=>{const e=t.props["onUpdate:modelValue"]||!1;return $e(e)?n=>J_(e,n):e},"getModelAssigner");function Lie(t){t.target.composing=!0}o(Lie,"onCompositionStart");function zD(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}o(zD,"onCompositionEnd");const I2=Symbol("_assign"),J9e={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[I2]=UD(i);const s=r||i.props&&i.props.type==="number";Qh(t,e?"change":"input",a=>{if(a.target.composing)return;let l=t.value;n&&(l=l.trim()),s&&(l=GS(l)),t[I2](l)}),n&&Qh(t,"change",()=>{t.value=t.value.trim()}),e||(Qh(t,"compositionstart",Lie),Qh(t,"compositionend",zD),Qh(t,"change",zD))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},a){if(t[I2]=UD(a),t.composing)return;const l=(s||t.type==="number")&&!/^0\d/.test(t.value)?GS(t.value):t.value,u=e??"";l!==u&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===u)||(t.value=u))}},Fie=["ctrl","shift","alt","meta"],Bie={stop:o(t=>t.stopPropagation(),"stop"),prevent:o(t=>t.preventDefault(),"prevent"),self:o(t=>t.target!==t.currentTarget,"self"),ctrl:o(t=>!t.ctrlKey,"ctrl"),shift:o(t=>!t.shiftKey,"shift"),alt:o(t=>!t.altKey,"alt"),meta:o(t=>!t.metaKey,"meta"),left:o(t=>"button"in t&&t.button!==0,"left"),middle:o(t=>"button"in t&&t.button!==1,"middle"),right:o(t=>"button"in t&&t.button!==2,"right"),exact:o((t,e)=>Fie.some(n=>t[`${n}Key`]&&!e.includes(n)),"exact")},Z9e=o((t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let a=0;a<e.length;a++){const l=Bie[e[a]];if(l&&l(i,e))return}return t(i,...s)})},"withModifiers"),Uie={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Q9e=o((t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=Ml(i.key);if(e.some(a=>a===s||Uie[a]===s))return t(i)})},"withKeys"),zie=On({patchProp:Iie},pie);let VD;function sU(){return VD||(VD=Dre(zie))}o(sU,"ensureRenderer");const eze=o((...t)=>{sU().render(...t)},"render"),tze=o((...t)=>{const e=sU().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=jie(r);if(!i)return;const s=e._component;!Fe(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const a=n(i,!1,Vie(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e},"createApp");function Vie(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}o(Vie,"resolveRootNamespace");function jie(t){return dn(t)?document.querySelector(t):t}o(jie,"normalizeContainer");function AI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}o(AI,"__rest");function oU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}o(oU,"_prodErrorMap");const Wie=oU,aU=new Np("auth","Firebase",oU()),nze={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type",INVALID_HOSTING_LINK_DOMAIN:"auth/invalid-hosting-link-domain"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=new py("@firebase/auth");function Hie(t,...e){Qb.logLevel<=Rt.WARN&&Qb.warn(`Auth (${ic}): ${t}`,...e)}o(Hie,"_logWarn");function tb(t,...e){Qb.logLevel<=Rt.ERROR&&Qb.error(`Auth (${ic}): ${t}`,...e)}o(tb,"_logError");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(t,...e){throw II(t,...e)}o($s,"_fail");function uo(t,...e){return II(t,...e)}o(uo,"_createError");function CI(t,e,n){const r=Object.assign(Object.assign({},Wie()),{[e]:n});return new Np("auth","Firebase",r).create(e,{appName:t.name})}o(CI,"_errorWithCustomMessage");function ml(t){return CI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}o(ml,"_serverAppCurrentUserOperationNotSupportedError");function Gie(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&$s(t,"argument-error"),CI(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}o(Gie,"_assertInstanceOf");function II(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return aU.create(t,...e)}o(II,"createErrorInternal");function je(t,e,...n){if(!t)throw II(e,...n)}o(je,"_assert");function ul(t){const e="INTERNAL ASSERTION FAILED: "+t;throw tb(e),new Error(e)}o(ul,"debugFail");function xl(t,e){t||ul(e)}o(xl,"debugAssert");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}o(lk,"_getCurrentUrl");function qie(){return jD()==="http:"||jD()==="https:"}o(qie,"_isHttpOrHttps");function jD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}o(jD,"_getCurrentScheme");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kie(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qie()||Vee()||"connection"in navigator)?navigator.onLine:!0}o(Kie,"_isOnline");function Yie(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}o(Yie,"_getUserLanguage");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{static{o(this,"Delay")}constructor(e,n){this.shortDelay=e,this.longDelay=n,xl(n>e,"Short delay should be less than long delay!"),this.isMobile=rI()||w5()}get(){return Kie()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(t,e){xl(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}o(RI,"_emulatorUrl");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{static{o(this,"FetchProvider")}static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ul("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ul("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ul("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jie=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Zie=new _y(3e4,6e4);function $l(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}o($l,"_addTidIfNecessary");async function Ra(t,e,n,r,i={}){return uU(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const l=Mp(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},s);return zee()||(c.referrerPolicy="no-referrer"),lU.fetch()(await cU(t,t.config.apiHost,n,l),c)})}o(Ra,"_performApiRequest");async function uU(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Xie),e);try{const i=new ese(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Y1(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Y1(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Y1(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw Y1(t,"user-disabled",a);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw CI(t,f,c);$s(t,f)}}catch(i){if(i instanceof Ia)throw i;$s(t,"network-request-failed",{message:String(i)})}}o(uU,"_performFetchWithErrorHandling");async function by(t,e,n,r,i={}){const s=await Ra(t,e,n,r,i);return"mfaPendingCredential"in s&&$s(t,"multi-factor-auth-required",{_serverResponse:s}),s}o(by,"_performSignInRequest");async function cU(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?RI(t.config,i):`${t.config.apiScheme}://${i}`;return Jie.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}o(cU,"_getFinalTarget");function Qie(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}o(Qie,"_parseEnforcementState");class ese{static{o(this,"NetworkTimeout")}clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(uo(this.auth,"network-request-failed")),Zie.get())})}}function Y1(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=uo(t,e,r);return i.customData._tokenResponse=n,i}o(Y1,"_makeTaggedError");function WD(t){return t!==void 0&&t.enterprise!==void 0}o(WD,"isEnterprise");class tse{static{o(this,"RecaptchaConfig")}constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Qie(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nse(t,e){return Ra(t,"GET","/v2/recaptchaConfig",$l(t,e))}o(nse,"getRecaptchaConfig");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rse(t,e){return Ra(t,"POST","/v1/accounts:delete",e)}o(rse,"deleteAccount");async function ew(t,e){return Ra(t,"POST","/v1/accounts:lookup",e)}o(ew,"getAccountInfo");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}o(Eg,"utcTimestampToDateString");async function ise(t,e=!1){const n=Us(t),r=await n.getIdToken(e),i=OI(r);je(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:Eg(R2(i.auth_time)),issuedAtTime:Eg(R2(i.iat)),expirationTime:Eg(R2(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}o(ise,"getIdTokenResult");function R2(t){return Number(t)*1e3}o(R2,"secondsStringToMilliseconds");function OI(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return tb("JWT malformed, contained fewer than 3 sections"),null;try{const i=Lb(n);return i?JSON.parse(i):(tb("Failed to decode base64 JWT payload"),null)}catch(i){return tb("Caught error parsing JWT payload as JSON",i?.toString()),null}}o(OI,"_parseToken");function HD(t){const e=OI(t);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}o(HD,"_tokenExpiresIn");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ia&&sse(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}o(Qd,"_logoutIfInvalidated");function sse({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}o(sse,"isUserInvalidated");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ose{static{o(this,"ProactiveRefresh")}constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{static{o(this,"UserMetadata")}constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eg(this.lastLoginAt),this.creationTime=Eg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tw(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Qd(t,ew(n,{idToken:r}));je(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?fU(s.providerUserInfo):[],l=lse(t.providerData,a),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!l?.length,f=u?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new uk(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,h)}o(tw,"_reloadWithoutSaving");async function ase(t){const e=Us(t);await tw(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}o(ase,"reload");function lse(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}o(lse,"mergeProviderData");function fU(t){return t.map(e=>{var{providerId:n}=e,r=AI(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}o(fU,"extractProviderData");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function use(t,e){const n=await uU(t,{},async()=>{const r=Mp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await cU(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",lU.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}o(use,"requestStsToken");async function cse(t,e){return Ra(t,"POST","/v2/accounts:revokeToken",$l(t,e))}o(cse,"revokeToken");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{static{o(this,"StsTokenManager")}constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){je(e.length!==0,"internal-error");const n=HD(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await use(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Ad;return r&&(je(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(je(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(je(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ad,this.toJSON())}_performRefresh(){return ul("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(t,e){je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}o(ql,"assertStringOrUndefined");class eo{static{o(this,"UserImpl")}constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=AI(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ose(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new uk(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Qd(this,this.stsTokenManager.getToken(this.auth,e));return je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ise(this,e)}reload(){return ase(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new eo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await tw(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ai(this.auth.app))return Promise.reject(ml(this.auth));const e=await this.getIdToken();return await Qd(this,rse(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,l,u,c,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(a=n.photoURL)!==null&&a!==void 0?a:void 0,y=(l=n.tenantId)!==null&&l!==void 0?l:void 0,_=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,S=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:v,emailVerified:k,isAnonymous:C,providerData:R,stsTokenManager:x}=n;je(v&&x,e,"internal-error");const E=Ad.fromJSON(this.name,x);je(typeof v=="string",e,"internal-error"),ql(h,e.name),ql(d,e.name),je(typeof k=="boolean",e,"internal-error"),je(typeof C=="boolean",e,"internal-error"),ql(p,e.name),ql(m,e.name),ql(y,e.name),ql(_,e.name),ql(b,e.name),ql(S,e.name);const T=new eo({uid:v,auth:e,email:d,emailVerified:k,displayName:h,isAnonymous:C,photoURL:m,phoneNumber:p,tenantId:y,stsTokenManager:E,createdAt:b,lastLoginAt:S});return R&&Array.isArray(R)&&(T.providerData=R.map(O=>Object.assign({},O))),_&&(T._redirectEventId=_),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ad;i.updateFromServerResponse(n);const s=new eo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await tw(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];je(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?fU(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,l=new Ad;l.updateFromIdToken(r);const u=new eo({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new uk(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=new Map;function cl(t){xl(t instanceof Function,"Expected a class definition");let e=GD.get(t);return e?(xl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,GD.set(t,e),e)}o(cl,"_getInstance");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{static{o(this,"InMemoryPersistence")}constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hU.type="NONE";const qD=hU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(t,e,n){return`firebase:${t}:${e}:${n}`}o(nb,"_persistenceKeyName");class Cd{static{o(this,"PersistenceUserManager")}constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=nb(this.userKey,i.apiKey,s),this.fullPersistenceKey=nb("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ew(this.auth,{idToken:e}).catch(()=>{});return n?eo._fromGetAccountInfoResponse(this.auth,n,e):null}return eo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Cd(cl(qD),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||cl(qD);const a=nb(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const f=await c._get(a);if(f){let h;if(typeof f=="string"){const d=await ew(e,{idToken:f}).catch(()=>{});if(!d)break;h=await eo._fromGetAccountInfoResponse(e,d,f)}else h=eo._fromJSON(e,f);c!==s&&(l=h),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Cd(s,e,r):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new Cd(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_U(e))return"Blackberry";if(bU(e))return"Webos";if(pU(e))return"Safari";if((e.includes("chrome/")||mU(e))&&!e.includes("edge/"))return"Chrome";if(yU(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}o(KD,"_getBrowserName");function dU(t=mi()){return/firefox\//i.test(t)}o(dU,"_isFirefox");function pU(t=mi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}o(pU,"_isSafari");function mU(t=mi()){return/crios\//i.test(t)}o(mU,"_isChromeIOS");function gU(t=mi()){return/iemobile/i.test(t)}o(gU,"_isIEMobile");function yU(t=mi()){return/android/i.test(t)}o(yU,"_isAndroid");function _U(t=mi()){return/blackberry/i.test(t)}o(_U,"_isBlackBerry");function bU(t=mi()){return/webos/i.test(t)}o(bU,"_isWebOS");function NI(t=mi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}o(NI,"_isIOS");function fse(t=mi()){var e;return NI(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}o(fse,"_isIOSStandalone");function hse(){return jee()&&document.documentMode===10}o(hse,"_isIE10");function wU(t=mi()){return NI(t)||yU(t)||bU(t)||_U(t)||/windows phone/i.test(t)||gU(t)}o(wU,"_isMobileBrowser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(t,e=[]){let n;switch(t){case"Browser":n=KD(mi());break;case"Worker":n=`${KD(mi())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ic}/${r}`}o(vU,"_getClientVersion");/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dse{static{o(this,"AuthMiddlewareQueue")}constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o(s=>new Promise((a,l)=>{try{const u=e(s);a(u)}catch(u){l(u)}}),"wrappedCallback");r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pse(t,e={}){return Ra(t,"GET","/v2/passwordPolicy",$l(t,e))}o(pse,"_getPasswordPolicy");/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mse=6;class gse{static{o(this,"PasswordPolicyImpl")}constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:mse,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yse{static{o(this,"AuthImpl")}constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new YD(this),this.idTokenSubscription=new YD(this),this.beforeStateQueue=new dse(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cl(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Cd.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ew(this,{idToken:e}),r=await eo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ai(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await tw(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Yie()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ai(this.app))return Promise.reject(ml(this));const n=e?Us(e):null;return n&&je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ai(this.app)?Promise.reject(ml(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ai(this.app)?Promise.reject(ml(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pse(this),n=new gse(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Np("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await cse(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cl(e)||this._popupRedirectResolver;je(n,this,"argument-error"),this.redirectPersistenceManager=await Cd.create(this,[cl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&Hie(`Error while retrieving App Check token: ${n.error}`),n?.token}}function lc(t){return Us(t)}o(lc,"_castAuth");class YD{static{o(this,"Subscription")}constructor(e){this.auth=e,this.observer=null,this.addObserver=Jee(n=>this.observer=n)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _se(t){SE=t}o(_se,"_setExternalJSProvider");function EU(t){return SE.loadJS(t)}o(EU,"_loadJS");function bse(){return SE.recaptchaEnterpriseScript}o(bse,"_recaptchaEnterpriseScriptUrl");function wse(){return SE.gapiScript}o(wse,"_gapiScriptUrl");function vse(t){return`__${t}${Math.floor(Math.random()*1e6)}`}o(vse,"_generateCallbackName");class Ese{static{o(this,"MockGreCAPTCHATopLevel")}constructor(){this.enterprise=new xse}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class xse{static{o(this,"MockGreCAPTCHA")}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Tse="recaptcha-enterprise",xU="NO_RECAPTCHA";class Sse{static{o(this,"RecaptchaEnterpriseVerifier")}constructor(e){this.type=Tse,this.auth=lc(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{nse(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new tse(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(u=>{l(u)})})}o(r,"retrieveSiteKey");function i(s,a,l){const u=window.grecaptcha;WD(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(xU)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return o(i,"retrieveRecaptchaToken"),this.auth.settings.appVerificationDisabledForTesting?new Ese().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(l=>{if(!n&&WD(window.grecaptcha))i(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=bse();u.length!==0&&(u+=l),EU(u).then(()=>{i(l,s,a)}).catch(c=>{a(c)})}}).catch(l=>{a(l)})})}}async function XD(t,e,n,r=!1,i=!1){const s=new Sse(t);let a;if(i)a=xU;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,c=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}o(XD,"injectRecaptchaFields");async function nw(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await XD(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){`${n}`;const l=await XD(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}o(nw,"handleRecaptchaFlow");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rze(t,e){const n=Zte(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Bb(s,e??{}))return i;$s(i,"already-initialized")}return n.initialize({options:e})}o(rze,"initializeAuth");function kse(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(cl);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}o(kse,"_initializeAuthInstance");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{static{o(this,"AuthCredential")}constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ul("not implemented")}_getIdTokenResponse(e){return ul("not implemented")}_linkToIdToken(e,n){return ul("not implemented")}_getReauthenticationResolver(e){return ul("not implemented")}}async function Ase(t,e){return Ra(t,"POST","/v1/accounts:update",e)}o(Ase,"updateEmailPassword");async function Cse(t,e){return Ra(t,"POST","/v1/accounts:signUp",e)}o(Cse,"linkEmailPassword");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ise(t,e){return by(t,"POST","/v1/accounts:signInWithPassword",$l(t,e))}o(Ise,"signInWithPassword");async function Rse(t,e){return Ra(t,"POST","/v1/accounts:sendOobCode",$l(t,e))}o(Rse,"sendOobCode");async function Ose(t,e){return Rse(t,e)}o(Ose,"sendPasswordResetEmail$1");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nse(t,e){return by(t,"POST","/v1/accounts:signInWithEmailLink",$l(t,e))}o(Nse,"signInWithEmailLink$1");async function Mse(t,e){return by(t,"POST","/v1/accounts:signInWithEmailLink",$l(t,e))}o(Mse,"signInWithEmailLinkForLinking");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0 extends MI{static{o(this,"EmailAuthCredential")}constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new u0(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new u0(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nw(e,n,"signInWithPassword",Ise);case"emailLink":return Nse(e,{email:this._email,oobCode:this._password});default:$s(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nw(e,r,"signUpPassword",Cse);case"emailLink":return Mse(e,{idToken:n,email:this._email,oobCode:this._password});default:$s(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Id(t,e){return by(t,"POST","/v1/accounts:signInWithIdp",$l(t,e))}o(Id,"signInWithIdp");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dse="http://localhost";class vf extends MI{static{o(this,"OAuthCredential")}constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$s("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=AI(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new vf(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Id(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Id(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Id(e,n)}buildRequest(){const e={requestUri:Dse,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Mp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pse(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}o(Pse,"parseMode");function $se(t){const e=Xm(Jm(t)).link,n=e?Xm(Jm(e)).deep_link_id:null,r=Xm(Jm(t)).deep_link_id;return(r?Xm(Jm(r)).link:null)||r||n||e||t}o($se,"parseDeepLink");class DI{static{o(this,"ActionCodeURL")}constructor(e){var n,r,i,s,a,l;const u=Xm(Jm(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,h=Pse((i=u.mode)!==null&&i!==void 0?i:null);je(c&&f&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=$se(e);try{return new DI(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{static{o(this,"EmailAuthProvider")}constructor(){this.providerId=$p.PROVIDER_ID}static credential(e,n){return u0._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=DI.parseLink(n);return je(r,"argument-error"),u0._fromEmailAndCode(e,r.code,r.tenantId)}}$p.PROVIDER_ID="password";$p.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$p.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{static{o(this,"FederatedAuthProvider")}constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy extends PI{static{o(this,"BaseOAuthProvider")}constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends wy{static{o(this,"FacebookAuthProvider")}constructor(){super("facebook.com")}static credential(e){return vf._fromParams({providerId:fu.PROVIDER_ID,signInMethod:fu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fu.credentialFromTaggedObject(e)}static credentialFromError(e){return fu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fu.credential(e.oauthAccessToken)}catch{return null}}}fu.FACEBOOK_SIGN_IN_METHOD="facebook.com";fu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends wy{static{o(this,"GoogleAuthProvider")}constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vf._fromParams({providerId:hu.PROVIDER_ID,signInMethod:hu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hu.credentialFromTaggedObject(e)}static credentialFromError(e){return hu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return hu.credential(n,r)}catch{return null}}}hu.GOOGLE_SIGN_IN_METHOD="google.com";hu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends wy{static{o(this,"GithubAuthProvider")}constructor(){super("github.com")}static credential(e){return vf._fromParams({providerId:du.PROVIDER_ID,signInMethod:du.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return du.credentialFromTaggedObject(e)}static credentialFromError(e){return du.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return du.credential(e.oauthAccessToken)}catch{return null}}}du.GITHUB_SIGN_IN_METHOD="github.com";du.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends wy{static{o(this,"TwitterAuthProvider")}constructor(){super("twitter.com")}static credential(e,n){return vf._fromParams({providerId:pu.PROVIDER_ID,signInMethod:pu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pu.credentialFromTaggedObject(e)}static credentialFromError(e){return pu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return pu.credential(n,r)}catch{return null}}}pu.TWITTER_SIGN_IN_METHOD="twitter.com";pu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lse(t,e){return by(t,"POST","/v1/accounts:signUp",$l(t,e))}o(Lse,"signUp");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{static{o(this,"UserCredentialImpl")}constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await eo._fromIdTokenResponse(e,r,i),a=JD(r);return new Ef({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=JD(r);return new Ef({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function JD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}o(JD,"providerIdForResponse");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw extends Ia{static{o(this,"MultiFactorError")}constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,rw.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new rw(e,n,r,i)}}function TU(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?rw._fromErrorAndOperation(t,s,e,r):s})}o(TU,"_processCredentialSavingMfaContextIfNecessary");async function Fse(t,e,n=!1){const r=await Qd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ef._forOperation(t,"link",r)}o(Fse,"_link$1");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bse(t,e,n=!1){const{auth:r}=t;if(ai(r.app))return Promise.reject(ml(r));const i="reauthenticate";try{const s=await Qd(t,TU(r,i,e,t),n);je(s.idToken,r,"internal-error");const a=OI(s.idToken);je(a,r,"internal-error");const{sub:l}=a;return je(t.uid===l,r,"user-mismatch"),Ef._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&$s(r,"user-mismatch"),s}}o(Bse,"_reauthenticate");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SU(t,e,n=!1){if(ai(t.app))return Promise.reject(ml(t));const r="signIn",i=await TU(t,r,e),s=await Ef._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}o(SU,"_signInWithCredential");async function Use(t,e){return SU(lc(t),e)}o(Use,"signInWithCredential");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kU(t){const e=lc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}o(kU,"recachePasswordPolicy");async function ize(t,e,n){const r=lc(t);await nw(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Ose)}o(ize,"sendPasswordResetEmail");async function sze(t,e,n){if(ai(t.app))return Promise.reject(ml(t));const r=lc(t),a=await nw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Lse).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&kU(t),u}),l=await Ef._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}o(sze,"createUserWithEmailAndPassword");function oze(t,e,n){return ai(t.app)?Promise.reject(ml(t)):Use(Us(t),$p.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&kU(t),r})}o(oze,"signInWithEmailAndPassword");function aze(t,e){return zse(Us(t),null,e)}o(aze,"updatePassword");async function zse(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(s.password=n);const a=await Qd(t,Ase(r,s));await t._updateTokensIfNecessary(a,!0)}o(zse,"updateEmailOrPassword");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lze(t,e){return Us(t).setPersistence(e)}o(lze,"setPersistence");function uze(t,e,n,r){return Us(t).onIdTokenChanged(e,n,r)}o(uze,"onIdTokenChanged");function cze(t,e,n,r){return Us(t).onAuthStateChanged(e,n,r)}o(cze,"onAuthStateChanged");function fze(t){return Us(t).signOut()}o(fze,"signOut");async function hze(t){return Us(t).delete()}o(hze,"deleteUser");const iw="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{static{o(this,"BrowserPersistenceClass")}constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(iw,"1"),this.storage.removeItem(iw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vse=1e3,jse=10;class CU extends AU{static{o(this,"BrowserLocalPersistence")}constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wU(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=o(()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},"triggerListeners"),s=this.storage.getItem(r);hse()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,jse):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Vse)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CU.type="LOCAL";const dze=CU;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU extends AU{static{o(this,"BrowserSessionPersistence")}constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}IU.type="SESSION";const Wse=IU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hse(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}o(Hse,"_allSettled");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{static{o(this,"Receiver")}constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new kE(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!a?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async c=>c(n.origin,s)),u=await Hse(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kE.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}o($I,"_generateEventId");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gse{static{o(this,"Sender")}constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const c=$I("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(d.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(){return window}o(ca,"_window");function qse(t){ca().location.href=t}o(qse,"_setWindowLocation");/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(){return typeof ca().WorkerGlobalScope<"u"&&typeof ca().importScripts=="function"}o(RU,"_isWorker");async function Kse(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}o(Kse,"_getActiveServiceWorker");function Yse(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}o(Yse,"_getServiceWorkerController");function Xse(){return RU()?self:null}o(Xse,"_getWorkerGlobalScope");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU="firebaseLocalStorageDb",Jse=1,sw="firebaseLocalStorage",NU="fbase_key";class vy{static{o(this,"DBPromise")}constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function AE(t,e){return t.transaction([sw],e?"readwrite":"readonly").objectStore(sw)}o(AE,"getObjectStore");function Zse(){const t=indexedDB.deleteDatabase(OU);return new vy(t).toPromise()}o(Zse,"_deleteDatabase");function ck(){const t=indexedDB.open(OU,Jse);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(sw,{keyPath:NU})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(sw)?e(r):(r.close(),await Zse(),e(await ck()))})})}o(ck,"_openDatabase");async function ZD(t,e,n){const r=AE(t,!0).put({[NU]:e,value:n});return new vy(r).toPromise()}o(ZD,"_putObject");async function Qse(t,e){const n=AE(t,!1).get(e),r=await new vy(n).toPromise();return r===void 0?null:r.value}o(Qse,"getObject");function QD(t,e){const n=AE(t,!0).delete(e);return new vy(n).toPromise()}o(QD,"_deleteObject");const eoe=800,toe=3;class MU{static{o(this,"IndexedDBLocalPersistence")}constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ck(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>toe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RU()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kE._getInstance(Xse()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Kse(),!this.activeServiceWorker)return;this.sender=new Gse(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Yse()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ck();return await ZD(e,iw,"1"),await QD(e,iw),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ZD(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Qse(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>QD(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=AE(i,!1).getAll();return new vy(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eoe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MU.type="LOCAL";const pze=MU;new _y(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(t,e){return e?cl(e):(je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}o(DU,"_withDefaultResolver");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI extends MI{static{o(this,"IdpCredential")}constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Id(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Id(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Id(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function noe(t){return SU(t.auth,new LI(t),t.bypassAuthState)}o(noe,"_signIn");function roe(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),Bse(n,new LI(t),t.bypassAuthState)}o(roe,"_reauth");async function ioe(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),Fse(n,new LI(t),t.bypassAuthState)}o(ioe,"_link");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{static{o(this,"AbstractPopupRedirectOperation")}constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return noe;case"linkViaPopup":case"linkViaRedirect":return ioe;case"reauthViaPopup":case"reauthViaRedirect":return roe;default:$s(this.auth,"internal-error")}}resolve(e){xl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const soe=new _y(2e3,1e4);async function mze(t,e,n){if(ai(t.app))return Promise.reject(uo(t,"operation-not-supported-in-this-environment"));const r=lc(t);Gie(t,e,PI);const i=DU(r,n);return new Vc(r,"signInViaPopup",e,i).executeNotNull()}o(mze,"signInWithPopup");class Vc extends PU{static{o(this,"PopupOperation")}constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Vc.currentPopupAction&&Vc.currentPopupAction.cancel(),Vc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){xl(this.filter.length===1,"Popup operations only handle one event");const e=$I();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(uo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(uo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vc.currentPopupAction=null}pollUserCancellation(){const e=o(()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(uo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,soe.get())},"poll");e()}}Vc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ooe="pendingRedirect",rb=new Map;class aoe extends PU{static{o(this,"RedirectAction")}constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=rb.get(this.auth._key());if(!e){try{const r=await loe(this.resolver,this.auth)?await super.execute():null;e=o(()=>Promise.resolve(r),"readyOutcome")}catch(n){e=o(()=>Promise.reject(n),"readyOutcome")}rb.set(this.auth._key(),e)}return this.bypassAuthState||rb.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function loe(t,e){const n=foe(e),r=coe(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}o(loe,"_getAndClearPendingRedirectStatus");function uoe(t,e){rb.set(t._key(),e)}o(uoe,"_overrideRedirectResult");function coe(t){return cl(t._redirectPersistence)}o(coe,"resolverPersistence");function foe(t){return nb(ooe,t.config.apiKey,t.name)}o(foe,"pendingRedirectKey");async function hoe(t,e,n=!1){if(ai(t.app))return Promise.reject(ml(t));const r=lc(t),i=DU(r,e),a=await new aoe(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}o(hoe,"_getRedirectResult");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const doe=10*60*1e3;class poe{static{o(this,"AuthEventManager")}constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!moe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!$U(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(uo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=doe&&this.cachedEventUids.clear(),this.cachedEventUids.has(e4(e))}saveEventToCache(e){this.cachedEventUids.add(e4(e)),this.lastProcessedEventTime=Date.now()}}function e4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}o(e4,"eventUid");function $U({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}o($U,"isNullRedirectEvent");function moe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $U(t);default:return!1}}o(moe,"isRedirectEvent");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function goe(t,e={}){return Ra(t,"GET","/v1/projects",e)}o(goe,"_getProjectConfig");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yoe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_oe=/^https?/;async function boe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await goe(t);for(const n of e)try{if(woe(n))return}catch{}$s(t,"unauthorized-domain")}o(boe,"_validateOrigin");function woe(t){const e=lk(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!_oe.test(n))return!1;if(yoe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}o(woe,"matchDomain");/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const voe=new _y(3e4,6e4);function t4(){const t=ca().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}o(t4,"resetUnloadedGapiModules");function Eoe(t){return new Promise((e,n)=>{var r,i,s;function a(){t4(),gapi.load("gapi.iframes",{callback:o(()=>{e(gapi.iframes.getContext())},"callback"),ontimeout:o(()=>{t4(),n(uo(t,"network-request-failed"))},"ontimeout"),timeout:voe.get()})}if(o(a,"loadGapiIframe"),!((i=(r=ca().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ca().gapi)===null||s===void 0)&&s.load)a();else{const l=vse("iframefcb");return ca()[l]=()=>{gapi.load?a():n(uo(t,"network-request-failed"))},EU(`${wse()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw ib=null,e})}o(Eoe,"loadGapi");let ib=null;function xoe(t){return ib=ib||Eoe(t),ib}o(xoe,"_loadGapi");/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Toe=new _y(5e3,15e3),Soe="__/auth/iframe",koe="emulator/auth/iframe",Aoe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Coe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ioe(t){const e=t.config;je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?RI(e,koe):`https://${t.config.authDomain}/${Soe}`,r={apiKey:e.apiKey,appName:t.name,v:ic},i=Coe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Mp(r).slice(1)}`}o(Ioe,"getIframeUrl");async function Roe(t){const e=await xoe(t),n=ca().gapi;return je(n,t,"internal-error"),e.open({where:document.body,url:Ioe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Aoe,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=uo(t,"network-request-failed"),l=ca().setTimeout(()=>{s(a)},Toe.get());function u(){ca().clearTimeout(l),i(r)}o(u,"clearTimerAndResolve"),r.ping(u).then(u,()=>{s(a)})}))}o(Roe,"_openIframe");/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ooe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Noe=500,Moe=600,Doe="_blank",Poe="http://localhost";class n4{static{o(this,"AuthPopup")}constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $oe(t,e,n,r=Noe,i=Moe){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},Ooe),{width:r.toString(),height:i.toString(),top:s,left:a}),c=mi().toLowerCase();n&&(l=mU(c)?Doe:n),dU(c)&&(e=e||Poe,u.scrollbars="yes");const f=Object.entries(u).reduce((d,[p,m])=>`${d}${p}=${m},`,"");if(fse(c)&&l!=="_self")return Loe(e||"",l),new n4(null);const h=window.open(e||"",l,f);je(h,t,"popup-blocked");try{h.focus()}catch{}return new n4(h)}o($oe,"_open");function Loe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}o(Loe,"openAsNewWindowIOS");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Foe="__/auth/handler",Boe="emulator/auth/handler",Uoe=encodeURIComponent("fac");async function r4(t,e,n,r,i,s){je(t.config.authDomain,t,"auth-domain-config-required"),je(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ic,eventId:i};if(e instanceof PI){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",US(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))a[f]=h}if(e instanceof wy){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),c=u?`#${Uoe}=${encodeURIComponent(u)}`:"";return`${zoe(t)}?${Mp(l).slice(1)}${c}`}o(r4,"_getRedirectUrl");function zoe({config:t}){return t.emulator?RI(t,Boe):`https://${t.authDomain}/${Foe}`}o(zoe,"getHandlerBase");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="webStorageSupport";class Voe{static{o(this,"BrowserPopupRedirectResolver")}constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wse,this._completeRedirectFn=hoe,this._overrideRedirectResult=uoe}async _openPopup(e,n,r,i){var s;xl((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await r4(e,n,r,lk(),i);return $oe(e,a,$I())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await r4(e,n,r,lk(),i);return qse(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(xl(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Roe(e),r=new poe(e);return n.register("authEvent",i=>(je(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(O2,{type:O2},i=>{var s;const a=(s=i?.[0])===null||s===void 0?void 0:s[O2];a!==void 0&&n(!!a),$s(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=boe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wU()||pU()||NI()}}const gze=Voe;var i4="@firebase/auth",s4="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class joe{static{o(this,"AuthInterop")}constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Woe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}o(Woe,"getVersionForPlatform");function Hoe(t){da(new wo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;je(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vU(t)},c=new yse(r,i,s,u);return kse(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),da(new wo("auth-internal",e=>{const n=lc(e.getProvider("auth").getImmediate());return(r=>new joe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qi(i4,s4,Woe(t)),Qi(i4,s4,"esm2017")}o(Hoe,"registerAuth");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Goe=5*60;Uee("authIdTokenMaxAge");function qoe(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}o(qoe,"getScriptParentElement");_se({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=uo("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",qoe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Hoe("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Koe=new Map,Yoe={activated:!1,tokenObservers:[]};function Eo(t){return Koe.get(t)||Object.assign({},Yoe)}o(Eo,"getStateReference");const o4={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xoe{static{o(this,"Refresher")}constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new e0,this.pending.promise.catch(n=>{}),await Joe(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new e0,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function Joe(t){return new Promise(e=>{setTimeout(e,t)})}o(Joe,"sleep");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zoe={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ow=new Np("appCheck","AppCheck",Zoe);function LU(t){if(!Eo(t).activated)throw ow.create("use-before-activation",{appName:t.name})}o(LU,"ensureActivated");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qoe="firebase-app-check-database",eae=1,fk="firebase-app-check-store";let X1=null;function tae(){return X1||(X1=new Promise((t,e)=>{try{const n=indexedDB.open(Qoe,eae);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(ow.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(fk,{keyPath:"compositeKey"})}}}catch(n){e(ow.create("storage-open",{originalErrorMessage:n?.message}))}}),X1)}o(tae,"getDBPromise");function nae(t,e){return rae(iae(t),e)}o(nae,"writeTokenToIndexedDB");async function rae(t,e){const r=(await tae()).transaction(fk,"readwrite"),s=r.objectStore(fk).put({compositeKey:t,value:e});return new Promise((a,l)=>{s.onsuccess=u=>{a()},r.onerror=u=>{var c;l(ow.create("storage-set",{originalErrorMessage:(c=u.target.error)===null||c===void 0?void 0:c.message}))}})}o(rae,"write$1");function iae(t){return`${t.options.appId}-${t.name}`}o(iae,"computeKey");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=new py("@firebase/app-check");function a4(t,e){return E5()?nae(t,e).catch(n=>{hk.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}o(a4,"writeTokenToStorage");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sae={error:"UNKNOWN_ERROR"};function oae(t){return lE.encodeString(JSON.stringify(t),!1)}o(oae,"formatDummyToken");async function dk(t,e=!1,n=!1){const r=t.app;LU(r);const i=Eo(r);let s=i.token,a;if(s&&!Qm(s)&&(i.token=void 0,s=void 0),!s){const c=await i.cachedTokenPromise;c&&(Qm(c)?s=c:await a4(r,void 0))}if(!e&&s&&Qm(s))return{token:s.token};let l=!1;try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),l=!0),s=await Eo(r).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?hk.warn(c.message):n&&hk.error(c),a=c}let u;return s?a?Qm(s)?u={token:s.token,internalError:a}:u=u4(a):(u={token:s.token},i.token=s,await a4(r,s)):u=u4(a),l&&cae(r,u),u}o(dk,"getToken$2");async function aae(t){const e=t.app;LU(e);const{provider:n}=Eo(e);{const{token:r}=await n.getToken();return{token:r}}}o(aae,"getLimitedUseToken$1");function lae(t,e,n,r){const{app:i}=t,s=Eo(i),a={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,a],s.token&&Qm(s.token)){const l=s.token;Promise.resolve().then(()=>{n({token:l.token}),l4(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>l4(t))}o(lae,"addTokenListener");function FU(t,e){const n=Eo(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}o(FU,"removeTokenListener");function l4(t){const{app:e}=t,n=Eo(e);let r=n.tokenRefresher;r||(r=uae(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}o(l4,"initTokenRefresher");function uae(t){const{app:e}=t;return new Xoe(async()=>{const n=Eo(e);let r;if(n.token?r=await dk(t,!0):r=await dk(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=Eo(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},o4.RETRIAL_MIN_WAIT,o4.RETRIAL_MAX_WAIT)}o(uae,"createTokenRefresher");function cae(t,e){const n=Eo(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}o(cae,"notifyTokenListeners");function Qm(t){return t.expireTimeMillis-Date.now()>0}o(Qm,"isValid$1");function u4(t){return{token:oae(sae),error:t}}o(u4,"makeDummyTokenResult");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fae{static{o(this,"AppCheckService")}constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Eo(this.app);for(const n of e)FU(this.app,n.next);return Promise.resolve()}}function hae(t,e){return new fae(t,e)}o(hae,"factory$1");function dae(t){return{getToken:o(e=>dk(t,e),"getToken"),getLimitedUseToken:o(()=>aae(t),"getLimitedUseToken"),addTokenListener:o(e=>lae(t,"INTERNAL",e),"addTokenListener"),removeTokenListener:o(e=>FU(t.app,e),"removeTokenListener")}}o(dae,"internalFactory");const pae="@firebase/app-check",mae="0.8.13",gae="app-check",c4="app-check-internal";function yae(){da(new wo(gae,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return hae(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(c4).initialize()})),da(new wo(c4,t=>{const e=t.getProvider("app-check").getImmediate();return dae(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Qi(pae,mae)}o(yae,"registerAppCheck");yae();var f4={};const h4="@firebase/database",d4="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BU="";function _ae(t){BU=t}o(_ae,"setSDKVersion");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bae{static{o(this,"DOMStorageWrapper")}constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Sr(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:t0(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wae{static{o(this,"MemoryStorage")}constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ol(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU=o(function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new bae(e)}}catch{}return new wae},"createStoragefor"),jc=UU("localStorage"),vae=UU("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd=new py("@firebase/database"),Eae=function(){let t=1;return function(){return t++}}(),zU=o(function(t){const e=tte(t),n=new Xee;n.update(e);const r=n.digest();return lE.encodeByteArray(r)},"sha1"),Ey=o(function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ey.apply(null,r):typeof r=="object"?e+=Sr(r):e+=r,e+=" "}return e},"buildLogMessage_");let xg=null,p4=!0;const xae=o(function(t,e){Ee(!e,"Can't turn on custom loggers persistently."),Rd.logLevel=Rt.VERBOSE,xg=Rd.log.bind(Rd)},"enableLogging$1"),Fr=o(function(...t){if(p4===!0&&(p4=!1,xg===null&&vae.get("logging_enabled")===!0&&xae()),xg){const e=Ey.apply(null,t);xg(e)}},"log$1"),xy=o(function(t){return function(...e){Fr(t,...e)}},"logWrapper"),pk=o(function(...t){const e="FIREBASE INTERNAL ERROR: "+Ey(...t);Rd.error(e)},"error$1"),xf=o(function(...t){const e=`FIREBASE FATAL ERROR: ${Ey(...t)}`;throw Rd.error(e),new Error(e)},"fatal"),es=o(function(...t){const e="FIREBASE WARNING: "+Ey(...t);Rd.warn(e)},"warn$3"),Tae=o(function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&es("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},"warnIfPageIsSecure"),VU=o(function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},"isInvalidJSONNumber"),Sae=o(function(t){if(document.readyState==="complete")t();else{let e=!1;const n=o(function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())},"wrappedFn");document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},"executeWhenDOMReady"),ep="[MIN_NAME]",Tf="[MAX_NAME]",Lp=o(function(t,e){if(t===e)return 0;if(t===ep||e===Tf)return-1;if(e===ep||t===Tf)return 1;{const n=m4(t),r=m4(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},"nameCompare"),kae=o(function(t,e){return t===e?0:t<e?-1:1},"stringCompare"),xm=o(function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Sr(e))},"requireKey"),FI=o(function(t){if(typeof t!="object"||t===null)return Sr(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Sr(e[r]),n+=":",n+=FI(t[e[r]]);return n+="}",n},"ObjectToUniqueKey"),jU=o(function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r},"splitStringBySize");function Ls(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}o(Ls,"each");const WU=o(function(t){Ee(!VU(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,a,l,u;t===0?(s=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,a=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,a=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(u=n;u;u-=1)c.push(a%2?1:0),a=Math.floor(a/2);for(u=e;u;u-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const f=c.join("");let h="";for(u=0;u<64;u+=8){let d=parseInt(f.substr(u,8),2).toString(16);d.length===1&&(d="0"+d),h=h+d}return h.toLowerCase()},"doubleToIEEE754String"),Aae=o(function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},"isChromeExtensionContentScript"),Cae=o(function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},"isWindowsStoreApp"),Iae=new RegExp("^-?(0*)\\d{1,10}$"),Rae=-2147483648,Oae=2147483647,m4=o(function(t){if(Iae.test(t)){const e=Number(t);if(e>=Rae&&e<=Oae)return e}return null},"tryParseInt"),Ty=o(function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw es("Exception was thrown by user callback.",n),e},Math.floor(0))}},"exceptionGuard"),Nae=o(function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},"beingCrawled"),Tg=o(function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n},"setTimeoutNonBlocking");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mae{static{o(this,"AppCheckTokenProvider")}constructor(e,n){this.appCheckProvider=n,this.appName=e.name,ai(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){es(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dae{static{o(this,"FirebaseAuthTokenProvider")}constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Fr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',es(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="5",HU="v",GU="s",qU="r",KU="f",YU=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,XU="ls",JU="p",mk="ac",ZU="websocket",QU="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pae{static{o(this,"RepoInfo")}constructor(e,n,r,i,s=!1,a="",l=!1,u=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=u,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=jc.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&jc.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function $ae(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}o($ae,"repoInfoNeedsQueryParam");function e9(t,e,n){Ee(typeof e=="string","typeof type must == string"),Ee(typeof n=="object","typeof params must == object");let r;if(e===ZU)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===QU)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);$ae(t)&&(n.ns=t.namespace);const i=[];return Ls(n,(s,a)=>{i.push(s+"="+a)}),r+i.join("&")}o(e9,"repoInfoConnectionURL");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lae{static{o(this,"StatsCollection")}constructor(){this.counters_={}}incrementCounter(e,n=1){Ol(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Dee(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2={},M2={};function UI(t){const e=t.toString();return N2[e]||(N2[e]=new Lae),N2[e]}o(UI,"statsManagerGetCollection");function Fae(t,e){const n=t.toString();return M2[n]||(M2[n]=e()),M2[n]}o(Fae,"statsManagerGetOrCreateReporter");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bae{static{o(this,"PacketReceiver")}constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ty(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4="start",Uae="close",zae="pLPCommand",Vae="pRTLPCB",t9="id",n9="pw",r9="ser",jae="cb",Wae="seg",Hae="ts",Gae="d",qae="dframe",i9=1870,s9=30,Kae=i9-s9,Yae=25e3,Xae=3e4;class ld{static{o(this,"BrowserPollConnection")}constructor(e,n,r,i,s,a,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xy(e),this.stats_=UI(n),this.urlFn=u=>(this.appCheckToken&&(u[mk]=this.appCheckToken),e9(n,QU,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Bae(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Xae)),Sae(()=>{if(this.isClosed_)return;this.scriptTagHolder=new zI((...s)=>{const[a,l,u,c,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===g4)this.id=l,this.password=u;else if(a===Uae)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[g4]="t",r[r9]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[jae]=this.scriptTagHolder.uniqueCallbackIdentifier),r[HU]=BI,this.transportSessionId&&(r[GU]=this.transportSessionId),this.lastSessionId&&(r[XU]=this.lastSessionId),this.applicationId&&(r[JU]=this.applicationId),this.appCheckToken&&(r[mk]=this.appCheckToken),typeof location<"u"&&location.hostname&&YU.test(location.hostname)&&(r[qU]=KU);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ld.forceAllow_=!0}static forceDisallow(){ld.forceDisallow_=!0}static isAvailable(){return ld.forceAllow_?!0:!ld.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Aae()&&!Cae()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Sr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=m5(n),i=jU(r,Kae);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[qae]="t",r[t9]=e,r[n9]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Sr(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class zI{static{o(this,"FirebaseIFrameScriptHolder")}constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Eae(),window[zae+this.uniqueCallbackIdentifier]=e,window[Vae+this.uniqueCallbackIdentifier]=n,this.myIFrame=zI.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(l){Fr("frame writing exception"),l.stack&&Fr(l.stack),Fr(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Fr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[t9]=this.myID,e[n9]=this.myPW,e[r9]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+s9+r.length<=i9;){const a=this.pendingSegs.shift();r=r+"&"+Wae+i+"="+a.seg+"&"+Hae+i+"="+a.ts+"&"+Gae+i+"="+a.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=o(()=>{this.outstandingRequests.delete(n),this.newRequest_()},"doNewRequest"),i=setTimeout(r,Math.floor(Yae)),s=o(()=>{clearTimeout(i),r()},"readyStateCB");this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Fr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jae=16384,Zae=45e3;let aw=null;typeof MozWebSocket<"u"?aw=MozWebSocket:typeof WebSocket<"u"&&(aw=WebSocket);class Xs{static{o(this,"WebSocketConnection")}constructor(e,n,r,i,s,a,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xy(this.connId),this.stats_=UI(n),this.connURL=Xs.connectionURL_(n,a,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const a={};return a[HU]=BI,typeof location<"u"&&location.hostname&&YU.test(location.hostname)&&(a[qU]=KU),n&&(a[GU]=n),r&&(a[XU]=r),i&&(a[mk]=i),s&&(a[JU]=s),e9(e,ZU,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,jc.set("previous_websocket_failure",!0);try{let r;v5(),this.mySock=new aw(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Xs.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&aw!==null&&!Xs.forceDisallow_}static previouslyFailed(){return jc.isInMemoryStorage||jc.get("previous_websocket_failure")===!0}markConnectionHealthy(){jc.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=t0(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ee(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Sr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=jU(n,Jae);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Zae))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Xs.responsesRequiredToBeHealthy=2;Xs.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{static{o(this,"TransportManager")}static get ALL_TRANSPORTS(){return[ld,Xs]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Xs&&Xs.isAvailable();let r=n&&!Xs.previouslyFailed();if(e.webSocketOnly&&(n||es("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Xs];else{const i=this.transports_=[];for(const s of c0.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);c0.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}c0.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qae=6e4,ele=5e3,tle=10*1024,nle=100*1024,D2="t",y4="d",rle="s",_4="r",ile="e",b4="o",w4="a",v4="n",E4="p",sle="h";class ole{static{o(this,"Connection")}constructor(e,n,r,i,s,a,l,u,c,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xy("c:"+this.id+":"),this.transportManager_=new c0(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Tg(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>nle?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>tle?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(D2 in e){const n=e[D2];n===w4?this.upgradeIfSecondaryHealthy_():n===_4?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===b4&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=xm("t",e),r=xm("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:E4,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:w4,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:v4,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=xm("t",e),r=xm("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=xm(D2,e);if(y4 in e){const r=e[y4];if(n===sle){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===v4){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===rle?this.onConnectionShutdown_(r):n===_4?this.onReset_(r):n===ile?pk("Server Error: "+r):n===b4?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):pk("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),BI!==r&&es("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Tg(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Qae))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Tg(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(ele))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:E4,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(jc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{static{o(this,"ServerActions")}put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{static{o(this,"EventEmitter")}constructor(e){this.allowedEvents_=e,this.listeners_={},Ee(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){Ee(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw extends a9{static{o(this,"OnlineMonitor")}static getInstance(){return new lw}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!rI()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Ee(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=32,T4=768;class ln{static{o(this,"Path")}constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ft(){return new ln("")}o(Ft,"newEmptyPath");function _t(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}o(_t,"pathGetFront");function Uu(t){return t.pieces_.length-t.pieceNum_}o(Uu,"pathGetLength");function on(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ln(t.pieces_,e)}o(on,"pathPopFront");function l9(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}o(l9,"pathGetBack");function ale(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}o(ale,"pathToUrlEncodedString");function u9(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}o(u9,"pathSlice");function c9(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ln(e,0)}o(c9,"pathParent");function hr(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ln)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ln(n,0)}o(hr,"pathChild");function ht(t){return t.pieceNum_>=t.pieces_.length}o(ht,"pathIsEmpty");function ks(t,e){const n=_t(t),r=_t(e);if(n===null)return e;if(n===r)return ks(on(t),on(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}o(ks,"newRelativePath");function f9(t,e){if(Uu(t)!==Uu(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}o(f9,"pathEquals");function to(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Uu(t)>Uu(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}o(to,"pathContains");class lle{static{o(this,"ValidationPath")}constructor(e,n){this.errorPrefix_=n,this.parts_=u9(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=uE(this.parts_[r]);h9(this)}}function ule(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=uE(e),h9(t)}o(ule,"validationPathPush");function cle(t){const e=t.parts_.pop();t.byteLength_-=uE(e),t.parts_.length>0&&(t.byteLength_-=1)}o(cle,"validationPathPop");function h9(t){if(t.byteLength_>T4)throw new Error(t.errorPrefix_+"has a key path longer than "+T4+" bytes ("+t.byteLength_+").");if(t.parts_.length>x4)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+x4+") or object contains a cycle "+Pc(t))}o(h9,"validationPathCheckValid");function Pc(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}o(Pc,"validationPathToErrorString");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI extends a9{static{o(this,"VisibilityMonitor")}static getInstance(){return new VI}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return Ee(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm=1e3,fle=60*5*1e3,S4=30*1e3,hle=1.3,dle=3e4,ple="server_kill",k4=3;class gl extends o9{static{o(this,"PersistentConnection")}constructor(e,n,r,i,s,a,l,u){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=gl.nextPersistentConnectionId_++,this.log_=xy("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Tm,this.maxReconnectDelay_=fle,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!v5())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");VI.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&lw.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Sr(s)),Ee(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new e0,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o(a=>{const l=a.d;a.s==="ok"?n.resolve(l):n.reject(l)},"onComplete")};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),Ee(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ee(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},a="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(a,s,l=>{const u=l.d,c=l.s;gl.warnOnListenWarnings_(u,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,u))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ol(e,"w")){const r=qd(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();es(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Yee(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=S4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Kee(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,a=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Ee(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},a="n";i&&(s.q=r,s.t=i),this.sendRequest(a,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{i&&setTimeout(()=>{i(a.s,a.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const a={p:n,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Sr(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):pk("Unrecognized action received from server: "+Sr(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ee(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Tm,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Tm,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>dle&&(this.reconnectDelay_=Tm),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*hle)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+gl.nextConnectionId_++,s=this.lastSessionId;let a=!1,l=null;const u=o(function(){l?l.close():(a=!0,r())},"closeFn"),c=o(function(h){Ee(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)},"sendRequestFn");this.realtime_={close:u,sendRequest:c};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,d]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);a?Fr("getToken() completed but was canceled"):(Fr("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=d&&d.token,l=new ole(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{es(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(ple)},s))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&es(h),u())}}}interrupt(e){Fr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Fr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],US(this.interruptReasons_)&&(this.reconnectDelay_=Tm,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>FI(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ln(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Fr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=k4&&(this.reconnectDelay_=S4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Fr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=k4&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&""+e.msg.replace(`
`,`
FIREBASE: `)}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+BU.replace(/\./g,"-")]=1,rI()?e["framework.cordova"]=1:w5()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=lw.getInstance().currentlyOnline();return US(this.interruptReasons_)&&e}}gl.nextPersistentConnectionId_=0;gl.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static{o(this,"NamedNode")}constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new bt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{static{o(this,"Index")}getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new bt(ep,e),i=new bt(ep,n);return this.compare(r,i)!==0}minPost(){return bt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let J1;class d9 extends CE{static{o(this,"KeyIndex")}static get __EMPTY_NODE(){return J1}static set __EMPTY_NODE(e){J1=e}compare(e,n){return Lp(e.name,n.name)}isDefinedOn(e){throw Op("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return bt.MIN}maxPost(){return new bt(Tf,J1)}makePost(e,n){return Ee(typeof e=="string","KeyIndex indexValue must always be a string."),new bt(e,J1)}toString(){return".key"}}const Od=new d9;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{static{o(this,"SortedMapIterator")}constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class lr{static{o(this,"LLRBNode")}constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??lr.RED,this.left=i??Mi.EMPTY_NODE,this.right=s??Mi.EMPTY_NODE}copy(e,n,r,i,s){return new lr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Mi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Mi.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}lr.RED=!0;lr.BLACK=!1;class mle{static{o(this,"LLRBEmptyNode")}copy(e,n,r,i,s){return this}insert(e,n,r){return new lr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Mi{static{o(this,"SortedMap")}constructor(e,n=Mi.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Mi(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,lr.BLACK,null,null))}remove(e){return new Mi(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,lr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Z1(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Z1(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Z1(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Z1(this.root_,null,this.comparator_,!0,e)}}Mi.EMPTY_NODE=new mle;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gle(t,e){return Lp(t.name,e.name)}o(gle,"NAME_ONLY_COMPARATOR");function jI(t,e){return Lp(t,e)}o(jI,"NAME_COMPARATOR");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gk;function yle(t){gk=t}o(yle,"setMaxNode$1");const p9=o(function(t){return typeof t=="number"?"number:"+WU(t):"string:"+t},"priorityHashText"),m9=o(function(t){if(t.isLeafNode()){const e=t.val();Ee(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ol(e,".sv"),"Priority must be a string or number.")}else Ee(t===gk||t.isEmpty(),"priority of unexpected type.");Ee(t===gk||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},"validatePriorityNode");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A4;class or{static{o(this,"LeafNode")}static set __childrenNodeConstructor(e){A4=e}static get __childrenNodeConstructor(){return A4}constructor(e,n=or.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Ee(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),m9(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new or(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:or.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ht(e)?this:_t(e)===".priority"?this.priorityNode_:or.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:or.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=_t(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Ee(r!==".priority"||Uu(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,or.__childrenNodeConstructor.EMPTY_NODE.updateChild(on(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+p9(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=WU(this.value_):e+=this.value_,this.lazyHash_=zU(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===or.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof or.__childrenNodeConstructor?-1:(Ee(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=or.VALUE_TYPE_ORDER.indexOf(n),s=or.VALUE_TYPE_ORDER.indexOf(r);return Ee(i>=0,"Unknown leaf type: "+n),Ee(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}or.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g9,y9;function _le(t){g9=t}o(_le,"setNodeFromJSON");function ble(t){y9=t}o(ble,"setMaxNode");class wle extends CE{static{o(this,"PriorityIndex")}compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Lp(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return bt.MIN}maxPost(){return new bt(Tf,new or("[PRIORITY-POST]",y9))}makePost(e,n){const r=g9(e);return new bt(n,new or("[PRIORITY-POST]",r))}toString(){return".priority"}}const zr=new wle;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vle=Math.log(2);class Ele{static{o(this,"Base12Num")}constructor(e){const n=o(s=>parseInt(Math.log(s)/vle,10),"logBase2"),r=o(s=>parseInt(Array(s+1).join("1"),2),"bitMask");this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const uw=o(function(t,e,n,r){t.sort(e);const i=o(function(u,c){const f=c-u;let h,d;if(f===0)return null;if(f===1)return h=t[u],d=n?n(h):h,new lr(d,h.node,lr.BLACK,null,null);{const p=parseInt(f/2,10)+u,m=i(u,p),y=i(p+1,c);return h=t[p],d=n?n(h):h,new lr(d,h.node,lr.BLACK,m,y)}},"buildBalancedTree"),s=o(function(u){let c=null,f=null,h=t.length;const d=o(function(m,y){const _=h-m,b=h;h-=m;const S=i(_+1,b),v=t[_],k=n?n(v):v;p(new lr(k,v.node,y,null,S))},"buildPennant"),p=o(function(m){c?(c.left=m,c=m):(f=m,c=m)},"attachPennant");for(let m=0;m<u.count;++m){const y=u.nextBitIsOne(),_=Math.pow(2,u.count-(m+1));y?d(_,lr.BLACK):(d(_,lr.BLACK),d(_,lr.RED))}return f},"buildFrom12Array"),a=new Ele(t.length),l=s(a);return new Mi(r||e,l)},"buildChildSet");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P2;const Nh={};class fl{static{o(this,"IndexMap")}static get Default(){return Ee(Nh&&zr,"ChildrenNode.ts has not been loaded"),P2=P2||new fl({".priority":Nh},{".priority":zr}),P2}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=qd(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Mi?n:null}hasIndex(e){return Ol(this.indexSet_,e.toString())}addIndex(e,n){Ee(e!==Od,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(bt.Wrap);let a=s.getNext();for(;a;)i=i||e.isDefinedOn(a.node),r.push(a),a=s.getNext();let l;i?l=uw(r,e.getCompare()):l=Nh;const u=e.toString(),c=Object.assign({},this.indexSet_);c[u]=e;const f=Object.assign({},this.indexes_);return f[u]=l,new fl(f,c)}addToIndexes(e,n){const r=Fb(this.indexes_,(i,s)=>{const a=qd(this.indexSet_,s);if(Ee(a,"Missing index implementation for "+s),i===Nh)if(a.isDefinedOn(e.node)){const l=[],u=n.getIterator(bt.Wrap);let c=u.getNext();for(;c;)c.name!==e.name&&l.push(c),c=u.getNext();return l.push(e),uw(l,a.getCompare())}else return Nh;else{const l=n.get(e.name);let u=i;return l&&(u=u.remove(new bt(e.name,l))),u.insert(e,e.node)}});return new fl(r,this.indexSet_)}removeFromIndexes(e,n){const r=Fb(this.indexes_,i=>{if(i===Nh)return i;{const s=n.get(e.name);return s?i.remove(new bt(e.name,s)):i}});return new fl(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sm;class Ot{static{o(this,"ChildrenNode")}static get EMPTY_NODE(){return Sm||(Sm=new Ot(new Mi(jI),null,fl.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&m9(this.priorityNode_),this.children_.isEmpty()&&Ee(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Sm}updatePriority(e){return this.children_.isEmpty()?this:new Ot(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Sm:n}}getChild(e){const n=_t(e);return n===null?this:this.getImmediateChild(n).getChild(on(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Ee(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new bt(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const a=i.isEmpty()?Sm:this.priorityNode_;return new Ot(i,a,s)}}updateChild(e,n){const r=_t(e);if(r===null)return n;{Ee(_t(e)!==".priority"||Uu(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(on(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(zr,(a,l)=>{n[a]=l.val(e),r++,s&&Ot.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):s=!1}),!e&&s&&i<2*r){const a=[];for(const l in n)a[l]=n[l];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+p9(this.getPriority().val())+":"),this.forEachChild(zr,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":zU(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new bt(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new bt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new bt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,bt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,bt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Sy?-1:0}withIndex(e){if(e===Od||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ot(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Od||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(zr),i=n.getIterator(zr);let s=r.getNext(),a=i.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Od?null:this.indexMap_.get(e.toString())}}Ot.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class xle extends Ot{static{o(this,"MaxNode")}constructor(){super(new Mi(jI),Ot.EMPTY_NODE,fl.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ot.EMPTY_NODE}isEmpty(){return!1}}const Sy=new xle;Object.defineProperties(bt,{MIN:{value:new bt(ep,Ot.EMPTY_NODE)},MAX:{value:new bt(Tf,Sy)}});d9.__EMPTY_NODE=Ot.EMPTY_NODE;or.__childrenNodeConstructor=Ot;yle(Sy);ble(Sy);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tle=!0;function Br(t,e=null){if(t===null)return Ot.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Ee(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new or(n,Br(e))}if(!(t instanceof Array)&&Tle){const n=[];let r=!1;if(Ls(t,(a,l)=>{if(a.substring(0,1)!=="."){const u=Br(l);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new bt(a,u)))}}),n.length===0)return Ot.EMPTY_NODE;const s=uw(n,gle,a=>a.name,jI);if(r){const a=uw(n,zr.getCompare());return new Ot(s,Br(e),new fl({".priority":a},{".priority":zr}))}else return new Ot(s,Br(e),fl.Default)}else{let n=Ot.EMPTY_NODE;return Ls(t,(r,i)=>{if(Ol(t,r)&&r.substring(0,1)!=="."){const s=Br(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Br(e))}}o(Br,"nodeFromJSON");_le(Br);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sle extends CE{static{o(this,"PathIndex")}constructor(e){super(),this.indexPath_=e,Ee(!ht(e)&&_t(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Lp(e.name,n.name):s}makePost(e,n){const r=Br(e),i=Ot.EMPTY_NODE.updateChild(this.indexPath_,r);return new bt(n,i)}maxPost(){const e=Ot.EMPTY_NODE.updateChild(this.indexPath_,Sy);return new bt(Tf,e)}toString(){return u9(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kle extends CE{static{o(this,"ValueIndex")}compare(e,n){const r=e.node.compareTo(n.node);return r===0?Lp(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return bt.MIN}maxPost(){return bt.MAX}makePost(e,n){const r=Br(e);return new bt(n,r)}toString(){return".value"}}const Ale=new kle;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cle(t){return{type:"value",snapshotNode:t}}o(Cle,"changeValue");function Ile(t,e){return{type:"child_added",snapshotNode:e,childName:t}}o(Ile,"changeChildAdded");function Rle(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}o(Rle,"changeChildRemoved");function C4(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}o(C4,"changeChildChanged");function Ole(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}o(Ole,"changeChildMoved");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{static{o(this,"QueryParams")}constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=zr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ee(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ee(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ep}hasEnd(){return this.endSet_}getIndexEndValue(){return Ee(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ee(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Tf}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ee(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===zr}copy(){const e=new WI;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function I4(t){const e={};if(t.isDefault())return e;let n;if(t.index_===zr?n="$priority":t.index_===Ale?n="$value":t.index_===Od?n="$key":(Ee(t.index_ instanceof Sle,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Sr(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Sr(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Sr(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Sr(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Sr(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}o(I4,"queryParamsToRestQueryStringParameters");function R4(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==zr&&(e.i=t.index_.toString()),e}o(R4,"queryParamsGetQueryObject");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw extends o9{static{o(this,"ReadonlyRestClient")}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Ee(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=xy("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=cw.getListenId_(e,r),l={};this.listens_[a]=l;const u=I4(e._queryParams);this.restRequest_(s+".json",u,(c,f)=>{let h=f;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(s,h,!1,r),qd(this.listens_,a)===l){let d;c?c===401?d="permission_denied":d="rest_error:"+c:d="ok",i(d,null)}})}unlisten(e,n){const r=cw.getListenId_(e,n);delete this.listens_[r]}get(e){const n=I4(e._queryParams),r=e._path.toString(),i=new e0;return this.restRequest_(r+".json",n,(s,a)=>{let l=a;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Mp(n);this.log_("Sending REST request for "+a);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+a+" received. status:",l.status,"response:",l.responseText);let u=null;if(l.status>=200&&l.status<300){try{u=t0(l.responseText)}catch{es("Failed to parse JSON response for "+a+": "+l.responseText)}r(null,u)}else l.status!==401&&l.status!==404&&es("Got unsuccessful REST response for "+a+" Status: "+l.status),r(l.status);r=null}},l.open("GET",a,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nle{static{o(this,"SnapshotHolder")}constructor(){this.rootNode_=Ot.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(){return{value:null,children:new Map}}o(fw,"newSparseSnapshotTree");function _9(t,e,n){if(ht(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=_t(e);t.children.has(r)||t.children.set(r,fw());const i=t.children.get(r);e=on(e),_9(i,e,n)}}o(_9,"sparseSnapshotTreeRemember");function yk(t,e,n){t.value!==null?n(e,t.value):Mle(t,(r,i)=>{const s=new ln(e.toString()+"/"+r);yk(i,s,n)})}o(yk,"sparseSnapshotTreeForEachTree");function Mle(t,e){t.children.forEach((n,r)=>{e(r,n)})}o(Mle,"sparseSnapshotTreeForEachChild");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dle{static{o(this,"StatsListener")}constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ls(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=10*1e3,Ple=30*1e3,$le=5*60*1e3;class Lle{static{o(this,"StatsReporter")}constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Dle(e);const r=O4+(Ple-O4)*Math.random();Tg(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ls(e,(i,s)=>{s>0&&Ol(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Tg(this.reportStats_.bind(this),Math.floor(Math.random()*2*$le))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var na;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(na||(na={}));function b9(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}o(b9,"newOperationSourceUser");function w9(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}o(w9,"newOperationSourceServer");function v9(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}o(v9,"newOperationSourceServerTaggedQuery");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{static{o(this,"AckUserWrite")}constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=na.ACK_USER_WRITE,this.source=b9()}operationForChild(e){if(ht(this.path)){if(this.affectedTree.value!=null)return Ee(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ln(e));return new hw(Ft(),n,this.revert)}}else return Ee(_t(this.path)===e,"operationForChild called for unrelated child."),new hw(on(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{static{o(this,"Overwrite")}constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=na.OVERWRITE}operationForChild(e){return ht(this.path)?new Sf(this.source,Ft(),this.snap.getImmediateChild(e)):new Sf(this.source,on(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{static{o(this,"Merge")}constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=na.MERGE}operationForChild(e){if(ht(this.path)){const n=this.children.subtree(new ln(e));return n.isEmpty()?null:n.value?new Sf(this.source,Ft(),n.value):new f0(this.source,Ft(),n)}else return Ee(_t(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new f0(this.source,on(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{static{o(this,"CacheNode")}constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ht(e))return this.isFullyInitialized()&&!this.filtered_;const n=_t(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Fle(t,e,n,r){const i=[],s=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(Ole(a.childName,a.snapshotNode))}),km(t,i,"child_removed",e,r,n),km(t,i,"child_added",e,r,n),km(t,i,"child_moved",s,r,n),km(t,i,"child_changed",e,r,n),km(t,i,"value",e,r,n),i}o(Fle,"eventGeneratorGenerateEventsForChanges");function km(t,e,n,r,i,s){const a=r.filter(l=>l.type===n);a.sort((l,u)=>Ule(t,l,u)),a.forEach(l=>{const u=Ble(t,l,s);i.forEach(c=>{c.respondsTo(l.type)&&e.push(c.createEvent(u,t.query_))})})}o(km,"eventGeneratorGenerateEventsForType");function Ble(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}o(Ble,"eventGeneratorMaterializeSingleChange");function Ule(t,e,n){if(e.childName==null||n.childName==null)throw Op("Should only compare child_ events.");const r=new bt(e.childName,e.snapshotNode),i=new bt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}o(Ule,"eventGeneratorCompareChanges");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(t,e){return{eventCache:t,serverCache:e}}o(E9,"newViewCache");function Sg(t,e,n,r){return E9(new HI(e,n,r),t.serverCache)}o(Sg,"viewCacheUpdateEventSnap");function x9(t,e,n,r){return E9(t.eventCache,new HI(e,n,r))}o(x9,"viewCacheUpdateServerSnap");function _k(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}o(_k,"viewCacheGetCompleteEventSnap");function kf(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}o(kf,"viewCacheGetCompleteServerSnap");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $2;const zle=o(()=>($2||($2=new Mi(kae)),$2),"EmptyChildren");class sn{static{o(this,"ImmutableTree")}static fromObject(e){let n=new sn(null);return Ls(e,(r,i)=>{n=n.set(new ln(r),i)}),n}constructor(e,n=zle()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ft(),value:this.value};if(ht(e))return null;{const r=_t(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(on(e),n);return s!=null?{path:hr(new ln(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ht(e))return this;{const n=_t(e),r=this.children.get(n);return r!==null?r.subtree(on(e)):new sn(null)}}set(e,n){if(ht(e))return new sn(n,this.children);{const r=_t(e),s=(this.children.get(r)||new sn(null)).set(on(e),n),a=this.children.insert(r,s);return new sn(this.value,a)}}remove(e){if(ht(e))return this.children.isEmpty()?new sn(null):new sn(null,this.children);{const n=_t(e),r=this.children.get(n);if(r){const i=r.remove(on(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new sn(null):new sn(this.value,s)}else return this}}get(e){if(ht(e))return this.value;{const n=_t(e),r=this.children.get(n);return r?r.get(on(e)):null}}setTree(e,n){if(ht(e))return n;{const r=_t(e),s=(this.children.get(r)||new sn(null)).setTree(on(e),n);let a;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new sn(this.value,a)}}fold(e){return this.fold_(Ft(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(hr(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ft(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(ht(e))return null;{const s=_t(e),a=this.children.get(s);return a?a.findOnPath_(on(e),hr(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ft(),n)}foreachOnPath_(e,n,r){if(ht(e))return this;{this.value&&r(n,this.value);const i=_t(e),s=this.children.get(i);return s?s.foreachOnPath_(on(e),hr(n,i),r):new sn(null)}}foreach(e){this.foreach_(Ft(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(hr(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{static{o(this,"CompoundWrite")}constructor(e){this.writeTree_=e}static empty(){return new co(new sn(null))}}function kg(t,e,n){if(ht(e))return new co(new sn(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const a=ks(i,e);return s=s.updateChild(a,n),new co(t.writeTree_.set(i,s))}else{const i=new sn(n),s=t.writeTree_.setTree(e,i);return new co(s)}}}o(kg,"compoundWriteAddWrite");function N4(t,e,n){let r=t;return Ls(n,(i,s)=>{r=kg(r,hr(e,i),s)}),r}o(N4,"compoundWriteAddWrites");function M4(t,e){if(ht(e))return co.empty();{const n=t.writeTree_.setTree(e,new sn(null));return new co(n)}}o(M4,"compoundWriteRemoveWrite");function bk(t,e){return eh(t,e)!=null}o(bk,"compoundWriteHasCompleteWrite");function eh(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ks(n.path,e)):null}o(eh,"compoundWriteGetCompleteNode");function D4(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(zr,(r,i)=>{e.push(new bt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new bt(r,i.value))}),e}o(D4,"compoundWriteGetCompleteChildren");function Ou(t,e){if(ht(e))return t;{const n=eh(t,e);return n!=null?new co(new sn(n)):new co(t.writeTree_.subtree(e))}}o(Ou,"compoundWriteChildCompoundWrite");function wk(t){return t.writeTree_.isEmpty()}o(wk,"compoundWriteIsEmpty");function tp(t,e){return T9(Ft(),t.writeTree_,e)}o(tp,"compoundWriteApply");function T9(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(Ee(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=T9(hr(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(hr(t,".priority"),r)),n}}o(T9,"applySubtreeWrite");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S9(t,e){return R9(e,t)}o(S9,"writeTreeChildWrites");function Vle(t,e,n,r,i){Ee(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=kg(t.visibleWrites,e,n)),t.lastWriteId=r}o(Vle,"writeTreeAddOverwrite");function jle(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}o(jle,"writeTreeGetWrite");function Wle(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);Ee(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,a=t.allWrites.length-1;for(;i&&a>=0;){const l=t.allWrites[a];l.visible&&(a>=n&&Hle(l,r.path)?i=!1:to(r.path,l.path)&&(s=!0)),a--}if(i){if(s)return Gle(t),!0;if(r.snap)t.visibleWrites=M4(t.visibleWrites,r.path);else{const l=r.children;Ls(l,u=>{t.visibleWrites=M4(t.visibleWrites,hr(r.path,u))})}return!0}else return!1}o(Wle,"writeTreeRemoveWrite");function Hle(t,e){if(t.snap)return to(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&to(hr(t.path,n),e))return!0;return!1}o(Hle,"writeTreeRecordContainsPath_");function Gle(t){t.visibleWrites=k9(t.allWrites,qle,Ft()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}o(Gle,"writeTreeResetTree_");function qle(t){return t.visible}o(qle,"writeTreeDefaultFilter_");function k9(t,e,n){let r=co.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const a=s.path;let l;if(s.snap)to(n,a)?(l=ks(n,a),r=kg(r,l,s.snap)):to(a,n)&&(l=ks(a,n),r=kg(r,Ft(),s.snap.getChild(l)));else if(s.children){if(to(n,a))l=ks(n,a),r=N4(r,l,s.children);else if(to(a,n))if(l=ks(a,n),ht(l))r=N4(r,Ft(),s.children);else{const u=qd(s.children,_t(l));if(u){const c=u.getChild(on(l));r=kg(r,Ft(),c)}}}else throw Op("WriteRecord should have .snap or .children")}}return r}o(k9,"writeTreeLayerTree_");function A9(t,e,n,r,i){if(!r&&!i){const s=eh(t.visibleWrites,e);if(s!=null)return s;{const a=Ou(t.visibleWrites,e);if(wk(a))return n;if(n==null&&!bk(a,Ft()))return null;{const l=n||Ot.EMPTY_NODE;return tp(a,l)}}}else{const s=Ou(t.visibleWrites,e);if(!i&&wk(s))return n;if(!i&&n==null&&!bk(s,Ft()))return null;{const a=o(function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(to(c.path,e)||to(e,c.path))},"filter"),l=k9(t.allWrites,a,e),u=n||Ot.EMPTY_NODE;return tp(l,u)}}}o(A9,"writeTreeCalcCompleteEventCache");function Kle(t,e,n){let r=Ot.EMPTY_NODE;const i=eh(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(zr,(s,a)=>{r=r.updateImmediateChild(s,a)}),r;if(n){const s=Ou(t.visibleWrites,e);return n.forEachChild(zr,(a,l)=>{const u=tp(Ou(s,new ln(a)),l);r=r.updateImmediateChild(a,u)}),D4(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const s=Ou(t.visibleWrites,e);return D4(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}o(Kle,"writeTreeCalcCompleteEventChildren");function Yle(t,e,n,r,i){Ee(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=hr(e,n);if(bk(t.visibleWrites,s))return null;{const a=Ou(t.visibleWrites,s);return wk(a)?i.getChild(n):tp(a,i.getChild(n))}}o(Yle,"writeTreeCalcEventCacheAfterServerOverwrite");function Xle(t,e,n,r){const i=hr(e,n),s=eh(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const a=Ou(t.visibleWrites,i);return tp(a,r.getNode().getImmediateChild(n))}else return null}o(Xle,"writeTreeCalcCompleteChild");function Jle(t,e){return eh(t.visibleWrites,e)}o(Jle,"writeTreeShadowingWrite");function Zle(t,e,n,r,i,s,a){let l;const u=Ou(t.visibleWrites,e),c=eh(u,Ft());if(c!=null)l=c;else if(n!=null)l=tp(u,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){const f=[],h=a.getCompare(),d=s?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a);let p=d.getNext();for(;p&&f.length<i;)h(p,r)!==0&&f.push(p),p=d.getNext();return f}else return[]}o(Zle,"writeTreeCalcIndexedSlice");function Qle(){return{visibleWrites:co.empty(),allWrites:[],lastWriteId:-1}}o(Qle,"newWriteTree");function vk(t,e,n,r){return A9(t.writeTree,t.treePath,e,n,r)}o(vk,"writeTreeRefCalcCompleteEventCache");function C9(t,e){return Kle(t.writeTree,t.treePath,e)}o(C9,"writeTreeRefCalcCompleteEventChildren");function P4(t,e,n,r){return Yle(t.writeTree,t.treePath,e,n,r)}o(P4,"writeTreeRefCalcEventCacheAfterServerOverwrite");function dw(t,e){return Jle(t.writeTree,hr(t.treePath,e))}o(dw,"writeTreeRefShadowingWrite");function eue(t,e,n,r,i,s){return Zle(t.writeTree,t.treePath,e,n,r,i,s)}o(eue,"writeTreeRefCalcIndexedSlice");function GI(t,e,n){return Xle(t.writeTree,t.treePath,e,n)}o(GI,"writeTreeRefCalcCompleteChild");function I9(t,e){return R9(hr(t.treePath,e),t.writeTree)}o(I9,"writeTreeRefChild");function R9(t,e){return{treePath:t,writeTree:e}}o(R9,"newWriteTreeRef");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tue{static{o(this,"ChildChangeAccumulator")}constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Ee(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Ee(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,C4(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Rle(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Ile(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,C4(r,e.snapshotNode,i.oldSnap));else throw Op("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nue{static{o(this,"NoCompleteChildSource_")}getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const O9=new nue;class qI{static{o(this,"WriteTreeCompleteChildSource")}constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new HI(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return GI(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:kf(this.viewCache_),s=eue(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function rue(t,e){Ee(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Ee(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}o(rue,"viewProcessorAssertIndexed");function iue(t,e,n,r,i){const s=new tue;let a,l;if(n.type===na.OVERWRITE){const c=n;c.source.fromUser?a=Ek(t,e,c.path,c.snap,r,i,s):(Ee(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered()&&!ht(c.path),a=pw(t,e,c.path,c.snap,r,i,l,s))}else if(n.type===na.MERGE){const c=n;c.source.fromUser?a=oue(t,e,c.path,c.children,r,i,s):(Ee(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered(),a=xk(t,e,c.path,c.children,r,i,l,s))}else if(n.type===na.ACK_USER_WRITE){const c=n;c.revert?a=uue(t,e,c.path,r,i,s):a=aue(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===na.LISTEN_COMPLETE)a=lue(t,e,n.path,r,s);else throw Op("Unknown operation type: "+n.type);const u=s.getChanges();return sue(e,a,u),{viewCache:a,changes:u}}o(iue,"viewProcessorApplyOperation");function sue(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=_k(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Cle(_k(e)))}}o(sue,"viewProcessorMaybeAddValueEvent");function N9(t,e,n,r,i,s){const a=e.eventCache;if(dw(r,n)!=null)return e;{let l,u;if(ht(n))if(Ee(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=kf(e),f=c instanceof Ot?c:Ot.EMPTY_NODE,h=C9(r,f);l=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const c=vk(r,kf(e));l=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=_t(n);if(c===".priority"){Ee(Uu(n)===1,"Can't have a priority with additional path components");const f=a.getNode();u=e.serverCache.getNode();const h=P4(r,n,f,u);h!=null?l=t.filter.updatePriority(f,h):l=a.getNode()}else{const f=on(n);let h;if(a.isCompleteForChild(c)){u=e.serverCache.getNode();const d=P4(r,n,a.getNode(),u);d!=null?h=a.getNode().getImmediateChild(c).updateChild(f,d):h=a.getNode().getImmediateChild(c)}else h=GI(r,c,e.serverCache);h!=null?l=t.filter.updateChild(a.getNode(),c,h,f,i,s):l=a.getNode()}}return Sg(e,l,a.isFullyInitialized()||ht(n),t.filter.filtersNodes())}}o(N9,"viewProcessorGenerateEventCacheAfterServerEvent");function pw(t,e,n,r,i,s,a,l){const u=e.serverCache;let c;const f=a?t.filter:t.filter.getIndexedFilter();if(ht(n))c=f.updateFullNode(u.getNode(),r,null);else if(f.filtersNodes()&&!u.isFiltered()){const p=u.getNode().updateChild(n,r);c=f.updateFullNode(u.getNode(),p,null)}else{const p=_t(n);if(!u.isCompleteForPath(n)&&Uu(n)>1)return e;const m=on(n),_=u.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?c=f.updatePriority(u.getNode(),_):c=f.updateChild(u.getNode(),p,_,m,O9,null)}const h=x9(e,c,u.isFullyInitialized()||ht(n),f.filtersNodes()),d=new qI(i,h,s);return N9(t,h,n,i,d,l)}o(pw,"viewProcessorApplyServerOverwrite");function Ek(t,e,n,r,i,s,a){const l=e.eventCache;let u,c;const f=new qI(i,e,s);if(ht(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,a),u=Sg(e,c,!0,t.filter.filtersNodes());else{const h=_t(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),u=Sg(e,c,l.isFullyInitialized(),l.isFiltered());else{const d=on(n),p=l.getNode().getImmediateChild(h);let m;if(ht(d))m=r;else{const y=f.getCompleteChild(h);y!=null?l9(d)===".priority"&&y.getChild(c9(d)).isEmpty()?m=y:m=y.updateChild(d,r):m=Ot.EMPTY_NODE}if(p.equals(m))u=e;else{const y=t.filter.updateChild(l.getNode(),h,m,d,f,a);u=Sg(e,y,l.isFullyInitialized(),t.filter.filtersNodes())}}}return u}o(Ek,"viewProcessorApplyUserOverwrite");function $4(t,e){return t.eventCache.isCompleteForChild(e)}o($4,"viewProcessorCacheHasChild");function oue(t,e,n,r,i,s,a){let l=e;return r.foreach((u,c)=>{const f=hr(n,u);$4(e,_t(f))&&(l=Ek(t,l,f,c,i,s,a))}),r.foreach((u,c)=>{const f=hr(n,u);$4(e,_t(f))||(l=Ek(t,l,f,c,i,s,a))}),l}o(oue,"viewProcessorApplyUserMerge");function L4(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}o(L4,"viewProcessorApplyMerge");function xk(t,e,n,r,i,s,a,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,c;ht(n)?c=r:c=new sn(null).setTree(n,r);const f=e.serverCache.getNode();return c.children.inorderTraversal((h,d)=>{if(f.hasChild(h)){const p=e.serverCache.getNode().getImmediateChild(h),m=L4(t,p,d);u=pw(t,u,new ln(h),m,i,s,a,l)}}),c.children.inorderTraversal((h,d)=>{const p=!e.serverCache.isCompleteForChild(h)&&d.value===null;if(!f.hasChild(h)&&!p){const m=e.serverCache.getNode().getImmediateChild(h),y=L4(t,m,d);u=pw(t,u,new ln(h),y,i,s,a,l)}}),u}o(xk,"viewProcessorApplyServerMerge");function aue(t,e,n,r,i,s,a){if(dw(i,n)!=null)return e;const l=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(ht(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return pw(t,e,n,u.getNode().getChild(n),i,s,l,a);if(ht(n)){let c=new sn(null);return u.getNode().forEachChild(Od,(f,h)=>{c=c.set(new ln(f),h)}),xk(t,e,n,c,i,s,l,a)}else return e}else{let c=new sn(null);return r.foreach((f,h)=>{const d=hr(n,f);u.isCompleteForPath(d)&&(c=c.set(f,u.getNode().getChild(d)))}),xk(t,e,n,c,i,s,l,a)}}o(aue,"viewProcessorAckUserWrite");function lue(t,e,n,r,i){const s=e.serverCache,a=x9(e,s.getNode(),s.isFullyInitialized()||ht(n),s.isFiltered());return N9(t,a,n,r,O9,i)}o(lue,"viewProcessorListenComplete");function uue(t,e,n,r,i,s){let a;if(dw(r,n)!=null)return e;{const l=new qI(r,e,i),u=e.eventCache.getNode();let c;if(ht(n)||_t(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=vk(r,kf(e));else{const h=e.serverCache.getNode();Ee(h instanceof Ot,"serverChildren would be complete if leaf node"),f=C9(r,h)}f=f,c=t.filter.updateFullNode(u,f,s)}else{const f=_t(n);let h=GI(r,f,e.serverCache);h==null&&e.serverCache.isCompleteForChild(f)&&(h=u.getImmediateChild(f)),h!=null?c=t.filter.updateChild(u,f,h,on(n),l,s):e.eventCache.getNode().hasChild(f)?c=t.filter.updateChild(u,f,Ot.EMPTY_NODE,on(n),l,s):c=u,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=vk(r,kf(e)),a.isLeafNode()&&(c=t.filter.updateFullNode(c,a,s)))}return a=e.serverCache.isFullyInitialized()||dw(r,Ft())!=null,Sg(e,c,a,t.filter.filtersNodes())}}o(uue,"viewProcessorRevertUserWrite");function cue(t,e){const n=kf(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ht(e)&&!n.getImmediateChild(_t(e)).isEmpty())?n.getChild(e):null}o(cue,"viewGetCompleteServerCache");function F4(t,e,n,r){e.type===na.MERGE&&e.source.queryId!==null&&(Ee(kf(t.viewCache_),"We should always have a full cache before handling merges"),Ee(_k(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=iue(t.processor_,i,e,n,r);return rue(t.processor_,s.viewCache),Ee(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,fue(t,s.changes,s.viewCache.eventCache.getNode())}o(F4,"viewApplyOperation");function fue(t,e,n,r){const i=t.eventRegistrations_;return Fle(t.eventGenerator_,e,n,i)}o(fue,"viewGenerateEventsForChanges_");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B4;function hue(t){Ee(!B4,"__referenceConstructor has already been defined"),B4=t}o(hue,"syncPointSetReferenceConstructor");function KI(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return Ee(s!=null,"SyncTree gave us an op for an invalid query."),F4(s,e,n,r)}else{let s=[];for(const a of t.views.values())s=s.concat(F4(a,e,n,r));return s}}o(KI,"syncPointApplyOperation");function YI(t,e){let n=null;for(const r of t.views.values())n=n||cue(r,e);return n}o(YI,"syncPointGetCompleteServerCache");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let U4;function due(t){Ee(!U4,"__referenceConstructor has already been defined"),U4=t}o(due,"syncTreeSetReferenceConstructor");class z4{static{o(this,"SyncTree")}constructor(e){this.listenProvider_=e,this.syncPointTree_=new sn(null),this.pendingWriteTree_=Qle(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function pue(t,e,n,r,i){return Vle(t.pendingWriteTree_,e,n,r,i),i?RE(t,new Sf(b9(),e,n)):[]}o(pue,"syncTreeApplyUserOverwrite");function ud(t,e,n=!1){const r=jle(t.pendingWriteTree_,e);if(Wle(t.pendingWriteTree_,e)){let s=new sn(null);return r.snap!=null?s=s.set(Ft(),!0):Ls(r.children,a=>{s=s.set(new ln(a),!0)}),RE(t,new hw(r.path,s,n))}else return[]}o(ud,"syncTreeAckUserWrite");function IE(t,e,n){return RE(t,new Sf(w9(),e,n))}o(IE,"syncTreeApplyServerOverwrite");function mue(t,e,n){const r=sn.fromObject(n);return RE(t,new f0(w9(),e,r))}o(mue,"syncTreeApplyServerMerge");function gue(t,e,n,r){const i=$9(t,r);if(i!=null){const s=L9(i),a=s.path,l=s.queryId,u=ks(a,e),c=new Sf(v9(l),u,n);return F9(t,a,c)}else return[]}o(gue,"syncTreeApplyTaggedQueryOverwrite");function yue(t,e,n,r){const i=$9(t,r);if(i){const s=L9(i),a=s.path,l=s.queryId,u=ks(a,e),c=sn.fromObject(n),f=new f0(v9(l),u,c);return F9(t,a,f)}else return[]}o(yue,"syncTreeApplyTaggedQueryMerge");function M9(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(a,l)=>{const u=ks(a,e),c=YI(l,u);if(c)return c});return A9(i,e,s,n,!0)}o(M9,"syncTreeCalcCompleteEventCache");function RE(t,e){return D9(e,t.syncPointTree_,null,S9(t.pendingWriteTree_,Ft()))}o(RE,"syncTreeApplyOperationToSyncPoints_");function D9(t,e,n,r){if(ht(t.path))return P9(t,e,n,r);{const i=e.get(Ft());n==null&&i!=null&&(n=YI(i,Ft()));let s=[];const a=_t(t.path),l=t.operationForChild(a),u=e.children.get(a);if(u&&l){const c=n?n.getImmediateChild(a):null,f=I9(r,a);s=s.concat(D9(l,u,c,f))}return i&&(s=s.concat(KI(i,t,r,n))),s}}o(D9,"syncTreeApplyOperationHelper_");function P9(t,e,n,r){const i=e.get(Ft());n==null&&i!=null&&(n=YI(i,Ft()));let s=[];return e.children.inorderTraversal((a,l)=>{const u=n?n.getImmediateChild(a):null,c=I9(r,a),f=t.operationForChild(a);f&&(s=s.concat(P9(f,l,u,c)))}),i&&(s=s.concat(KI(i,t,r,n))),s}o(P9,"syncTreeApplyOperationDescendantsHelper_");function $9(t,e){return t.tagToQueryMap.get(e)}o($9,"syncTreeQueryKeyForTag_");function L9(t){const e=t.indexOf("$");return Ee(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ln(t.substr(0,e))}}o(L9,"syncTreeParseQueryKey_");function F9(t,e,n){const r=t.syncPointTree_.get(e);Ee(r,"Missing sync point for query tag that we're tracking");const i=S9(t.pendingWriteTree_,e);return KI(r,n,i,null)}o(F9,"syncTreeApplyTaggedOperation_");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{static{o(this,"ExistingValueProvider")}constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new XI(n)}node(){return this.node_}}class JI{static{o(this,"DeferredValueProvider")}constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=hr(this.path_,e);return new JI(this.syncTree_,n)}node(){return M9(this.syncTree_,this.path_)}}const _ue=o(function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},"generateWithValues"),V4=o(function(t,e,n){if(!t||typeof t!="object")return t;if(Ee(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return bue(t[".sv"],e,n);if(typeof t[".sv"]=="object")return wue(t[".sv"],e);Ee(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},"resolveDeferredLeafValue"),bue=o(function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Ee(!1,"Unexpected server value: "+t)}},"resolveScalarDeferredValue"),wue=o(function(t,e,n){t.hasOwnProperty("increment")||Ee(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Ee(!1,"Unexpected increment value: "+r);const i=e.node();if(Ee(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const a=i.getValue();return typeof a!="number"?r:a+r},"resolveComplexDeferredValue"),vue=o(function(t,e,n,r){return ZI(e,new JI(n,t),r)},"resolveDeferredValueTree"),Eue=o(function(t,e,n){return ZI(t,new XI(e),n)},"resolveDeferredValueSnapshot");function ZI(t,e,n){const r=t.getPriority().val(),i=V4(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const a=t,l=V4(a.getValue(),e,n);return l!==a.getValue()||i!==a.getPriority().val()?new or(l,Br(i)):t}else{const a=t;return s=a,i!==a.getPriority().val()&&(s=s.updatePriority(new or(i))),a.forEachChild(zr,(l,u)=>{const c=ZI(u,e.getImmediateChild(l),n);c!==u&&(s=s.updateImmediateChild(l,c))}),s}}o(ZI,"resolveDeferredValue");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{static{o(this,"Tree")}constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function e3(t,e){let n=e instanceof ln?e:new ln(e),r=t,i=_t(n);for(;i!==null;){const s=qd(r.node.children,i)||{children:{},childCount:0};r=new QI(i,r,s),n=on(n),i=_t(n)}return r}o(e3,"treeSubTree");function Fp(t){return t.node.value}o(Fp,"treeGetValue");function B9(t,e){t.node.value=e,Tk(t)}o(B9,"treeSetValue");function U9(t){return t.node.childCount>0}o(U9,"treeHasChildren");function xue(t){return Fp(t)===void 0&&!U9(t)}o(xue,"treeIsEmpty");function OE(t,e){Ls(t.node.children,(n,r)=>{e(new QI(n,t,r))})}o(OE,"treeForEachChild");function z9(t,e,n,r){n&&!r&&e(t),OE(t,i=>{z9(i,e,!0,r)}),n&&r&&e(t)}o(z9,"treeForEachDescendant");function Tue(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}o(Tue,"treeForEachAncestor");function ky(t){return new ln(t.parent===null?t.name:ky(t.parent)+"/"+t.name)}o(ky,"treeGetPath");function Tk(t){t.parent!==null&&Sue(t.parent,t.name,t)}o(Tk,"treeUpdateParents");function Sue(t,e,n){const r=xue(n),i=Ol(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Tk(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Tk(t))}o(Sue,"treeUpdateChild");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kue=/[\[\].#$\/\u0000-\u001F\u007F]/,Aue=/[\[\].#$\u0000-\u001F\u007F]/,L2=10*1024*1024,V9=o(function(t){return typeof t=="string"&&t.length!==0&&!kue.test(t)},"isValidKey"),Cue=o(function(t){return typeof t=="string"&&t.length!==0&&!Aue.test(t)},"isValidPathString"),Iue=o(function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Cue(t)},"isValidRootPathString"),j9=o(function(t,e,n){const r=n instanceof ln?new lle(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Pc(r));if(typeof e=="function")throw new Error(t+"contains a function "+Pc(r)+" with contents = "+e.toString());if(VU(e))throw new Error(t+"contains "+e.toString()+" "+Pc(r));if(typeof e=="string"&&e.length>L2/3&&uE(e)>L2)throw new Error(t+"contains a string greater than "+L2+" utf8 bytes "+Pc(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Ls(e,(a,l)=>{if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!V9(a)))throw new Error(t+" contains an invalid key ("+a+") "+Pc(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);ule(r,a),j9(t,l,r),cle(r)}),i&&s)throw new Error(t+' contains ".value" child '+Pc(r)+" in addition to actual children.")}},"validateFirebaseData"),Rue=o(function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!V9(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Iue(n))throw new Error(ete(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},"validateUrl");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oue{static{o(this,"EventQueue")}constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Nue(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!f9(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}o(Nue,"eventQueueQueueEvents");function th(t,e,n){Nue(t,n),Mue(t,r=>to(r,e)||to(e,r))}o(th,"eventQueueRaiseEventsForChangedPath");function Mue(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(Due(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}o(Mue,"eventQueueRaiseQueuedEventsMatchingPredicate");function Due(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();xg&&Fr("event: "+n.toString()),Ty(r)}}}o(Due,"eventListRaise");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pue="repo_interrupt",$ue=25;class Lue{static{o(this,"Repo")}constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Oue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=fw(),this.transactionQueueTree_=new QI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Fue(t,e,n){if(t.stats_=UI(t.repoInfo_),t.forceRestClient_||Nae())t.server_=new cw(t.repoInfo_,(r,i,s,a)=>{j4(t,r,i,s,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>W4(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Sr(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new gl(t.repoInfo_,e,(r,i,s,a)=>{j4(t,r,i,s,a)},r=>{W4(t,r)},r=>{Uue(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Fae(t.repoInfo_,()=>new Lle(t.stats_,t.server_)),t.infoData_=new Nle,t.infoSyncTree_=new z4({startListening:o((r,i,s,a)=>{let l=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(l=IE(t.infoSyncTree_,r._path,u),setTimeout(()=>{a("ok")},0)),l},"startListening"),stopListening:o(()=>{},"stopListening")}),t3(t,"connected",!1),t.serverSyncTree_=new z4({startListening:o((r,i,s,a)=>(t.server_.listen(r,s,i,(l,u)=>{const c=a(l,u);th(t.eventQueue_,r._path,c)}),[]),"startListening"),stopListening:o((r,i)=>{t.server_.unlisten(r,i)},"stopListening")})}o(Fue,"repoStart");function Bue(t){const n=t.infoData_.getNode(new ln(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}o(Bue,"repoServerTime");function W9(t){return _ue({timestamp:Bue(t)})}o(W9,"repoGenerateServerValues");function j4(t,e,n,r,i){t.dataUpdateCount++;const s=new ln(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(i)if(r){const u=Fb(n,c=>Br(c));a=yue(t.serverSyncTree_,s,u,i)}else{const u=Br(n);a=gue(t.serverSyncTree_,s,u,i)}else if(r){const u=Fb(n,c=>Br(c));a=mue(t.serverSyncTree_,s,u)}else{const u=Br(n);a=IE(t.serverSyncTree_,s,u)}let l=s;a.length>0&&(l=r3(t,s)),th(t.eventQueue_,l,a)}o(j4,"repoOnDataUpdate");function W4(t,e){t3(t,"connected",e),e===!1&&Vue(t)}o(W4,"repoOnConnectStatus");function Uue(t,e){Ls(e,(n,r)=>{t3(t,n,r)})}o(Uue,"repoOnServerInfoUpdate");function t3(t,e,n){const r=new ln("/.info/"+e),i=Br(n);t.infoData_.updateSnapshot(r,i);const s=IE(t.infoSyncTree_,r,i);th(t.eventQueue_,r,s)}o(t3,"repoUpdateInfo");function zue(t){return t.nextWriteId_++}o(zue,"repoGetNextWriteId");function Vue(t){H9(t,"onDisconnectEvents");const e=W9(t),n=fw();yk(t.onDisconnect_,Ft(),(i,s)=>{const a=vue(i,s,t.serverSyncTree_,e);_9(n,i,a)});let r=[];yk(n,Ft(),(i,s)=>{r=r.concat(IE(t.serverSyncTree_,i,s));const a=Gue(t,i);r3(t,a)}),t.onDisconnect_=fw(),th(t.eventQueue_,Ft(),r)}o(Vue,"repoRunOnDisconnectEvents");function jue(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Pue)}o(jue,"repoInterrupt");function H9(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Fr(n,...e)}o(H9,"repoLog");function G9(t,e,n){return M9(t.serverSyncTree_,e,n)||Ot.EMPTY_NODE}o(G9,"repoGetLatestState");function n3(t,e=t.transactionQueueTree_){if(e||NE(t,e),Fp(e)){const n=K9(t,e);Ee(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Wue(t,ky(e),n)}else U9(e)&&OE(e,n=>{n3(t,n)})}o(n3,"repoSendReadyTransactions");function Wue(t,e,n){const r=n.map(c=>c.currentWriteId),i=G9(t,e,r);let s=i;const a=i.hash();for(let c=0;c<n.length;c++){const f=n[c];Ee(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const h=ks(e,f.path);s=s.updateChild(h,f.currentOutputSnapshotRaw)}const l=s.val(!0),u=e;t.server_.put(u.toString(),l,c=>{H9(t,"transaction put response",{path:u.toString(),status:c});let f=[];if(c==="ok"){const h=[];for(let d=0;d<n.length;d++)n[d].status=2,f=f.concat(ud(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&h.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();NE(t,e3(t.transactionQueueTree_,e)),n3(t,t.transactionQueueTree_),th(t.eventQueue_,e,f);for(let d=0;d<h.length;d++)Ty(h[d])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{es("transaction at "+u.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}r3(t,e)}},a)}o(Wue,"repoSendTransactionQueue");function r3(t,e){const n=q9(t,e),r=ky(n),i=K9(t,n);return Hue(t,i,r),r}o(r3,"repoRerunTransactions");function Hue(t,e,n){if(e.length===0)return;const r=[];let i=[];const a=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const u=e[l],c=ks(n,u.path);let f=!1,h;if(Ee(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)f=!0,h=u.abortReason,i=i.concat(ud(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=$ue)f=!0,h="maxretry",i=i.concat(ud(t.serverSyncTree_,u.currentWriteId,!0));else{const d=G9(t,u.path,a);u.currentInputSnapshot=d;const p=e[l].update(d.val());if(p!==void 0){j9("transaction failed: Data returned ",p,u.path);let m=Br(p);typeof p=="object"&&p!=null&&Ol(p,".priority")||(m=m.updatePriority(d.getPriority()));const _=u.currentWriteId,b=W9(t),S=Eue(m,d,b);u.currentOutputSnapshotRaw=m,u.currentOutputSnapshotResolved=S,u.currentWriteId=zue(t),a.splice(a.indexOf(_),1),i=i.concat(pue(t.serverSyncTree_,u.path,S,u.currentWriteId,u.applyLocally)),i=i.concat(ud(t.serverSyncTree_,_,!0))}else f=!0,h="nodata",i=i.concat(ud(t.serverSyncTree_,u.currentWriteId,!0))}th(t.eventQueue_,n,i),i=[],f&&(e[l].status=2,function(d){setTimeout(d,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(h==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(h),!1,null))))}NE(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)Ty(r[l]);n3(t,t.transactionQueueTree_)}o(Hue,"repoRerunTransactionQueue");function q9(t,e){let n,r=t.transactionQueueTree_;for(n=_t(e);n!==null&&Fp(r)===void 0;)r=e3(r,n),e=on(e),n=_t(e);return r}o(q9,"repoGetAncestorTransactionNode");function K9(t,e){const n=[];return Y9(t,e,n),n.sort((r,i)=>r.order-i.order),n}o(K9,"repoBuildTransactionQueue");function Y9(t,e,n){const r=Fp(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);OE(e,i=>{Y9(t,i,n)})}o(Y9,"repoAggregateTransactionQueuesForNode");function NE(t,e){const n=Fp(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,B9(e,n.length>0?n:void 0)}OE(e,r=>{NE(t,r)})}o(NE,"repoPruneCompletedTransactionsBelowNode");function Gue(t,e){const n=ky(q9(t,e)),r=e3(t.transactionQueueTree_,e);return Tue(r,i=>{F2(t,i)}),F2(t,r),z9(r,i=>{F2(t,i)}),n}o(Gue,"repoAbortTransactions");function F2(t,e){const n=Fp(e);if(n){const r=[];let i=[],s=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(Ee(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(Ee(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(ud(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?B9(e,void 0):n.length=s+1,th(t.eventQueue_,ky(e),i);for(let a=0;a<r.length;a++)Ty(r[a])}}o(F2,"repoAbortTransactionsOnNode");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function que(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}o(que,"decodePath");function Kue(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):es(`Invalid query segment '${n}' in query '${t}'`)}return e}o(Kue,"decodeQuery");const H4=o(function(t,e){const n=Yue(t),r=n.namespace;n.domain==="firebase.com"&&xf(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&xf("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Tae();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Pae(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ln(n.pathString)}},"parseRepoInfo"),Yue=o(function(t){let e="",n="",r="",i="",s="",a=!0,l="https",u=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));let f=t.indexOf("/");f===-1&&(f=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(f,h)),f<h&&(i=que(t.substring(f,h)));const d=Kue(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(a=l==="https"||l==="wss",u=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),s=r}"ns"in d&&(s=d.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:s}},"parseDatabaseURL");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{static{o(this,"QueryImpl")}constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ht(this._path)?null:l9(this._path)}get ref(){return new Bp(this._repo,this._path)}get _queryIdentifier(){const e=R4(this._queryParams),n=FI(e);return n==="{}"?"default":n}get _queryObject(){return R4(this._queryParams)}isEqual(e){if(e=Us(e),!(e instanceof i3))return!1;const n=this._repo===e._repo,r=f9(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+ale(this._path)}}class Bp extends i3{static{o(this,"ReferenceImpl")}constructor(e,n){super(e,n,new WI,!1)}get parent(){const e=c9(this._path);return e===null?null:new Bp(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}hue(Bp);due(Bp);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xue="FIREBASE_DATABASE_EMULATOR_HOST",Sk={};let Jue=!1;function Zue(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||xf("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Fr("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=H4(s,i),l=a.repoInfo,u;typeof process<"u"&&f4&&(u=f4[Xue]),u?(s=`http://${u}?ns=${l.namespace}`,a=H4(s,i),l=a.repoInfo):a.repoInfo.secure;const c=new Dae(t.name,t.options,e);Rue("Invalid Firebase Database URL",a),ht(a.path)||xf("Database URL must point to the root of a Firebase Database (not including a child path).");const f=ece(l,t,c,new Mae(t,n));return new tce(f,t)}o(Zue,"repoManagerDatabaseFromApp");function Que(t,e){const n=Sk[e];(!n||n[t.key]!==t)&&xf(`Database ${e}(${t.repoInfo_}) has already been deleted.`),jue(t),delete n[t.key]}o(Que,"repoManagerDeleteRepo");function ece(t,e,n,r){let i=Sk[e.name];i||(i={},Sk[e.name]=i);let s=i[t.toURLString()];return s&&xf("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Lue(t,Jue,n,r),i[t.toURLString()]=s,s}o(ece,"repoManagerCreateRepo");class tce{static{o(this,"Database")}constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Fue(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Bp(this._repo,Ft())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Que(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&xf("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nce(t){_ae(ic),da(new wo("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Zue(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Qi(h4,d4,t),Qi(h4,d4,"esm2017")}o(nce,"registerDatabase");gl.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};gl.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};nce();var G4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var X9;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,E){function T(){}o(T,"c"),T.prototype=E.prototype,x.D=E.prototype,x.prototype=new T,x.prototype.constructor=x,x.C=function(O,N,I){for(var M=Array(arguments.length-2),V=2;V<arguments.length;V++)M[V-2]=arguments[V];return E.prototype[N].apply(O,M)}}o(e,"k");function n(){this.blockSize=-1}o(n,"l");function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}o(r,"m"),e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,E,T){T||(T=0);var O=Array(16);if(typeof E=="string")for(var N=0;16>N;++N)O[N]=E.charCodeAt(T++)|E.charCodeAt(T++)<<8|E.charCodeAt(T++)<<16|E.charCodeAt(T++)<<24;else for(N=0;16>N;++N)O[N]=E[T++]|E[T++]<<8|E[T++]<<16|E[T++]<<24;E=x.g[0],T=x.g[1],N=x.g[2];var I=x.g[3],M=E+(I^T&(N^I))+O[0]+3614090360&4294967295;E=T+(M<<7&4294967295|M>>>25),M=I+(N^E&(T^N))+O[1]+3905402710&4294967295,I=E+(M<<12&4294967295|M>>>20),M=N+(T^I&(E^T))+O[2]+606105819&4294967295,N=I+(M<<17&4294967295|M>>>15),M=T+(E^N&(I^E))+O[3]+3250441966&4294967295,T=N+(M<<22&4294967295|M>>>10),M=E+(I^T&(N^I))+O[4]+4118548399&4294967295,E=T+(M<<7&4294967295|M>>>25),M=I+(N^E&(T^N))+O[5]+1200080426&4294967295,I=E+(M<<12&4294967295|M>>>20),M=N+(T^I&(E^T))+O[6]+2821735955&4294967295,N=I+(M<<17&4294967295|M>>>15),M=T+(E^N&(I^E))+O[7]+4249261313&4294967295,T=N+(M<<22&4294967295|M>>>10),M=E+(I^T&(N^I))+O[8]+1770035416&4294967295,E=T+(M<<7&4294967295|M>>>25),M=I+(N^E&(T^N))+O[9]+2336552879&4294967295,I=E+(M<<12&4294967295|M>>>20),M=N+(T^I&(E^T))+O[10]+4294925233&4294967295,N=I+(M<<17&4294967295|M>>>15),M=T+(E^N&(I^E))+O[11]+2304563134&4294967295,T=N+(M<<22&4294967295|M>>>10),M=E+(I^T&(N^I))+O[12]+1804603682&4294967295,E=T+(M<<7&4294967295|M>>>25),M=I+(N^E&(T^N))+O[13]+4254626195&4294967295,I=E+(M<<12&4294967295|M>>>20),M=N+(T^I&(E^T))+O[14]+2792965006&4294967295,N=I+(M<<17&4294967295|M>>>15),M=T+(E^N&(I^E))+O[15]+1236535329&4294967295,T=N+(M<<22&4294967295|M>>>10),M=E+(N^I&(T^N))+O[1]+4129170786&4294967295,E=T+(M<<5&4294967295|M>>>27),M=I+(T^N&(E^T))+O[6]+3225465664&4294967295,I=E+(M<<9&4294967295|M>>>23),M=N+(E^T&(I^E))+O[11]+643717713&4294967295,N=I+(M<<14&4294967295|M>>>18),M=T+(I^E&(N^I))+O[0]+3921069994&4294967295,T=N+(M<<20&4294967295|M>>>12),M=E+(N^I&(T^N))+O[5]+3593408605&4294967295,E=T+(M<<5&4294967295|M>>>27),M=I+(T^N&(E^T))+O[10]+38016083&4294967295,I=E+(M<<9&4294967295|M>>>23),M=N+(E^T&(I^E))+O[15]+3634488961&4294967295,N=I+(M<<14&4294967295|M>>>18),M=T+(I^E&(N^I))+O[4]+3889429448&4294967295,T=N+(M<<20&4294967295|M>>>12),M=E+(N^I&(T^N))+O[9]+568446438&4294967295,E=T+(M<<5&4294967295|M>>>27),M=I+(T^N&(E^T))+O[14]+3275163606&4294967295,I=E+(M<<9&4294967295|M>>>23),M=N+(E^T&(I^E))+O[3]+4107603335&4294967295,N=I+(M<<14&4294967295|M>>>18),M=T+(I^E&(N^I))+O[8]+1163531501&4294967295,T=N+(M<<20&4294967295|M>>>12),M=E+(N^I&(T^N))+O[13]+2850285829&4294967295,E=T+(M<<5&4294967295|M>>>27),M=I+(T^N&(E^T))+O[2]+4243563512&4294967295,I=E+(M<<9&4294967295|M>>>23),M=N+(E^T&(I^E))+O[7]+1735328473&4294967295,N=I+(M<<14&4294967295|M>>>18),M=T+(I^E&(N^I))+O[12]+2368359562&4294967295,T=N+(M<<20&4294967295|M>>>12),M=E+(T^N^I)+O[5]+4294588738&4294967295,E=T+(M<<4&4294967295|M>>>28),M=I+(E^T^N)+O[8]+2272392833&4294967295,I=E+(M<<11&4294967295|M>>>21),M=N+(I^E^T)+O[11]+1839030562&4294967295,N=I+(M<<16&4294967295|M>>>16),M=T+(N^I^E)+O[14]+4259657740&4294967295,T=N+(M<<23&4294967295|M>>>9),M=E+(T^N^I)+O[1]+2763975236&4294967295,E=T+(M<<4&4294967295|M>>>28),M=I+(E^T^N)+O[4]+1272893353&4294967295,I=E+(M<<11&4294967295|M>>>21),M=N+(I^E^T)+O[7]+4139469664&4294967295,N=I+(M<<16&4294967295|M>>>16),M=T+(N^I^E)+O[10]+3200236656&4294967295,T=N+(M<<23&4294967295|M>>>9),M=E+(T^N^I)+O[13]+681279174&4294967295,E=T+(M<<4&4294967295|M>>>28),M=I+(E^T^N)+O[0]+3936430074&4294967295,I=E+(M<<11&4294967295|M>>>21),M=N+(I^E^T)+O[3]+3572445317&4294967295,N=I+(M<<16&4294967295|M>>>16),M=T+(N^I^E)+O[6]+76029189&4294967295,T=N+(M<<23&4294967295|M>>>9),M=E+(T^N^I)+O[9]+3654602809&4294967295,E=T+(M<<4&4294967295|M>>>28),M=I+(E^T^N)+O[12]+3873151461&4294967295,I=E+(M<<11&4294967295|M>>>21),M=N+(I^E^T)+O[15]+530742520&4294967295,N=I+(M<<16&4294967295|M>>>16),M=T+(N^I^E)+O[2]+3299628645&4294967295,T=N+(M<<23&4294967295|M>>>9),M=E+(N^(T|~I))+O[0]+4096336452&4294967295,E=T+(M<<6&4294967295|M>>>26),M=I+(T^(E|~N))+O[7]+1126891415&4294967295,I=E+(M<<10&4294967295|M>>>22),M=N+(E^(I|~T))+O[14]+2878612391&4294967295,N=I+(M<<15&4294967295|M>>>17),M=T+(I^(N|~E))+O[5]+4237533241&4294967295,T=N+(M<<21&4294967295|M>>>11),M=E+(N^(T|~I))+O[12]+1700485571&4294967295,E=T+(M<<6&4294967295|M>>>26),M=I+(T^(E|~N))+O[3]+2399980690&4294967295,I=E+(M<<10&4294967295|M>>>22),M=N+(E^(I|~T))+O[10]+4293915773&4294967295,N=I+(M<<15&4294967295|M>>>17),M=T+(I^(N|~E))+O[1]+2240044497&4294967295,T=N+(M<<21&4294967295|M>>>11),M=E+(N^(T|~I))+O[8]+1873313359&4294967295,E=T+(M<<6&4294967295|M>>>26),M=I+(T^(E|~N))+O[15]+4264355552&4294967295,I=E+(M<<10&4294967295|M>>>22),M=N+(E^(I|~T))+O[6]+2734768916&4294967295,N=I+(M<<15&4294967295|M>>>17),M=T+(I^(N|~E))+O[13]+1309151649&4294967295,T=N+(M<<21&4294967295|M>>>11),M=E+(N^(T|~I))+O[4]+4149444226&4294967295,E=T+(M<<6&4294967295|M>>>26),M=I+(T^(E|~N))+O[11]+3174756917&4294967295,I=E+(M<<10&4294967295|M>>>22),M=N+(E^(I|~T))+O[2]+718787259&4294967295,N=I+(M<<15&4294967295|M>>>17),M=T+(I^(N|~E))+O[9]+3951481745&4294967295,x.g[0]=x.g[0]+E&4294967295,x.g[1]=x.g[1]+(N+(M<<21&4294967295|M>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+I&4294967295}o(i,"n"),r.prototype.u=function(x,E){E===void 0&&(E=x.length);for(var T=E-this.blockSize,O=this.B,N=this.h,I=0;I<E;){if(N==0)for(;I<=T;)i(this,x,I),I+=this.blockSize;if(typeof x=="string"){for(;I<E;)if(O[N++]=x.charCodeAt(I++),N==this.blockSize){i(this,O),N=0;break}}else for(;I<E;)if(O[N++]=x[I++],N==this.blockSize){i(this,O),N=0;break}}this.h=N,this.o+=E},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var E=1;E<x.length-8;++E)x[E]=0;var T=8*this.o;for(E=x.length-8;E<x.length;++E)x[E]=T&255,T/=256;for(this.u(x),x=Array(16),E=T=0;4>E;++E)for(var O=0;32>O;O+=8)x[T++]=this.g[E]>>>O&255;return x};function s(x,E){var T=l;return Object.prototype.hasOwnProperty.call(T,x)?T[x]:T[x]=E(x)}o(s,"p");function a(x,E){this.h=E;for(var T=[],O=!0,N=x.length-1;0<=N;N--){var I=x[N]|0;O&&I==E||(T[N]=I,O=!1)}this.g=T}o(a,"t");var l={};function u(x){return-128<=x&&128>x?s(x,function(E){return new a([E|0],0>E?-1:0)}):new a([x|0],0>x?-1:0)}o(u,"u");function c(x){if(isNaN(x)||!isFinite(x))return h;if(0>x)return _(c(-x));for(var E=[],T=1,O=0;x>=T;O++)E[O]=x/T|0,T*=4294967296;return new a(E,0)}o(c,"v");function f(x,E){if(x.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(x.charAt(0)=="-")return _(f(x.substring(1),E));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(E,8)),O=h,N=0;N<x.length;N+=8){var I=Math.min(8,x.length-N),M=parseInt(x.substring(N,N+I),E);8>I?(I=c(Math.pow(E,I)),O=O.j(I).add(c(M))):(O=O.j(T),O=O.add(c(M)))}return O}o(f,"y");var h=u(0),d=u(1),p=u(16777216);t=a.prototype,t.m=function(){if(y(this))return-_(this).m();for(var x=0,E=1,T=0;T<this.g.length;T++){var O=this.i(T);x+=(0<=O?O:4294967296+O)*E,E*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(m(this))return"0";if(y(this))return"-"+_(this).toString(x);for(var E=c(Math.pow(x,6)),T=this,O="";;){var N=k(T,E).g;T=b(T,N.j(E));var I=((0<T.g.length?T.g[0]:T.h)>>>0).toString(x);if(T=N,m(T))return I+O;for(;6>I.length;)I="0"+I;O=I+O}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function m(x){if(x.h!=0)return!1;for(var E=0;E<x.g.length;E++)if(x.g[E]!=0)return!1;return!0}o(m,"C");function y(x){return x.h==-1}o(y,"B"),t.l=function(x){return x=b(this,x),y(x)?-1:m(x)?0:1};function _(x){for(var E=x.g.length,T=[],O=0;O<E;O++)T[O]=~x.g[O];return new a(T,~x.h).add(d)}o(_,"x"),t.abs=function(){return y(this)?_(this):this},t.add=function(x){for(var E=Math.max(this.g.length,x.g.length),T=[],O=0,N=0;N<=E;N++){var I=O+(this.i(N)&65535)+(x.i(N)&65535),M=(I>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);O=M>>>16,I&=65535,M&=65535,T[N]=M<<16|I}return new a(T,T[T.length-1]&-2147483648?-1:0)};function b(x,E){return x.add(_(E))}o(b,"F"),t.j=function(x){if(m(this)||m(x))return h;if(y(this))return y(x)?_(this).j(_(x)):_(_(this).j(x));if(y(x))return _(this.j(_(x)));if(0>this.l(p)&&0>x.l(p))return c(this.m()*x.m());for(var E=this.g.length+x.g.length,T=[],O=0;O<2*E;O++)T[O]=0;for(O=0;O<this.g.length;O++)for(var N=0;N<x.g.length;N++){var I=this.i(O)>>>16,M=this.i(O)&65535,V=x.i(N)>>>16,j=x.i(N)&65535;T[2*O+2*N]+=M*j,S(T,2*O+2*N),T[2*O+2*N+1]+=I*j,S(T,2*O+2*N+1),T[2*O+2*N+1]+=M*V,S(T,2*O+2*N+1),T[2*O+2*N+2]+=I*V,S(T,2*O+2*N+2)}for(O=0;O<E;O++)T[O]=T[2*O+1]<<16|T[2*O];for(O=E;O<2*E;O++)T[O]=0;return new a(T,0)};function S(x,E){for(;(x[E]&65535)!=x[E];)x[E+1]+=x[E]>>>16,x[E]&=65535,E++}o(S,"G");function v(x,E){this.g=x,this.h=E}o(v,"H");function k(x,E){if(m(E))throw Error("division by zero");if(m(x))return new v(h,h);if(y(x))return E=k(_(x),E),new v(_(E.g),_(E.h));if(y(E))return E=k(x,_(E)),new v(_(E.g),E.h);if(30<x.g.length){if(y(x)||y(E))throw Error("slowDivide_ only works with positive integers.");for(var T=d,O=E;0>=O.l(x);)T=C(T),O=C(O);var N=R(T,1),I=R(O,1);for(O=R(O,2),T=R(T,2);!m(O);){var M=I.add(O);0>=M.l(x)&&(N=N.add(T),I=M),O=R(O,1),T=R(T,1)}return E=b(x,N.j(E)),new v(N,E)}for(N=h;0<=x.l(E);){for(T=Math.max(1,Math.floor(x.m()/E.m())),O=Math.ceil(Math.log(T)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),I=c(T),M=I.j(E);y(M)||0<M.l(x);)T-=O,I=c(T),M=I.j(E);m(I)&&(I=d),N=N.add(I),x=b(x,M)}return new v(N,x)}o(k,"D"),t.A=function(x){return k(this,x).h},t.and=function(x){for(var E=Math.max(this.g.length,x.g.length),T=[],O=0;O<E;O++)T[O]=this.i(O)&x.i(O);return new a(T,this.h&x.h)},t.or=function(x){for(var E=Math.max(this.g.length,x.g.length),T=[],O=0;O<E;O++)T[O]=this.i(O)|x.i(O);return new a(T,this.h|x.h)},t.xor=function(x){for(var E=Math.max(this.g.length,x.g.length),T=[],O=0;O<E;O++)T[O]=this.i(O)^x.i(O);return new a(T,this.h^x.h)};function C(x){for(var E=x.g.length+1,T=[],O=0;O<E;O++)T[O]=x.i(O)<<1|x.i(O-1)>>>31;return new a(T,x.h)}o(C,"I");function R(x,E){var T=E>>5;E%=32;for(var O=x.g.length-T,N=[],I=0;I<O;I++)N[I]=0<E?x.i(I+T)>>>E|x.i(I+T+1)<<32-E:x.i(I+T);return new a(N,x.h)}o(R,"J"),r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=f,X9=a}).apply(typeof G4<"u"?G4:typeof self<"u"?self:typeof window<"u"?window:{});var Q1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,w,A){return g==Array.prototype||g==Object.prototype||(g[w]=A.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Q1=="object"&&Q1];for(var w=0;w<g.length;++w){var A=g[w];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}o(n,"ba");var r=n(this);function i(g,w){if(w)e:{var A=r;g=g.split(".");for(var P=0;P<g.length-1;P++){var G=g[P];if(!(G in A))break e;A=A[G]}g=g[g.length-1],P=A[g],w=w(P),w!=P&&w!=null&&e(A,g,{configurable:!0,writable:!0,value:w})}}o(i,"da");function s(g,w){g instanceof String&&(g+="");var A=0,P=!1,G={next:o(function(){if(!P&&A<g.length){var X=A++;return{value:w(X,g[X]),done:!1}}return P=!0,{done:!0,value:void 0}},"next")};return G[Symbol.iterator]=function(){return G},G}o(s,"ea"),i("Array.prototype.values",function(g){return g||function(){return s(this,function(w,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(g){var w=typeof g;return w=w!="object"?w:g?Array.isArray(g)?"array":w:"null",w=="array"||w=="object"&&typeof g.length=="number"}o(u,"ha");function c(g){var w=typeof g;return w=="object"&&g!=null||w=="function"}o(c,"n");function f(g,w,A){return g.call.apply(g.bind,arguments)}o(f,"ia");function h(g,w,A){if(!g)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,P),g.apply(w,G)}}return function(){return g.apply(w,arguments)}}o(h,"ja");function d(g,w,A){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,d.apply(null,arguments)}o(d,"p");function p(g,w){var A=Array.prototype.slice.call(arguments,1);return function(){var P=A.slice();return P.push.apply(P,arguments),g.apply(this,P)}}o(p,"ka");function m(g,w){function A(){}o(A,"c"),A.prototype=w.prototype,g.aa=w.prototype,g.prototype=new A,g.prototype.constructor=g,g.Qb=function(P,G,X){for(var ye=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)ye[Vt-2]=arguments[Vt];return w.prototype[G].apply(P,ye)}}o(m,"r");function y(g){const w=g.length;if(0<w){const A=Array(w);for(let P=0;P<w;P++)A[P]=g[P];return A}return[]}o(y,"la");function _(g,w){for(let A=1;A<arguments.length;A++){const P=arguments[A];if(u(P)){const G=g.length||0,X=P.length||0;g.length=G+X;for(let ye=0;ye<X;ye++)g[G+ye]=P[ye]}else g.push(P)}}o(_,"ma");class b{static{o(this,"na")}constructor(w,A){this.i=w,this.j=A,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function S(g){return/^[\s\xa0]*$/.test(g)}o(S,"t");function v(){var g=l.navigator;return g&&(g=g.userAgent)?g:""}o(v,"u");function k(g){return k[" "](g),g}o(k,"oa"),k[" "]=function(){};var C=v().indexOf("Gecko")!=-1&&!(v().toLowerCase().indexOf("webkit")!=-1&&v().indexOf("Edge")==-1)&&!(v().indexOf("Trident")!=-1||v().indexOf("MSIE")!=-1)&&v().indexOf("Edge")==-1;function R(g,w,A){for(const P in g)w.call(A,g[P],P,g)}o(R,"qa");function x(g,w){for(const A in g)w.call(void 0,g[A],A,g)}o(x,"ra");function E(g){const w={};for(const A in g)w[A]=g[A];return w}o(E,"sa");const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(g,w){let A,P;for(let G=1;G<arguments.length;G++){P=arguments[G];for(A in P)g[A]=P[A];for(let X=0;X<T.length;X++)A=T[X],Object.prototype.hasOwnProperty.call(P,A)&&(g[A]=P[A])}}o(O,"ua");function N(g){var w=1;g=g.split(":");const A=[];for(;0<w&&g.length;)A.push(g.shift()),w--;return g.length&&A.push(g.join(":")),A}o(N,"va");function I(g){l.setTimeout(()=>{throw g},0)}o(I,"wa");function M(){var g=Z;let w=null;return g.g&&(w=g.g,g.g=g.g.next,g.g||(g.h=null),w.next=null),w}o(M,"xa");class V{static{o(this,"Aa")}constructor(){this.h=this.g=null}add(w,A){const P=j.get();P.set(w,A),this.h?this.h.next=P:this.g=P,this.h=P}}var j=new b(()=>new H,g=>g.reset());class H{static{o(this,"Ca")}constructor(){this.next=this.g=this.h=null}set(w,A){this.h=w,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let q,te=!1,Z=new V,ue=o(()=>{const g=l.Promise.resolve(void 0);q=o(()=>{g.then(ce)},"x")},"Ea");var ce=o(()=>{for(var g;g=M();){try{g.h.call(g.g)}catch(A){I(A)}var w=j;w.j(g),100>w.h&&(w.h++,g.next=w.g,w.g=g)}te=!1},"Da");function ge(){this.s=this.s,this.C=this.C}o(ge,"z"),ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(g,w){this.type=g,this.g=this.target=w,this.defaultPrevented=!1}o(Te,"A"),Te.prototype.h=function(){this.defaultPrevented=!0};var Ct=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,w=Object.defineProperty({},"passive",{get:o(function(){g=!0},"get")});try{const A=o(()=>{},"c");l.addEventListener("test",A,w),l.removeEventListener("test",A,w)}catch{}return g}();function Oe(g,w){if(Te.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var A=this.type=g.type,P=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=w,w=g.relatedTarget){if(C){e:{try{k(w.nodeName);var G=!0;break e}catch{}G=!1}G||(w=null)}}else A=="mouseover"?w=g.fromElement:A=="mouseout"&&(w=g.toElement);this.relatedTarget=w,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Ge[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Oe.aa.h.call(this)}}o(Oe,"C"),m(Oe,Te);var Ge={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),Jr=0;function Ci(g,w,A,P,G){this.listener=g,this.proxy=null,this.src=w,this.type=A,this.capture=!!P,this.ha=G,this.key=++Jr,this.da=this.fa=!1}o(Ci,"Ia");function Fn(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}o(Fn,"Ja");function Zr(g){this.src=g,this.g={},this.h=0}o(Zr,"Ka"),Zr.prototype.add=function(g,w,A,P,G){var X=g.toString();g=this.g[X],g||(g=this.g[X]=[],this.h++);var ye=L(g,w,P,G);return-1<ye?(w=g[ye],A||(w.fa=!1)):(w=new Ci(w,this.src,X,!!P,G),w.fa=A,g.push(w)),w};function er(g,w){var A=w.type;if(A in g.g){var P=g.g[A],G=Array.prototype.indexOf.call(P,w,void 0),X;(X=0<=G)&&Array.prototype.splice.call(P,G,1),X&&(Fn(w),g.g[A].length==0&&(delete g.g[A],g.h--))}}o(er,"Ma");function L(g,w,A,P){for(var G=0;G<g.length;++G){var X=g[G];if(!X.da&&X.listener==w&&X.capture==!!A&&X.ha==P)return G}return-1}o(L,"La");var U="closure_lm_"+(1e6*Math.random()|0),B={};function K(g,w,A,P,G){if(Array.isArray(w)){for(var X=0;X<w.length;X++)K(g,w[X],A,P,G);return null}return A=he(A),g&&g[Dt]?g.K(w,A,c(P)?!!P.capture:!!P,G):J(g,w,A,!1,P,G)}o(K,"Qa");function J(g,w,A,P,G,X){if(!w)throw Error("Invalid event type");var ye=c(G)?!!G.capture:!!G,Vt=re(g);if(Vt||(g[U]=Vt=new Zr(g)),A=Vt.add(w,A,P,ye,X),A.proxy)return A;if(P=Q(),A.proxy=P,P.src=g,P.listener=A,g.addEventListener)Ct||(G=ye),G===void 0&&(G=!1),g.addEventListener(w.toString(),P,G);else if(g.attachEvent)g.attachEvent($(w.toString()),P);else if(g.addListener&&g.removeListener)g.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return A}o(J,"Ta");function Q(){function g(A){return w.call(g.src,g.listener,A)}o(g,"a");const w=F;return g}o(Q,"Va");function ie(g,w,A,P,G){if(Array.isArray(w))for(var X=0;X<w.length;X++)ie(g,w[X],A,P,G);else P=c(P)?!!P.capture:!!P,A=he(A),g&&g[Dt]?(g=g.i,w=String(w).toString(),w in g.g&&(X=g.g[w],A=L(X,A,P,G),-1<A&&(Fn(X[A]),Array.prototype.splice.call(X,A,1),X.length==0&&(delete g.g[w],g.h--)))):g&&(g=re(g))&&(w=g.g[w.toString()],g=-1,w&&(g=L(w,A,P,G)),(A=-1<g?w[g]:null)&&D(A))}o(ie,"Ya");function D(g){if(typeof g!="number"&&g&&!g.da){var w=g.src;if(w&&w[Dt])er(w.i,g);else{var A=g.type,P=g.proxy;w.removeEventListener?w.removeEventListener(A,P,g.capture):w.detachEvent?w.detachEvent($(A),P):w.addListener&&w.removeListener&&w.removeListener(P),(A=re(w))?(er(A,g),A.h==0&&(A.src=null,w[U]=null)):Fn(g)}}}o(D,"Za");function $(g){return g in B?B[g]:B[g]="on"+g}o($,"Wa");function F(g,w){if(g.da)g=!0;else{w=new Oe(w,this);var A=g.listener,P=g.ha||g.src;g.fa&&D(g),g=A.call(P,w)}return g}o(F,"Xa");function re(g){return g=g[U],g instanceof Zr?g:null}o(re,"Ua");var ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function he(g){return typeof g=="function"?g:(g[ae]||(g[ae]=function(w){return g.handleEvent(w)}),g[ae])}o(he,"Sa");function _e(){ge.call(this),this.i=new Zr(this),this.M=this,this.F=null}o(_e,"E"),m(_e,ge),_e.prototype[Dt]=!0,_e.prototype.removeEventListener=function(g,w,A,P){ie(this,g,w,A,P)};function Ie(g,w){var A,P=g.F;if(P)for(A=[];P;P=P.F)A.push(P);if(g=g.M,P=w.type||w,typeof w=="string")w=new Te(w,g);else if(w instanceof Te)w.target=w.target||g;else{var G=w;w=new Te(P,g),O(w,G)}if(G=!0,A)for(var X=A.length-1;0<=X;X--){var ye=w.g=A[X];G=mt(ye,P,!0,w)&&G}if(ye=w.g=g,G=mt(ye,P,!0,w)&&G,G=mt(ye,P,!1,w)&&G,A)for(X=0;X<A.length;X++)ye=w.g=A[X],G=mt(ye,P,!1,w)&&G}o(Ie,"F"),_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var g=this.i,w;for(w in g.g){for(var A=g.g[w],P=0;P<A.length;P++)Fn(A[P]);delete g.g[w],g.h--}}this.F=null},_e.prototype.K=function(g,w,A,P){return this.i.add(String(g),w,!1,A,P)},_e.prototype.L=function(g,w,A,P){return this.i.add(String(g),w,!0,A,P)};function mt(g,w,A,P){if(w=g.i.g[String(w)],!w)return!0;w=w.concat();for(var G=!0,X=0;X<w.length;++X){var ye=w[X];if(ye&&!ye.da&&ye.capture==A){var Vt=ye.listener,br=ye.ha||ye.src;ye.fa&&er(g.i,ye),G=Vt.call(br,P)!==!1&&G}}return G&&!P.defaultPrevented}o(mt,"ab");function ft(g,w,A){if(typeof g=="function")A&&(g=d(g,A));else if(g&&typeof g.handleEvent=="function")g=d(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:l.setTimeout(g,w||0)}o(ft,"bb");function Bn(g){g.g=ft(()=>{g.g=null,g.i&&(g.i=!1,Bn(g))},g.l);const w=g.h;g.h=null,g.m.apply(null,w)}o(Bn,"cb");class Nn extends ge{static{o(this,"eb")}constructor(w,A){super(),this.m=w,this.l=A,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Bn(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vn(g){ge.call(this),this.h=g,this.g={}}o(vn,"G"),m(vn,ge);var Mn=[];function tr(g){R(g.g,function(w,A){this.g.hasOwnProperty(A)&&D(w)},g),g.g={}}o(tr,"gb"),vn.prototype.N=function(){vn.aa.N.call(this),tr(this)},vn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vi=l.JSON.stringify,Hn=l.JSON.parse,Or=class{static{o(this,"jb")}stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function zl(){}o(zl,"kb"),zl.prototype.h=null;function bc(g){return g.h||(g.h=g.i())}o(bc,"lb");function xh(){}o(xh,"mb");var wc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function La(){Te.call(this,"d")}o(La,"nb"),m(La,Te);function cm(){Te.call(this,"c")}o(cm,"ob"),m(cm,Te);var Vl={},Dn=null;function Do(){return Dn=Dn||new _e}o(Do,"qb"),Vl.La="serverreachability";function v1(g){Te.call(this,Vl.La,g)}o(v1,"rb"),m(v1,Te);function jl(g){const w=Do();Ie(w,new v1(w))}o(jl,"J"),Vl.STAT_EVENT="statevent";function Th(g,w){Te.call(this,Vl.STAT_EVENT,g),this.stat=w}o(Th,"sb"),m(Th,Te);function nr(g){const w=Do();Ie(w,new Th(w,g))}o(nr,"K"),Vl.Ma="timingevent";function fm(g,w){Te.call(this,Vl.Ma,g),this.size=w}o(fm,"tb"),m(fm,Te);function vc(g,w){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},w)}o(vc,"ub");function Nr(){this.g=!0}o(Nr,"vb"),Nr.prototype.xa=function(){this.g=!1};function Sh(g,w,A,P,G,X){g.info(function(){if(g.g)if(X)for(var ye="",Vt=X.split("&"),br=0;br<Vt.length;br++){var xt=Vt[br].split("=");if(1<xt.length){var Mr=xt[0];xt=xt[1];var Dr=Mr.split("_");ye=2<=Dr.length&&Dr[1]=="type"?ye+(Mr+"="+xt+"&"):ye+(Mr+"=redacted&")}}else ye=null;else ye=X;return"XMLHTTP REQ ("+P+") [attempt "+G+"]: "+w+`
`+A+`
`+ye})}o(Sh,"wb");function E1(g,w,A,P,G,X,ye){g.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+G+"]: "+w+`
`+A+`
`+X+" "+ye})}o(E1,"xb");function Fa(g,w,A,P){g.info(function(){return"XMLHTTP TEXT ("+w+"): "+x1(g,A)+(P?" "+P:"")})}o(Fa,"L");function hm(g,w){g.info(function(){return"TIMEOUT: "+w})}o(hm,"zb"),Nr.prototype.info=function(){};function x1(g,w){if(!g.g)return w;if(!w)return null;try{var A=JSON.parse(w);if(A){for(g=0;g<A.length;g++)if(Array.isArray(A[g])){var P=A[g];if(!(2>P.length)){var G=P[1];if(Array.isArray(G)&&!(1>G.length)){var X=G[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ye=1;ye<G.length;ye++)G[ye]=""}}}}return Vi(A)}catch{return w}}o(x1,"yb");var ji={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},T1={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kh;function Ec(){}o(Ec,"Db"),m(Ec,zl),Ec.prototype.g=function(){return new XMLHttpRequest},Ec.prototype.i=function(){return{}},kh=new Ec;function Vs(g,w,A,P){this.j=g,this.i=w,this.l=A,this.R=P||1,this.U=new vn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new S1}o(Vs,"M");function S1(){this.i=null,this.g="",this.h=!1}o(S1,"Eb");var Ne={},z={};function de(g,w,A){g.L=1,g.v=I1(Ba(w)),g.m=A,g.P=!0,Ae(g,null)}o(de,"Hb");function Ae(g,w){g.F=Date.now(),En(g),g.A=Ba(g.v);var A=g.A,P=g.R;Array.isArray(P)||(P=[String(P)]),LN(A.i,"t",P),g.C=0,A=g.j.J,g.h=new S1,g.g=tM(g.j,A?w:null,!g.m),0<g.O&&(g.M=new Nn(d(g.Y,g,g.g),g.O)),w=g.U,A=g.g,P=g.ca;var G="readystatechange";Array.isArray(G)||(G&&(Mn[0]=G.toString()),G=Mn);for(var X=0;X<G.length;X++){var ye=K(A,G[X],P||w.handleEvent,!1,w.h||w);if(!ye)break;w.g[ye.key]=ye}w=g.H?E(g.H):{},g.m?(g.u||(g.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,w)):(g.u="GET",g.g.ea(g.A,g.u,null,w)),jl(),Sh(g.i,g.u,g.A,g.l,g.R,g.m)}o(Ae,"Jb"),Vs.prototype.ca=function(g){g=g.target;const w=this.M;w&&Ua(g)==3?w.j():this.Y(g)},Vs.prototype.Y=function(g){try{if(g==this.g)e:{const Dr=Ua(this.g);var w=this.g.Ba();const Rh=this.g.Z();if(!(3>Dr)&&(Dr!=3||this.g&&(this.h.h||this.g.oa()||WN(this.g)))){this.J||Dr!=4||w==7||(w==8||0>=Rh?jl(3):jl(2)),Ii(this);var A=this.g.Z();this.X=A;t:if(zt(this)){var P=WN(this.g);g="";var G=P.length,X=Ua(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pn(this),js(this);var ye="";break t}this.h.i=new l.TextDecoder}for(w=0;w<G;w++)this.h.h=!0,g+=this.h.i.decode(P[w],{stream:!(X&&w==G-1)});P.length=0,this.h.g+=g,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=A==200,E1(this.i,this.u,this.A,this.l,this.R,Dr,A),this.o){if(this.T&&!this.K){t:{if(this.g){var Vt,br=this.g;if((Vt=br.g?br.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(Vt)){var xt=Vt;break t}}xt=null}if(A=xt)Fa(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ah(this,A);else{this.o=!1,this.s=3,nr(12),pn(this),js(this);break e}}if(this.P){A=!0;let Ws;for(;!this.J&&this.C<ye.length;)if(Ws=rr(this,ye),Ws==z){Dr==4&&(this.s=4,nr(14),A=!1),Fa(this.i,this.l,null,"[Incomplete Response]");break}else if(Ws==Ne){this.s=4,nr(15),Fa(this.i,this.l,ye,"[Invalid Chunk]"),A=!1;break}else Fa(this.i,this.l,Ws,null),Ah(this,Ws);if(zt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dr!=4||ye.length!=0||this.h.h||(this.s=1,nr(16),A=!1),this.o=this.o&&A,!A)Fa(this.i,this.l,ye,"[Invalid Chunked Response]"),pn(this),js(this);else if(0<ye.length&&!this.W){this.W=!0;var Mr=this.j;Mr.g==this&&Mr.ba&&!Mr.M&&(Mr.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),s2(Mr),Mr.M=!0,nr(11))}}else Fa(this.i,this.l,ye,null),Ah(this,ye);Dr==4&&pn(this),this.o&&!this.J&&(Dr==4?JN(this.j,this):(this.o=!1,En(this)))}else lX(this.g),A==400&&0<ye.indexOf("Unknown SID")?(this.s=3,nr(12)):(this.s=0,nr(13)),pn(this),js(this)}}}catch{}finally{}};function zt(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}o(zt,"Pb");function rr(g,w){var A=g.C,P=w.indexOf(`
`,A);return P==-1?z:(A=Number(w.substring(A,P)),isNaN(A)?Ne:(P+=1,P+A>w.length?z:(w=w.slice(P,P+A),g.C=P+A,w)))}o(rr,"Sb"),Vs.prototype.cancel=function(){this.J=!0,pn(this)};function En(g){g.S=Date.now()+g.I,_r(g,g.I)}o(En,"Kb");function _r(g,w){if(g.B!=null)throw Error("WatchDog timer not null");g.B=vc(d(g.ba,g),w)}o(_r,"Wb");function Ii(g){g.B&&(l.clearTimeout(g.B),g.B=null)}o(Ii,"Ob"),Vs.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(hm(this.i,this.A),this.L!=2&&(jl(),nr(17)),pn(this),this.s=2,js(this)):_r(this,this.S-g)};function js(g){g.j.G==0||g.J||JN(g.j,g)}o(js,"Qb");function pn(g){Ii(g);var w=g.M;w&&typeof w.ma=="function"&&w.ma(),g.M=null,tr(g.U),g.g&&(w=g.g,g.g=null,w.abort(),w.ma())}o(pn,"Q");function Ah(g,w){try{var A=g.j;if(A.G!=0&&(A.g==g||e2(A.h,g))){if(!g.K&&e2(A.h,g)&&A.G==3){try{var P=A.Da.g.parse(w)}catch{P=null}if(Array.isArray(P)&&P.length==3){var G=P;if(G[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<g.F)P1(A),M1(A);else break e;i2(A),nr(18)}}else A.za=G[1],0<A.za-A.T&&37500>G[2]&&A.F&&A.v==0&&!A.C&&(A.C=vc(d(A.Za,A),6e3));if(1>=CN(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Tc(A,11)}else if((g.K||A.g==g)&&P1(A),!S(w))for(G=A.Da.g.parse(w),w=0;w<G.length;w++){let xt=G[w];if(A.T=xt[0],xt=xt[1],A.G==2)if(xt[0]=="c"){A.K=xt[1],A.ia=xt[2];const Mr=xt[3];Mr!=null&&(A.la=Mr,A.j.info("VER="+A.la));const Dr=xt[4];Dr!=null&&(A.Aa=Dr,A.j.info("SVER="+A.Aa));const Rh=xt[5];Rh!=null&&typeof Rh=="number"&&0<Rh&&(P=1.5*Rh,A.L=P,A.j.info("backChannelRequestTimeoutMs_="+P)),P=A;const Ws=g.g;if(Ws){const $1=Ws.g?Ws.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($1){var X=P.h;X.g||$1.indexOf("spdy")==-1&&$1.indexOf("quic")==-1&&$1.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(t2(X,X.h),X.h=null))}if(P.D){const o2=Ws.g?Ws.g.getResponseHeader("X-HTTP-Session-Id"):null;o2&&(P.ya=o2,en(P.I,P.D,o2))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-g.F,A.j.info("Handshake RTT: "+A.R+"ms")),P=A;var ye=g;if(P.qa=eM(P,P.J?P.ia:null,P.W),ye.K){IN(P.h,ye);var Vt=ye,br=P.L;br&&(Vt.I=br),Vt.B&&(Ii(Vt),En(Vt)),P.g=ye}else YN(P);0<A.i.length&&D1(A)}else xt[0]!="stop"&&xt[0]!="close"||Tc(A,7);else A.G==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?Tc(A,7):r2(A):xt[0]!="noop"&&A.l&&A.l.ta(xt),A.v=0)}}jl(4)}catch{}}o(Ah,"Rb");var k1=class{static{o(this,"hc")}constructor(g,w){this.g=g,this.map=w}};function kN(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}o(kN,"ic");function AN(g){return g.h?!0:g.g?g.g.size>=g.j:!1}o(AN,"jc");function CN(g){return g.h?1:g.g?g.g.size:0}o(CN,"ac");function e2(g,w){return g.h?g.h==w:g.g?g.g.has(w):!1}o(e2,"Xb");function t2(g,w){g.g?g.g.add(w):g.h=w}o(t2,"bc");function IN(g,w){g.h&&g.h==w?g.h=null:g.g&&g.g.has(w)&&g.g.delete(w)}o(IN,"dc"),kN.prototype.cancel=function(){if(this.i=RN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function RN(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let w=g.i;for(const A of g.g.values())w=w.concat(A.D);return w}return y(g.i)}o(RN,"kc");function qY(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(u(g)){for(var w=[],A=g.length,P=0;P<A;P++)w.push(g[P]);return w}w=[],A=0;for(P in g)w[A++]=g[P];return w}o(qY,"lc");function KY(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(u(g)||typeof g=="string"){var w=[];g=g.length;for(var A=0;A<g;A++)w.push(A);return w}w=[],A=0;for(const P in g)w[A++]=P;return w}}}o(KY,"mc");function ON(g,w){if(g.forEach&&typeof g.forEach=="function")g.forEach(w,void 0);else if(u(g)||typeof g=="string")Array.prototype.forEach.call(g,w,void 0);else for(var A=KY(g),P=qY(g),G=P.length,X=0;X<G;X++)w.call(void 0,P[X],A&&A[X],g)}o(ON,"nc");var NN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function YY(g,w){if(g){g=g.split("&");for(var A=0;A<g.length;A++){var P=g[A].indexOf("="),G=null;if(0<=P){var X=g[A].substring(0,P);G=g[A].substring(P+1)}else X=g[A];w(X,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}o(YY,"pc");function xc(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof xc){this.h=g.h,A1(this,g.j),this.o=g.o,this.g=g.g,C1(this,g.s),this.l=g.l;var w=g.i,A=new mm;A.i=w.i,w.g&&(A.g=new Map(w.g),A.h=w.h),MN(this,A),this.m=g.m}else g&&(w=String(g).match(NN))?(this.h=!1,A1(this,w[1]||"",!0),this.o=dm(w[2]||""),this.g=dm(w[3]||"",!0),C1(this,w[4]),this.l=dm(w[5]||"",!0),MN(this,w[6]||"",!0),this.m=dm(w[7]||"")):(this.h=!1,this.i=new mm(null,this.h))}o(xc,"T"),xc.prototype.toString=function(){var g=[],w=this.j;w&&g.push(pm(w,DN,!0),":");var A=this.g;return(A||w=="file")&&(g.push("//"),(w=this.o)&&g.push(pm(w,DN,!0),"@"),g.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&g.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&g.push("/"),g.push(pm(A,A.charAt(0)=="/"?ZY:JY,!0))),(A=this.i.toString())&&g.push("?",A),(A=this.m)&&g.push("#",pm(A,eX)),g.join("")};function Ba(g){return new xc(g)}o(Ba,"N");function A1(g,w,A){g.j=A?dm(w,!0):w,g.j&&(g.j=g.j.replace(/:$/,""))}o(A1,"qc");function C1(g,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);g.s=w}else g.s=null}o(C1,"rc");function MN(g,w,A){w instanceof mm?(g.i=w,tX(g.i,g.h)):(A||(w=pm(w,QY)),g.i=new mm(w,g.h))}o(MN,"tc");function en(g,w,A){g.i.set(w,A)}o(en,"S");function I1(g){return en(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}o(I1,"Ib");function dm(g,w){return g?w?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}o(dm,"uc");function pm(g,w,A){return typeof g=="string"?(g=encodeURI(g).replace(w,XY),A&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}o(pm,"vc");function XY(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}o(XY,"Cc");var DN=/[#\/\?@]/g,JY=/[#\?:]/g,ZY=/[#\?]/g,QY=/[#\?@]/g,eX=/#/g;function mm(g,w){this.h=this.g=null,this.i=g||null,this.j=!!w}o(mm,"sc");function Wl(g){g.g||(g.g=new Map,g.h=0,g.i&&YY(g.i,function(w,A){g.add(decodeURIComponent(w.replace(/\+/g," ")),A)}))}o(Wl,"U"),t=mm.prototype,t.add=function(g,w){Wl(this),this.i=null,g=Ch(this,g);var A=this.g.get(g);return A||this.g.set(g,A=[]),A.push(w),this.h+=1,this};function PN(g,w){Wl(g),w=Ch(g,w),g.g.has(w)&&(g.i=null,g.h-=g.g.get(w).length,g.g.delete(w))}o(PN,"Dc");function $N(g,w){return Wl(g),w=Ch(g,w),g.g.has(w)}o($N,"Ec"),t.forEach=function(g,w){Wl(this),this.g.forEach(function(A,P){A.forEach(function(G){g.call(w,G,P,this)},this)},this)},t.na=function(){Wl(this);const g=Array.from(this.g.values()),w=Array.from(this.g.keys()),A=[];for(let P=0;P<w.length;P++){const G=g[P];for(let X=0;X<G.length;X++)A.push(w[P])}return A},t.V=function(g){Wl(this);let w=[];if(typeof g=="string")$N(this,g)&&(w=w.concat(this.g.get(Ch(this,g))));else{g=Array.from(this.g.values());for(let A=0;A<g.length;A++)w=w.concat(g[A])}return w},t.set=function(g,w){return Wl(this),this.i=null,g=Ch(this,g),$N(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[w]),this.h+=1,this},t.get=function(g,w){return g?(g=this.V(g),0<g.length?String(g[0]):w):w};function LN(g,w,A){PN(g,w),0<A.length&&(g.i=null,g.g.set(Ch(g,w),y(A)),g.h+=A.length)}o(LN,"Lb"),t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],w=Array.from(this.g.keys());for(var A=0;A<w.length;A++){var P=w[A];const X=encodeURIComponent(String(P)),ye=this.V(P);for(P=0;P<ye.length;P++){var G=X;ye[P]!==""&&(G+="="+encodeURIComponent(String(ye[P]))),g.push(G)}}return this.i=g.join("&")};function Ch(g,w){return w=String(w),g.j&&(w=w.toLowerCase()),w}o(Ch,"V");function tX(g,w){w&&!g.j&&(Wl(g),g.i=null,g.g.forEach(function(A,P){var G=P.toLowerCase();P!=G&&(PN(this,P),LN(this,G,A))},g)),g.j=w}o(tX,"Ac");function nX(g,w){const A=new Nr;if(l.Image){const P=new Image;P.onload=p(Hl,A,"TestLoadImage: loaded",!0,w,P),P.onerror=p(Hl,A,"TestLoadImage: error",!1,w,P),P.onabort=p(Hl,A,"TestLoadImage: abort",!1,w,P),P.ontimeout=p(Hl,A,"TestLoadImage: timeout",!1,w,P),l.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=g}else w(!1)}o(nX,"Fc");function rX(g,w){const A=new Nr,P=new AbortController,G=setTimeout(()=>{P.abort(),Hl(A,"TestPingServer: timeout",!1,w)},1e4);fetch(g,{signal:P.signal}).then(X=>{clearTimeout(G),X.ok?Hl(A,"TestPingServer: ok",!0,w):Hl(A,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(G),Hl(A,"TestPingServer: error",!1,w)})}o(rX,"Gc");function Hl(g,w,A,P,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),P(A)}catch{}}o(Hl,"W");function iX(){this.g=new Or}o(iX,"Hc");function sX(g,w,A){const P=A||"";try{ON(g,function(G,X){let ye=G;c(G)&&(ye=Vi(G)),w.push(P+X+"="+encodeURIComponent(ye))})}catch(G){throw w.push(P+"type="+encodeURIComponent("_badmap")),G}}o(sX,"Ic");function R1(g){this.l=g.Ub||null,this.j=g.eb||!1}o(R1,"Jc"),m(R1,zl),R1.prototype.g=function(){return new O1(this.l,this.j)},R1.prototype.i=function(g){return function(){return g}}({});function O1(g,w){_e.call(this),this.D=g,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}o(O1,"Kc"),m(O1,_e),t=O1.prototype,t.open=function(g,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=w,this.readyState=1,ym(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(w.body=g),(this.D||l).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gm(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,ym(this)),this.g&&(this.readyState=3,ym(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;FN(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function FN(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}o(FN,"Nc"),t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var w=g.value?g.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!g.done}))&&(this.response=this.responseText+=w)}g.done?gm(this):ym(this),this.readyState==3&&FN(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,gm(this))},t.Qa=function(g){this.g&&(this.response=g,gm(this))},t.ga=function(){this.g&&gm(this)};function gm(g){g.readyState=4,g.l=null,g.j=null,g.v=null,ym(g)}o(gm,"Mc"),t.setRequestHeader=function(g,w){this.u.append(g,w)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],w=this.h.entries();for(var A=w.next();!A.done;)A=A.value,g.push(A[0]+": "+A[1]),A=w.next();return g.join(`\r
`)};function ym(g){g.onreadystatechange&&g.onreadystatechange.call(g)}o(ym,"Lc"),Object.defineProperty(O1.prototype,"withCredentials",{get:o(function(){return this.m==="include"},"get"),set:o(function(g){this.m=g?"include":"same-origin"},"set")});function BN(g){let w="";return R(g,function(A,P){w+=P,w+=":",w+=A,w+=`\r
`}),w}o(BN,"Oc");function n2(g,w,A){e:{for(P in A){var P=!1;break e}P=!0}P||(A=BN(A),typeof g=="string"?A!=null&&encodeURIComponent(String(A)):en(g,w,A))}o(n2,"Pc");function Pn(g){_e.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}o(Pn,"X"),m(Pn,_e);var oX=/^https?$/i,aX=["POST","PUT"];t=Pn.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,w,A,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);w=w?w.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kh.g(),this.v=this.o?bc(this.o):bc(kh),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(w,String(g),!0),this.B=!1}catch(X){UN(this,X);return}if(g=A||"",A=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var G in P)A.set(G,P[G]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const X of P.keys())A.set(X,P.get(X));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(A.keys()).find(X=>X.toLowerCase()=="content-type"),G=l.FormData&&g instanceof l.FormData,!(0<=Array.prototype.indexOf.call(aX,w,void 0))||P||G||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ye]of A)this.g.setRequestHeader(X,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{jN(this),this.u=!0,this.g.send(g),this.u=!1}catch(X){UN(this,X)}};function UN(g,w){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=w,g.m=5,zN(g),N1(g)}o(UN,"Sc");function zN(g){g.A||(g.A=!0,Ie(g,"complete"),Ie(g,"error"))}o(zN,"Uc"),t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Ie(this,"complete"),Ie(this,"abort"),N1(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),N1(this,!0)),Pn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?VN(this):this.bb())},t.bb=function(){VN(this)};function VN(g){if(g.h&&typeof a<"u"&&(!g.v[1]||Ua(g)!=4||g.Z()!=2)){if(g.u&&Ua(g)==4)ft(g.Ea,0,g);else if(Ie(g,"readystatechange"),Ua(g)==4){g.h=!1;try{const ye=g.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var A;if(!(A=w)){var P;if(P=ye===0){var G=String(g.D).match(NN)[1]||null;!G&&l.self&&l.self.location&&(G=l.self.location.protocol.slice(0,-1)),P=!oX.test(G?G.toLowerCase():"")}A=P}if(A)Ie(g,"complete"),Ie(g,"success");else{g.m=6;try{var X=2<Ua(g)?g.g.statusText:""}catch{X=""}g.l=X+" ["+g.Z()+"]",zN(g)}}finally{N1(g)}}}}o(VN,"Wc");function N1(g,w){if(g.g){jN(g);const A=g.g,P=g.v[0]?()=>{}:null;g.g=null,g.v=null,w||Ie(g,"ready");try{A.onreadystatechange=P}catch{}}}o(N1,"Vc");function jN(g){g.I&&(l.clearTimeout(g.I),g.I=null)}o(jN,"Tc"),t.isActive=function(){return!!this.g};function Ua(g){return g.g?g.g.readyState:0}o(Ua,"P"),t.Z=function(){try{return 2<Ua(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var w=this.g.responseText;return g&&w.indexOf(g)==0&&(w=w.substring(g.length)),Hn(w)}};function WN(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}o(WN,"Nb");function lX(g){const w={};g=(g.g&&2<=Ua(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<g.length;P++){if(S(g[P]))continue;var A=N(g[P]);const G=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const X=w[G]||[];w[G]=X,X.push(A)}x(w,function(P){return P.join(", ")})}o(lX,"Vb"),t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _m(g,w,A){return A&&A.internalChannelParams&&A.internalChannelParams[g]||w}o(_m,"Xc");function HN(g){this.Aa=0,this.i=[],this.j=new Nr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_m("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_m("baseRetryDelayMs",5e3,g),this.cb=_m("retryDelaySeedMs",1e4,g),this.Wa=_m("forwardChannelMaxRetries",2,g),this.wa=_m("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new kN(g&&g.concurrentRequestLimit),this.Da=new iX,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}o(HN,"Yc"),t=HN.prototype,t.la=8,t.G=1,t.connect=function(g,w,A,P){nr(0),this.W=g,this.H=w||{},A&&P!==void 0&&(this.H.OSID=A,this.H.OAID=P),this.F=this.X,this.I=eM(this,null,this.W),D1(this)};function r2(g){if(GN(g),g.G==3){var w=g.U++,A=Ba(g.I);if(en(A,"SID",g.K),en(A,"RID",w),en(A,"TYPE","terminate"),bm(g,A),w=new Vs(g,g.j,w),w.L=2,w.v=I1(Ba(A)),A=!1,l.navigator&&l.navigator.sendBeacon)try{A=l.navigator.sendBeacon(w.v.toString(),"")}catch{}!A&&l.Image&&(new Image().src=w.v,A=!0),A||(w.g=tM(w.j,null),w.g.ea(w.v)),w.F=Date.now(),En(w)}QN(g)}o(r2,"gc");function M1(g){g.g&&(s2(g),g.g.cancel(),g.g=null)}o(M1,"Zb");function GN(g){M1(g),g.u&&(l.clearTimeout(g.u),g.u=null),P1(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&l.clearTimeout(g.s),g.s=null)}o(GN,"Zc");function D1(g){if(!AN(g.h)&&!g.s){g.s=!0;var w=g.Ga;q||ue(),te||(q(),te=!0),Z.add(w,g),g.B=0}}o(D1,"fc");function uX(g,w){return CN(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=w.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=vc(d(g.Ga,g,w),ZN(g,g.B)),g.B++,!0)}o(uX,"bd"),t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const G=new Vs(this,this.j,g);let X=this.o;if(this.S&&(X?(X=E(X),O(X,this.S)):X=this.S),this.m!==null||this.O||(G.H=X,X=null),this.P)e:{for(var w=0,A=0;A<this.i.length;A++){t:{var P=this.i[A];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(w+=P,4096<w){w=A;break e}if(w===4096||A===this.i.length-1){w=A+1;break e}}w=1e3}else w=1e3;w=KN(this,G,w),A=Ba(this.I),en(A,"RID",g),en(A,"CVER",22),this.D&&en(A,"X-HTTP-Session-Id",this.D),bm(this,A),X&&(this.O?w="headers="+encodeURIComponent(String(BN(X)))+"&"+w:this.m&&n2(A,this.m,X)),t2(this.h,G),this.Ua&&en(A,"TYPE","init"),this.P?(en(A,"$req",w),en(A,"SID","null"),G.T=!0,de(G,A,null)):de(G,A,w),this.G=2}}else this.G==3&&(g?qN(this,g):this.i.length==0||AN(this.h)||qN(this))};function qN(g,w){var A;w?A=w.l:A=g.U++;const P=Ba(g.I);en(P,"SID",g.K),en(P,"RID",A),en(P,"AID",g.T),bm(g,P),g.m&&g.o&&n2(P,g.m,g.o),A=new Vs(g,g.j,A,g.B+1),g.m===null&&(A.H=g.o),w&&(g.i=w.D.concat(g.i)),w=KN(g,A,1e3),A.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),t2(g.h,A),de(A,P,w)}o(qN,"ed");function bm(g,w){g.H&&R(g.H,function(A,P){en(w,P,A)}),g.l&&ON({},function(A,P){en(w,P,A)})}o(bm,"$c");function KN(g,w,A){A=Math.min(g.i.length,A);var P=g.l?d(g.l.Na,g.l,g):null;e:{var G=g.i;let X=-1;for(;;){const ye=["count="+A];X==-1?0<A?(X=G[0].g,ye.push("ofs="+X)):X=0:ye.push("ofs="+X);let Vt=!0;for(let br=0;br<A;br++){let xt=G[br].g;const Mr=G[br].map;if(xt-=X,0>xt)X=Math.max(0,G[br].g-100),Vt=!1;else try{sX(Mr,ye,"req"+xt+"_")}catch{P&&P(Mr)}}if(Vt){P=ye.join("&");break e}}}return g=g.i.splice(0,A),w.D=g,P}o(KN,"dd");function YN(g){if(!g.g&&!g.u){g.Y=1;var w=g.Fa;q||ue(),te||(q(),te=!0),Z.add(w,g),g.v=0}}o(YN,"ec");function i2(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=vc(d(g.Fa,g),ZN(g,g.v)),g.v++,!0)}o(i2,"$b"),t.Fa=function(){if(this.u=null,XN(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=vc(d(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nr(10),M1(this),XN(this))};function s2(g){g.A!=null&&(l.clearTimeout(g.A),g.A=null)}o(s2,"Tb");function XN(g){g.g=new Vs(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var w=Ba(g.qa);en(w,"RID","rpc"),en(w,"SID",g.K),en(w,"AID",g.T),en(w,"CI",g.F?"0":"1"),!g.F&&g.ja&&en(w,"TO",g.ja),en(w,"TYPE","xmlhttp"),bm(g,w),g.m&&g.o&&n2(w,g.m,g.o),g.L&&(g.g.I=g.L);var A=g.g;g=g.ia,A.L=1,A.v=I1(Ba(w)),A.m=null,A.P=!0,Ae(A,g)}o(XN,"fd"),t.Za=function(){this.C!=null&&(this.C=null,M1(this),i2(this),nr(19))};function P1(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}o(P1,"Yb");function JN(g,w){var A=null;if(g.g==w){P1(g),s2(g),g.g=null;var P=2}else if(e2(g.h,w))A=w.D,IN(g.h,w),P=1;else return;if(g.G!=0){if(w.o)if(P==1){A=w.m?w.m.length:0,w=Date.now()-w.F;var G=g.B;P=Do(),Ie(P,new fm(P,A)),D1(g)}else YN(g);else if(G=w.s,G==3||G==0&&0<w.X||!(P==1&&uX(g,w)||P==2&&i2(g)))switch(A&&0<A.length&&(w=g.h,w.i=w.i.concat(A)),G){case 1:Tc(g,5);break;case 4:Tc(g,10);break;case 3:Tc(g,6);break;default:Tc(g,2)}}}o(JN,"Ub");function ZN(g,w){let A=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(A*=2),A*w}o(ZN,"cd");function Tc(g,w){if(g.j.info("Error code "+w),w==2){var A=d(g.fb,g),P=g.Xa;const G=!P;P=new xc(P||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||A1(P,"https"),I1(P),G?nX(P.toString(),A):rX(P.toString(),A)}else nr(2);g.G=0,g.l&&g.l.sa(w),QN(g),GN(g)}o(Tc,"R"),t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),nr(2)):(this.j.info("Failed to ping google.com"),nr(1))};function QN(g){if(g.G=0,g.ka=[],g.l){const w=RN(g.h);(w.length!=0||g.i.length!=0)&&(_(g.ka,w),_(g.ka,g.i),g.h.i.length=0,y(g.i),g.i.length=0),g.l.ra()}}o(QN,"ad");function eM(g,w,A){var P=A instanceof xc?Ba(A):new xc(A);if(P.g!="")w&&(P.g=w+"."+P.g),C1(P,P.s);else{var G=l.location;P=G.protocol,w=w?w+"."+G.hostname:G.hostname,G=+G.port;var X=new xc(null);P&&A1(X,P),w&&(X.g=w),G&&C1(X,G),A&&(X.l=A),P=X}return A=g.D,w=g.ya,A&&w&&en(P,A,w),en(P,"VER",g.la),bm(g,P),P}o(eM,"cc");function tM(g,w,A){if(w&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=g.Ca&&!g.pa?new Pn(new R1({eb:A})):new Pn(g.pa),w.Ha(g.J),w}o(tM,"Mb"),t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nM(){}o(nM,"gd"),t=nM.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function cs(g,w){_e.call(this),this.g=new HN(w),this.l=g,this.h=w&&w.messageUrlParams||null,g=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(g?g["X-WebChannel-Content-Type"]=w.messageContentType:g={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(g?g["X-WebChannel-Client-Profile"]=w.va:g={"X-WebChannel-Client-Profile":w.va}),this.g.S=g,(g=w&&w.Sb)&&!S(g)&&(this.g.m=g),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!S(w)&&(this.g.D=w,g=this.h,g!==null&&w in g&&(g=this.h,w in g&&delete g[w])),this.j=new Ih(this)}o(cs,"Y"),m(cs,_e),cs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cs.prototype.close=function(){r2(this.g)},cs.prototype.o=function(g){var w=this.g;if(typeof g=="string"){var A={};A.__data__=g,g=A}else this.u&&(A={},A.__data__=Vi(g),g=A);w.i.push(new k1(w.Ya++,g)),w.G==3&&D1(w)},cs.prototype.N=function(){this.g.l=null,delete this.j,r2(this.g),delete this.g,cs.aa.N.call(this)};function rM(g){La.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var w=g.__sm__;if(w){e:{for(const A in w){g=A;break e}g=void 0}(this.i=g)&&(g=this.i,w=w!==null&&g in w?w[g]:void 0),this.data=w}else this.data=g}o(rM,"id"),m(rM,La);function iM(){cm.call(this),this.status=1}o(iM,"jd"),m(iM,cm);function Ih(g){this.g=g}o(Ih,"Z"),m(Ih,nM),Ih.prototype.ua=function(){Ie(this.g,"a")},Ih.prototype.ta=function(g){Ie(this.g,new rM(g))},Ih.prototype.sa=function(g){Ie(this.g,new iM)},Ih.prototype.ra=function(){Ie(this.g,"b")},cs.prototype.send=cs.prototype.o,cs.prototype.open=cs.prototype.m,cs.prototype.close=cs.prototype.close,ji.NO_ERROR=0,ji.TIMEOUT=8,ji.HTTP_ERROR=6,T1.COMPLETE="complete",xh.EventType=wc,wc.OPEN="a",wc.CLOSE="b",wc.ERROR="c",wc.MESSAGE="d",_e.prototype.listen=_e.prototype.K,Pn.prototype.listenOnce=Pn.prototype.L,Pn.prototype.getLastError=Pn.prototype.Ka,Pn.prototype.getLastErrorCode=Pn.prototype.Ba,Pn.prototype.getStatus=Pn.prototype.Z,Pn.prototype.getResponseJson=Pn.prototype.Oa,Pn.prototype.getResponseText=Pn.prototype.oa,Pn.prototype.send=Pn.prototype.ea,Pn.prototype.setWithCredentials=Pn.prototype.Ha}).apply(typeof Q1<"u"?Q1:typeof self<"u"?self:typeof window<"u"?window:{});const q4="@firebase/firestore",K4="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{static{o(this,"User")}constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qi.UNAUTHENTICATED=new qi(null),qi.GOOGLE_CREDENTIALS=new qi("google-credentials-uid"),qi.FIRST_PARTY=new qi("first-party-uid"),qi.MOCK_USER=new qi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ME="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=new py("@firebase/firestore");function no(t,...e){if(mw.logLevel<=Rt.DEBUG){const n=e.map(Z9);mw.debug(`Firestore (${ME}): ${t}`,...n)}}o(no,"__PRIVATE_logDebug");function J9(t,...e){if(mw.logLevel<=Rt.ERROR){const n=e.map(Z9);mw.error(`Firestore (${ME}): ${t}`,...n)}}o(J9,"__PRIVATE_logError");function Z9(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return o(function(n){return JSON.stringify(n)},"__PRIVATE_formatJSON")(t)}catch{return t}}o(Z9,"__PRIVATE_argToString");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(t="Unexpected state"){const e=`FIRESTORE (${ME}) INTERNAL ASSERTION FAILED: `+t;throw J9(e),new Error(e)}o(Q9,"fail");function Ag(t,e){t||Q9()}o(Ag,"__PRIVATE_hardAssert");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Zs extends Ia{static{o(this,"FirestoreError")}constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{static{o(this,"__PRIVATE_Deferred")}constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rce{static{o(this,"__PRIVATE_OAuthToken")}constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ice{static{o(this,"__PRIVATE_EmptyAuthCredentialsProvider")}getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qi.UNAUTHENTICATED))}shutdown(){}}class sce{static{o(this,"__PRIVATE_FirebaseAuthCredentialsProvider")}constructor(e){this.t=e,this.currentUser=qi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ag(this.o===void 0);let r=this.i;const i=o(u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),"__PRIVATE_guardedChangeListener");let s=new Cg;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Cg,e.enqueueRetryable(()=>i(this.currentUser))};const a=o(()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},"__PRIVATE_awaitNextToken"),l=o(u=>{no("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())},"__PRIVATE_registerAuth");this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(no("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Cg)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(no("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ag(typeof r.accessToken=="string"),new rce(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ag(e===null||typeof e=="string"),new qi(e)}}class oce{static{o(this,"__PRIVATE_FirstPartyToken")}constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=qi.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class ace{static{o(this,"__PRIVATE_FirstPartyAuthCredentialsProvider")}constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new oce(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(qi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Y4{static{o(this,"AppCheckToken")}constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lce{static{o(this,"__PRIVATE_FirebaseAppCheckTokenProvider")}constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ai(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ag(this.o===void 0);const r=o(s=>{s.error!=null&&no("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,no("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()},"onTokenChanged");this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=o(s=>{no("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)},"__PRIVATE_registerAppCheck");this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):no("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Y4(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ag(typeof n.token=="string"),this.R=n.token,new Y4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function uce(t){return t.name==="IndexedDbTransactionError"}o(uce,"__PRIVATE_isIndexedDbTransactionError");const X4="(default)";class gw{static{o(this,"DatabaseId")}constructor(e,n){this.projectId=e,this.database=n||X4}static empty(){return new gw("","")}get isDefaultDatabase(){return this.database===X4}isEqual(e){return e instanceof gw&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J4,gt;(gt=J4||(J4={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new X9([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cce=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fce=1048576;function B2(){return typeof document<"u"?document:null}o(B2,"getDocument");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hce{static{o(this,"__PRIVATE_ExponentialBackoff")}constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&no("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{static{o(this,"DelayedOperation")}constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Cg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,l=new s3(e,n,a,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Zs(Js.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var Z4,Q4;(Q4=Z4||(Z4={}))._a="default",Q4.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dce(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}o(dce,"__PRIVATE_cloneLongPollingOptions");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=new Map;function pce(t,e,n,r){if(e===!0&&r===!0)throw new Zs(Js.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}o(pce,"__PRIVATE_validateIsNotUsedTogether");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mce="firestore.googleapis.com",tP=!0;class nP{static{o(this,"FirestoreSettingsImpl")}constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Zs(Js.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mce,this.ssl=tP}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:tP;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cce;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fce)throw new Zs(Js.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pce("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dce((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),o(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Zs(Js.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Zs(Js.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Zs(Js.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}},"__PRIVATE_validateLongPollingOptions")(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&o(function(r,i){return r.timeoutSeconds===i.timeoutSeconds},"__PRIVATE_longPollingOptionsEqual")(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gce{static{o(this,"Firestore$1")}constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Zs(Js.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Zs(Js.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=o(function(r){if(!r)return new ice;switch(r.type){case"firstParty":return new ace(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Zs(Js.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}},"__PRIVATE_makeAuthCredentialsProvider")(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return o(function(n){const r=eP.get(n);r&&(no("ComponentProvider","Removing Datastore"),eP.delete(n),r.terminate())},"__PRIVATE_removeComponents")(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="AsyncQueue";class iP{static{o(this,"__PRIVATE_AsyncQueueImpl")}constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new hce(this,"async_queue_retry"),this.Su=()=>{const r=B2();r&&no(rP,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=B2();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=B2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Cg;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!uce(e))throw e;no(rP,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=o(function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l},"__PRIVATE_getMessageOrStack")(r);throw J9("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=s3.createAndSchedule(this,e,n,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&Q9()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class yce extends gce{static{o(this,"Firestore")}constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new iP,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iP(e),this._firestoreClient=void 0,await e}}}o(function(e,n=!0){o(function(i){ME=i},"__PRIVATE_setSDKVersion")(ic),da(new wo("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),l=new yce(new sce(r.getProvider("auth-internal")),new lce(a,r.getProvider("app-check-internal")),o(function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Zs(Js.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gw(c.options.projectId,f)},"__PRIVATE_databaseIdFromApp")(a,i),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Qi(q4,K4,e),Qi(q4,K4,"esm2017")},"__PRIVATE_registerFirestore")();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez="firebasestorage.googleapis.com",_ce="storageBucket",bce=2*60*1e3,wce=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends Ia{static{o(this,"StorageError")}constructor(e,n,r=0){super(U2(e),`Firebase Storage: ${n} (${U2(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Oa.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return U2(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pa;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pa||(pa={}));function U2(t){return"storage/"+t}o(U2,"prependCode");function vce(){const t="An unknown error occurred, please check the error payload for server response.";return new Oa(pa.UNKNOWN,t)}o(vce,"unknown");function Ece(){return new Oa(pa.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}o(Ece,"retryLimitExceeded");function xce(){return new Oa(pa.CANCELED,"User canceled the upload/download.")}o(xce,"canceled");function Tce(t){return new Oa(pa.INVALID_URL,"Invalid URL '"+t+"'.")}o(Tce,"invalidUrl");function Sce(t){return new Oa(pa.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}o(Sce,"invalidDefaultBucket");function sP(t){return new Oa(pa.INVALID_ARGUMENT,t)}o(sP,"invalidArgument");function tz(){return new Oa(pa.APP_DELETED,"The Firebase app was deleted.")}o(tz,"appDeleted");function kce(t){return new Oa(pa.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}o(kce,"invalidRootOperation");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{static{o(this,"Location")}constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ro.makeFromUrl(e,n)}catch{return new ro(e,"")}if(r.path==="")return r;throw Sce(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}o(s,"gsModify");const a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),u={bucket:1,path:3};function c(k){k.path_=decodeURIComponent(k.path)}o(c,"httpModify");const f="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${f}/b/${i}/o${d}`,"i"),m={bucket:1,path:3},y=n===ez?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",b=new RegExp(`^https?://${y}/${i}/${_}`,"i"),v=[{regex:l,indices:u,postModify:s},{regex:p,indices:m,postModify:c},{regex:b,indices:{bucket:1,path:2},postModify:c}];for(let k=0;k<v.length;k++){const C=v[k],R=C.regex.exec(e);if(R){const x=R[C.indices.bucket];let E=R[C.indices.path];E||(E=""),r=new ro(x,E),C.postModify(r);break}}if(r==null)throw Tce(e);return r}}class Ace{static{o(this,"FailRequest")}constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cce(t,e,n){let r=1,i=null,s=null,a=!1,l=0;function u(){return l===2}o(u,"canceled");let c=!1;function f(..._){c||(c=!0,e.apply(null,_))}o(f,"triggerCallback");function h(_){i=setTimeout(()=>{i=null,t(p,u())},_)}o(h,"callWithDelay");function d(){s&&clearTimeout(s)}o(d,"clearGlobalTimeout");function p(_,...b){if(c){d();return}if(_){d(),f.call(null,_,...b);return}if(u()||a){d(),f.call(null,_,...b);return}r<64&&(r*=2);let v;l===1?(l=2,v=0):v=(r+Math.random())*1e3,h(v)}o(p,"responseHandler");let m=!1;function y(_){m||(m=!0,d(),!c&&(i!==null?(_||(l=2),clearTimeout(i),h(0)):_||(l=1)))}return o(y,"stop"),h(0),s=setTimeout(()=>{a=!0,y(!0)},n),y}o(Cce,"start$1");function Ice(t){t(!1)}o(Ice,"stop");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rce(t){return t!==void 0}o(Rce,"isJustDef");function oP(t,e,n,r){if(r<e)throw sP(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw sP(`Invalid value for '${t}'. Expected ${n} or less.`)}o(oP,"validateNumber");function Oce(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}o(Oce,"makeQueryString");var yw;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(yw||(yw={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nce(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}o(Nce,"isRetryStatusCode");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mce{static{o(this,"NetworkRequest")}constructor(e,n,r,i,s,a,l,u,c,f,h,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=o((r,i)=>{if(i){r(!1,new e_(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o(l=>{const u=l.loaded,c=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)},"progressListener");this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const l=s.getErrorCode()===yw.NO_ERROR,u=s.getStatus();if(!l||Nce(u,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===yw.ABORT;r(!1,new e_(!1,null,f));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new e_(c,s))})},"doTheRequest"),n=o((r,i)=>{const s=this.resolve_,a=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());Rce(u)?s(u):s()}catch(u){a(u)}else if(l!==null){const u=vce();u.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,u)):a(u)}else if(i.canceled){const u=this.appDelete_?tz():xce();a(u)}else{const u=Ece();a(u)}},"backoffDone");this.canceled_?n(!1,new e_(!1,null,!0)):this.backoffId_=Cce(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Ice(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class e_{static{o(this,"RequestEndStatus")}constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Dce(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}o(Dce,"addAuthHeader_");function Pce(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}o(Pce,"addVersionHeader_");function $ce(t,e){e&&(t["X-Firebase-GMPID"]=e)}o($ce,"addGmpidHeader_");function Lce(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}o(Lce,"addAppCheckHeader_");function Fce(t,e,n,r,i,s,a=!0){const l=Oce(t.urlParams),u=t.url+l,c=Object.assign({},t.headers);return $ce(c,e),Dce(c,n),Pce(c,s),Lce(c,r),new Mce(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}o(Fce,"makeRequest");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bce(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}o(Bce,"parent");function Uce(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}o(Uce,"lastComponent");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{static{o(this,"Reference")}constructor(e,n){this._service=e,n instanceof ro?this._location=n:this._location=ro.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new _w(e,n)}get root(){const e=new ro(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Uce(this._location.path)}get storage(){return this._service}get parent(){const e=Bce(this._location.path);if(e===null)return null;const n=new ro(this._location.bucket,e);return new _w(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw kce(e)}}function aP(t,e){const n=e?.[_ce];return n==null?null:ro.makeFromBucketSpec(n,t)}o(aP,"extractBucket");class zce{static{o(this,"FirebaseStorageImpl")}constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=ez,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=bce,this._maxUploadRetryTime=wce,this._requests=new Set,i!=null?this._bucket=ro.makeFromBucketSpec(i,this._host):this._bucket=aP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ro.makeFromBucketSpec(this._url,e):this._bucket=aP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){oP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){oP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _w(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Ace(tz());{const a=Fce(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const lP="@firebase/storage",uP="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vce="storage";function jce(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new zce(n,r,i,e,ic)}o(jce,"factory");function Wce(){da(new wo(Vce,jce,"PUBLIC").setMultipleInstances(!0)),Qi(lP,uP,""),Qi(lP,uP,"esm2017")}o(Wce,"registerStorage");Wce();function yze(t,e){let n,r,i;const s=Ce(!0),a=o(()=>{s.value=!0,i()},"update");Zt(t,a,{flush:"sync"});const l=typeof e=="function"?e:e.get,u=typeof e=="function"?void 0:e.set,c=_E((f,h)=>(r=f,i=h,{get(){return s.value&&(n=l(n),s.value=!1),r(),n},set(d){u?.(d)}}));return Object.isExtensible(c)&&(c.trigger=a),c}o(yze,"computedWithControl");function Tl(t){return F5()?(Ane(t),!0):!1}o(Tl,"tryOnScopeDispose");function _ze(t){let e=0,n,r;const i=o(()=>{e-=1,r&&e<=0&&(r.stop(),n=void 0,r=void 0)},"dispose");return(...s)=>(e+=1,n||(r=kne(!0),n=r.run(()=>t(...s))),Tl(i),n)}o(_ze,"createSharedComposable");function bze(t,e){return e==null?ke(t):ke(t)[e]}o(bze,"get$3");function Ke(t){return typeof t=="function"?t():ke(t)}o(Ke,"toValue$2");function Hce(t){if(!an(t))return yf(t);const e=new Proxy({},{get(n,r,i){return ke(Reflect.get(t.value,r,i))},set(n,r,i){return an(t.value[r])&&!an(i)?t.value[r].value=i:t.value[r]=i,!0},deleteProperty(n,r){return Reflect.deleteProperty(t.value,r)},has(n,r){return Reflect.has(t.value,r)},ownKeys(){return Object.keys(t.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return yf(e)}o(Hce,"toReactive");function Gce(t){return Hce(We(t))}o(Gce,"reactiveComputed");function wze(t,...e){const n=e.flat(),r=n[0];return Gce(()=>Object.fromEntries(typeof r=="function"?Object.entries(Kd(t)).filter(([i,s])=>!r(Ke(s),i)):Object.entries(Kd(t)).filter(i=>!n.includes(i[0]))))}o(wze,"reactiveOmit");const Af=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const qce=o(t=>t!=null,"notNullish"),Kce=Object.prototype.toString,Yce=o(t=>Kce.call(t)==="[object Object]","isObject$6"),ma=o(()=>{},"noop$5");function o3(t,e){function n(...r){return new Promise((i,s)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(i).catch(s)})}return o(n,"wrapper"),n}o(o3,"createFilterWrapper");const nz=o(t=>t(),"bypassFilter");function rz(t,e={}){let n,r,i=ma;const s=o(l=>{clearTimeout(l),i(),i=ma},"_clearTimeout");return o(l=>{const u=Ke(t),c=Ke(e.maxWait);return n&&s(n),u<=0||c!==void 0&&c<=0?(r&&(s(r),r=null),Promise.resolve(l())):new Promise((f,h)=>{i=e.rejectOnCancel?h:f,c&&!r&&(r=setTimeout(()=>{n&&s(n),r=null,f(l())},c)),n=setTimeout(()=>{r&&s(r),r=null,f(l())},u)})},"filter")}o(rz,"debounceFilter");function Xce(...t){let e=0,n,r=!0,i=ma,s,a,l,u,c;!an(t[0])&&typeof t[0]=="object"?{delay:a,trailing:l=!0,leading:u=!0,rejectOnCancel:c=!1}=t[0]:[a,l=!0,u=!0,c=!1]=t;const f=o(()=>{n&&(clearTimeout(n),n=void 0,i(),i=ma)},"clear");return o(d=>{const p=Ke(a),m=Date.now()-e,y=o(()=>s=d(),"invoke2");return f(),p<=0?(e=Date.now(),y()):(m>p&&(u||!r)?(e=Date.now(),y()):l&&(s=new Promise((_,b)=>{i=c?b:_,n=setTimeout(()=>{e=Date.now(),r=!0,_(y()),f()},Math.max(0,p-m))})),!u&&!n&&(n=setTimeout(()=>r=!0,p)),r=!1,s)},"filter")}o(Xce,"throttleFilter");function Jce(t=nz){const e=Ce(!0);function n(){e.value=!1}o(n,"pause");function r(){e.value=!0}o(r,"resume");const i=o((...s)=>{e.value&&t(...s)},"eventFilter");return{isActive:Dp(e),pause:n,resume:r,eventFilter:i}}o(Jce,"pausableFilter");function kk(t,e=!1,n="Timeout"){return new Promise((r,i)=>{setTimeout(e?()=>i(n):r,t)})}o(kk,"promiseTimeout");function Zce(t){let e;function n(){return e||(e=t()),e}return o(n,"wrapper"),n.reset=async()=>{const r=e;e=void 0,r&&await r},n}o(Zce,"createSingletonPromise");function Qce(t,e){var n;if(typeof t=="number")return t+e;const r=((n=t.match(/^-?\d+\.?\d*/))==null?void 0:n[0])||"",i=t.slice(r.length),s=Number.parseFloat(r)+e;return Number.isNaN(s)?t:s+i}o(Qce,"increaseWithUnit");function iz(t){return Ui()}o(iz,"getLifeCycleTarget");function sz(...t){if(t.length!==1)return nB(...t);const e=t[0];return typeof e=="function"?Dp(_E(()=>({get:e,set:ma}))):Ce(e)}o(sz,"toRef");function oz(t,e=200,n={}){return o3(rz(e,n),t)}o(oz,"useDebounceFn");function vze(t,e=200,n={}){const r=Ce(t.value),i=oz(()=>{r.value=t.value},e,n);return Zt(t,()=>i()),r}o(vze,"refDebounced");function efe(t,e=200,n=!1,r=!0,i=!1){return o3(Xce(e,n,r,i),t)}o(efe,"useThrottleFn");function az(t,e,n={}){const{eventFilter:r=nz,...i}=n;return Zt(t,o3(r,e),i)}o(az,"watchWithFilter");function tfe(t,e,n={}){const{eventFilter:r,...i}=n,{eventFilter:s,pause:a,resume:l,isActive:u}=Jce(r);return{stop:az(t,e,{...i,eventFilter:s}),pause:a,resume:l,isActive:u}}o(tfe,"watchPausable");function nfe(t,e={}){if(!an(t))return Kd(t);const n=Array.isArray(t.value)?Array.from({length:t.value.length}):{};for(const r in t.value)n[r]=_E(()=>({get(){return t.value[r]},set(i){var s;if((s=Ke(e.replaceRef))!=null?s:!0)if(Array.isArray(t.value)){const l=[...t.value];l[r]=i,t.value=l}else{const l={...t.value,[r]:i};Object.setPrototypeOf(l,Object.getPrototypeOf(t.value)),t.value=l}else t.value[r]=i}}));return n}o(nfe,"toRefs");function rfe(t,e){iz()&&_I(t,e)}o(rfe,"tryOnBeforeUnmount");function DE(t,e=!0,n){iz()?ac(t,n):e?t():bf(t)}o(DE,"tryOnMounted");function Ak(t,e=!1){function n(h,{flush:d="sync",deep:p=!1,timeout:m,throwOnTimeout:y}={}){let _=null;const S=[new Promise(v=>{_=Zt(t,k=>{h(k)!==e&&(_?_():bf(()=>_?.()),v(k))},{flush:d,deep:p,immediate:!0})})];return m!=null&&S.push(kk(m,y).then(()=>Ke(t)).finally(()=>_?.())),Promise.race(S)}o(n,"toMatch");function r(h,d){if(!an(h))return n(k=>k===h,d);const{flush:p="sync",deep:m=!1,timeout:y,throwOnTimeout:_}=d??{};let b=null;const v=[new Promise(k=>{b=Zt([t,h],([C,R])=>{e!==(C===R)&&(b?b():bf(()=>b?.()),k(C))},{flush:p,deep:m,immediate:!0})})];return y!=null&&v.push(kk(y,_).then(()=>Ke(t)).finally(()=>(b?.(),Ke(t)))),Promise.race(v)}o(r,"toBe");function i(h){return n(d=>!!d,h)}o(i,"toBeTruthy");function s(h){return r(null,h)}o(s,"toBeNull");function a(h){return r(void 0,h)}o(a,"toBeUndefined");function l(h){return n(Number.isNaN,h)}o(l,"toBeNaN");function u(h,d){return n(p=>{const m=Array.from(p);return m.includes(h)||m.includes(Ke(h))},d)}o(u,"toContains");function c(h){return f(1,h)}o(c,"changed");function f(h=1,d){let p=-1;return n(()=>(p+=1,p>=h),d)}return o(f,"changedTimes"),Array.isArray(Ke(t))?{toMatch:n,toContains:u,changed:c,changedTimes:f,get not(){return Ak(t,!e)}}:{toMatch:n,toBe:r,toBeTruthy:i,toBeNull:s,toBeNaN:l,toBeUndefined:a,changed:c,changedTimes:f,get not(){return Ak(t,!e)}}}o(Ak,"createUntil");function ife(t){return Ak(t)}o(ife,"until");function Eze(t,e=1e3,n={}){const{immediate:r=!0,immediateCallback:i=!1}=n;let s=null;const a=Ce(!1);function l(){s&&(clearInterval(s),s=null)}o(l,"clean");function u(){a.value=!1,l()}o(u,"pause");function c(){const f=Ke(e);f<=0||(a.value=!0,i&&t(),l(),s=setInterval(t,f))}if(o(c,"resume"),r&&Af&&c(),an(e)||typeof e=="function"){const f=Zt(e,()=>{a.value&&Af&&c()});Tl(f)}return Tl(u),{isActive:a,pause:u,resume:c}}o(Eze,"useIntervalFn");function sfe(t,e,n={}){const{immediate:r=!0}=n,i=Ce(!1);let s=null;function a(){s&&(clearTimeout(s),s=null)}o(a,"clear");function l(){i.value=!1,a()}o(l,"stop");function u(...c){a(),i.value=!0,s=setTimeout(()=>{i.value=!1,s=null,t(...c)},Ke(e))}return o(u,"start"),r&&(i.value=!0,Af&&u()),Tl(l),{isPending:Dp(i),start:u,stop:l}}o(sfe,"useTimeoutFn");function xze(t,e,n={}){const{debounce:r=0,maxWait:i=void 0,...s}=n;return az(t,e,{...s,eventFilter:rz(r,{maxWait:i})})}o(xze,"watchDebounced");function Tze(t,e,n){const r=Zt(t,(i,s,a)=>{i&&(n?.once&&bf(()=>r()),e(i,s,a))},{...n,once:!1});return r}o(Tze,"whenever");function As(t){var e;const n=Ke(t);return(e=n?.$el)!=null?e:n}o(As,"unrefElement$1");const yi=Af?window:void 0,a3=Af?window.document:void 0,lz=Af?window.navigator:void 0;function Yn(...t){let e,n,r,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,r,i]=t,e=yi):[e,n,r,i]=t,!e)return ma;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const s=[],a=o(()=>{s.forEach(f=>f()),s.length=0},"cleanup"),l=o((f,h,d,p)=>(f.addEventListener(h,d,p),()=>f.removeEventListener(h,d,p)),"register"),u=Zt(()=>[As(e),Ke(i)],([f,h])=>{if(a(),!f)return;const d=Yce(h)?{...h}:h;s.push(...n.flatMap(p=>r.map(m=>l(f,p,m,d))))},{immediate:!0,flush:"post"}),c=o(()=>{u(),a()},"stop");return Tl(c),c}o(Yn,"useEventListener");function ofe(){const t=Ce(!1),e=Ui();return e&&ac(()=>{t.value=!0},e),t}o(ofe,"useMounted$1");function Ay(t){const e=ofe();return We(()=>(e.value,!!t()))}o(Ay,"useSupported");function uz(t,e,n={}){const{window:r=yi,...i}=n;let s;const a=Ay(()=>r&&"MutationObserver"in r),l=o(()=>{s&&(s.disconnect(),s=void 0)},"cleanup"),u=We(()=>{const d=Ke(t),p=(Array.isArray(d)?d:[d]).map(As).filter(qce);return new Set(p)}),c=Zt(()=>u.value,d=>{l(),a.value&&d.size&&(s=new MutationObserver(e),d.forEach(p=>s.observe(p,i)))},{immediate:!0,flush:"post"}),f=o(()=>s?.takeRecords(),"takeRecords"),h=o(()=>{c(),l()},"stop");return Tl(h),{isSupported:a,stop:h,takeRecords:f}}o(uz,"useMutationObserver");function Sze(t,e={}){const{immediate:n=!0,fpsLimit:r=void 0,window:i=yi}=e,s=Ce(!1),a=r?1e3/r:null;let l=0,u=null;function c(d){if(!s.value||!i)return;l||(l=d);const p=d-l;if(a&&p<a){u=i.requestAnimationFrame(c);return}l=d,t({delta:p,timestamp:d}),u=i.requestAnimationFrame(c)}o(c,"loop");function f(){!s.value&&i&&(s.value=!0,l=0,u=i.requestAnimationFrame(c))}o(f,"resume");function h(){s.value=!1,u!=null&&i&&(i.cancelAnimationFrame(u),u=null)}return o(h,"pause"),n&&f(),Tl(h),{isActive:Dp(s),pause:h,resume:f}}o(Sze,"useRafFn");function afe(t,e,n){const{immediate:r=!0,delay:i=0,onError:s=ma,onSuccess:a=ma,resetOnExecute:l=!0,shallow:u=!0,throwError:c}=n??{},f=u?s0(e):Ce(e),h=Ce(!1),d=Ce(!1),p=s0(void 0);async function m(b=0,...S){l&&(f.value=e),p.value=void 0,h.value=!1,d.value=!0,b>0&&await kk(b);const v=typeof t=="function"?t(...S):t;try{const k=await v;f.value=k,h.value=!0,a(k)}catch(k){if(p.value=k,s(k),c)throw k}finally{d.value=!1}return f.value}o(m,"execute"),r&&m(i);const y={state:f,isReady:h,isLoading:d,error:p,execute:m};function _(){return new Promise((b,S)=>{ife(d).toBe(!1).then(()=>b(y)).catch(S)})}return o(_,"waitUntilIsLoaded"),{...y,then(b,S){return _().then(b,S)}}}o(afe,"useAsyncState");function Am(t,e={}){const{window:n=yi}=e,r=Ay(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let i;const s=Ce(!1),a=o(c=>{s.value=c.matches},"handler"),l=o(()=>{i&&("removeEventListener"in i?i.removeEventListener("change",a):i.removeListener(a))},"cleanup"),u=$B(()=>{r.value&&(l(),i=n.matchMedia(Ke(t)),"addEventListener"in i?i.addEventListener("change",a):i.addListener(a),s.value=i.matches)});return Tl(()=>{u(),l(),i=void 0}),s}o(Am,"useMediaQuery");const kze={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};function Aze(t,e={}){function n(f,h){let d=Ke(t[Ke(f)]);return h!=null&&(d=Qce(d,h)),typeof d=="number"&&(d=`${d}px`),d}o(n,"getValue2");const{window:r=yi,strategy:i="min-width"}=e;function s(f){return r?r.matchMedia(f).matches:!1}o(s,"match");const a=o(f=>Am(()=>`(min-width: ${n(f)})`,e),"greaterOrEqual"),l=o(f=>Am(()=>`(max-width: ${n(f)})`,e),"smallerOrEqual"),u=Object.keys(t).reduce((f,h)=>(Object.defineProperty(f,h,{get:o(()=>i==="min-width"?a(h):l(h),"get"),enumerable:!0,configurable:!0}),f),{});function c(){const f=Object.keys(t).map(h=>[h,a(h)]);return We(()=>f.filter(([,h])=>h.value).map(([h])=>h))}return o(c,"current"),Object.assign(u,{greaterOrEqual:a,smallerOrEqual:l,greater(f){return Am(()=>`(min-width: ${n(f,.1)})`,e)},smaller(f){return Am(()=>`(max-width: ${n(f,-.1)})`,e)},between(f,h){return Am(()=>`(min-width: ${n(f)}) and (max-width: ${n(h,-.1)})`,e)},isGreater(f){return s(`(min-width: ${n(f,.1)})`)},isGreaterOrEqual(f){return s(`(min-width: ${n(f)})`)},isSmaller(f){return s(`(max-width: ${n(f,-.1)})`)},isSmallerOrEqual(f){return s(`(max-width: ${n(f)})`)},isInBetween(f,h){return s(`(min-width: ${n(f)}) and (max-width: ${n(h,-.1)})`)},current:c,active(){const f=c();return We(()=>f.value.length===0?"":f.value.at(-1))}})}o(Aze,"useBreakpoints");function cP(t,e={}){const{controls:n=!1,navigator:r=lz}=e,i=Ay(()=>r&&"permissions"in r);let s;const a=typeof t=="string"?{name:t}:t,l=Ce(),u=o(()=>{s&&(l.value=s.state)},"onChange"),c=Zce(async()=>{if(i.value){if(!s)try{s=await r.permissions.query(a),Yn(s,"change",u),u()}catch{l.value="prompt"}return s}});return c(),n?{state:l,isSupported:i,query:c}:l}o(cP,"usePermission");function Cze(t={}){const{navigator:e=lz,read:n=!1,source:r,copiedDuring:i=1500,legacy:s=!1}=t,a=Ay(()=>e&&"clipboard"in e),l=cP("clipboard-read"),u=cP("clipboard-write"),c=We(()=>a.value||s),f=Ce(""),h=Ce(!1),d=sfe(()=>h.value=!1,i);function p(){a.value&&b(l.value)?e.clipboard.readText().then(S=>{f.value=S}):f.value=_()}o(p,"updateText"),c.value&&n&&Yn(["copy","cut"],p);async function m(S=Ke(r)){c.value&&S!=null&&(a.value&&b(u.value)?await e.clipboard.writeText(S):y(S),f.value=S,h.value=!0,d.start())}o(m,"copy");function y(S){const v=document.createElement("textarea");v.value=S??"",v.style.position="absolute",v.style.opacity="0",document.body.appendChild(v),v.select(),document.execCommand("copy"),v.remove()}o(y,"legacyCopy");function _(){var S,v,k;return(k=(v=(S=document?.getSelection)==null?void 0:S.call(document))==null?void 0:v.toString())!=null?k:""}o(_,"legacyRead");function b(S){return S==="granted"||S==="prompt"}return o(b,"isAllowed"),{isSupported:c,text:f,copied:h,copy:m}}o(Cze,"useClipboard");const t_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n_="__vueuse_ssr_handlers__",lfe=ufe();function ufe(){return n_ in t_||(t_[n_]=t_[n_]||{}),t_[n_]}o(ufe,"getHandlers");function cfe(t,e){return lfe[t]||e}o(cfe,"getSSRHandler");function ffe(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}o(ffe,"guessSerializerType");const hfe={boolean:{read:o(t=>t==="true","read"),write:o(t=>String(t),"write")},object:{read:o(t=>JSON.parse(t),"read"),write:o(t=>JSON.stringify(t),"write")},number:{read:o(t=>Number.parseFloat(t),"read"),write:o(t=>String(t),"write")},any:{read:o(t=>t,"read"),write:o(t=>String(t),"write")},string:{read:o(t=>t,"read"),write:o(t=>String(t),"write")},map:{read:o(t=>new Map(JSON.parse(t)),"read"),write:o(t=>JSON.stringify(Array.from(t.entries())),"write")},set:{read:o(t=>new Set(JSON.parse(t)),"read"),write:o(t=>JSON.stringify(Array.from(t)),"write")},date:{read:o(t=>new Date(t),"read"),write:o(t=>t.toISOString(),"write")}},fP="vueuse-storage";function dfe(t,e,n,r={}){var i;const{flush:s="pre",deep:a=!0,listenToStorageChanges:l=!0,writeDefaults:u=!0,mergeDefaults:c=!1,shallow:f,window:h=yi,eventFilter:d,onError:p=o(O=>{console.error(O)},"onError"),initOnMounted:m}=r,y=(f?s0:Ce)(typeof e=="function"?e():e);if(!n)try{n=cfe("getDefaultStorage",()=>{var O;return(O=yi)==null?void 0:O.localStorage})()}catch(O){p(O)}if(!n)return y;const _=Ke(e),b=ffe(_),S=(i=r.serializer)!=null?i:hfe[b],{pause:v,resume:k}=tfe(y,()=>R(y.value),{flush:s,deep:a,eventFilter:d});h&&l&&DE(()=>{n instanceof Storage?Yn(h,"storage",E):Yn(h,fP,T),m&&E()}),m||E();function C(O,N){h&&!(n instanceof Storage)&&h.dispatchEvent(new CustomEvent(fP,{detail:{key:t,oldValue:O,newValue:N,storageArea:n}}))}o(C,"dispatchWriteEvent");function R(O){try{const N=n.getItem(t);if(O==null)C(N,null),n.removeItem(t);else{const I=S.write(O);N!==I&&(n.setItem(t,I),C(N,I))}}catch(N){p(N)}}o(R,"write");function x(O){const N=O?O.newValue:n.getItem(t);if(N==null)return u&&_!=null&&n.setItem(t,S.write(_)),_;if(!O&&c){const I=S.read(N);return typeof c=="function"?c(I,_):b==="object"&&!Array.isArray(I)?{..._,...I}:I}else return typeof N!="string"?N:S.read(N)}o(x,"read");function E(O){if(!(O&&O.storageArea!==n)){if(O&&O.key==null){y.value=_;return}if(!(O&&O.key!==t)){v();try{O?.newValue!==S.write(y.value)&&(y.value=x(O))}catch(N){p(N)}finally{O?bf(k):k()}}}}o(E,"update");function T(O){E(O.detail)}return o(T,"updateFromCustomEvent"),y}o(dfe,"useStorage");function Ize(t,e={}){var n,r;const{pointerTypes:i,preventDefault:s,stopPropagation:a,exact:l,onMove:u,onEnd:c,onStart:f,initialValue:h,axis:d="both",draggingElement:p=yi,containerElement:m,handle:y=t,buttons:_=[0]}=e,b=Ce((n=Ke(h))!=null?n:{x:0,y:0}),S=Ce(),v=o(E=>i?i.includes(E.pointerType):!0,"filterEvent"),k=o(E=>{Ke(s)&&E.preventDefault(),Ke(a)&&E.stopPropagation()},"handleEvent"),C=o(E=>{var T;if(!Ke(_).includes(E.button)||Ke(e.disabled)||!v(E)||Ke(l)&&E.target!==Ke(t))return;const O=Ke(m),N=(T=O?.getBoundingClientRect)==null?void 0:T.call(O),I=Ke(t).getBoundingClientRect(),M={x:E.clientX-(O?I.left-N.left+O.scrollLeft:I.left),y:E.clientY-(O?I.top-N.top+O.scrollTop:I.top)};f?.(M,E)!==!1&&(S.value=M,k(E))},"start"),R=o(E=>{if(Ke(e.disabled)||!v(E)||!S.value)return;const T=Ke(m),O=Ke(t).getBoundingClientRect();let{x:N,y:I}=b.value;(d==="x"||d==="both")&&(N=E.clientX-S.value.x,T&&(N=Math.min(Math.max(0,N),T.scrollWidth-O.width))),(d==="y"||d==="both")&&(I=E.clientY-S.value.y,T&&(I=Math.min(Math.max(0,I),T.scrollHeight-O.height))),b.value={x:N,y:I},u?.(b.value,E),k(E)},"move"),x=o(E=>{Ke(e.disabled)||!v(E)||S.value&&(S.value=void 0,c?.(b.value,E),k(E))},"end");if(Af){const E={capture:(r=e.capture)!=null?r:!0};Yn(y,"pointerdown",C,E),Yn(p,"pointermove",R,E),Yn(p,"pointerup",x,E)}return{...nfe(b),position:b,isDragging:We(()=>!!S.value),style:We(()=>`left:${b.value.x}px;top:${b.value.y}px;`)}}o(Ize,"useDraggable");function cz(t,e,n={}){const{window:r=yi,...i}=n;let s;const a=Ay(()=>r&&"ResizeObserver"in r),l=o(()=>{s&&(s.disconnect(),s=void 0)},"cleanup"),u=We(()=>{const h=Ke(t);return Array.isArray(h)?h.map(d=>As(d)):[As(h)]}),c=Zt(u,h=>{if(l(),a.value&&r){s=new ResizeObserver(e);for(const d of h)d&&s.observe(d,i)}},{immediate:!0,flush:"post"}),f=o(()=>{l(),c()},"stop");return Tl(f),{isSupported:a,stop:f}}o(cz,"useResizeObserver");function Rze(t,e={}){const{reset:n=!0,windowResize:r=!0,windowScroll:i=!0,immediate:s=!0,updateTiming:a="sync"}=e,l=Ce(0),u=Ce(0),c=Ce(0),f=Ce(0),h=Ce(0),d=Ce(0),p=Ce(0),m=Ce(0);function y(){const b=As(t);if(!b){n&&(l.value=0,u.value=0,c.value=0,f.value=0,h.value=0,d.value=0,p.value=0,m.value=0);return}const S=b.getBoundingClientRect();l.value=S.height,u.value=S.bottom,c.value=S.left,f.value=S.right,h.value=S.top,d.value=S.width,p.value=S.x,m.value=S.y}o(y,"recalculate");function _(){a==="sync"?y():a==="next-frame"&&requestAnimationFrame(()=>y())}return o(_,"update"),cz(t,_),Zt(()=>As(t),b=>!b&&_()),uz(t,_,{attributeFilter:["style","class"]}),i&&Yn("scroll",_,{capture:!0,passive:!0}),r&&Yn("resize",_,{passive:!0}),DE(()=>{s&&_()}),{height:l,bottom:u,left:c,right:f,top:h,width:d,x:p,y:m,update:_}}o(Rze,"useElementBounding");function Oze(t,e={}){const{delayEnter:n=0,delayLeave:r=0,window:i=yi}=e,s=Ce(!1);let a;const l=o(u=>{const c=u?n:r;a&&(clearTimeout(a),a=void 0),c?a=setTimeout(()=>s.value=u,c):s.value=u},"toggle");return i&&(Yn(t,"mouseenter",()=>l(!0),{passive:!0}),Yn(t,"mouseleave",()=>l(!1),{passive:!0})),s}o(Oze,"useElementHover");function Nze(t,e={width:0,height:0},n={}){const{window:r=yi,box:i="content-box"}=n,s=We(()=>{var h,d;return(d=(h=As(t))==null?void 0:h.namespaceURI)==null?void 0:d.includes("svg")}),a=Ce(e.width),l=Ce(e.height),{stop:u}=cz(t,([h])=>{const d=i==="border-box"?h.borderBoxSize:i==="content-box"?h.contentBoxSize:h.devicePixelContentBoxSize;if(r&&s.value){const p=As(t);if(p){const m=p.getBoundingClientRect();a.value=m.width,l.value=m.height}}else if(d){const p=Array.isArray(d)?d:[d];a.value=p.reduce((m,{inlineSize:y})=>m+y,0),l.value=p.reduce((m,{blockSize:y})=>m+y,0)}else a.value=h.contentRect.width,l.value=h.contentRect.height},n);DE(()=>{const h=As(t);h&&(a.value="offsetWidth"in h?h.offsetWidth:e.width,l.value="offsetHeight"in h?h.offsetHeight:e.height)});const c=Zt(()=>As(t),h=>{a.value=h?e.width:0,l.value=h?e.height:0});function f(){u(),c()}return o(f,"stop"),{width:a,height:l,stop:f}}o(Nze,"useElementSize");function Mze(t=null,e={}){const{baseUrl:n="",rel:r="icon",document:i=a3}=e,s=sz(t),a=o(l=>{const u=i?.head.querySelectorAll(`link[rel*="${r}"]`);if(!u||u.length===0){const c=i?.createElement("link");c&&(c.rel=r,c.href=`${n}${l}`,c.type=`image/${l.split(".").pop()}`,i?.head.append(c));return}u?.forEach(c=>c.href=`${n}${l}`)},"applyIcon");return Zt(s,(l,u)=>{typeof l=="string"&&l!==u&&a(l)},{immediate:!0}),s}o(Mze,"useFavicon");async function pfe(t){return new Promise((e,n)=>{const r=new Image,{src:i,srcset:s,sizes:a,class:l,loading:u,crossorigin:c,referrerPolicy:f}=t;r.src=i,s&&(r.srcset=s),a&&(r.sizes=a),l&&(r.className=l),u&&(r.loading=u),c&&(r.crossOrigin=c),f&&(r.referrerPolicy=f),r.onload=()=>e(r),r.onerror=n})}o(pfe,"loadImage");function Dze(t,e={}){const n=afe(()=>pfe(Ke(t)),void 0,{resetOnExecute:!0,...e});return Zt(()=>Ke(t),()=>n.execute(e.delay),{deep:!0}),n}o(Dze,"useImage");const hP=1;function Pze(t,e={}){const{throttle:n=0,idle:r=200,onStop:i=ma,onScroll:s=ma,offset:a={left:0,right:0,top:0,bottom:0},eventListenerOptions:l={capture:!1,passive:!0},behavior:u="auto",window:c=yi,onError:f=o(x=>{console.error(x)},"onError")}=e,h=Ce(0),d=Ce(0),p=We({get(){return h.value},set(x){y(x,void 0)}}),m=We({get(){return d.value},set(x){y(void 0,x)}});function y(x,E){var T,O,N,I;if(!c)return;const M=Ke(t);if(!M)return;(N=M instanceof Document?c.document.body:M)==null||N.scrollTo({top:(T=Ke(E))!=null?T:m.value,left:(O=Ke(x))!=null?O:p.value,behavior:Ke(u)});const V=((I=M?.document)==null?void 0:I.documentElement)||M?.documentElement||M;p!=null&&(h.value=V.scrollLeft),m!=null&&(d.value=V.scrollTop)}o(y,"scrollTo2");const _=Ce(!1),b=yf({left:!0,right:!1,top:!0,bottom:!1}),S=yf({left:!1,right:!1,top:!1,bottom:!1}),v=o(x=>{_.value&&(_.value=!1,S.left=!1,S.right=!1,S.top=!1,S.bottom=!1,i(x))},"onScrollEnd"),k=oz(v,n+r),C=o(x=>{var E;if(!c)return;const T=((E=x?.document)==null?void 0:E.documentElement)||x?.documentElement||As(x),{display:O,flexDirection:N}=getComputedStyle(T),I=T.scrollLeft;S.left=I<h.value,S.right=I>h.value;const M=Math.abs(I)<=(a.left||0),V=Math.abs(I)+T.clientWidth>=T.scrollWidth-(a.right||0)-hP;O==="flex"&&N==="row-reverse"?(b.left=V,b.right=M):(b.left=M,b.right=V),h.value=I;let j=T.scrollTop;x===c.document&&!j&&(j=c.document.body.scrollTop),S.top=j<d.value,S.bottom=j>d.value;const H=Math.abs(j)<=(a.top||0),q=Math.abs(j)+T.clientHeight>=T.scrollHeight-(a.bottom||0)-hP;O==="flex"&&N==="column-reverse"?(b.top=q,b.bottom=H):(b.top=H,b.bottom=q),d.value=j},"setArrivedState"),R=o(x=>{var E;if(!c)return;const T=(E=x.target.documentElement)!=null?E:x.target;C(T),_.value=!0,k(x),s(x)},"onScrollHandler");return Yn(t,"scroll",n?efe(R,n,!0,!1):R,l),DE(()=>{try{const x=Ke(t);if(!x)return;C(x)}catch(x){f(x)}}),Yn(t,"scrollend",v,l),{x:p,y:m,isScrolling:_,arrivedState:b,directions:S,measure(){const x=Ke(t);c&&x&&C(x)}}}o(Pze,"useScroll");const mfe=["mousedown","mouseup","keydown","keyup"];function $ze(t,e={}){const{events:n=mfe,document:r=a3,initial:i=null}=e,s=Ce(i);return r&&n.forEach(a=>{Yn(r,a,l=>{typeof l.getModifierState=="function"&&(s.value=l.getModifierState(t))})}),s}o($ze,"useKeyModifier");function Lze(t,e,n={}){const{window:r=yi}=n;return dfe(t,e,r?.localStorage,n)}o(Lze,"useLocalStorage");const gfe={page:o(t=>[t.pageX,t.pageY],"page"),client:o(t=>[t.clientX,t.clientY],"client"),screen:o(t=>[t.screenX,t.screenY],"screen"),movement:o(t=>t instanceof Touch?null:[t.movementX,t.movementY],"movement")};function yfe(t={}){const{type:e="page",touch:n=!0,resetOnTouchEnds:r=!1,initialValue:i={x:0,y:0},window:s=yi,target:a=s,scroll:l=!0,eventFilter:u}=t;let c=null;const f=Ce(i.x),h=Ce(i.y),d=Ce(null),p=typeof e=="function"?e:gfe[e],m=o(C=>{const R=p(C);c=C,R&&([f.value,h.value]=R,d.value="mouse")},"mouseHandler"),y=o(C=>{if(C.touches.length>0){const R=p(C.touches[0]);R&&([f.value,h.value]=R,d.value="touch")}},"touchHandler"),_=o(()=>{if(!c||!s)return;const C=p(c);c instanceof MouseEvent&&C&&(f.value=C[0]+s.scrollX,h.value=C[1]+s.scrollY)},"scrollHandler"),b=o(()=>{f.value=i.x,h.value=i.y},"reset"),S=u?C=>u(()=>m(C),{}):C=>m(C),v=u?C=>u(()=>y(C),{}):C=>y(C),k=u?()=>u(()=>_(),{}):()=>_();if(a){const C={passive:!0};Yn(a,["mousemove","dragover"],S,C),n&&e!=="movement"&&(Yn(a,["touchstart","touchmove"],v,C),r&&Yn(a,"touchend",b,C)),l&&e==="page"&&Yn(s,"scroll",k,{passive:!0})}return{x:f,y:h,sourceType:d}}o(yfe,"useMouse");function Fze(t,e={}){const{handleOutside:n=!0,window:r=yi}=e,i=e.type||"page",{x:s,y:a,sourceType:l}=yfe(e),u=Ce(t??r?.document.body),c=Ce(0),f=Ce(0),h=Ce(0),d=Ce(0),p=Ce(0),m=Ce(0),y=Ce(!0);let _=o(()=>{},"stop");return r&&(_=Zt([u,s,a],()=>{const b=As(u);if(!b||!(b instanceof HTMLElement))return;const{left:S,top:v,width:k,height:C}=b.getBoundingClientRect();h.value=S+(i==="page"?r.pageXOffset:0),d.value=v+(i==="page"?r.pageYOffset:0),p.value=C,m.value=k;const R=s.value-h.value,x=a.value-d.value;y.value=k===0||C===0||R<0||x<0||R>k||x>C,(n||!y.value)&&(c.value=R,f.value=x)},{immediate:!0}),Yn(document,"mouseleave",()=>{y.value=!0})),{x:s,y:a,sourceType:l,elementX:c,elementY:f,elementPositionX:h,elementPositionY:d,elementHeight:p,elementWidth:m,isOutside:y,stop:_}}o(Fze,"useMouseInElement");function Bze(t=null,e={}){var n,r,i;const{document:s=a3,restoreOnUnmount:a=o(h=>h,"restoreOnUnmount")}=e,l=(n=s?.title)!=null?n:"",u=sz((r=t??s?.title)!=null?r:null),c=t&&typeof t=="function";function f(h){if(!("titleTemplate"in e))return h;const d=e.titleTemplate||"%s";return typeof d=="function"?d(h):Ke(d).replace(/%s/g,h)}return o(f,"format"),Zt(u,(h,d)=>{h!==d&&s&&(s.title=f(typeof h=="string"?h:""))},{immediate:!0}),e.observe&&!e.titleTemplate&&s&&!c&&uz((i=s.head)==null?void 0:i.querySelector("title"),()=>{s&&s.title!==u.value&&(u.value=f(s.title))},{childList:!0}),rfe(()=>{if(a){const h=a(l,u.value||"");h!=null&&s&&(s.title=h)}}),u}o(Bze,"useTitle");function _fe(t){return arguments.length===0?[]:Array.isArray(t)?t:[t]}o(_fe,"castArray");function bfe(t,e){if(!Number.isInteger(e)||e<=0)throw new Error("Size must be an integer greater than zero.");const n=Math.ceil(t.length/e),r=Array(n);for(let i=0;i<n;i++){const s=i*e,a=s+e;r[i]=t.slice(s,a)}return r}o(bfe,"chunk$1");function zi(t){return Array.isArray(t)?t:Array.from(t)}o(zi,"toArray$2");function wfe(t){return Number.isSafeInteger(t)&&t>=0}o(wfe,"isLength$2");function Ve(t){return t!=null&&typeof t!="function"&&wfe(t.length)}o(Ve,"isArrayLike");function vfe(t,e=1){return e=Math.max(Math.floor(e),0),e===0||!Ve(t)?[]:bfe(zi(t),e)}o(vfe,"chunk");function Efe(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];r&&e.push(r)}return e}o(Efe,"compact$1");function xfe(t){return Ve(t)?Efe(Array.from(t)):[]}o(xfe,"compact");function PE(t,e=1){const n=[],r=Math.floor(e),i=o((s,a)=>{for(let l=0;l<s.length;l++){const u=s[l];Array.isArray(u)&&a<r?i(u,a+1):n.push(u)}},"recursive");return i(t,0),n}o(PE,"flatten$1");function Tfe(...t){return PE(t)}o(Tfe,"concat$1");function ct(t){return t}o(ct,"identity$1");function zu(t){return t==="__proto__"}o(zu,"isUnsafeProperty");function $E(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}o($E,"isDeepKey");function nh(t){return typeof t=="string"||typeof t=="symbol"?t:Object.is(t?.valueOf?.(),-0)?"-0":String(t)}o(nh,"toKey");function Na(t){const e=[],n=t.length;if(n===0)return e;let r=0,i="",s="",a=!1;for(t.charCodeAt(0)===46&&(e.push(""),r++);r<n;){const l=t[r];s?l==="\\"&&r+1<n?(r++,i+=t[r]):l===s?s="":i+=l:a?l==='"'||l==="'"?s=l:l==="]"?(a=!1,e.push(i),i=""):i+=l:l==="["?(a=!0,i&&(e.push(i),i="")):l==="."?i&&(e.push(i),i=""):i+=l,r++}return i&&e.push(i),e}o(Na,"toPath");function ts(t,e,n){if(t==null)return n;switch(typeof e){case"string":{if(zu(e))return n;const r=t[e];return r===void 0?$E(e)?ts(t,Na(e),n):n:r}case"number":case"symbol":{typeof e=="number"&&(e=nh(e));const r=t[e];return r===void 0?n:r}default:{if(Array.isArray(e))return Sfe(t,e,n);if(Object.is(e?.valueOf(),-0)?e="-0":e=String(e),zu(e))return n;const r=t[e];return r===void 0?n:r}}}o(ts,"get$2");function Sfe(t,e,n){if(e.length===0)return n;let r=t;for(let i=0;i<e.length;i++){if(r==null||zu(e[i]))return n;r=r[e[i]]}return r===void 0?n:r}o(Sfe,"getWithPath");function Ll(t){return function(e){return ts(e,t)}}o(Ll,"property");function xo(t){return t!==null&&(typeof t=="object"||typeof t=="function")}o(xo,"isObject$5");function Cy(t){return t==null||typeof t!="object"&&typeof t!="function"}o(Cy,"isPrimitive");function Gr(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}o(Gr,"eq$4");function fz(t,e,n){return typeof n!="function"?LE(t,e):Ck(t,e,o(function r(i,s,a,l,u,c){const f=n(i,s,a,l,u,c);return f!==void 0?!!f:Ck(i,s,r,c)},"doesMatch"),new Map)}o(fz,"isMatchWith");function Ck(t,e,n,r){if(e===t)return!0;switch(typeof e){case"object":return kfe(t,e,n,r);case"function":return Object.keys(e).length>0?Ck(t,{...e},n,r):Gr(t,e);default:return xo(t)?typeof e=="string"?e==="":!0:Gr(t,e)}}o(Ck,"isMatchWithInternal");function kfe(t,e,n,r){if(e==null)return!0;if(Array.isArray(e))return hz(t,e,n,r);if(e instanceof Map)return Afe(t,e,n,r);if(e instanceof Set)return Cfe(t,e,n,r);const i=Object.keys(e);if(t==null)return i.length===0;if(i.length===0)return!0;if(r&&r.has(e))return r.get(e)===t;r&&r.set(e,t);try{for(let s=0;s<i.length;s++){const a=i[s];if(!Cy(t)&&!(a in t)||e[a]===void 0&&t[a]!==void 0||e[a]===null&&t[a]!==null||!n(t[a],e[a],a,t,e,r))return!1}return!0}finally{r&&r.delete(e)}}o(kfe,"isObjectMatch");function Afe(t,e,n,r){if(e.size===0)return!0;if(!(t instanceof Map))return!1;for(const[i,s]of e.entries()){const a=t.get(i);if(n(a,s,i,t,e,r)===!1)return!1}return!0}o(Afe,"isMapMatch");function hz(t,e,n,r){if(e.length===0)return!0;if(!Array.isArray(t))return!1;const i=new Set;for(let s=0;s<e.length;s++){const a=e[s];let l=!1;for(let u=0;u<t.length;u++){if(i.has(u))continue;const c=t[u];let f=!1;if(n(c,a,s,t,e,r)&&(f=!0),f){i.add(u),l=!0;break}}if(!l)return!1}return!0}o(hz,"isArrayMatch");function Cfe(t,e,n,r){return e.size===0?!0:t instanceof Set?hz([...t],[...e],n,r):!1}o(Cfe,"isSetMatch");function LE(t,e){return fz(t,e,()=>{})}o(LE,"isMatch");function h0(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}o(h0,"getSymbols");function Cf(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}o(Cf,"getTag$1");const FE="[object RegExp]",np="[object String]",Iy="[object Number]",Ry="[object Boolean]",rp="[object Arguments]",BE="[object Symbol]",UE="[object Date]",zE="[object Map]",VE="[object Set]",l3="[object Array]",Ife="[object Function]",jE="[object ArrayBuffer]",Ig="[object Object]",Rfe="[object Error]",WE="[object DataView]",u3="[object Uint8Array]",c3="[object Uint8ClampedArray]",f3="[object Uint16Array]",h3="[object Uint32Array]",Ofe="[object BigUint64Array]",d3="[object Int8Array]",p3="[object Int16Array]",m3="[object Int32Array]",Nfe="[object BigInt64Array]",g3="[object Float32Array]",y3="[object Float64Array]";function _3(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}o(_3,"isTypedArray$2");function Mfe(t,e){return Wc(t,void 0,t,new Map,e)}o(Mfe,"cloneDeepWith$1");function Wc(t,e,n,r=new Map,i=void 0){const s=i?.(t,e,n,r);if(s!==void 0)return s;if(Cy(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const a=new Array(t.length);r.set(t,a);for(let l=0;l<t.length;l++)a[l]=Wc(t[l],l,n,r,i);return Object.hasOwn(t,"index")&&(a.index=t.index),Object.hasOwn(t,"input")&&(a.input=t.input),a}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const a=new RegExp(t.source,t.flags);return a.lastIndex=t.lastIndex,a}if(t instanceof Map){const a=new Map;r.set(t,a);for(const[l,u]of t)a.set(l,Wc(u,l,n,r,i));return a}if(t instanceof Set){const a=new Set;r.set(t,a);for(const l of t)a.add(Wc(l,void 0,n,r,i));return a}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(_3(t)){const a=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,a);for(let l=0;l<t.length;l++)a[l]=Wc(t[l],l,n,r,i);return a}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const a=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,a),Fc(a,t,n,r,i),a}if(typeof File<"u"&&t instanceof File){const a=new File([t],t.name,{type:t.type});return r.set(t,a),Fc(a,t,n,r,i),a}if(t instanceof Blob){const a=new Blob([t],{type:t.type});return r.set(t,a),Fc(a,t,n,r,i),a}if(t instanceof Error){const a=new t.constructor;return r.set(t,a),a.message=t.message,a.name=t.name,a.stack=t.stack,a.cause=t.cause,Fc(a,t,n,r,i),a}if(typeof t=="object"&&Dfe(t)){const a=Object.create(Object.getPrototypeOf(t));return r.set(t,a),Fc(a,t,n,r,i),a}return t}o(Wc,"cloneDeepWithImpl");function Fc(t,e,n=t,r,i){const s=[...Object.keys(e),...h0(e)];for(let a=0;a<s.length;a++){const l=s[a],u=Object.getOwnPropertyDescriptor(t,l);(u==null||u.writable)&&(t[l]=Wc(e[l],l,n,r,i))}}o(Fc,"copyProperties");function Dfe(t){switch(Cf(t)){case rp:case l3:case jE:case WE:case Ry:case UE:case g3:case y3:case d3:case p3:case m3:case zE:case Iy:case Ig:case FE:case VE:case np:case BE:case u3:case c3:case f3:case h3:return!0;default:return!1}}o(Dfe,"isCloneableObject$1");function b3(t){return Wc(t,void 0,t,new Map,void 0)}o(b3,"cloneDeep$1");function uc(t){return t=b3(t),e=>LE(e,t)}o(uc,"matches$1");function dz(t,e){return Mfe(t,(n,r,i,s)=>{const a=e?.(n,r,i,s);if(a!==void 0)return a;if(typeof t=="object")switch(Object.prototype.toString.call(t)){case Iy:case np:case Ry:{const l=new t.constructor(t?.valueOf());return Fc(l,t),l}case rp:{const l={};return Fc(l,t),l.length=t.length,l[Symbol.iterator]=t[Symbol.iterator],l}default:return}})}o(dz,"cloneDeepWith");function d0(t){return dz(t)}o(d0,"cloneDeep");const Pfe=/^(?:0|[1-9]\d*)$/;function ip(t,e=Number.MAX_SAFE_INTEGER){switch(typeof t){case"number":return Number.isInteger(t)&&t>=0&&t<e;case"symbol":return!1;case"string":return Pfe.test(t)}}o(ip,"isIndex");function sp(t){return t!==null&&typeof t=="object"&&Cf(t)==="[object Arguments]"}o(sp,"isArguments");function w3(t,e){let n;if(Array.isArray(e)?n=e:typeof e=="string"&&$E(e)&&t?.[e]==null?n=Na(e):n=[e],n.length===0)return!1;let r=t;for(let i=0;i<n.length;i++){const s=n[i];if((r==null||!Object.hasOwn(r,s))&&!((Array.isArray(r)||sp(r))&&ip(s)&&s<r.length))return!1;r=r[s]}return!0}o(w3,"has$1");function cc(t,e){switch(typeof t){case"object":{Object.is(t?.valueOf(),-0)&&(t="-0");break}case"number":{t=nh(t);break}}return e=d0(e),function(n){const r=ts(n,t);return r===void 0?w3(n,t):e===void 0?r===void 0:LE(r,e)}}o(cc,"matchesProperty");function nt(t){if(t==null)return ct;switch(typeof t){case"function":return t;case"object":return Array.isArray(t)&&t.length===2?cc(t[0],t[1]):uc(t);case"string":case"symbol":case"number":return Ll(t)}}o(nt,"iteratee");function $fe(t,e){if(t==null)return{};const n=Ve(t)?Array.from(t):Object.values(t),r=nt(e??void 0),i=Object.create(null);for(let s=0;s<n.length;s++){const a=n[s],l=r(a);i[l]=(i[l]??0)+1}return i}o($fe,"countBy");function HE(t,e){const n=new Set(e);return t.filter(r=>!n.has(r))}o(HE,"difference$1");function If(t){return typeof t=="object"&&t!==null}o(If,"isObjectLike$1");function Pt(t){return If(t)&&Ve(t)}o(Pt,"isArrayLikeObject");function Lfe(t,...e){if(!Pt(t))return[];const n=zi(t),r=[];for(let i=0;i<e.length;i++){const s=e[i];Pt(s)&&r.push(...Array.from(s))}return HE(n,r)}o(Lfe,"difference");function GE(t){return t[t.length-1]}o(GE,"last$2");function rh(t){if(Ve(t))return GE(zi(t))}o(rh,"last$1");function Ffe(t,e,n){const r=new Set(e.map(i=>n(i)));return t.filter(i=>!r.has(n(i)))}o(Ffe,"differenceBy$1");function qE(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];if(Pt(r))for(let i=0;i<r.length;i++)e.push(r[i])}return e}o(qE,"flattenArrayLike");function pz(t,...e){if(!Pt(t))return[];const n=rh(e),r=qE(e);return Pt(n)?HE(Array.from(t),r):Ffe(Array.from(t),r,nt(n))}o(pz,"differenceBy");function Bfe(t,e,n){return t.filter(r=>e.every(i=>!n(r,i)))}o(Bfe,"differenceWith$1");function mz(t,...e){if(!Pt(t))return[];const n=rh(e),r=qE(e);return typeof n=="function"?Bfe(Array.from(t),r,n):HE(Array.from(t),r)}o(mz,"differenceWith");function Ufe(t,e){return e=Math.max(e,0),t.slice(e)}o(Ufe,"drop$1");function Rf(t){return typeof t=="symbol"||t instanceof Symbol}o(Rf,"isSymbol$1");function Xn(t){return Rf(t)?NaN:Number(t)}o(Xn,"toNumber");function Nu(t){return t?(t=Xn(t),t===1/0||t===-1/0?(t<0?-1:1)*Number.MAX_VALUE:t===t?t:0):t===0?t:0}o(Nu,"toFinite");function Jn(t){const e=Nu(t),n=e%1;return n?e-n:e}o(Jn,"toInteger");function zfe(t,e=1,n){return Ve(t)?(e=n?1:Jn(e),Ufe(zi(t),e)):[]}o(zfe,"drop");function Vfe(t,e){return e=Math.min(-e,0),e===0?t.slice():t.slice(0,e)}o(Vfe,"dropRight$1");function jfe(t,e=1,n){return Ve(t)?(e=n?1:Jn(e),Vfe(zi(t),e)):[]}o(jfe,"dropRight");function r_(t,e){for(let n=t.length-1;n>=0;n--)if(!e(t[n],n,t))return t.slice(0,n+1);return[]}o(r_,"dropRightWhile$1");function Wfe(t,e=ct){return Ve(t)?Hfe(Array.from(t),e):[]}o(Wfe,"dropRightWhile");function Hfe(t,e){switch(typeof e){case"function":return r_(t,(n,r,i)=>!!e(n,r,i));case"object":if(Array.isArray(e)&&e.length===2){const n=e[0],r=e[1];return r_(t,cc(n,r))}else return r_(t,uc(e));case"symbol":case"number":case"string":return r_(t,Ll(e))}}o(Hfe,"dropRightWhileImpl");function i_(t,e){const n=t.findIndex((r,i,s)=>!e(r,i,s));return n===-1?[]:t.slice(n)}o(i_,"dropWhile$1");function Gfe(t,e=ct){return Ve(t)?qfe(zi(t),e):[]}o(Gfe,"dropWhile");function qfe(t,e){switch(typeof e){case"function":return i_(t,(n,r,i)=>!!e(n,r,i));case"object":if(Array.isArray(e)&&e.length===2){const n=e[0],r=e[1];return i_(t,cc(n,r))}else return i_(t,uc(e));case"number":case"symbol":case"string":return i_(t,Ll(e))}}o(qfe,"dropWhileImpl");function ih(t,e,n=1){if(e==null&&(e=t,t=0),!Number.isInteger(n)||n===0)throw new Error("The step value must be a non-zero integer.");const r=Math.max(Math.ceil((e-t)/n),0),i=new Array(r);for(let s=0;s<r;s++)i[s]=t+s*n;return i}o(ih,"range$2");function Ik(t,e=ct){if(!t)return t;const n=Ve(t)||Array.isArray(t)?ih(0,t.length):Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r],s=t[i];if(e(s,i,t)===!1)break}return t}o(Ik,"forEach$2");function dP(t,e=ct){if(!t)return t;const n=Ve(t)?ih(0,t.length):Object.keys(t);for(let r=n.length-1;r>=0;r--){const i=n[r],s=t[i];if(e(s,i,t)===!1)break}return t}o(dP,"forEachRight");function Sl(t,e,n){return xo(n)&&(typeof e=="number"&&Ve(n)&&ip(e)&&e<n.length||typeof e=="string"&&e in n)?Gr(n[e],t):!1}o(Sl,"isIterateeCall");function Kfe(t,e,n){if(!t)return!0;n&&Sl(t,e,n)&&(e=void 0),e||(e=ct);let r;switch(typeof e){case"function":{r=e;break}case"object":{if(Array.isArray(e)&&e.length===2){const i=e[0],s=e[1];r=cc(i,s)}else r=uc(e);break}case"symbol":case"number":case"string":r=Ll(e)}if(!Ve(t)){const i=Object.keys(t);for(let s=0;s<i.length;s++){const a=i[s],l=t[a];if(!r(l,a,t))return!1}return!0}for(let i=0;i<t.length;i++)if(!r(t[i],i,t))return!1;return!0}o(Kfe,"every$1");function Yfe(t,e,n=0,r=t.length){const i=t.length,s=Math.max(n>=0?n:i+n,0),a=Math.min(r>=0?r:i+r,i);for(let l=s;l<a;l++)t[l]=e;return t}o(Yfe,"fill$1");function KE(t){return typeof t=="string"||t instanceof String}o(KE,"isString$6");function Xfe(t,e,n=0,r=t?t.length:0){return Ve(t)?KE(t)?t:(n=Math.floor(n),r=Math.floor(r),n||(n=0),r||(r=0),Yfe(t,e,n,r)):[]}o(Xfe,"fill");function gz(t,e=ct){if(!t)return[];if(e=nt(e),!Array.isArray(t)){const i=[],s=Object.keys(t),a=Ve(t)?t.length:s.length;for(let l=0;l<a;l++){const u=s[l],c=t[u];e(c,u,t)&&i.push(c)}return i}const n=[],r=t.length;for(let i=0;i<r;i++){const s=t[i];e(s,i,t)&&n.push(s)}return n}o(gz,"filter");function Jfe(t,e=ct,n=0){if(!t)return;n<0&&(n=Math.max(t.length+n,0));const r=nt(e);if(typeof r=="function"&&!Array.isArray(t)){const s=Object.keys(t);for(let a=n;a<s.length;a++){const l=s[a],u=t[l];if(r(u,l,t))return u}return}return(Array.isArray(t)?t.slice(n):Object.values(t).slice(n)).find(r)}o(Jfe,"find$2");function Zfe(t,e,n=0){if(!t)return-1;n<0&&(n=Math.max(t.length+n,0));const r=Array.from(t).slice(n);let i=-1;switch(typeof e){case"function":{i=r.findIndex(e);break}case"object":{if(Array.isArray(e)&&e.length===2){const s=e[0],a=e[1];i=r.findIndex(cc(s,a))}else i=r.findIndex(uc(e));break}case"number":case"symbol":case"string":i=r.findIndex(Ll(e))}return i===-1?-1:i+n}o(Zfe,"findIndex");function Qfe(t,e=ct,n){if(!t)return;const r=Array.isArray(t)?t.length:Object.keys(t).length;n=Jn(n??r-1),n<0?n=Math.max(r+n,0):n=Math.min(n,r-1);const i=nt(e);if(typeof i=="function"&&!Array.isArray(t)){const a=Object.keys(t);for(let l=n;l>=0;l--){const u=a[l],c=t[u];if(i(c,u,t))return c}return}return(Array.isArray(t)?t.slice(0,n+1):Object.values(t).slice(0,n+1)).findLast(i)}o(Qfe,"findLast");function ehe(t,e=ct,n=t?t.length-1:0){if(!t)return-1;n<0?n=Math.max(t.length+n,0):n=Math.min(n,t.length-1);const r=zi(t).slice(0,n+1);switch(typeof e){case"function":return r.findLastIndex(e);case"object":if(Array.isArray(e)&&e.length===2){const i=e[0],s=e[1];return r.findLastIndex(cc(i,s))}else return r.findLastIndex(uc(e));case"number":case"symbol":case"string":return r.findLastIndex(Ll(e))}}o(ehe,"findLastIndex");function the(t){return t[0]}o(the,"head$1");function pP(t){if(Ve(t))return the(zi(t))}o(pP,"head");function YE(t,e=1){const n=[],r=Math.floor(e);if(!Ve(t))return n;const i=o((s,a)=>{for(let l=0;l<s.length;l++){const u=s[l];a<r&&(Array.isArray(u)||u?.[Symbol.isConcatSpreadable]||u!==null&&typeof u=="object"&&Object.prototype.toString.call(u)==="[object Arguments]")?Array.isArray(u)?i(u,a+1):i(Array.from(u),a+1):n.push(u)}},"recursive");return i(Array.from(t),0),n}o(YE,"flatten");function Oy(t,e=1){return YE(t,e)}o(Oy,"flattenDepth");function bw(t,e){if(!t)return[];const n=Ve(t)||Array.isArray(t)?ih(0,t.length):Object.keys(t),r=nt(e??ct),i=new Array(n.length);for(let s=0;s<n.length;s++){const a=n[s],l=t[a];i[s]=r(l,a,t)}return i}o(bw,"map$4");function Vu(t){return t==null}o(Vu,"isNil$1");function nhe(t,e){if(Vu(t))return[];const n=Vu(e)?bw(t):bw(t,e);return Oy(n,1)}o(nhe,"flatMap");function yz(t,e=ct,n=1){if(t==null)return[];const r=nt(e),i=bw(t,r);return YE(i,n)}o(yz,"flatMapDepth");function rhe(t,e){return yz(t,e,1/0)}o(rhe,"flatMapDeep");function ihe(t){return Oy(t,1/0)}o(ihe,"flattenDeep");function she(t,e){const n={};for(let r=0;r<t.length;r++){const i=t[r],s=e(i);Object.hasOwn(n,s)||(n[s]=[]),n[s].push(i)}return n}o(she,"groupBy$1");function ohe(t,e){if(t==null)return{};const n=Ve(t)?Array.from(t):Object.values(t),r=nt(e??ct);return she(n,r)}o(ohe,"groupBy");function ahe(t,e,n,r){if(t==null)return!1;if(r||!n?n=0:n=Jn(n),KE(t))return n>t.length||e instanceof RegExp?!1:(n<0&&(n=Math.max(0,t.length+n)),t.includes(e,n));if(Array.isArray(t))return t.includes(e,n);const i=Object.keys(t);n<0&&(n=Math.max(0,i.length+n));for(let s=n;s<i.length;s++){const a=Reflect.get(t,i[s]);if(Gr(a,e))return!0}return!1}o(ahe,"includes");function lhe(t,e,n){if(!Ve(t))return-1;if(Number.isNaN(e)){n=n??0,n<0&&(n=Math.max(0,t.length+n));for(let r=n;r<t.length;r++)if(Number.isNaN(t[r]))return r;return-1}return Array.from(t).indexOf(e,n)}o(lhe,"indexOf");function uhe(t){return t.slice(0,-1)}o(uhe,"initial$1");function che(t){return Ve(t)?uhe(Array.from(t)):[]}o(che,"initial");function fhe(t,e){const n=new Set(e);return t.filter(r=>n.has(r))}o(fhe,"intersection$1");function Up(t){return Array.from(new Set(t))}o(Up,"uniq$1");function hhe(...t){if(t.length===0)return[];if(!Pt(t[0]))return[];let e=Up(Array.from(t[0]));for(let n=1;n<t.length;n++){const r=t[n];if(!Pt(r))return[];e=fhe(e,Array.from(r))}return e}o(hhe,"intersection");function z2(t,e,n){const r=new Set(e.map(n));return t.filter(i=>r.has(n(i)))}o(z2,"intersectionBy$1");function _z(t,...e){if(!Pt(t))return[];const n=GE(e);if(n===void 0)return Array.from(t);let r=Up(Array.from(t));const i=Pt(n)?e.length:e.length-1;for(let s=0;s<i;++s){const a=e[s];if(!Pt(a))return[];Pt(n)?r=z2(r,Array.from(a),ct):typeof n=="function"?r=z2(r,Array.from(a),l=>n(l)):typeof n=="string"&&(r=z2(r,Array.from(a),Ll(n)))}return r}o(_z,"intersectionBy");function dhe(t,e,n){return t.filter(r=>e.some(i=>n(r,i)))}o(dhe,"intersectionWith$1");function v3(t){return Ve(t)?Up(Array.from(t)):[]}o(v3,"uniq");function bz(t,...e){if(t==null)return[];const n=rh(e);let r=Gr,i=v3;typeof n=="function"&&(r=n,i=phe,e.pop());let s=i(Array.from(t));for(let a=0;a<e.length;++a){const l=e[a];if(l==null)return[];s=dhe(s,Array.from(l),r)}return s}o(bz,"intersectionWith");function phe(t){const e=[],n=new Set;for(let r=0;r<t.length;r++){const i=t[r];n.has(i)||(e.push(i),n.add(i))}return e}o(phe,"uniqPreserve0");function sh(t){return typeof t=="function"}o(sh,"isFunction$4");function mhe(t,e,...n){if(Vu(t))return[];const r=Ve(t)?Array.from(t):Object.values(t),i=[];for(let s=0;s<r.length;s++){const a=r[s];if(sh(e)){i.push(e.apply(a,n));continue}const l=ts(a,e);let u=a;if(Array.isArray(e)){const c=e.slice(0,-1);c.length>0&&(u=ts(a,c))}else if(typeof e=="string"&&e.includes(".")){const f=e.split(".").slice(0,-1).join(".");u=ts(a,f)}i.push(l?.apply(u,n))}return i}o(mhe,"invokeMap");function ghe(t,e){return Ve(t)?Array.from(t).join(e):""}o(ghe,"join$3");function wz(t,e=ct,n){if(!t)return n;let r,i=0;Ve(t)?(r=ih(0,t.length),n==null&&t.length>0&&(n=t[0],i+=1)):(r=Object.keys(t),n==null&&(n=t[r[0]],i+=1));for(let s=i;s<r.length;s++){const a=r[s],l=t[a];n=e(n,l,a,t)}return n}o(wz,"reduce");function yhe(t,e){if(!Ve(t)&&!If(t))return{};const n=nt(e??ct);return wz(t,(r,i)=>{const s=n(i);return r[s]=i,r},{})}o(yhe,"keyBy");function _he(t,e,n){if(!Ve(t)||t.length===0)return-1;const r=t.length;let i=n??r-1;if(n!=null&&(i=i<0?Math.max(r+i,0):Math.min(i,r-1)),Number.isNaN(e)){for(let s=i;s>=0;s--)if(Number.isNaN(t[s]))return s}return Array.from(t).lastIndexOf(e,i)}o(_he,"lastIndexOf");function bhe(t,e=0){if(!(!Pt(t)||t.length===0))return e=Jn(e),e<0&&(e+=t.length),t[e]}o(bhe,"nth");function mP(t){return typeof t=="symbol"?1:t===null?2:t===void 0?3:t!==t?4:0}o(mP,"getPriority");const whe=o((t,e,n)=>{if(t!==e){const r=mP(t),i=mP(e);if(r===i&&r===0){if(t<e)return n==="desc"?1:-1;if(t>e)return n==="desc"?-1:1}return n==="desc"?i-r:r-i}return 0},"compareValues$1"),vhe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ehe=/^\w*$/;function XE(t,e){return Array.isArray(t)?!1:typeof t=="number"||typeof t=="boolean"||t==null||Rf(t)?!0:typeof t=="string"&&(Ehe.test(t)||!vhe.test(t))||e!=null&&Object.hasOwn(e,t)}o(XE,"isKey");function vz(t,e,n,r){if(t==null)return[];n=r?void 0:n,Array.isArray(t)||(t=Object.values(t)),Array.isArray(e)||(e=e==null?[null]:[e]),e.length===0&&(e=[null]),Array.isArray(n)||(n=n==null?[]:[n]),n=n.map(u=>String(u));const i=o((u,c)=>{let f=u;for(let h=0;h<c.length&&f!=null;++h)f=f[c[h]];return f},"getValueByNestedPath"),s=o((u,c)=>c==null||u==null?c:typeof u=="object"&&"key"in u?Object.hasOwn(c,u.key)?c[u.key]:i(c,u.path):typeof u=="function"?u(c):Array.isArray(u)?i(c,u):typeof c=="object"?c[u]:c,"getValueByCriterion"),a=e.map(u=>(Array.isArray(u)&&u.length===1&&(u=u[0]),u==null||typeof u=="function"||Array.isArray(u)||XE(u)?u:{key:u,path:Na(u)}));return t.map(u=>({original:u,criteria:a.map(c=>s(c,u))})).slice().sort((u,c)=>{for(let f=0;f<a.length;f++){const h=whe(u.criteria[f],c.criteria[f],n[f]);if(h!==0)return h}return 0}).map(u=>u.original)}o(vz,"orderBy$1");function xhe(t,e=ct){if(!t)return[[],[]];const n=Ve(t)?t:Object.values(t);e=nt(e);const r=[],i=[];for(let s=0;s<n.length;s++){const a=n[s];e(a)?r.push(a):i.push(a)}return[r,i]}o(xhe,"partition");function Ez(t,e){const n=new Set(e);let r=0;for(let i=0;i<t.length;i++)if(!n.has(t[i])){if(!Object.hasOwn(t,i)){delete t[r++];continue}t[r++]=t[i]}return t.length=r,t}o(Ez,"pull$1");function The(t,...e){return Ez(t,e)}o(The,"pull");function She(t,e=[]){return Ez(t,Array.from(e))}o(She,"pullAll");function khe(t,e,n){const r=nt(n),i=new Set(Array.from(e).map(a=>r(a)));let s=0;for(let a=0;a<t.length;a++){const l=r(t[a]);if(!i.has(l)){if(!Object.hasOwn(t,a)){delete t[s++];continue}t[s++]=t[a]}}return t.length=s,t}o(khe,"pullAllBy");function Ahe(t,e){const n=t.length;e==null&&(e=Array(n));for(let r=0;r<n;r++)e[r]=t[r];return e}o(Ahe,"copyArray");function Che(t,e,n){if(t?.length==null||e?.length==null)return t;t===e&&(e=Ahe(e));let r=0;n==null&&(n=o((a,l)=>Gr(a,l),"comparator"));const i=Array.isArray(e)?e:Array.from(e),s=i.includes(void 0);for(let a=0;a<t.length;a++){if(a in t){i.some(u=>n(t[a],u))||(t[r++]=t[a]);continue}s||delete t[r++]}return t.length=r,t}o(Che,"pullAllWith");function xz(t,...e){if(e.length===0)return[];const n=[];for(let i=0;i<e.length;i++){const s=e[i];if(!Ve(s)||KE(s)){n.push(s);continue}for(let a=0;a<s.length;a++)n.push(s[a])}const r=[];for(let i=0;i<n.length;i++)r.push(ts(t,n[i]));return r}o(xz,"at$2");function ww(t,e){if(t==null)return!0;switch(typeof e){case"symbol":case"number":case"object":{if(Array.isArray(e))return gP(t,e);if(typeof e=="number"?e=nh(e):typeof e=="object"&&(Object.is(e?.valueOf(),-0)?e="-0":e=String(e)),zu(e))return!1;if(t?.[e]===void 0)return!0;try{return delete t[e],!0}catch{return!1}}case"string":{if(t?.[e]===void 0&&$E(e))return gP(t,Na(e));if(zu(e))return!1;try{return delete t[e],!0}catch{return!1}}}}o(ww,"unset");function gP(t,e){const n=ts(t,e.slice(0,-1),t),r=e[e.length-1];if(n?.[r]===void 0)return!0;if(zu(r))return!1;try{return delete n[r],!0}catch{return!1}}o(gP,"unsetWithPath");function ju(t){return Array.isArray(t)}o(ju,"isArray$4");function Ihe(t,...e){const n=Oy(e,1);if(!t)return Array(n.length);const r=xz(t,n),i=n.map(s=>ip(s,t.length)?Number(s):s).sort((s,a)=>a-s);for(const s of new Set(i)){if(ip(s,t.length)){Array.prototype.splice.call(t,s,1);continue}if(XE(s,t)){delete t[nh(s)];continue}const a=ju(s)?s:Na(s);ww(t,a)}return r}o(Ihe,"pullAt");function Rhe(t,e=ct,n){if(!t)return n;let r,i;Ve(t)?(r=ih(0,t.length).reverse(),n==null&&t.length>0?(n=t[t.length-1],i=1):i=0):(r=Object.keys(t).reverse(),n==null?(n=t[r[0]],i=1):i=0);for(let s=i;s<r.length;s++){const a=r[s],l=t[a];n=e(n,l,a,t)}return n}o(Rhe,"reduceRight");function E3(t){if(typeof t!="function")throw new TypeError("Expected a function");return function(...e){return!t.apply(this,e)}}o(E3,"negate$1");function Ohe(t,e=ct){return gz(t,E3(nt(e)))}o(Ohe,"reject");function Nhe(t,e){const n=t.slice(),r=[];let i=0;for(let s=0;s<t.length;s++){if(e(t[s],s,n)){r.push(t[s]);continue}if(!Object.hasOwn(t,s)){delete t[i++];continue}t[i++]=t[s]}return t.length=i,r}o(Nhe,"remove$1");function Mhe(t,e=ct){return Nhe(t,nt(e))}o(Mhe,"remove");function Dhe(t){return t==null?t:t.reverse()}o(Dhe,"reverse");function yP(t){const e=Math.floor(Math.random()*t.length);return t[e]}o(yP,"sample$1");function Phe(t){if(t!=null)return Ve(t)?yP(zi(t)):yP(Object.values(t))}o(Phe,"sample");function Tz(t,e){if(e==null&&(e=t,t=0),t>=e)throw new Error("Invalid input: The maximum value must be greater than the minimum value.");return Math.random()*(e-t)+t}o(Tz,"random$1");function Sz(t,e){return Math.floor(Tz(t,e))}o(Sz,"randomInt");function $he(t,e){if(e>t.length)throw new Error("Size must be less than or equal to the length of array.");const n=new Array(e),r=new Set;for(let i=t.length-e,s=0;i<t.length;i++,s++){let a=Sz(0,i+1);r.has(a)&&(a=i),r.add(a),n[s]=t[a]}return n}o($he,"sampleSize$1");function Lhe(t,e,n){return n==null?Math.min(t,e):Math.min(Math.max(t,e),n)}o(Lhe,"clamp$2");function op(t,e,n){return Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Lhe(t,e,n)}o(op,"clamp$1");function Fhe(t){return t instanceof Map}o(Fhe,"isMap$1");function kz(t){return Fhe(t)}o(kz,"isMap");function x3(t){return t==null?[]:Ve(t)||kz(t)?Array.from(t):typeof t=="object"?Object.values(t):[]}o(x3,"toArray$1");function Bhe(t,e,n){const r=x3(t);return(n?Sl(t,e,n):e===void 0)?e=1:e=op(Jn(e),0,r.length),$he(r,e)}o(Bhe,"sampleSize");function V2(t){const e=t.slice();for(let n=e.length-1;n>=1;n--){const r=Math.floor(Math.random()*(n+1));[e[n],e[r]]=[e[r],e[n]]}return e}o(V2,"shuffle$2");function Az(t){return t==null?[]:Object.values(t)}o(Az,"values");function JE(t){return t==null}o(JE,"isNil");function Uhe(t){return JE(t)?[]:ju(t)?V2(t):Ve(t)?V2(Array.from(t)):If(t)?V2(Az(t)):[]}o(Uhe,"shuffle$1");function zhe(t){return Vu(t)?0:t instanceof Map||t instanceof Set?t.size:Object.keys(t).length}o(zhe,"size$1");function Vhe(t,e,n){if(!Ve(t))return[];const r=t.length;n===void 0?n=r:typeof n!="number"&&Sl(t,e,n)&&(e=0,n=r),e=Jn(e),n=Jn(n),e<0?e=Math.max(r+e,0):e=Math.min(e,r),n<0?n=Math.max(r+n,0):n=Math.min(n,r);const i=Math.max(n-e,0),s=new Array(i);for(let a=0;a<i;++a)s[a]=t[e+a];return s}o(Vhe,"slice");function jhe(t,e,n){if(!t)return!1;n!=null&&(e=void 0),e||(e=ct);const r=Array.isArray(t)?t:Object.values(t);switch(typeof e){case"function":{if(!Array.isArray(t)){const i=Object.keys(t);for(let s=0;s<i.length;s++){const a=i[s],l=t[a];if(e(l,a,t))return!0}return!1}for(let i=0;i<t.length;i++)if(e(t[i],i,t))return!0;return!1}case"object":if(Array.isArray(e)&&e.length===2){const i=e[0],s=e[1],a=cc(i,s);if(Array.isArray(t)){for(let l=0;l<t.length;l++)if(a(t[l]))return!0;return!1}return r.some(a)}else{const i=uc(e);if(Array.isArray(t)){for(let s=0;s<t.length;s++)if(i(t[s]))return!0;return!1}return r.some(i)}case"number":case"symbol":case"string":{const i=Ll(e);if(Array.isArray(t)){for(let s=0;s<t.length;s++)if(i(t[s]))return!0;return!1}return r.some(i)}}}o(jhe,"some");function Whe(t,...e){const n=e.length;return n>1&&Sl(t,e[0],e[1])?e=[]:n>2&&Sl(e[0],e[1],e[2])&&(e=[e[0]]),vz(t,PE(e),["asc"])}o(Whe,"sortBy$1");function vw(t){return t===null}o(vw,"isNull$1");function Rk(t){return t===void 0}o(Rk,"isUndefined$2");function Ok(t){return Number.isNaN(t)}o(Ok,"isNaN$1");const Hhe=4294967295,Ghe=Hhe-1;function T3(t,e,n=nt,r){let i=0,s=t==null?0:t.length;if(s===0||JE(t))return 0;const a=nt(n),l=a(e),u=Ok(l),c=vw(l),f=Rf(l),h=Rk(l);for(;i<s;){let d;const p=Math.floor((i+s)/2),m=a(t[p]),y=!Rk(m),_=vw(m),b=!Ok(m),S=Rf(m);u?d=r||b:h?d=b&&(r||y):c?d=b&&y&&(r||!_):f?d=b&&y&&!_&&(r||!S):_||S?d=!1:d=r?m<=l:m<l,d?i=p+1:s=p}return Math.min(s,Ghe)}o(T3,"sortedIndexBy");function Cz(t){return typeof t=="symbol"}o(Cz,"isSymbol");function S3(t){return typeof t=="number"||t instanceof Number}o(S3,"isNumber$5");const qhe=4294967295,Khe=qhe>>>1;function Iz(t,e){if(Vu(t))return 0;let n=0,r=Vu(t)?n:t.length;if(S3(e)&&e===e&&r<=Khe){for(;n<r;){const i=n+r>>>1,s=t[i];!vw(s)&&!Cz(s)&&s<e?n=i+1:r=i}return r}return T3(t,e,i=>i)}o(Iz,"sortedIndex");function Yhe(t,e){if(!t?.length)return-1;const n=Iz(t,e);return n<t.length&&Gr(t[n],e)?n:-1}o(Yhe,"sortedIndexOf");function Rz(t,e,n){return T3(t,e,n,!0)}o(Rz,"sortedLastIndexBy");const Xhe=4294967295,Jhe=Xhe>>>1;function Oz(t,e){if(Vu(t))return 0;let n=t.length;if(!S3(e)||Number.isNaN(e)||n>Jhe)return Rz(t,e,i=>i);let r=0;for(;r<n;){const i=r+n>>>1,s=t[i];!vw(s)&&!Cz(s)&&s<=e?r=i+1:n=i}return n}o(Oz,"sortedLastIndex");function Zhe(t,e){if(!t?.length)return-1;const n=Oz(t,e)-1;return n>=0&&Gr(t[n],e)?n:-1}o(Zhe,"sortedLastIndexOf");function Qhe(t){return t.slice(1)}o(Qhe,"tail$1");function ede(t){return Ve(t)?Qhe(zi(t)):[]}o(ede,"tail");function tde(t,e,n){return e=e===void 0?1:Jn(e),t.slice(0,e)}o(tde,"take$1");function nde(t,e=1,n){return e=n?1:Jn(e),e<1||!Ve(t)?[]:tde(zi(t),e)}o(nde,"take");function rde(t,e=1,n){return e=e===void 0?1:Jn(e),e<=0||t==null||t.length===0?[]:t.slice(-e)}o(rde,"takeRight$1");function ide(t,e=1,n){return e=n?1:Jn(e),e<=0||!Ve(t)?[]:rde(zi(t),e)}o(ide,"takeRight");function sde(t){return(...e)=>!t(...e)}o(sde,"negate");function ode(t,e){if(!Pt(t))return[];const n=zi(t),r=n.findLastIndex(sde(nt(e??ct)));return n.slice(r+1)}o(ode,"takeRightWhile");function zp(t){return t}o(zp,"identity");function ade(t,e){if(!Pt(t))return[];const n=zi(t),r=n.findIndex(E3(nt(e??zp)));return r===-1?n:n.slice(0,r)}o(ade,"takeWhile");function lde(...t){const e=t.filter(Pt),n=Oy(e,1);return Up(n)}o(lde,"union");function Nz(t,e){const n=new Map;for(let r=0;r<t.length;r++){const i=t[r],s=e(i);n.has(s)||n.set(s,i)}return Array.from(n.values())}o(Nz,"uniqBy$1");function Nk(...t){const e=GE(t),n=qE(t);return Pt(e)||e==null?Up(n):Nz(n,nt(e))}o(Nk,"unionBy");function Mz(t,e){const n=[];for(let r=0;r<t.length;r++){const i=t[r];n.every(a=>!e(a,i))&&n.push(i)}return n}o(Mz,"uniqWith$1");function Mk(...t){const e=GE(t),n=qE(t);return Pt(e)||e==null?Up(n):Mz(n,e)}o(Mk,"unionWith");function ude(t,e=ct){return Pt(t)?Nz(Array.from(t),nt(e)):[]}o(ude,"uniqBy");function cde(t,e){return Ve(t)?typeof e=="function"?Mz(Array.from(t),e):v3(Array.from(t)):[]}o(cde,"uniqWith");function Dk(t){let e=0;for(let r=0;r<t.length;r++)t[r].length>e&&(e=t[r].length);const n=new Array(e);for(let r=0;r<e;r++){n[r]=new Array(t.length);for(let i=0;i<t.length;i++)n[r][i]=t[i][r]}return n}o(Dk,"unzip$1");function Dz(t){return!Pt(t)||!t.length?[]:(t=ju(t)?t:Array.from(t),t=t.filter(e=>Pt(e)),Dk(t))}o(Dz,"unzip");function fde(t,e){if(!Pt(t)||!t.length)return[];const n=ju(t)?Dk(t):Dk(Array.from(t,i=>Array.from(i)));if(!e)return n;const r=new Array(n.length);for(let i=0;i<n.length;i++){const s=n[i];r[i]=e(...s)}return r}o(fde,"unzipWith");function hde(t,...e){return HE(t,e)}o(hde,"without$1");function dde(t,...e){return Pt(t)?hde(Array.from(t),...e):[]}o(dde,"without");function pde(...t){const e=new Map;for(let r=0;r<t.length;r++){const i=t[r];if(!Pt(i))continue;const s=new Set(x3(i));for(const a of s)e.has(a)?e.set(a,e.get(a)+1):e.set(a,1)}const n=[];for(const[r,i]of e)i===1&&n.push(r);return n}o(pde,"xor");function Pz(t,e,n=1,{partialWindows:r=!1}={}){if(!Number.isInteger(e))throw new Error("Size must be a positive integer.");if(n<=0||!Number.isInteger(n))throw new Error("Step must be a positive integer.");const i=[],s=r?t.length:t.length-e+1;for(let a=0;a<s;a+=n)i.push(t.slice(a,a+e));return i}o(Pz,"windowed");function mde(...t){const e=rh(t);let n=ct;!Pt(e)&&e!=null&&(n=nt(e),t=t.slice(0,-1));const r=t.filter(Pt),i=Nk(...r,n),s=Pz(r,2).map(([a,l])=>_z(a,l,n));return pz(i,Nk(...s,n),n)}o(mde,"xorBy");function gde(...t){const e=rh(t);let n=o((a,l)=>a===l,"comparator");typeof e=="function"&&(n=e,t=t.slice(0,-1));const r=t.filter(Pt),i=Mk(...r,n),s=Pz(r,2).map(([a,l])=>bz(a,l,n));return mz(i,Mk(...s,n),n)}o(gde,"xorWith");function $z(...t){let e=0;for(let i=0;i<t.length;i++)t[i].length>e&&(e=t[i].length);const n=t.length,r=Array(e);for(let i=0;i<e;++i){const s=Array(n);for(let a=0;a<n;++a)s[a]=t[a][i];r[i]=s}return r}o($z,"zip$1");function yde(...t){return t.length?$z(...t.filter(e=>Pt(e))):[]}o(yde,"zip");const k3=o((t,e,n)=>{const r=t[e];(!(Object.hasOwn(t,e)&&Gr(r,n))||n===void 0&&!(e in t))&&(t[e]=n)},"assignValue");function _de(t=[],e=[]){const n={};for(let r=0;r<t.length;r++)k3(n,t[r],e[r]);return n}o(_de,"zipObject");function ZE(t,e,n,r){if(t==null&&!xo(t))return t;const i=XE(e,t)?[e]:Array.isArray(e)?e:typeof e=="string"?Na(e):[e];let s=t;for(let a=0;a<i.length&&s!=null;a++){const l=nh(i[a]);if(zu(l))continue;let u;if(a===i.length-1)u=n(s[l]);else{const c=s[l],f=r?.(c,l,t);u=f!==void 0?f:xo(c)?c:ip(i[a+1])?[]:{}}k3(s,l,u),s=s[l]}return t}o(ZE,"updateWith");function A3(t,e,n){return ZE(t,e,()=>n,()=>{})}o(A3,"set");function bde(t,e){const n={};if(!Ve(t))return n;Ve(e)||(e=[]);const r=$z(Array.from(t),Array.from(e));for(let i=0;i<r.length;i++){const[s,a]=r[i];s!=null&&A3(n,s,a)}return n}o(bde,"zipObjectDeep");function wde(...t){let e=t.pop();if(sh(e)||(t.push(e),e=void 0),!t?.length)return[];const n=Dz(t);return e==null?n:n.map(r=>e(...r))}o(wde,"zipWith");function vde(t,e){if(typeof e!="function")throw new TypeError("Expected a function");return t=Jn(t),function(...n){if(--t<1)return e.apply(this,n)}}o(vde,"after$1");function Ede(t,e){return function(...n){return t.apply(this,n.slice(0,e))}}o(Ede,"ary$1");function Lz(t,e=t.length,n){return n&&(e=t.length),(Number.isNaN(e)||e<0)&&(e=0),Ede(t,e)}o(Lz,"ary");function Fz(t,...e){try{return t(...e)}catch(n){return n instanceof Error?n:new Error(n)}}o(Fz,"attempt");function xde(t,e){if(typeof e!="function")throw new TypeError("Expected a function");let n;return t=Jn(t),function(...r){return--t>0&&(n=e.apply(this,r)),t<=1&&e&&(e=void 0),n}}o(xde,"before");function C3(t,e,...n){const r=o(function(...i){const s=[];let a=0;for(let l=0;l<n.length;l++){const u=n[l];u===C3.placeholder?s.push(i[a++]):s.push(u)}for(let l=a;l<i.length;l++)s.push(i[l]);return this instanceof r?new t(...s):t.apply(e,s)},"bound");return r}o(C3,"bind$4");const Tde=Symbol("bind.placeholder");C3.placeholder=Tde;function I3(t,e,...n){const r=o(function(...i){const s=[];let a=0;for(let l=0;l<n.length;l++){const u=n[l];u===I3.placeholder?s.push(i[a++]):s.push(u)}for(let l=a;l<i.length;l++)s.push(i[l]);return this instanceof r?new t[e](...s):t[e].apply(t,s)},"bound");return r}o(I3,"bindKey");const Sde=Symbol("bindKey.placeholder");I3.placeholder=Sde;function Ny(t,e=t.length,n){e=n?t.length:e,e=Number.parseInt(e,10),(Number.isNaN(e)||e<1)&&(e=0);const r=o(function(...i){const s=i.filter(l=>l===Ny.placeholder),a=i.length-s.length;return a<e?Bz(t,e-a,i):this instanceof r?new t(...i):t.apply(this,i)},"wrapper");return r.placeholder=R3,r}o(Ny,"curry");function Bz(t,e,n){function r(...i){const s=i.filter(l=>l===Ny.placeholder),a=i.length-s.length;return i=kde(i,n),a<e?Bz(t,e-a,i):this instanceof r?new t(...i):t.apply(this,i)}return o(r,"wrapper"),r.placeholder=R3,r}o(Bz,"makeCurry");function kde(t,e){const n=[];let r=0;for(let i=0;i<e.length;i++){const s=e[i];s===Ny.placeholder&&r<t.length?n.push(t[r++]):n.push(s)}for(let i=r;i<t.length;i++)n.push(t[i]);return n}o(kde,"composeArgs$1");const R3=Symbol("curry.placeholder");Ny.placeholder=R3;function ap(t,e=t.length,n){e=n?t.length:e,e=Number.parseInt(e,10),(Number.isNaN(e)||e<1)&&(e=0);const r=o(function(...i){const s=i.filter(l=>l===ap.placeholder),a=i.length-s.length;return a<e?Uz(t,e-a,i):this instanceof r?new t(...i):t.apply(this,i)},"wrapper");return r.placeholder=O3,r}o(ap,"curryRight");function Uz(t,e,n){function r(...i){const s=i.filter(l=>l===ap.placeholder),a=i.length-s.length;return i=Ade(i,n),a<e?Uz(t,e-a,i):this instanceof r?new t(...i):t.apply(this,i)}return o(r,"wrapper"),r.placeholder=O3,r}o(Uz,"makeCurryRight");function Ade(t,e){const n=e.filter(a=>a===ap.placeholder).length,r=Math.max(t.length-n,0),i=[];let s=0;for(let a=0;a<r;a++)i.push(t[s++]);for(let a=0;a<e.length;a++){const l=e[a];l===ap.placeholder&&s<t.length?i.push(t[s++]):i.push(l)}return i}o(Ade,"composeArgs");const O3=Symbol("curryRight.placeholder");ap.placeholder=O3;function Cde(t,e,{signal:n,edges:r}={}){let i,s=null;const a=r!=null&&r.includes("leading"),l=r==null||r.includes("trailing"),u=o(()=>{s!==null&&(t.apply(i,s),i=void 0,s=null)},"invoke"),c=o(()=>{l&&u(),p()},"onTimerEnd");let f=null;const h=o(()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,c()},e)},"schedule"),d=o(()=>{f!==null&&(clearTimeout(f),f=null)},"cancelTimer"),p=o(()=>{d(),i=void 0,s=null},"cancel"),m=o(()=>{u()},"flush"),y=o(function(..._){if(n?.aborted)return;i=this,s=_;const b=f==null;h(),a&&b&&u()},"debounced");return y.schedule=h,y.cancel=p,y.flush=m,n?.addEventListener("abort",p,{once:!0}),y}o(Cde,"debounce$1");function zz(t,e=0,n={}){typeof n!="object"&&(n={});const{leading:r=!1,trailing:i=!0,maxWait:s}=n,a=Array(2);r&&(a[0]="leading"),i&&(a[1]="trailing");let l,u=null;const c=Cde(function(...d){l=t.apply(this,d),u=null},e,{edges:a}),f=o(function(...d){return s!=null&&(u===null&&(u=Date.now()),Date.now()-u>=s)?(l=t.apply(this,d),u=Date.now(),c.cancel(),c.schedule(),l):(c.apply(this,d),l)},"debounced"),h=o(()=>(c.flush(),l),"flush");return f.cancel=c.cancel,f.flush=h,f}o(zz,"debounce");function Ide(t,...e){if(typeof t!="function")throw new TypeError("Expected a function");return setTimeout(t,1,...e)}o(Ide,"defer");function Rde(t,e,...n){if(typeof t!="function")throw new TypeError("Expected a function");return setTimeout(t,Xn(e)||0,...n)}o(Rde,"delay");function Ode(t){return function(...e){return t.apply(this,e.reverse())}}o(Ode,"flip");function Vz(...t){return function(...e){let n=t.length?t[0].apply(this,e):e[0];for(let r=1;r<t.length;r++)n=t[r].call(this,n);return n}}o(Vz,"flow$1");function Nde(...t){const e=PE(t,1);if(e.some(n=>typeof n!="function"))throw new TypeError("Expected a function");return Vz(...e)}o(Nde,"flow");function Mde(...t){return Vz(...t.reverse())}o(Mde,"flowRight$1");function Dde(...t){const e=PE(t,1);if(e.some(n=>typeof n!="function"))throw new TypeError("Expected a function");return Mde(...e)}o(Dde,"flowRight");function N3(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");const n=o(function(...i){const s=e?e.apply(this,i):i[0],a=n.cache;if(a.has(s))return a.get(s);const l=t.apply(this,i);return n.cache=a.set(s,l)||a,l},"memoized"),r=N3.Cache||Map;return n.cache=new r,n}o(N3,"memoize");N3.Cache=Map;function Pde(t=0){return function(...e){return e.at(Jn(t))}}o(Pde,"nthArg");function $de(t){let e=!1,n;return function(...r){return e||(e=!0,n=t(...r)),n}}o($de,"once$2");function Lde(t){return $de(t)}o(Lde,"once$1");function Fde(t,...e){if(typeof t!="function")throw new TypeError("Expected a function");const n=e.flat();return function(...r){const i=Math.min(r.length,n.length),s=[...r];for(let a=0;a<i;a++){const l=nt(n[a]??ct);s[a]=l.call(this,r[a])}return t.apply(this,s)}}o(Fde,"overArgs");function Bde(t,e,...n){const r=o(function(...i){let s=0;const a=n.slice().map(u=>u===e?i[s++]:u),l=i.slice(s);return t.apply(this,a.concat(l))},"partialed");return t.prototype&&(r.prototype=Object.create(t.prototype)),r}o(Bde,"partialImpl");function M3(t,...e){return Bde(t,M3.placeholder,...e)}o(M3,"partial");M3.placeholder=Symbol("compat.partial.placeholder");function Ude(t,e,...n){const r=o(function(...i){const s=n.filter(f=>f===e).length,a=Math.max(i.length-s,0),l=i.slice(0,a);let u=a;const c=n.slice().map(f=>f===e?i[u++]:f);return t.apply(this,l.concat(c))},"partialedRight");return t.prototype&&(r.prototype=Object.create(t.prototype)),r}o(Ude,"partialRightImpl");function D3(t,...e){return Ude(t,D3.placeholder,...e)}o(D3,"partialRight");D3.placeholder=Symbol("compat.partialRight.placeholder");function zde(t,...e){const n=YE(e);return function(...r){const i=n.map(s=>r[s]).slice(0,r.length);for(let s=i.length;s<r.length;s++)i.push(r[s]);return t.apply(this,i)}}o(zde,"rearg");function Vde(t,e=t.length-1){return function(...n){const r=n.slice(e),i=n.slice(0,e);for(;i.length<e;)i.push(void 0);return t.apply(this,[...i,r])}}o(Vde,"rest$1");function jde(t,e=t.length-1){return e=Number.parseInt(e,10),(Number.isNaN(e)||e<0)&&(e=t.length-1),Vde(t,e)}o(jde,"rest");function Wde(t,e=0){return e=Number.parseInt(e,10),(Number.isNaN(e)||e<0)&&(e=0),function(...n){const r=n[e],i=n.slice(0,e);return r&&i.push(...r),t.apply(this,i)}}o(Wde,"spread$1");function Hde(t,e=0,n={}){const{leading:r=!0,trailing:i=!0}=n;return zz(t,e,{leading:r,maxWait:e,trailing:i})}o(Hde,"throttle$1");function Gde(t){return Lz(t,1)}o(Gde,"unary");function qde(t,e){return function(...n){return(sh(e)?e:ct).apply(this,[t,...n])}}o(qde,"wrap$3");function At(t){if(t==null)return"";if(typeof t=="string")return t;if(Array.isArray(t))return t.map(At).join(",");const e=String(t);return e==="0"&&Object.is(Number(t),-0)?"-0":e}o(At,"toString$2");function Kde(t,e){return t===void 0&&e===void 0?0:t===void 0||e===void 0?t??e:(typeof t=="string"||typeof e=="string"?(t=At(t),e=At(e)):(t=Xn(t),e=Xn(e)),t+e)}o(Kde,"add");function P3(t,e,n=0){if(e=Number(e),Object.is(e,-0)&&(e="-0"),n=Math.min(Number.parseInt(n,10),292),n){const[r,i=0]=e.toString().split("e");let s=Math[t](+`${r}e${Number(i)+n}`);Object.is(s,-0)&&(s="-0");const[a,l=0]=s.toString().split("e");return+`${a}e${Number(l)-n}`}return Math[t](Number(e))}o(P3,"decimalAdjust");function Yde(t,e=0){return P3("ceil",t,e)}o(Yde,"ceil");function Xde(t,e){return t===void 0&&e===void 0?1:t===void 0||e===void 0?t??e:(typeof t=="string"||typeof e=="string"?(t=At(t),e=At(e)):(t=Xn(t),e=Xn(e)),t/e)}o(Xde,"divide");function Jde(t,e=0){return P3("floor",t,e)}o(Jde,"floor$2");function Zde(t,e,n){if(n==null&&(n=e,e=0),e>=n)throw new Error("The maximum value must be greater than the minimum value.");return e<=t&&t<n}o(Zde,"inRange$1");function Qde(t,e,n){return e||(e=0),n!=null&&!n&&(n=0),e!=null&&typeof e!="number"&&(e=Number(e)),n==null&&e===0||(n!=null&&typeof n!="number"&&(n=Number(n)),n!=null&&e>n&&([e,n]=[n,e]),e===n)?!1:Zde(t,e,n)}o(Qde,"inRange");function epe(t){if(!t||t.length===0)return;let e;for(let n=0;n<t.length;n++){const r=t[n];r==null||Number.isNaN(r)||typeof r=="symbol"||(e===void 0||r>e)&&(e=r)}return e}o(epe,"max$1");function tpe(t,e){if(t.length===0)return;let n=t[0],r=e(n);for(let i=1;i<t.length;i++){const s=t[i],a=e(s);a>r&&(r=a,n=s)}return n}o(tpe,"maxBy$1");function npe(t,e){if(t!=null)return tpe(Array.from(t),nt(e??ct))}o(npe,"maxBy");function jz(t,e){if(!t||!t.length)return 0;e!=null&&(e=nt(e));let n;for(let r=0;r<t.length;r++){const i=e?e(t[r]):t[r];i!==void 0&&(n===void 0?n=i:n+=i)}return n}o(jz,"sumBy");function Wz(t){return jz(t)}o(Wz,"sum$1");function rpe(t){const e=t?t.length:0;return e===0?NaN:Wz(t)/e}o(rpe,"mean$1");function ipe(t){let e=0;for(let n=0;n<t.length;n++)e+=t[n];return e}o(ipe,"sum");function spe(t){return ipe(t)/t.length}o(spe,"mean");function ope(t,e){const n=t.map(r=>e(r));return spe(n)}o(ope,"meanBy$1");function ape(t,e){return t==null?NaN:ope(Array.from(t),nt(e??ct))}o(ape,"meanBy");function lpe(t){if(!t||t.length===0)return;let e;for(let n=0;n<t.length;n++){const r=t[n];r==null||Number.isNaN(r)||typeof r=="symbol"||(e===void 0||r<e)&&(e=r)}return e}o(lpe,"min$1");function upe(t,e){if(t.length===0)return;let n=t[0],r=e(n);for(let i=1;i<t.length;i++){const s=t[i],a=e(s);a<r&&(r=a,n=s)}return n}o(upe,"minBy$1");function cpe(t,e){if(t!=null)return upe(Array.from(t),nt(e??ct))}o(cpe,"minBy");function fpe(t,e){return t===void 0&&e===void 0?1:t===void 0||e===void 0?t??e:(typeof t=="string"||typeof e=="string"?(t=At(t),e=At(e)):(t=Xn(t),e=Xn(e)),t*e)}o(fpe,"multiply");function hpe(t,e=0,n){return n&&(e=0),Number.parseInt(t,e)}o(hpe,"parseInt$1");function dpe(...t){let e=0,n=1,r=!1;switch(t.length){case 1:{typeof t[0]=="boolean"?r=t[0]:n=t[0];break}case 2:typeof t[1]=="boolean"?(n=t[0],r=t[1]):(e=t[0],n=t[1]);case 3:typeof t[2]=="object"&&t[2]!=null&&t[2][t[1]]===t[0]?(e=0,n=t[0],r=!1):(e=t[0],n=t[1],r=t[2])}return typeof e!="number"&&(e=Number(e)),typeof n!="number"&&(e=Number(n)),e||(e=0),n||(n=0),e>n&&([e,n]=[n,e]),e=op(e,-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),n=op(n,-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),e===n?e:r?Tz(e,n+1):Sz(e,n+1)}o(dpe,"random");function ppe(t,e,n){n&&typeof n!="number"&&Sl(t,e,n)&&(e=n=void 0),t=Nu(t),e===void 0?(e=t,t=0):e=Nu(e),n=n===void 0?t<e?1:-1:Nu(n);const r=Math.max(Math.ceil((e-t)/(n||1)),0),i=new Array(r);for(let s=0;s<r;s++)i[s]=t,t+=n;return i}o(ppe,"range$1");function mpe(t,e,n){n&&typeof n!="number"&&Sl(t,e,n)&&(e=n=void 0),t=Nu(t),e===void 0?(e=t,t=0):e=Nu(e),n=n===void 0?t<e?1:-1:Nu(n);const r=Math.max(Math.ceil((e-t)/(n||1)),0),i=new Array(r);for(let s=r-1;s>=0;s--)i[s]=t,t+=n;return i}o(mpe,"rangeRight");function gpe(t,e=0){return P3("round",t,e)}o(gpe,"round$1");function ype(t,e){return t===void 0&&e===void 0?0:t===void 0||e===void 0?t??e:(typeof t=="string"||typeof e=="string"?(t=At(t),e=At(e)):(t=Xn(t),e=Xn(e)),t-e)}o(ype,"subtract");function _P(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}o(_P,"isPlainObject$3");function Hz(t,e,n){return eg(t,e,void 0,void 0,void 0,void 0,n)}o(Hz,"isEqualWith$1");function eg(t,e,n,r,i,s,a){const l=a(t,e,n,r,i,s);if(l!==void 0)return l;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return Rg(t,e,s,a)}return Rg(t,e,s,a)}o(eg,"isEqualWithImpl");function Rg(t,e,n,r){if(Object.is(t,e))return!0;let i=Cf(t),s=Cf(e);if(i===rp&&(i=Ig),s===rp&&(s=Ig),i!==s)return!1;switch(i){case np:return t.toString()===e.toString();case Iy:{const u=t.valueOf(),c=e.valueOf();return Gr(u,c)}case Ry:case UE:case BE:return Object.is(t.valueOf(),e.valueOf());case FE:return t.source===e.source&&t.flags===e.flags;case Ife:return t===e}n=n??new Map;const a=n.get(t),l=n.get(e);if(a!=null&&l!=null)return a===e;n.set(t,e),n.set(e,t);try{switch(i){case zE:{if(t.size!==e.size)return!1;for(const[u,c]of t.entries())if(!e.has(u)||!eg(c,e.get(u),u,t,e,n,r))return!1;return!0}case VE:{if(t.size!==e.size)return!1;const u=Array.from(t.values()),c=Array.from(e.values());for(let f=0;f<u.length;f++){const h=u[f],d=c.findIndex(p=>eg(h,p,void 0,t,e,n,r));if(d===-1)return!1;c.splice(d,1)}return!0}case l3:case u3:case c3:case f3:case h3:case Ofe:case d3:case p3:case m3:case Nfe:case g3:case y3:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let u=0;u<t.length;u++)if(!eg(t[u],e[u],u,t,e,n,r))return!1;return!0}case jE:return t.byteLength!==e.byteLength?!1:Rg(new Uint8Array(t),new Uint8Array(e),n,r);case WE:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:Rg(new Uint8Array(t),new Uint8Array(e),n,r);case Rfe:return t.name===e.name&&t.message===e.message;case Ig:{if(!(Rg(t.constructor,e.constructor,n,r)||_P(t)&&_P(e)))return!1;const c=[...Object.keys(t),...h0(t)],f=[...Object.keys(e),...h0(e)];if(c.length!==f.length)return!1;for(let h=0;h<c.length;h++){const d=c[h],p=t[d];if(!Object.hasOwn(e,d))return!1;const m=e[d];if(!eg(p,m,d,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}o(Rg,"areObjectsEqual");function Gz(){}o(Gz,"noop$4");function _pe(t,e){return Hz(t,e,Gz)}o(_pe,"isEqual");function bpe(...t){}o(bpe,"noop$3");function $3(t){return typeof Buffer<"u"&&Buffer.isBuffer(t)}o($3,"isBuffer$2");function L3(t){const e=t?.constructor,n=typeof e=="function"?e.prototype:Object.prototype;return t===n}o(L3,"isPrototype");function oh(t){return _3(t)}o(oh,"isTypedArray$1");function F3(t,e){if(t=Jn(t),t<1||!Number.isSafeInteger(t))return[];const n=new Array(t);for(let r=0;r<t;r++)n[r]=typeof e=="function"?e(r):r;return n}o(F3,"times");function fc(t){if(Ve(t))return wpe(t);const e=Object.keys(Object(t));return L3(t)?e.filter(n=>n!=="constructor"):e}o(fc,"keys$2");function wpe(t){const e=F3(t.length,r=>`${r}`),n=new Set(e);return $3(t)&&(n.add("offset"),n.add("parent")),oh(t)&&(n.add("buffer"),n.add("byteLength"),n.add("byteOffset")),[...e,...Object.keys(t).filter(r=>!n.has(r))]}o(wpe,"arrayLikeKeys");function vpe(t,...e){for(let n=0;n<e.length;n++)Epe(t,e[n]);return t}o(vpe,"assign$6");function Epe(t,e){const n=fc(e);for(let r=0;r<n.length;r++){const i=n[r];(!(i in t)||!Gr(t[i],e[i]))&&(t[i]=e[i])}}o(Epe,"assignImpl");function hc(t){if(t==null)return[];switch(typeof t){case"object":case"function":return Ve(t)?Tpe(t):L3(t)?xpe(t):Ew(t);default:return Ew(Object(t))}}o(hc,"keysIn");function Ew(t){const e=[];for(const n in t)e.push(n);return e}o(Ew,"keysInImpl");function xpe(t){return Ew(t).filter(n=>n!=="constructor")}o(xpe,"prototypeKeysIn");function Tpe(t){const e=F3(t.length,r=>`${r}`),n=new Set(e);return $3(t)&&(n.add("offset"),n.add("parent")),oh(t)&&(n.add("buffer"),n.add("byteLength"),n.add("byteOffset")),[...e,...Ew(t).filter(r=>!n.has(r))]}o(Tpe,"arrayLikeKeysIn");function bP(t,...e){for(let n=0;n<e.length;n++)Spe(t,e[n]);return t}o(bP,"assignIn");function Spe(t,e){const n=hc(e);for(let r=0;r<n.length;r++){const i=n[r];(!(i in t)||!Gr(t[i],e[i]))&&(t[i]=e[i])}}o(Spe,"assignInImpl");function wP(t,...e){let n=e[e.length-1];typeof n=="function"?e.pop():n=void 0;for(let r=0;r<e.length;r++)kpe(t,e[r],n);return t}o(wP,"assignInWith");function kpe(t,e,n){const r=hc(e);for(let i=0;i<r.length;i++){const s=r[i],a=t[s],l=e[s],u=n?.(a,l,s,t,e)??l;(!(s in t)||!Gr(a,u))&&(t[s]=u)}}o(kpe,"assignInWithImpl");function Ape(t,...e){let n=e[e.length-1];typeof n=="function"?e.pop():n=void 0;for(let r=0;r<e.length;r++)Cpe(t,e[r],n);return t}o(Ape,"assignWith");function Cpe(t,e,n){const r=fc(e);for(let i=0;i<r.length;i++){const s=r[i],a=t[s],l=e[s],u=n?.(a,l,s,t,e)??l;(!(s in t)||!Gr(a,u))&&(t[s]=u)}}o(Cpe,"assignWithImpl");function Pk(t){if(Cy(t))return t;const e=Cf(t);if(!Ipe(t))return{};if(ju(t)){const r=Array.from(t);return t.length>0&&typeof t[0]=="string"&&Object.hasOwn(t,"index")&&(r.index=t.index,r.input=t.input),r}if(oh(t)){const r=t,i=r.constructor;return new i(r.buffer,r.byteOffset,r.length)}if(e===jE)return new ArrayBuffer(t.byteLength);if(e===WE){const r=t,i=r.buffer,s=r.byteOffset,a=r.byteLength,l=new ArrayBuffer(a),u=new Uint8Array(i,s,a);return new Uint8Array(l).set(u),new DataView(l)}if(e===Ry||e===Iy||e===np){const r=t.constructor,i=new r(t.valueOf());return e===np?Ope(i,t):j2(i,t),i}if(e===UE)return new Date(Number(t));if(e===FE){const r=t,i=new RegExp(r.source,r.flags);return i.lastIndex=r.lastIndex,i}if(e===BE)return Object(Symbol.prototype.valueOf.call(t));if(e===zE){const r=t,i=new Map;return r.forEach((s,a)=>{i.set(a,s)}),i}if(e===VE){const r=t,i=new Set;return r.forEach(s=>{i.add(s)}),i}if(e===rp){const r=t,i={};return j2(i,r),i.length=r.length,i[Symbol.iterator]=r[Symbol.iterator],i}const n={};return Npe(n,t),j2(n,t),Rpe(n,t),n}o(Pk,"clone$4");function Ipe(t){switch(Cf(t)){case rp:case l3:case jE:case WE:case Ry:case UE:case g3:case y3:case d3:case p3:case m3:case zE:case Iy:case Ig:case FE:case VE:case np:case BE:case u3:case c3:case f3:case h3:return!0;default:return!1}}o(Ipe,"isCloneableObject");function j2(t,e){for(const n in e)Object.hasOwn(e,n)&&(t[n]=e[n])}o(j2,"copyOwnProperties");function Rpe(t,e){const n=Object.getOwnPropertySymbols(e);for(let r=0;r<n.length;r++){const i=n[r];Object.prototype.propertyIsEnumerable.call(e,i)&&(t[i]=e[i])}}o(Rpe,"copySymbolProperties");function Ope(t,e){const n=e.valueOf().length;for(const r in e)Object.hasOwn(e,r)&&(Number.isNaN(Number(r))||Number(r)>=n)&&(t[r]=e[r])}o(Ope,"cloneStringObjectProperties");function Npe(t,e){const n=Object.getPrototypeOf(e);n!==null&&typeof e.constructor=="function"&&Object.setPrototypeOf(t,n)}o(Npe,"copyPrototype");function Mpe(t,e){if(!e)return Pk(t);const n=e(t);return n!==void 0?n:Pk(t)}o(Mpe,"cloneWith");function Dpe(t,e){const n=xo(t)?Object.create(t):{};if(e!=null){const r=fc(e);for(let i=0;i<r.length;i++){const s=r[i],a=e[s];k3(n,s,a)}}return n}o(Dpe,"create$8");function xw(t,...e){t=Object(t);const n=Object.prototype;let r=e.length;const i=r>2?e[2]:void 0;i&&Sl(e[0],e[1],i)&&(r=1);for(let s=0;s<r;s++){const a=e[s],l=Object.keys(a);for(let u=0;u<l.length;u++){const c=l[u],f=t[c];(f===void 0||!Object.hasOwn(t,c)&&Gr(f,n[c]))&&(t[c]=a[c])}}return t}o(xw,"defaults$2");function Wu(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}o(Wu,"isPlainObject$2");function Ppe(t,...e){t=Object(t);for(let n=0;n<e.length;n++){const r=e[n];r!=null&&QE(t,r,new WeakMap)}return t}o(Ppe,"defaultsDeep");function QE(t,e,n){for(const r in e){const i=e[r],s=t[r];if(s===void 0||!Object.hasOwn(t,r)){t[r]=$pe(i,n);continue}n.get(i)!==s&&Lpe(s,i,n)}}o(QE,"defaultsDeepRecursive");function $pe(t,e){if(e.has(t))return e.get(t);if(Wu(t)){const n={};return e.set(t,n),QE(n,t,e),n}return t}o($pe,"handleMissingProperty");function Lpe(t,e,n){if(Wu(t)&&Wu(e)){n.set(e,t),QE(t,e,n);return}Array.isArray(t)&&Array.isArray(e)&&(n.set(e,t),Fpe(t,e,n))}o(Lpe,"handleExistingProperty");function Fpe(t,e,n){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++)Wu(t[i])&&Wu(e[i])&&QE(t[i],e[i],n);for(let i=r;i<e.length;i++)t.push(e[i])}o(Fpe,"mergeArrays");function Bpe(t,e){return Object.keys(t).find(r=>e(t[r],r,t))}o(Bpe,"findKey$2");function Upe(t,e){if(!xo(t))return;const n=nt(e??zp);return Bpe(t,n)}o(Upe,"findKey$1");function zpe(t,e){if(!xo(t))return;const n=nt(e??zp);return Object.keys(t).findLast(i=>n(t[i],i,t))}o(zpe,"findLastKey");function Vpe(t,e=ct){if(t==null)return t;for(const n in t)if(e(t[n],n,t)===!1)break;return t}o(Vpe,"forIn");function jpe(t,e=ct){if(t==null)return t;const n=[];for(const r in t)n.push(r);for(let r=n.length-1;r>=0;r--){const i=n[r];if(e(t[i],i,t)===!1)break}return t}o(jpe,"forInRight");function Wpe(t,e=ct){if(t==null)return t;const n=Object(t),r=fc(t);for(let i=0;i<r.length;++i){const s=r[i];if(e(n[s],s,n)===!1)break}return t}o(Wpe,"forOwn");function Hpe(t,e=ct){if(t==null)return t;const n=Object(t),r=fc(t);for(let i=r.length-1;i>=0;--i){const s=r[i];if(e(n[s],s,n)===!1)break}return t}o(Hpe,"forOwnRight");function Gpe(t){if(!Ve(t))return{};const e={};for(let n=0;n<t.length;n++){const[r,i]=t[n];e[r]=i}return e}o(Gpe,"fromPairs");function qpe(t){return t==null?[]:fc(t).filter(e=>typeof t[e]=="function")}o(qpe,"functions");function Kpe(t){if(t==null)return[];const e=[];for(const n in t)sh(t[n])&&e.push(n);return e}o(Kpe,"functionsIn");function Ype(t,e){if(t==null)return!1;let n;if(Array.isArray(e)?n=e:typeof e=="string"&&$E(e)&&t[e]==null?n=Na(e):n=[e],n.length===0)return!1;let r=t;for(let i=0;i<n.length;i++){const s=n[i];if((r==null||!(s in Object(r)))&&!((Array.isArray(r)||sp(r))&&ip(s)&&s<r.length))return!1;r=r[s]}return!0}o(Ype,"hasIn");function Xpe(t){const e={},n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r],s=t[i];e[s]=i}return e}o(Xpe,"invert$1");function Jpe(t){return Xpe(t)}o(Jpe,"invert");function Zpe(t,e){const n={};if(Vu(t))return n;e==null&&(e=ct);const r=Object.keys(t),i=nt(e);for(let s=0;s<r.length;s++){const a=r[s],l=t[a],u=i(l);Array.isArray(n[u])?n[u].push(a):n[u]=[a]}return n}o(Zpe,"invertBy");function Qpe(t,e){const n={},r=Object.keys(t);for(let i=0;i<r.length;i++){const s=r[i],a=t[s];n[e(a,s,t)]=a}return n}o(Qpe,"mapKeys$1");function eme(t,e=ct){return t==null?{}:Qpe(t,nt(e))}o(eme,"mapKeys");function tme(t,e){const n={},r=Object.keys(t);for(let i=0;i<r.length;i++){const s=r[i],a=t[s];n[s]=e(a,s,t)}return n}o(tme,"mapValues$1");function nme(t,e=ct){return t==null?{}:tme(t,nt(e))}o(nme,"mapValues");function rme(t){if(Cy(t))return t;if(Array.isArray(t)||_3(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}o(rme,"clone$3");function qz(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let s=0;s<n.length;s++){const a=n[s];i=sb(i,a,r,new Map)}return i}o(qz,"mergeWith");function sb(t,e,n,r){if(Cy(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return rme(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...h0(e)];for(let s=0;s<i.length;s++){const a=i[s];if(zu(a))continue;let l=e[a],u=t[a];if(sp(l)&&(l={...l}),sp(u)&&(u={...u}),typeof Buffer<"u"&&Buffer.isBuffer(l)&&(l=d0(l)),Array.isArray(l))if(typeof u=="object"&&u!=null){const f=[],h=Reflect.ownKeys(u);for(let d=0;d<h.length;d++){const p=h[d];f[p]=u[p]}u=f}else u=[];const c=n(u,l,a,t,e,r);c!==void 0?t[a]=c:Array.isArray(l)||If(u)&&If(l)?t[a]=sb(u,l,n,r):u==null&&Wu(l)?t[a]=sb({},l,n,r):u==null&&oh(l)?t[a]=d0(l):(u===void 0||l!==void 0)&&(t[a]=l)}return t}o(sb,"mergeWithDeep");function ime(t,...e){return qz(t,...e,Gz)}o(ime,"merge$1");function sme(t,...e){if(t==null)return{};const n=b3(t);for(let r=0;r<e.length;r++){let i=e[r];switch(typeof i){case"object":{Array.isArray(i)||(i=Array.from(i));for(let s=0;s<i.length;s++){const a=i[s];ww(n,a)}break}case"string":case"symbol":case"number":{ww(n,i);break}}}return n}o(sme,"omit");function Kz(t){const e=[];for(;t;)e.push(...h0(t)),t=Object.getPrototypeOf(t);return e}o(Kz,"getSymbolsIn");function ome(t,e){if(t==null)return{};const n={},r=nt(e??zp),i=Ve(t)?ih(0,t.length):[...hc(t),...Kz(t)];for(let s=0;s<i.length;s++){const a=Rf(i[s])?i[s]:i[s].toString(),l=t[a];r(l,a,t)||(n[a]=l)}return n}o(ome,"omitBy");function ame(t,...e){if(JE(t))return{};const n={};for(let r=0;r<e.length;r++){let i=e[r];switch(typeof i){case"object":{Array.isArray(i)||(Ve(i)?i=Array.from(i):i=[i]);break}case"string":case"symbol":case"number":{i=[i];break}}for(const s of i){const a=ts(t,s);a===void 0&&!w3(t,s)||(typeof s=="string"&&Object.hasOwn(t,s)?n[s]=a:A3(n,s,a))}}return n}o(ame,"pick");function lme(t,e){if(t==null)return{};const n=nt(e??zp),r={},i=Ve(t)?ih(0,t.length):[...hc(t),...Kz(t)];for(let s=0;s<i.length;s++){const a=Rf(i[s])?i[s]:i[s].toString(),l=t[a];n(l,a,t)&&(r[a]=l)}return r}o(lme,"pickBy");function ume(t){return function(e){return ts(t,e)}}o(ume,"propertyOf");function cme(t,e,n){XE(e,t)?e=[e]:Array.isArray(e)||(e=Na(At(e)));const r=Math.max(e.length,1);for(let i=0;i<r;i++){const s=t?.[nh(e[i])];if(s===void 0)return typeof n=="function"?n.call(t):n;t=typeof s=="function"?s.call(t):s}return t}o(cme,"result");function fme(t,e,n,r){let i;return typeof r=="function"?i=r:i=o(()=>{},"customizerFn"),ZE(t,e,()=>n,i)}o(fme,"setWith");function hme(t,...e){const n=d0(t);return xw(n,...e)}o(hme,"toDefaulted");function Yz(t){const e=new Array(t.size),n=t.keys(),r=t.values();for(let i=0;i<e.length;i++)e[i]=[n.next().value,r.next().value];return e}o(Yz,"mapToEntries");function Xz(t){const e=new Array(t.size),n=t.values();for(let r=0;r<e.length;r++){const i=n.next().value;e[r]=[i,i]}return e}o(Xz,"setToEntries");function dme(t){if(t==null)return[];if(t instanceof Set)return Xz(t);if(t instanceof Map)return Yz(t);const e=fc(t),n=new Array(e.length);for(let r=0;r<e.length;r++){const i=e[r],s=t[i];n[r]=[i,s]}return n}o(dme,"toPairs");function pme(t){if(t==null)return[];if(t instanceof Set)return Xz(t);if(t instanceof Map)return Yz(t);const e=hc(t),n=new Array(e.length);for(let r=0;r<e.length;r++){const i=e[r],s=t[i];n[r]=[i,s]}return n}o(pme,"toPairsIn");function Jz(t){return $3(t)}o(Jz,"isBuffer$1");function mme(t,e=ct,n){const r=Array.isArray(t)||Jz(t)||oh(t);return e=nt(e),n==null&&(r?n=[]:xo(t)&&sh(t.constructor)?n=Object.create(Object.getPrototypeOf(t)):n={}),t==null||Ik(t,(i,s,a)=>e(n,i,s,a)),n}o(mme,"transform$1");function gme(t,e,n){return ZE(t,e,n,()=>{})}o(gme,"update");function yme(t){const e=hc(t),n=new Array(e.length);for(let r=0;r<e.length;r++){const i=e[r];n[r]=t[i]}return n}o(yme,"valuesIn");function _me(t){return typeof t=="function"}o(_me,"isFunction$3");function bme(t){return Number.isSafeInteger(t)&&t>=0}o(bme,"isLength$1");const Zz=Function.prototype.toString,wme=/[\\^$.*+?()[\]{}|]/g,vme=RegExp(`^${Zz.call(Object.prototype.hasOwnProperty).replace(wme,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")}$`);function Eme(t){if(typeof t!="function")return!1;if(globalThis?.["__core-js_shared__"]!=null)throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return vme.test(Zz.call(t))}o(Eme,"isNative");function xme(t){return t===null}o(xme,"isNull");function Tme(t){return Rk(t)}o(Tme,"isUndefined$1");function Qz(t,e){if(e==null)return!0;if(t==null)return Object.keys(e).length===0;const n=Object.keys(e);for(let r=0;r<n.length;r++){const i=n[r],s=e[i],a=t[i];if(a===void 0&&!(i in t)||typeof s=="function"&&!s(a))return!1}return!0}o(Qz,"conformsTo");function Sme(t){return t=b3(t),function(e){return Qz(e,t)}}o(Sme,"conforms");function kme(t){return t instanceof ArrayBuffer}o(kme,"isArrayBuffer$2");function Ame(t){return kme(t)}o(Ame,"isArrayBuffer$1");function Cme(t){return typeof t=="boolean"||t instanceof Boolean}o(Cme,"isBoolean$3");function Ime(t){return t instanceof Date}o(Ime,"isDate$3");function Rme(t){return Ime(t)}o(Rme,"isDate$2");function Ome(t){return If(t)&&t.nodeType===1&&!Wu(t)}o(Ome,"isElement");function Nme(t){if(t==null)return!0;if(Ve(t))return typeof t.splice!="function"&&typeof t!="string"&&(typeof Buffer>"u"||!Buffer.isBuffer(t))&&!oh(t)&&!sp(t)?!1:t.length===0;if(typeof t=="object"){if(t instanceof Map||t instanceof Set)return t.size===0;const e=Object.keys(t);return L3(t)?e.filter(n=>n!=="constructor").length===0:e.length===0}return!0}o(Nme,"isEmpty$2");function vP(t,e){if(!Number.isInteger(t)||t<0)throw new Error("n must be a non-negative integer.");let n=0;return(...r)=>{if(++n>=t)return e(...r)}}o(vP,"after");function $k(t,e,n){return typeof n!="function"&&(n=o(()=>{},"areValuesEqual")),Hz(t,e,(...r)=>{const i=n(...r);if(i!==void 0)return!!i;if(t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set)return $k(Array.from(t),Array.from(e),vP(2,n))})}o($k,"isEqualWith");function Mme(t){return Cf(t)==="[object Error]"}o(Mme,"isError");function Dme(t){return Number.isFinite(t)}o(Dme,"isFinite$1");function Pme(t){return Number.isInteger(t)}o(Pme,"isInteger$2");function $me(t){return t instanceof RegExp}o($me,"isRegExp$4");function Lme(t){return $me(t)}o(Lme,"isRegExp$3");function Fme(t){return Number.isSafeInteger(t)}o(Fme,"isSafeInteger");function Bme(t){return t instanceof Set}o(Bme,"isSet$1");function Ume(t){return Bme(t)}o(Ume,"isSet");function zme(t){return t instanceof WeakMap}o(zme,"isWeakMap$1");function Vme(t){return zme(t)}o(Vme,"isWeakMap");function jme(t){return t instanceof WeakSet}o(jme,"isWeakSet$1");function Wme(t){return jme(t)}o(Wme,"isWeakSet");function eV(t){return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}o(eV,"capitalize$2");function Hme(t){return eV(At(t))}o(Hme,"capitalize$1");function Gme(t,...e){if(t==null||!xo(t)||ju(t)&&e.length===0)return t;const n=[];for(let r=0;r<e.length;r++){const i=e[r];ju(i)?n.push(...i):i&&typeof i=="object"&&"length"in i?n.push(...Array.from(i)):n.push(i)}if(n.length===0)return t;for(let r=0;r<n.length;r++){const i=n[r],s=At(i),a=t[s];sh(a)&&(t[s]=a.bind(t))}return t}o(Gme,"bindAll$2");const qme=/\p{Lu}?\p{Ll}+|[0-9]+|\p{Lu}+(?!\p{Ll})|\p{Emoji_Presentation}|\p{Extended_Pictographic}|\p{L}+/gu;function Vp(t){return Array.from(t.match(qme)??[])}o(Vp,"words$1");function Kme(t){const e=Vp(t);if(e.length===0)return"";const[n,...r]=e;return`${n.toLowerCase()}${r.map(i=>eV(i)).join("")}`}o(Kme,"camelCase$1");function jp(t){return typeof t!="string"&&(t=At(t)),t.replace(/['\u2019]/g,"")}o(jp,"normalizeForCase");function Yme(t){return Kme(jp(t))}o(Yme,"camelCase");const Xme=new Map(Object.entries({:"Ae",:"D",:"O",:"Th",:"ss",:"ae",:"d",:"o",:"th",:"D",:"d",:"H",:"h",:"i",:"IJ",:"ij",:"k",:"L",:"l",:"L",:"l",:"'n",:"N",:"n",:"Oe",:"oe",:"T",:"t",:"s"}));function Jme(t){t=t.normalize("NFD");let e="";for(let n=0;n<t.length;n++){const r=t[n];r>=""&&r<=""||r>=""&&r<=""||(e+=Xme.get(r)??r)}return e}o(Jme,"deburr$1");function Zme(t){return Jme(At(t))}o(Zme,"deburr");function Qme(t,e,n){return t==null||e==null?!1:(n==null&&(n=t.length),t.endsWith(e,n))}o(Qme,"endsWith$1");const ege={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function tge(t){return t.replace(/[&<>"']/g,e=>ege[e])}o(tge,"escape$5");function tV(t){return tge(At(t))}o(tV,"escape$4");function nge(t){return t.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")}o(nge,"escapeRegExp$1");function rge(t){return nge(At(t))}o(rge,"escapeRegExp");function ige(t){return Vp(t).map(n=>n.toLowerCase()).join("-")}o(ige,"kebabCase$1");function sge(t){return ige(jp(t))}o(sge,"kebabCase");function oge(t){return Vp(t).map(n=>n.toLowerCase()).join(" ")}o(oge,"lowerCase$1");function age(t){return oge(jp(t))}o(age,"lowerCase");function lge(t){return t.substring(0,1).toLowerCase()+t.substring(1)}o(lge,"lowerFirst$1");function uge(t){return lge(At(t))}o(uge,"lowerFirst");function cge(t,e,n=" "){return t.padStart(Math.floor((e-t.length)/2)+t.length,n).padEnd(e,n)}o(cge,"pad$1");function fge(t,e,n){return cge(At(t),e,n)}o(fge,"pad");function hge(t,e=0,n=" "){return At(t).padEnd(e,n)}o(hge,"padEnd");function dge(t,e=0,n=" "){return At(t).padStart(e,n)}o(dge,"padStart");function pge(t,e,n){return(n?Sl(t,e,n):e===void 0)?e=1:e=Jn(e),At(t).repeat(e)}o(pge,"repeat");function mge(t,e,n){return arguments.length<3?At(t):At(t).replace(e,n)}o(mge,"replace$2");function gge(t){return Vp(t).map(n=>n.toLowerCase()).join("_")}o(gge,"snakeCase$1");function yge(t){return gge(jp(t))}o(yge,"snakeCase");function _ge(t,e,n){return At(t).split(e,n)}o(_ge,"split$1");function bge(t){const e=Vp(jp(t).trim());let n="";for(let r=0;r<e.length;r++){const i=e[r];n&&(n+=" "),i===i.toUpperCase()?n+=i:n+=i[0].toUpperCase()+i.slice(1).toLowerCase()}return n}o(bge,"startCase");function wge(t,e,n){return t==null||e==null?!1:(n==null&&(n=0),t.startsWith(e,n))}o(wge,"startsWith");const vge=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ege=/['\n\r\u2028\u2029\\]/g,s_=/($^)/,xge=new Map([["\\","\\"],["'","'"],[`
`,"n"],["\r","r"],["\u2028","u2028"],["\u2029","u2029"]]);function Tge(t){return`\\${xge.get(t)}`}o(Tge,"escapeString");const ob={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,variable:"",imports:{_:{escape:tV,template:nV}}};function nV(t,e,n){t=At(t),n&&(e=ob),e=xw({...e},ob);const r=new RegExp([e.escape?.source??s_.source,e.interpolate?.source??s_.source,e.interpolate?vge.source:s_.source,e.evaluate?.source??s_.source,"$"].join("|"),"g");let i=0,s=!1,a="__p += ''";for(const p of t.matchAll(r)){const[m,y,_,b,S]=p,{index:v}=p;a+=` + '${t.slice(i,v).replace(Ege,Tge)}'`,y&&(a+=` + _.escape(${y})`),_?a+=` + ((${_}) == null ? '' : ${_})`:b&&(a+=` + ((${b}) == null ? '' : ${b})`),S&&(a+=`;
${S};
 __p += ''`,s=!0),i=v+m.length}const l=xw({...e.imports},ob.imports),u=Object.keys(l),c=Object.values(l),f=`//# sourceURL=${e.sourceURL?String(e.sourceURL).replace(/[\r\n]/g," "):`es-toolkit.templateSource[${Date.now()}]`}
`,h=`function(${e.variable||"obj"}) {
    let __p = '';
    ${e.variable?"":"if (obj == null) { obj = {}; }"}
    ${s?"function print() { __p += Array.prototype.join.call(arguments, ''); }":""}
    ${e.variable?a:`with(obj) {
${a}
}`}
    return __p;
  }`,d=Fz(()=>new Function(...u,`${f}return ${h}`)(...c));if(d.source=h,d instanceof Error)throw d;return d}o(nV,"template");function Sge(t){return At(t).toLowerCase()}o(Sge,"toLower");function kge(t){return At(t).toUpperCase()}o(kge,"toUpper");function rV(t,e){if(e===void 0)return t.trimEnd();let n=t.length;switch(typeof e){case"string":{if(e.length!==1)throw new Error("The 'chars' parameter should be a single character string.");for(;n>0&&t[n-1]===e;)n--;break}case"object":for(;n>0&&e.includes(t[n-1]);)n--}return t.substring(0,n)}o(rV,"trimEnd$1");function iV(t,e){if(e===void 0)return t.trimStart();let n=0;switch(typeof e){case"string":{for(;n<t.length&&t[n]===e;)n++;break}case"object":for(;n<t.length&&e.includes(t[n]);)n++}return t.substring(n)}o(iV,"trimStart$1");function W2(t,e){return e===void 0?t.trim():iV(rV(t,e),e)}o(W2,"trim$2");function Age(t,e,n){if(t==null)return"";if(n!=null||e==null)return t.toString().trim();switch(typeof e){case"object":return Array.isArray(e)?W2(t,e.flatMap(r=>r.toString().split(""))):W2(t,e.toString().split(""));default:return W2(t,e.toString().split(""))}}o(Age,"trim$1");function Cge(t,e,n){return t==null?"":n!=null||e==null?t.toString().trimEnd():rV(t,e.toString().split(""))}o(Cge,"trimEnd");function Ige(t,e,n){return t==null?"":n!=null||e==null?t.toString().trimStart():iV(t,e.toString().split(""))}o(Ige,"trimStart");const Rge=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff\ufe0e\ufe0f]/;function Oge(t,e){t=t!=null?`${t}`:"";let n=30,r="...";xo(e)&&(n=Nge(e.length),r="omission"in e?`${e.omission}`:"...");let i=t.length;const s=Array.from(r).length,a=Math.max(n-s,0);let l;if(Rge.test(t)&&(l=Array.from(t),i=l.length),n>=i)return t;if(i<=s)return r;let c=l===void 0?t.slice(0,a):l?.slice(0,a).join("");const f=e?.separator;if(!f)return c+=r,c;const h=f instanceof RegExp?f.source:f,d="u"+(f instanceof RegExp?f.flags.replace("u",""):""),p=new RegExp(`(?<result>.*(?:(?!${h}).))(?:${h})`,d).exec(c);return(p?.groups?p.groups.result:c)+r}o(Oge,"truncate");function Nge(t){return t==null?30:t<=0?0:t}o(Nge,"parseLength");const Mge={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};function Dge(t){return t.replace(/&(?:amp|lt|gt|quot|#(0+)?39);/g,e=>Mge[e]||"'")}o(Dge,"unescape$2");function Pge(t){return Dge(At(t))}o(Pge,"unescape$1");function $ge(t){const e=Vp(t);let n="";for(let r=0;r<e.length;r++)n+=e[r].toUpperCase(),r<e.length-1&&(n+=" ");return n}o($ge,"upperCase$1");function Lge(t){return $ge(jp(t))}o(Lge,"upperCase");function Fge(t){return t.substring(0,1).toUpperCase()+t.substring(1)}o(Fge,"upperFirst$1");function Bge(t){return Fge(At(t))}o(Bge,"upperFirst");const Uge="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\xd7\\xf7",ed="\\p{Lu}",sV="\\p{Ll}",oV="(?:[\\p{Lm}\\p{Lo}]\\p{M}*)",Cm="\\d",EP="(?:['](?:d|ll|m|re|s|t|ve))?",xP="(?:['](?:D|LL|M|RE|S|T|VE))?",TP=`[\\p{Z}\\p{P}${Uge}]`,zge=`(?:${ed}|${oV})`,SP=`(?:${sV}|${oV})`,kP=RegExp([`${ed}?${sV}+${EP}(?=${TP}|${ed}|$)`,`${zge}+${xP}(?=${TP}|${ed}${SP}|$)`,`${ed}?${SP}+${EP}`,`${ed}+${xP}`,`${Cm}*(?:1ST|2ND|3RD|(?![123])${Cm}TH)(?=\\b|[a-z_])`,`${Cm}*(?:1st|2nd|3rd|(?![123])${Cm}th)(?=\\b|[A-Z_])`,`${Cm}+`,"\\p{Emoji_Presentation}","\\p{Extended_Pictographic}"].join("|"),"gu");function Vge(t,e=kP,n){const r=At(t);return n&&(e=kP),typeof e=="number"&&(e=e.toString()),Array.from(r.match(e)??[]).filter(s=>s!=="")}o(Vge,"words");function jge(t){const e=t.length,n=t.map(r=>{const i=r[0],s=r[1];if(!sh(s))throw new TypeError("Expected a function");return[nt(i),s]});return function(...r){for(let i=0;i<e;i++){const s=n[i],a=s[0],l=s[1];if(a.apply(this,r))return l.apply(this,r)}}}o(jge,"cond");function Wge(t){return()=>t}o(Wge,"constant");function Hge(t,e){return t==null||Number.isNaN(t)?e:t}o(Hge,"defaultTo");function Gge(t,e){return typeof t=="string"&&typeof e=="string"?t>e:Xn(t)>Xn(e)}o(Gge,"gt$7");function qge(t,e){return typeof t=="string"&&typeof e=="string"?t>=e:Xn(t)>=Xn(e)}o(qge,"gte$4");function B3(t,e,...n){if(n=n.flat(1),t!=null)switch(typeof e){case"string":return typeof t=="object"&&Object.hasOwn(t,e)?Im(t,[e],n):Im(t,Na(e),n);case"number":case"symbol":return Im(t,[e],n);default:return Array.isArray(e)?Im(t,e,n):Im(t,[e],n)}}o(B3,"invoke");function Im(t,e,n){const r=ts(t,e.slice(0,-1),t);if(r==null)return;let i=rh(e);const s=i?.valueOf();return typeof s=="number"?i=nh(s):i=String(i),ts(r,i)?.apply(r,n)}o(Im,"invokeImpl");function Kge(t,e){return typeof t=="string"&&typeof e=="string"?t<e:Xn(t)<Xn(e)}o(Kge,"lt$6");function Yge(t,e){return typeof t=="string"&&typeof e=="string"?t<=e:Xn(t)<=Xn(e)}o(Yge,"lte$4");function Xge(t,...e){return function(n){return B3(n,t,e)}}o(Xge,"method");function Jge(t,...e){return function(n){return B3(t,n,e)}}o(Jge,"methodOf");function Zge(){return Date.now()}o(Zge,"now");function Qge(...t){t.length===1&&Array.isArray(t[0])&&(t=t[0]);const e=t.map(n=>nt(n));return function(...n){return e.map(r=>r.apply(this,n))}}o(Qge,"over");function e0e(...t){return function(...e){for(let n=0;n<t.length;++n){const r=t[n];if(!Array.isArray(r)){if(!nt(r).apply(this,e))return!1;continue}for(let i=0;i<r.length;++i)if(!nt(r[i]).apply(this,e))return!1}return!0}}o(e0e,"overEvery");function t0e(...t){return function(...e){for(let n=0;n<t.length;++n){const r=t[n];if(!Array.isArray(r)){if(nt(r).apply(this,e))return!0;continue}for(let i=0;i<r.length;++i)if(nt(r[i]).apply(this,e))return!0}return!1}}o(t0e,"overSome");function n0e(){return[]}o(n0e,"stubArray");function r0e(){return!1}o(r0e,"stubFalse");function i0e(){return{}}o(i0e,"stubObject");function s0e(){return""}o(s0e,"stubString");function o0e(){return!0}o(o0e,"stubTrue");const a0e=4294967295;function l0e(t){if(t==null)return 0;const e=Math.floor(Number(t));return op(e,0,a0e)}o(l0e,"toLength");function u0e(t){const e={},n=hc(t);for(let r=0;r<n.length;r++){const i=n[r],s=t[i];i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[i]=s}return e}o(u0e,"toPlainObject");const AP=Number.MAX_SAFE_INTEGER;function c0e(t){return t==null?0:op(Jn(t),-AP,AP)}o(c0e,"toSafeInteger");let f0e=0;function h0e(t=""){const e=++f0e;return`${t}${e}`}o(h0e,"uniqueId");const d0e=Object.freeze(Object.defineProperty({__proto__:null,add:Kde,after:vde,ary:Lz,assign:vpe,assignIn:bP,assignInWith:wP,assignWith:Ape,at:xz,attempt:Fz,before:xde,bind:C3,bindAll:Gme,bindKey:I3,camelCase:Yme,capitalize:Hme,castArray:_fe,ceil:Yde,chunk:vfe,clamp:op,clone:Pk,cloneDeep:d0,cloneDeepWith:dz,cloneWith:Mpe,compact:xfe,concat:Tfe,cond:jge,conforms:Sme,conformsTo:Qz,constant:Wge,countBy:$fe,create:Dpe,curry:Ny,curryRight:ap,debounce:zz,deburr:Zme,defaultTo:Hge,defaults:xw,defaultsDeep:Ppe,defer:Ide,delay:Rde,difference:Lfe,differenceBy:pz,differenceWith:mz,divide:Xde,drop:zfe,dropRight:jfe,dropRightWhile:Wfe,dropWhile:Gfe,each:Ik,eachRight:dP,endsWith:Qme,eq:Gr,escape:tV,escapeRegExp:rge,every:Kfe,extend:bP,extendWith:wP,fill:Xfe,filter:gz,find:Jfe,findIndex:Zfe,findKey:Upe,findLast:Qfe,findLastIndex:ehe,findLastKey:zpe,first:pP,flatMap:nhe,flatMapDeep:rhe,flatMapDepth:yz,flatten:YE,flattenDeep:ihe,flattenDepth:Oy,flip:Ode,floor:Jde,flow:Nde,flowRight:Dde,forEach:Ik,forEachRight:dP,forIn:Vpe,forInRight:jpe,forOwn:Wpe,forOwnRight:Hpe,fromPairs:Gpe,functions:qpe,functionsIn:Kpe,get:ts,groupBy:ohe,gt:Gge,gte:qge,has:w3,hasIn:Ype,head:pP,identity:zp,inRange:Qde,includes:ahe,indexOf:lhe,initial:che,intersection:hhe,intersectionBy:_z,intersectionWith:bz,invert:Jpe,invertBy:Zpe,invoke:B3,invokeMap:mhe,isArguments:sp,isArray:ju,isArrayBuffer:Ame,isArrayLike:Ve,isArrayLikeObject:Pt,isBoolean:Cme,isBuffer:Jz,isDate:Rme,isElement:Ome,isEmpty:Nme,isEqual:_pe,isEqualWith:$k,isError:Mme,isFinite:Dme,isFunction:_me,isInteger:Pme,isLength:bme,isMap:kz,isMatch:LE,isMatchWith:fz,isNaN:Ok,isNative:Eme,isNil:JE,isNull:xme,isNumber:S3,isObject:xo,isObjectLike:If,isPlainObject:Wu,isRegExp:Lme,isSafeInteger:Fme,isSet:Ume,isString:KE,isSymbol:Rf,isTypedArray:oh,isUndefined:Tme,isWeakMap:Vme,isWeakSet:Wme,iteratee:nt,join:ghe,kebabCase:sge,keyBy:yhe,keys:fc,keysIn:hc,last:rh,lastIndexOf:_he,lowerCase:age,lowerFirst:uge,lt:Kge,lte:Yge,map:bw,mapKeys:eme,mapValues:nme,matches:uc,matchesProperty:cc,max:epe,maxBy:npe,mean:rpe,meanBy:ape,memoize:N3,merge:ime,mergeWith:qz,method:Xge,methodOf:Jge,min:lpe,minBy:cpe,multiply:fpe,negate:E3,noop:bpe,now:Zge,nth:bhe,nthArg:Pde,omit:sme,omitBy:ome,once:Lde,orderBy:vz,over:Qge,overArgs:Fde,overEvery:e0e,overSome:t0e,pad:fge,padEnd:hge,padStart:dge,parseInt:hpe,partial:M3,partialRight:D3,partition:xhe,pick:ame,pickBy:lme,property:Ll,propertyOf:ume,pull:The,pullAll:She,pullAllBy:khe,pullAllWith:Che,pullAt:Ihe,random:dpe,range:ppe,rangeRight:mpe,rearg:zde,reduce:wz,reduceRight:Rhe,reject:Ohe,remove:Mhe,repeat:pge,replace:mge,rest:jde,result:cme,reverse:Dhe,round:gpe,sample:Phe,sampleSize:Bhe,set:A3,setWith:fme,shuffle:Uhe,size:zhe,slice:Vhe,snakeCase:yge,some:jhe,sortBy:Whe,sortedIndex:Iz,sortedIndexBy:T3,sortedIndexOf:Yhe,sortedLastIndex:Oz,sortedLastIndexBy:Rz,sortedLastIndexOf:Zhe,split:_ge,spread:Wde,startCase:bge,startsWith:wge,stubArray:n0e,stubFalse:r0e,stubObject:i0e,stubString:s0e,stubTrue:o0e,subtract:ype,sum:Wz,sumBy:jz,tail:ede,take:nde,takeRight:ide,takeRightWhile:ode,takeWhile:ade,template:nV,templateSettings:ob,throttle:Hde,times:F3,toArray:x3,toDefaulted:hme,toFinite:Nu,toInteger:Jn,toLength:l0e,toLower:Sge,toNumber:Xn,toPairs:dme,toPairsIn:pme,toPath:Na,toPlainObject:u0e,toSafeInteger:c0e,toString:At,toUpper:kge,transform:mme,trim:Age,trimEnd:Cge,trimStart:Ige,truncate:Oge,unary:Gde,unescape:Pge,union:lde,unionBy:Nk,unionWith:Mk,uniq:v3,uniqBy:ude,uniqWith:cde,uniqueId:h0e,unset:ww,unzip:Dz,unzipWith:fde,update:gme,updateWith:ZE,upperCase:Lge,upperFirst:Bge,values:Az,valuesIn:yme,without:dde,words:Vge,wrap:qde,xor:pde,xorBy:mde,xorWith:gde,zip:yde,zipObject:_de,zipObjectDeep:bde,zipWith:wde},Symbol.toStringTag,{value:"Module"})),p0=o(t=>t,"toolkit");Object.assign(p0,d0e);p0.partial.placeholder=p0;p0.partialRight.placeholder=p0;/*!
  * shared v9.14.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const Uze=typeof window<"u",zze=o((t,e=!1)=>e?Symbol.for(t):Symbol(t),"makeSymbol"),p0e=o((t,e,n)=>m0e({l:t,k:e,s:n}),"generateFormatCacheKey"),m0e=o(t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),"friendlyJSONstringify"),li=o(t=>typeof t=="number"&&isFinite(t),"isNumber$4"),g0e=o(t=>lV(t)==="[object Date]","isDate$1"),CP=o(t=>lV(t)==="[object RegExp]","isRegExp$2"),U3=o(t=>cn(t)&&Object.keys(t).length===0,"isEmptyObject$1"),Wp=Object.assign,y0e=Object.create,qr=o((t=null)=>y0e(t),"create$7");let IP;const H2=o(()=>IP||(IP=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:qr()),"getGlobalThis");function RP(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}o(RP,"escapeHtml$1");const _0e=Object.prototype.hasOwnProperty;function Hc(t,e){return _0e.call(t,e)}o(Hc,"hasOwn$1");const fo=Array.isArray,ur=o(t=>typeof t=="function","isFunction$2"),Je=o(t=>typeof t=="string","isString$5"),ui=o(t=>typeof t=="boolean","isBoolean$2"),$n=o(t=>t!==null&&typeof t=="object","isObject$4"),b0e=o(t=>$n(t)&&ur(t.then)&&ur(t.catch),"isPromise"),aV=Object.prototype.toString,lV=o(t=>aV.call(t),"toTypeString"),cn=o(t=>{if(!$n(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},"isPlainObject$1"),w0e=o(t=>t==null?"":fo(t)||cn(t)&&t.toString===aV?JSON.stringify(t,null,2):String(t),"toDisplayString");function v0e(t,e=""){return t.reduce((n,r,i)=>i===0?n+r:n+e+r,"")}o(v0e,"join$2");function uV(t){let e=t;return()=>++e}o(uV,"incrementer");function E0e(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}o(E0e,"warn$2");const o_=o(t=>!$n(t)||fo(t),"isNotObjectOrIsArray");function Vze(t,e){if(o_(t)||o_(e))throw new Error("Invalid value");const n=[{src:t,des:e}];for(;n.length;){const{src:r,des:i}=n.pop();Object.keys(r).forEach(s=>{s!=="__proto__"&&($n(r[s])&&!$n(i[s])&&(i[s]=Array.isArray(r[s])?[]:qr()),o_(i[s])||o_(r[s])?i[s]=r[s]:n.push({src:r[s],des:i[s]}))})}}o(Vze,"deepCopy");/*!
  * message-compiler v9.14.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function x0e(t,e,n){return{line:t,column:e,offset:n}}o(x0e,"createPosition");function Tw(t,e,n){return{start:t,end:e}}o(Tw,"createLocation");const T0e=/\{([0-9a-zA-Z]+)\}/g;function cV(t,...e){return e.length===1&&S0e(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(T0e,(n,r)=>e.hasOwnProperty(r)?e[r]:"")}o(cV,"format$3");const fV=Object.assign,OP=o(t=>typeof t=="string","isString$4"),S0e=o(t=>t!==null&&typeof t=="object","isObject$3");function hV(t,e=""){return t.reduce((n,r,i)=>i===0?n+r:n+e+r,"")}o(hV,"join$1");const z3={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},k0e={[z3.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function A0e(t,e,...n){const r=cV(k0e[t],...n||[]),i={message:String(r),code:t};return e&&(i.location=e),i}o(A0e,"createCompileWarn");const Le={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},C0e={[Le.EXPECTED_TOKEN]:"Expected token: '{0}'",[Le.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[Le.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[Le.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[Le.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[Le.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[Le.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[Le.EMPTY_PLACEHOLDER]:"Empty placeholder",[Le.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[Le.INVALID_LINKED_FORMAT]:"Invalid linked format",[Le.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[Le.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[Le.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[Le.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[Le.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[Le.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function My(t,e,n={}){const{domain:r,messages:i,args:s}=n,a=cV((i||C0e)[t]||"",...s||[]),l=new SyntaxError(String(a));return l.code=t,e&&(l.location=e),l.domain=r,l}o(My,"createCompileError");function I0e(t){throw t}o(I0e,"defaultOnError");const Va=" ",R0e="\r",ni=`
`,O0e="\u2028",N0e="\u2029";function M0e(t){const e=t;let n=0,r=1,i=1,s=0;const a=o(x=>e[x]===R0e&&e[x+1]===ni,"isCRLF"),l=o(x=>e[x]===ni,"isLF"),u=o(x=>e[x]===N0e,"isPS"),c=o(x=>e[x]===O0e,"isLS"),f=o(x=>a(x)||l(x)||u(x)||c(x),"isLineEnd"),h=o(()=>n,"index"),d=o(()=>r,"line"),p=o(()=>i,"column"),m=o(()=>s,"peekOffset"),y=o(x=>a(x)||u(x)||c(x)?ni:e[x],"charAt"),_=o(()=>y(n),"currentChar"),b=o(()=>y(n+s),"currentPeek");function S(){return s=0,f(n)&&(r++,i=0),a(n)&&n++,n++,i++,e[n]}o(S,"next");function v(){return a(n+s)&&s++,s++,e[n+s]}o(v,"peek");function k(){n=0,r=1,i=1,s=0}o(k,"reset");function C(x=0){s=x}o(C,"resetPeek");function R(){const x=n+s;for(;x!==n;)S();s=0}return o(R,"skipToPeek"),{index:h,line:d,column:p,peekOffset:m,charAt:y,currentChar:_,currentPeek:b,next:S,peek:v,reset:k,resetPeek:C,skipToPeek:R}}o(M0e,"createScanner");const Kl=void 0,D0e=".",NP="'",P0e="tokenizer";function $0e(t,e={}){const n=e.location!==!1,r=M0e(t),i=o(()=>r.index(),"currentOffset"),s=o(()=>x0e(r.line(),r.column(),r.index()),"currentPosition"),a=s(),l=i(),u={currentType:14,offset:l,startLoc:a,endLoc:a,lastType:14,lastOffset:l,lastStartLoc:a,lastEndLoc:a,braceNest:0,inLinked:!1,text:""},c=o(()=>u,"context"),{onError:f}=e;function h(D,$,F,...re){const ae=c();if($.column+=F,$.offset+=F,f){const he=n?Tw(ae.startLoc,$):null,_e=My(D,he,{domain:P0e,args:re});f(_e)}}o(h,"emitError");function d(D,$,F){D.endLoc=s(),D.currentType=$;const re={type:$};return n&&(re.loc=Tw(D.startLoc,D.endLoc)),F!=null&&(re.value=F),re}o(d,"getToken");const p=o(D=>d(D,14),"getEndToken");function m(D,$){return D.currentChar()===$?(D.next(),$):(h(Le.EXPECTED_TOKEN,s(),0,$),"")}o(m,"eat");function y(D){let $="";for(;D.currentPeek()===Va||D.currentPeek()===ni;)$+=D.currentPeek(),D.peek();return $}o(y,"peekSpaces");function _(D){const $=y(D);return D.skipToPeek(),$}o(_,"skipSpaces");function b(D){if(D===Kl)return!1;const $=D.charCodeAt(0);return $>=97&&$<=122||$>=65&&$<=90||$===95}o(b,"isIdentifierStart");function S(D){if(D===Kl)return!1;const $=D.charCodeAt(0);return $>=48&&$<=57}o(S,"isNumberStart");function v(D,$){const{currentType:F}=$;if(F!==2)return!1;y(D);const re=b(D.currentPeek());return D.resetPeek(),re}o(v,"isNamedIdentifierStart");function k(D,$){const{currentType:F}=$;if(F!==2)return!1;y(D);const re=D.currentPeek()==="-"?D.peek():D.currentPeek(),ae=S(re);return D.resetPeek(),ae}o(k,"isListIdentifierStart");function C(D,$){const{currentType:F}=$;if(F!==2)return!1;y(D);const re=D.currentPeek()===NP;return D.resetPeek(),re}o(C,"isLiteralStart");function R(D,$){const{currentType:F}=$;if(F!==8)return!1;y(D);const re=D.currentPeek()===".";return D.resetPeek(),re}o(R,"isLinkedDotStart");function x(D,$){const{currentType:F}=$;if(F!==9)return!1;y(D);const re=b(D.currentPeek());return D.resetPeek(),re}o(x,"isLinkedModifierStart");function E(D,$){const{currentType:F}=$;if(!(F===8||F===12))return!1;y(D);const re=D.currentPeek()===":";return D.resetPeek(),re}o(E,"isLinkedDelimiterStart");function T(D,$){const{currentType:F}=$;if(F!==10)return!1;const re=o(()=>{const he=D.currentPeek();return he==="{"?b(D.peek()):he==="@"||he==="%"||he==="|"||he===":"||he==="."||he===Va||!he?!1:he===ni?(D.peek(),re()):I(D,!1)},"fn"),ae=re();return D.resetPeek(),ae}o(T,"isLinkedReferStart");function O(D){y(D);const $=D.currentPeek()==="|";return D.resetPeek(),$}o(O,"isPluralStart");function N(D){const $=y(D),F=D.currentPeek()==="%"&&D.peek()==="{";return D.resetPeek(),{isModulo:F,hasSpace:$.length>0}}o(N,"detectModuloStart");function I(D,$=!0){const F=o((ae=!1,he="",_e=!1)=>{const Ie=D.currentPeek();return Ie==="{"?he==="%"?!1:ae:Ie==="@"||!Ie?he==="%"?!0:ae:Ie==="%"?(D.peek(),F(ae,"%",!0)):Ie==="|"?he==="%"||_e?!0:!(he===Va||he===ni):Ie===Va?(D.peek(),F(!0,Va,_e)):Ie===ni?(D.peek(),F(!0,ni,_e)):!0},"fn"),re=F();return $&&D.resetPeek(),re}o(I,"isTextStart");function M(D,$){const F=D.currentChar();return F===Kl?Kl:$(F)?(D.next(),F):null}o(M,"takeChar");function V(D){const $=D.charCodeAt(0);return $>=97&&$<=122||$>=65&&$<=90||$>=48&&$<=57||$===95||$===36}o(V,"isIdentifier");function j(D){return M(D,V)}o(j,"takeIdentifierChar");function H(D){const $=D.charCodeAt(0);return $>=97&&$<=122||$>=65&&$<=90||$>=48&&$<=57||$===95||$===36||$===45}o(H,"isNamedIdentifier");function q(D){return M(D,H)}o(q,"takeNamedIdentifierChar");function te(D){const $=D.charCodeAt(0);return $>=48&&$<=57}o(te,"isDigit");function Z(D){return M(D,te)}o(Z,"takeDigit");function ue(D){const $=D.charCodeAt(0);return $>=48&&$<=57||$>=65&&$<=70||$>=97&&$<=102}o(ue,"isHexDigit");function ce(D){return M(D,ue)}o(ce,"takeHexDigit");function ge(D){let $="",F="";for(;$=Z(D);)F+=$;return F}o(ge,"getDigits");function Te(D){_(D);const $=D.currentChar();return $!=="%"&&h(Le.EXPECTED_TOKEN,s(),0,$),D.next(),"%"}o(Te,"readModulo");function Ct(D){let $="";for(;;){const F=D.currentChar();if(F==="{"||F==="}"||F==="@"||F==="|"||!F)break;if(F==="%")if(I(D))$+=F,D.next();else break;else if(F===Va||F===ni)if(I(D))$+=F,D.next();else{if(O(D))break;$+=F,D.next()}else $+=F,D.next()}return $}o(Ct,"readText");function Oe(D){_(D);let $="",F="";for(;$=q(D);)F+=$;return D.currentChar()===Kl&&h(Le.UNTERMINATED_CLOSING_BRACE,s(),0),F}o(Oe,"readNamedIdentifier");function Ge(D){_(D);let $="";return D.currentChar()==="-"?(D.next(),$+=`-${ge(D)}`):$+=ge(D),D.currentChar()===Kl&&h(Le.UNTERMINATED_CLOSING_BRACE,s(),0),$}o(Ge,"readListIdentifier");function Dt(D){return D!==NP&&D!==ni}o(Dt,"isLiteral");function Jr(D){_(D),m(D,"'");let $="",F="";for(;$=M(D,Dt);)$==="\\"?F+=Ci(D):F+=$;const re=D.currentChar();return re===ni||re===Kl?(h(Le.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),re===ni&&(D.next(),m(D,"'")),F):(m(D,"'"),F)}o(Jr,"readLiteral");function Ci(D){const $=D.currentChar();switch($){case"\\":case"'":return D.next(),`\\${$}`;case"u":return Fn(D,$,4);case"U":return Fn(D,$,6);default:return h(Le.UNKNOWN_ESCAPE_SEQUENCE,s(),0,$),""}}o(Ci,"readEscapeSequence");function Fn(D,$,F){m(D,$);let re="";for(let ae=0;ae<F;ae++){const he=ce(D);if(!he){h(Le.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${$}${re}${D.currentChar()}`);break}re+=he}return`\\${$}${re}`}o(Fn,"readUnicodeEscapeSequence");function Zr(D){return D!=="{"&&D!=="}"&&D!==Va&&D!==ni}o(Zr,"isInvalidIdentifier");function er(D){_(D);let $="",F="";for(;$=M(D,Zr);)F+=$;return F}o(er,"readInvalidIdentifier");function L(D){let $="",F="";for(;$=j(D);)F+=$;return F}o(L,"readLinkedModifier");function U(D){const $=o(F=>{const re=D.currentChar();return re==="{"||re==="%"||re==="@"||re==="|"||re==="("||re===")"||!re||re===Va?F:(F+=re,D.next(),$(F))},"fn");return $("")}o(U,"readLinkedRefer");function B(D){_(D);const $=m(D,"|");return _(D),$}o(B,"readPlural");function K(D,$){let F=null;switch(D.currentChar()){case"{":return $.braceNest>=1&&h(Le.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),D.next(),F=d($,2,"{"),_(D),$.braceNest++,F;case"}":return $.braceNest>0&&$.currentType===2&&h(Le.EMPTY_PLACEHOLDER,s(),0),D.next(),F=d($,3,"}"),$.braceNest--,$.braceNest>0&&_(D),$.inLinked&&$.braceNest===0&&($.inLinked=!1),F;case"@":return $.braceNest>0&&h(Le.UNTERMINATED_CLOSING_BRACE,s(),0),F=J(D,$)||p($),$.braceNest=0,F;default:{let ae=!0,he=!0,_e=!0;if(O(D))return $.braceNest>0&&h(Le.UNTERMINATED_CLOSING_BRACE,s(),0),F=d($,1,B(D)),$.braceNest=0,$.inLinked=!1,F;if($.braceNest>0&&($.currentType===5||$.currentType===6||$.currentType===7))return h(Le.UNTERMINATED_CLOSING_BRACE,s(),0),$.braceNest=0,Q(D,$);if(ae=v(D,$))return F=d($,5,Oe(D)),_(D),F;if(he=k(D,$))return F=d($,6,Ge(D)),_(D),F;if(_e=C(D,$))return F=d($,7,Jr(D)),_(D),F;if(!ae&&!he&&!_e)return F=d($,13,er(D)),h(Le.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,F.value),_(D),F;break}}return F}o(K,"readTokenInPlaceholder");function J(D,$){const{currentType:F}=$;let re=null;const ae=D.currentChar();switch((F===8||F===9||F===12||F===10)&&(ae===ni||ae===Va)&&h(Le.INVALID_LINKED_FORMAT,s(),0),ae){case"@":return D.next(),re=d($,8,"@"),$.inLinked=!0,re;case".":return _(D),D.next(),d($,9,".");case":":return _(D),D.next(),d($,10,":");default:return O(D)?(re=d($,1,B(D)),$.braceNest=0,$.inLinked=!1,re):R(D,$)||E(D,$)?(_(D),J(D,$)):x(D,$)?(_(D),d($,12,L(D))):T(D,$)?(_(D),ae==="{"?K(D,$)||re:d($,11,U(D))):(F===8&&h(Le.INVALID_LINKED_FORMAT,s(),0),$.braceNest=0,$.inLinked=!1,Q(D,$))}}o(J,"readTokenInLinked");function Q(D,$){let F={type:14};if($.braceNest>0)return K(D,$)||p($);if($.inLinked)return J(D,$)||p($);switch(D.currentChar()){case"{":return K(D,$)||p($);case"}":return h(Le.UNBALANCED_CLOSING_BRACE,s(),0),D.next(),d($,3,"}");case"@":return J(D,$)||p($);default:{if(O(D))return F=d($,1,B(D)),$.braceNest=0,$.inLinked=!1,F;const{isModulo:ae,hasSpace:he}=N(D);if(ae)return he?d($,0,Ct(D)):d($,4,Te(D));if(I(D))return d($,0,Ct(D));break}}return F}o(Q,"readToken");function ie(){const{currentType:D,offset:$,startLoc:F,endLoc:re}=u;return u.lastType=D,u.lastOffset=$,u.lastStartLoc=F,u.lastEndLoc=re,u.offset=i(),u.startLoc=s(),r.currentChar()===Kl?d(u,14):Q(r,u)}return o(ie,"nextToken"),{nextToken:ie,currentOffset:i,currentPosition:s,context:c}}o($0e,"createTokenizer");const L0e="parser",F0e=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function B0e(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(e||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):""}}}o(B0e,"fromEscapeSequence");function U0e(t={}){const e=t.location!==!1,{onError:n,onWarn:r}=t;function i(v,k,C,R,...x){const E=v.currentPosition();if(E.offset+=R,E.column+=R,n){const T=e?Tw(C,E):null,O=My(k,T,{domain:L0e,args:x});n(O)}}o(i,"emitError");function s(v,k,C,R,...x){const E=v.currentPosition();if(E.offset+=R,E.column+=R,r){const T=e?Tw(C,E):null;r(A0e(k,T,x))}}o(s,"emitWarn");function a(v,k,C){const R={type:v};return e&&(R.start=k,R.end=k,R.loc={start:C,end:C}),R}o(a,"startNode");function l(v,k,C,R){e&&(v.end=k,v.loc&&(v.loc.end=C))}o(l,"endNode");function u(v,k){const C=v.context(),R=a(3,C.offset,C.startLoc);return R.value=k,l(R,v.currentOffset(),v.currentPosition()),R}o(u,"parseText");function c(v,k){const C=v.context(),{lastOffset:R,lastStartLoc:x}=C,E=a(5,R,x);return E.index=parseInt(k,10),v.nextToken(),l(E,v.currentOffset(),v.currentPosition()),E}o(c,"parseList");function f(v,k,C){const R=v.context(),{lastOffset:x,lastStartLoc:E}=R,T=a(4,x,E);return T.key=k,C===!0&&(T.modulo=!0),v.nextToken(),l(T,v.currentOffset(),v.currentPosition()),T}o(f,"parseNamed");function h(v,k){const C=v.context(),{lastOffset:R,lastStartLoc:x}=C,E=a(9,R,x);return E.value=k.replace(F0e,B0e),v.nextToken(),l(E,v.currentOffset(),v.currentPosition()),E}o(h,"parseLiteral");function d(v){const k=v.nextToken(),C=v.context(),{lastOffset:R,lastStartLoc:x}=C,E=a(8,R,x);return k.type!==12?(i(v,Le.UNEXPECTED_EMPTY_LINKED_MODIFIER,C.lastStartLoc,0),E.value="",l(E,R,x),{nextConsumeToken:k,node:E}):(k.value==null&&i(v,Le.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,Hs(k)),E.value=k.value||"",l(E,v.currentOffset(),v.currentPosition()),{node:E})}o(d,"parseLinkedModifier");function p(v,k){const C=v.context(),R=a(7,C.offset,C.startLoc);return R.value=k,l(R,v.currentOffset(),v.currentPosition()),R}o(p,"parseLinkedKey");function m(v){const k=v.context(),C=a(6,k.offset,k.startLoc);let R=v.nextToken();if(R.type===9){const x=d(v);C.modifier=x.node,R=x.nextConsumeToken||v.nextToken()}switch(R.type!==10&&i(v,Le.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Hs(R)),R=v.nextToken(),R.type===2&&(R=v.nextToken()),R.type){case 11:R.value==null&&i(v,Le.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Hs(R)),C.key=p(v,R.value||"");break;case 5:R.value==null&&i(v,Le.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Hs(R)),C.key=f(v,R.value||"");break;case 6:R.value==null&&i(v,Le.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Hs(R)),C.key=c(v,R.value||"");break;case 7:R.value==null&&i(v,Le.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Hs(R)),C.key=h(v,R.value||"");break;default:{i(v,Le.UNEXPECTED_EMPTY_LINKED_KEY,k.lastStartLoc,0);const x=v.context(),E=a(7,x.offset,x.startLoc);return E.value="",l(E,x.offset,x.startLoc),C.key=E,l(C,x.offset,x.startLoc),{nextConsumeToken:R,node:C}}}return l(C,v.currentOffset(),v.currentPosition()),{node:C}}o(m,"parseLinked");function y(v){const k=v.context(),C=k.currentType===1?v.currentOffset():k.offset,R=k.currentType===1?k.endLoc:k.startLoc,x=a(2,C,R);x.items=[];let E=null,T=null;do{const I=E||v.nextToken();switch(E=null,I.type){case 0:I.value==null&&i(v,Le.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Hs(I)),x.items.push(u(v,I.value||""));break;case 6:I.value==null&&i(v,Le.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Hs(I)),x.items.push(c(v,I.value||""));break;case 4:T=!0;break;case 5:I.value==null&&i(v,Le.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Hs(I)),x.items.push(f(v,I.value||"",!!T)),T&&(s(v,z3.USE_MODULO_SYNTAX,k.lastStartLoc,0,Hs(I)),T=null);break;case 7:I.value==null&&i(v,Le.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Hs(I)),x.items.push(h(v,I.value||""));break;case 8:{const M=m(v);x.items.push(M.node),E=M.nextConsumeToken||null;break}}}while(k.currentType!==14&&k.currentType!==1);const O=k.currentType===1?k.lastOffset:v.currentOffset(),N=k.currentType===1?k.lastEndLoc:v.currentPosition();return l(x,O,N),x}o(y,"parseMessage");function _(v,k,C,R){const x=v.context();let E=R.items.length===0;const T=a(1,k,C);T.cases=[],T.cases.push(R);do{const O=y(v);E||(E=O.items.length===0),T.cases.push(O)}while(x.currentType!==14);return E&&i(v,Le.MUST_HAVE_MESSAGES_IN_PLURAL,C,0),l(T,v.currentOffset(),v.currentPosition()),T}o(_,"parsePlural");function b(v){const k=v.context(),{offset:C,startLoc:R}=k,x=y(v);return k.currentType===14?x:_(v,C,R,x)}o(b,"parseResource");function S(v){const k=$0e(v,fV({},t)),C=k.context(),R=a(0,C.offset,C.startLoc);return e&&R.loc&&(R.loc.source=v),R.body=b(k),t.onCacheKey&&(R.cacheKey=t.onCacheKey(v)),C.currentType!==14&&i(k,Le.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,v[C.offset]||""),l(R,k.currentOffset(),k.currentPosition()),R}return o(S,"parse"),{parse:S}}o(U0e,"createParser");function Hs(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}o(Hs,"getTokenCaption");function z0e(t,e={}){const n={ast:t,helpers:new Set};return{context:o(()=>n,"context"),helper:o(s=>(n.helpers.add(s),s),"helper")}}o(z0e,"createTransformer");function MP(t,e){for(let n=0;n<t.length;n++)V3(t[n],e)}o(MP,"traverseNodes");function V3(t,e){switch(t.type){case 1:MP(t.cases,e),e.helper("plural");break;case 2:MP(t.items,e);break;case 6:{V3(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}o(V3,"traverseNode");function V0e(t,e={}){const n=z0e(t);n.helper("normalize"),t.body&&V3(t.body,n);const r=n.context();t.helpers=Array.from(r.helpers)}o(V0e,"transform");function j0e(t){const e=t.body;return e.type===2?DP(e):e.cases.forEach(n=>DP(n)),t}o(j0e,"optimize");function DP(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;e.push(r.value)}if(e.length===t.items.length){t.static=hV(e);for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.type===3||r.type===9)&&delete r.value}}}}o(DP,"optimizeMessageNode");const W0e="minifier";function td(t){switch(t.t=t.type,t.type){case 0:{const e=t;td(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,n=e.cases;for(let r=0;r<n.length;r++)td(n[r]);e.c=n,delete e.cases;break}case 2:{const e=t,n=e.items;for(let r=0;r<n.length;r++)td(n[r]);e.i=n,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;td(e.key),e.k=e.key,delete e.key,e.modifier&&(td(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw My(Le.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:W0e,args:[t.type]})}delete t.type}o(td,"minify");const H0e="parser";function G0e(t,e){const{sourceMap:n,filename:r,breakLineCode:i,needIndent:s}=e,a=e.location!==!1,l={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:s,indentLevel:0};a&&t.loc&&(l.source=t.loc.source);const u=o(()=>l,"context");function c(_,b){l.code+=_}o(c,"push");function f(_,b=!0){const S=b?i:"";c(s?S+"  ".repeat(_):S)}o(f,"_newline");function h(_=!0){const b=++l.indentLevel;_&&f(b)}o(h,"indent");function d(_=!0){const b=--l.indentLevel;_&&f(b)}o(d,"deindent");function p(){f(l.indentLevel)}return o(p,"newline"),{context:u,push:c,indent:h,deindent:d,newline:p,helper:o(_=>`_${_}`,"helper"),needIndent:o(()=>l.needIndent,"needIndent")}}o(G0e,"createCodeGenerator");function q0e(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),lp(t,e.key),e.modifier?(t.push(", "),lp(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}o(q0e,"generateLinkedNode");function K0e(t,e){const{helper:n,needIndent:r}=t;t.push(`${n("normalize")}([`),t.indent(r());const i=e.items.length;for(let s=0;s<i&&(lp(t,e.items[s]),s!==i-1);s++)t.push(", ");t.deindent(r()),t.push("])")}o(K0e,"generateMessageNode");function Y0e(t,e){const{helper:n,needIndent:r}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(r());const i=e.cases.length;for(let s=0;s<i&&(lp(t,e.cases[s]),s!==i-1);s++)t.push(", ");t.deindent(r()),t.push("])")}}o(Y0e,"generatePluralNode");function X0e(t,e){e.body?lp(t,e.body):t.push("null")}o(X0e,"generateResource");function lp(t,e){const{helper:n}=t;switch(e.type){case 0:X0e(t,e);break;case 1:Y0e(t,e);break;case 2:K0e(t,e);break;case 6:q0e(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw My(Le.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:H0e,args:[e.type]})}}o(lp,"generateNode");const J0e=o((t,e={})=>{const n=OP(e.mode)?e.mode:"normal",r=OP(e.filename)?e.filename:"message.intl",i=!!e.sourceMap,s=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,a=e.needIndent?e.needIndent:n!=="arrow",l=t.helpers||[],u=G0e(t,{mode:n,filename:r,sourceMap:i,breakLineCode:s,needIndent:a});u.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),u.indent(a),l.length>0&&(u.push(`const { ${hV(l.map(h=>`${h}: _${h}`),", ")} } = ctx`),u.newline()),u.push("return "),lp(u,t),u.deindent(a),u.push("}"),delete t.helpers;const{code:c,map:f}=u.context();return{ast:t,code:c,map:f?f.toJSON():void 0}},"generate");function Z0e(t,e={}){const n=fV({},e),r=!!n.jit,i=!!n.minify,s=n.optimize==null?!0:n.optimize,l=U0e(n).parse(t);return r?(s&&j0e(l),i&&td(l),{ast:l,code:""}):(V0e(l,n),J0e(l,n))}o(Z0e,"baseCompile$1");/*!
  * core-base v9.14.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Q0e(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(H2().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(H2().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(H2().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}o(Q0e,"initFeatureFlags");const dc=[];dc[0]={w:[0],i:[3,0],"[":[4],o:[7]};dc[1]={w:[1],".":[2],"[":[4],o:[7]};dc[2]={w:[2],i:[3,0],0:[3,0]};dc[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};dc[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};dc[5]={"'":[4,0],o:8,l:[5,0]};dc[6]={'"':[4,0],o:8,l:[6,0]};const eye=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function tye(t){return eye.test(t)}o(tye,"isLiteral");function nye(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}o(nye,"stripQuotes");function rye(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}o(rye,"getPathCharType");function iye(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:tye(e)?nye(e):"*"+e}o(iye,"formatSubPath");function sye(t){const e=[];let n=-1,r=0,i=0,s,a,l,u,c,f,h;const d=[];d[0]=()=>{a===void 0?a=l:a+=l},d[1]=()=>{a!==void 0&&(e.push(a),a=void 0)},d[2]=()=>{d[0](),i++},d[3]=()=>{if(i>0)i--,r=4,d[0]();else{if(i=0,a===void 0||(a=iye(a),a===!1))return!1;d[1]()}};function p(){const m=t[n+1];if(r===5&&m==="'"||r===6&&m==='"')return n++,l="\\"+m,d[0](),!0}for(o(p,"maybeUnescapeQuote");r!==null;)if(n++,s=t[n],!(s==="\\"&&p())){if(u=rye(s),h=dc[r],c=h[u]||h.l||8,c===8||(r=c[0],c[1]!==void 0&&(f=d[c[1]],f&&(l=s,f()===!1))))return;if(r===7)return e}}o(sye,"parse$8");const PP=new Map;function oye(t,e){return $n(t)?t[e]:null}o(oye,"resolveWithKeyValue");function jze(t,e){if(!$n(t))return null;let n=PP.get(e);if(n||(n=sye(e),n&&PP.set(e,n)),!n)return null;const r=n.length;let i=t,s=0;for(;s<r;){const a=i[n[s]];if(a===void 0||ur(i))return null;i=a,s++}return i}o(jze,"resolveValue$1");const aye=o(t=>t,"DEFAULT_MODIFIER"),lye=o(t=>"","DEFAULT_MESSAGE"),uye="text",cye=o(t=>t.length===0?"":v0e(t),"DEFAULT_NORMALIZE"),fye=w0e;function $P(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}o($P,"pluralDefault");function hye(t){const e=li(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(li(t.named.count)||li(t.named.n))?li(t.named.count)?t.named.count:li(t.named.n)?t.named.n:e:e}o(hye,"getPluralIndex");function dye(t,e){e.count||(e.count=t),e.n||(e.n=t)}o(dye,"normalizeNamed");function pye(t={}){const e=t.locale,n=hye(t),r=$n(t.pluralRules)&&Je(e)&&ur(t.pluralRules[e])?t.pluralRules[e]:$P,i=$n(t.pluralRules)&&Je(e)&&ur(t.pluralRules[e])?$P:void 0,s=o(b=>b[r(n,b.length,i)],"plural"),a=t.list||[],l=o(b=>a[b],"list"),u=t.named||qr();li(t.pluralIndex)&&dye(n,u);const c=o(b=>u[b],"named");function f(b){const S=ur(t.messages)?t.messages(b):$n(t.messages)?t.messages[b]:!1;return S||(t.parent?t.parent.message(b):lye)}o(f,"message");const h=o(b=>t.modifiers?t.modifiers[b]:aye,"_modifier"),d=cn(t.processor)&&ur(t.processor.normalize)?t.processor.normalize:cye,p=cn(t.processor)&&ur(t.processor.interpolate)?t.processor.interpolate:fye,m=cn(t.processor)&&Je(t.processor.type)?t.processor.type:uye,_={list:l,named:c,plural:s,linked:o((b,...S)=>{const[v,k]=S;let C="text",R="";S.length===1?$n(v)?(R=v.modifier||R,C=v.type||C):Je(v)&&(R=v||R):S.length===2&&(Je(v)&&(R=v||R),Je(k)&&(C=k||C));const x=f(b)(_),E=C==="vnode"&&fo(x)&&R?x[0]:x;return R?h(R)(E,C):E},"linked"),message:f,type:m,interpolate:p,normalize:d,values:Wp(qr(),a,u)};return _}o(pye,"createMessageContext");let m0=null;function Wze(t){m0=t}o(Wze,"setDevToolsHook");function mye(t,e,n){m0&&m0.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}o(mye,"initI18nDevTools");const gye=yye("function:translate");function yye(t){return e=>m0&&m0.emit(t,e)}o(yye,"createDevToolsHook");const dV=z3.__EXTEND_POINT__,Cc=uV(dV),Hze={NOT_FOUND_KEY:dV,FALLBACK_TO_TRANSLATE:Cc(),CANNOT_FORMAT_NUMBER:Cc(),FALLBACK_TO_NUMBER_FORMAT:Cc(),CANNOT_FORMAT_DATE:Cc(),FALLBACK_TO_DATE_FORMAT:Cc(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:Cc(),__EXTEND_POINT__:Cc()},pV=Le.__EXTEND_POINT__,Ic=uV(pV),ra={INVALID_ARGUMENT:pV,INVALID_DATE_ARGUMENT:Ic(),INVALID_ISO_DATE_ARGUMENT:Ic(),NOT_SUPPORT_NON_STRING_MESSAGE:Ic(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:Ic(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:Ic(),NOT_SUPPORT_LOCALE_TYPE:Ic(),__EXTEND_POINT__:Ic()};function ia(t){return My(t,null,void 0)}o(ia,"createCoreError");function j3(t,e){return e.locale!=null?LP(e.locale):LP(t.locale)}o(j3,"getLocale");let G2;function LP(t){if(Je(t))return t;if(ur(t)){if(t.resolvedOnce&&G2!=null)return G2;if(t.constructor.name==="Function"){const e=t();if(b0e(e))throw ia(ra.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return G2=e}else throw ia(ra.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw ia(ra.NOT_SUPPORT_LOCALE_TYPE)}o(LP,"resolveLocale");function _ye(t,e,n){return[...new Set([n,...fo(e)?e:$n(e)?Object.keys(e):Je(e)?[e]:[n]])]}o(_ye,"fallbackWithSimple");function Gze(t,e,n){const r=Je(n)?n:Lk,i=t;i.__localeChainCache||(i.__localeChainCache=new Map);let s=i.__localeChainCache.get(r);if(!s){s=[];let a=[n];for(;fo(a);)a=FP(s,a,e);const l=fo(e)||!cn(e)?e:e.default?e.default:null;a=Je(l)?[l]:l,fo(a)&&FP(s,a,!1),i.__localeChainCache.set(r,s)}return s}o(Gze,"fallbackWithLocaleChain");function FP(t,e,n){let r=!0;for(let i=0;i<e.length&&ui(r);i++){const s=e[i];Je(s)&&(r=bye(t,e[i],n))}return r}o(FP,"appendBlockToChain");function bye(t,e,n){let r;const i=e.split("-");do{const s=i.join("-");r=wye(t,s,n),i.splice(-1,1)}while(i.length&&r===!0);return r}o(bye,"appendLocaleToChain");function wye(t,e,n){let r=!1;if(!t.includes(e)&&(r=!0,e)){r=e[e.length-1]!=="!";const i=e.replace(/!/g,"");t.push(i),(fo(n)||cn(n))&&n[i]&&(r=n[i])}return r}o(wye,"appendItemToChain");const vye="9.14.3",W3=-1,Lk="en-US",qze="",BP=o(t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`,"capitalize");function Eye(){return{upper:o((t,e)=>e==="text"&&Je(t)?t.toUpperCase():e==="vnode"&&$n(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,"upper"),lower:o((t,e)=>e==="text"&&Je(t)?t.toLowerCase():e==="vnode"&&$n(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,"lower"),capitalize:o((t,e)=>e==="text"&&Je(t)?BP(t):e==="vnode"&&$n(t)&&"__v_isVNode"in t?BP(t.children):t,"capitalize")}}o(Eye,"getDefaultLinkedModifiers");let mV;function Kze(t){mV=t}o(Kze,"registerMessageCompiler");let gV;function Yze(t){gV=t}o(Yze,"registerMessageResolver");let yV;function Xze(t){yV=t}o(Xze,"registerLocaleFallbacker");let _V=null;const Jze=o(t=>{_V=t},"setAdditionalMeta"),xye=o(()=>_V,"getAdditionalMeta");let bV=null;const Zze=o(t=>{bV=t},"setFallbackContext"),Qze=o(()=>bV,"getFallbackContext");let UP=0;function eVe(t={}){const e=ur(t.onWarn)?t.onWarn:E0e,n=Je(t.version)?t.version:vye,r=Je(t.locale)||ur(t.locale)?t.locale:Lk,i=ur(r)?Lk:r,s=fo(t.fallbackLocale)||cn(t.fallbackLocale)||Je(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:i,a=cn(t.messages)?t.messages:q2(i),l=cn(t.datetimeFormats)?t.datetimeFormats:q2(i),u=cn(t.numberFormats)?t.numberFormats:q2(i),c=Wp(qr(),t.modifiers,Eye()),f=t.pluralRules||qr(),h=ur(t.missing)?t.missing:null,d=ui(t.missingWarn)||CP(t.missingWarn)?t.missingWarn:!0,p=ui(t.fallbackWarn)||CP(t.fallbackWarn)?t.fallbackWarn:!0,m=!!t.fallbackFormat,y=!!t.unresolving,_=ur(t.postTranslation)?t.postTranslation:null,b=cn(t.processor)?t.processor:null,S=ui(t.warnHtmlMessage)?t.warnHtmlMessage:!0,v=!!t.escapeParameter,k=ur(t.messageCompiler)?t.messageCompiler:mV,C=ur(t.messageResolver)?t.messageResolver:gV||oye,R=ur(t.localeFallbacker)?t.localeFallbacker:yV||_ye,x=$n(t.fallbackContext)?t.fallbackContext:void 0,E=t,T=$n(E.__datetimeFormatters)?E.__datetimeFormatters:new Map,O=$n(E.__numberFormatters)?E.__numberFormatters:new Map,N=$n(E.__meta)?E.__meta:{};UP++;const I={version:n,cid:UP,locale:r,fallbackLocale:s,messages:a,modifiers:c,pluralRules:f,missing:h,missingWarn:d,fallbackWarn:p,fallbackFormat:m,unresolving:y,postTranslation:_,processor:b,warnHtmlMessage:S,escapeParameter:v,messageCompiler:k,messageResolver:C,localeFallbacker:R,fallbackContext:x,onWarn:e,__meta:N};return I.datetimeFormats=l,I.numberFormats=u,I.__datetimeFormatters=T,I.__numberFormatters=O,__INTLIFY_PROD_DEVTOOLS__&&mye(I,n,N),I}o(eVe,"createCoreContext");const q2=o(t=>({[t]:qr()}),"createResources");function H3(t,e,n,r,i){const{missing:s,onWarn:a}=t;if(s!==null){const l=s(t,n,e,i);return Je(l)?l:e}else return e}o(H3,"handleMissing");function tVe(t,e,n){const r=t;r.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}o(tVe,"updateFallbackLocale");function Tye(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}o(Tye,"isAlmostSameLocale");function Sye(t,e){const n=e.indexOf(t);if(n===-1)return!1;for(let r=n+1;r<e.length;r++)if(Tye(t,e[r]))return!0;return!1}o(Sye,"isImplicitFallback");function K2(t){return o(n=>kye(n,t),"msg")}o(K2,"format$2");function kye(t,e){const n=Cye(e);if(n==null)throw g0(0);if(G3(n)===1){const s=Rye(n);return t.plural(s.reduce((a,l)=>[...a,zP(t,l)],[]))}else return zP(t,n)}o(kye,"formatParts");const Aye=["b","body"];function Cye(t){return pc(t,Aye)}o(Cye,"resolveBody");const Iye=["c","cases"];function Rye(t){return pc(t,Iye,[])}o(Rye,"resolveCases");function zP(t,e){const n=Nye(e);if(n!=null)return t.type==="text"?n:t.normalize([n]);{const r=Dye(e).reduce((i,s)=>[...i,Fk(t,s)],[]);return t.normalize(r)}}o(zP,"formatMessageParts");const Oye=["s","static"];function Nye(t){return pc(t,Oye)}o(Nye,"resolveStatic");const Mye=["i","items"];function Dye(t){return pc(t,Mye,[])}o(Dye,"resolveItems");function Fk(t,e){const n=G3(e);switch(n){case 3:return a_(e,n);case 9:return a_(e,n);case 4:{const r=e;if(Hc(r,"k")&&r.k)return t.interpolate(t.named(r.k));if(Hc(r,"key")&&r.key)return t.interpolate(t.named(r.key));throw g0(n)}case 5:{const r=e;if(Hc(r,"i")&&li(r.i))return t.interpolate(t.list(r.i));if(Hc(r,"index")&&li(r.index))return t.interpolate(t.list(r.index));throw g0(n)}case 6:{const r=e,i=Fye(r),s=Uye(r);return t.linked(Fk(t,s),i?Fk(t,i):void 0,t.type)}case 7:return a_(e,n);case 8:return a_(e,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}o(Fk,"formatMessagePart");const Pye=["t","type"];function G3(t){return pc(t,Pye)}o(G3,"resolveType");const $ye=["v","value"];function a_(t,e){const n=pc(t,$ye);if(n)return n;throw g0(e)}o(a_,"resolveValue");const Lye=["m","modifier"];function Fye(t){return pc(t,Lye)}o(Fye,"resolveLinkedModifier");const Bye=["k","key"];function Uye(t){const e=pc(t,Bye);if(e)return e;throw g0(6)}o(Uye,"resolveLinkedKey");function pc(t,e,n){for(let r=0;r<e.length;r++){const i=e[r];if(Hc(t,i)&&t[i]!=null)return t[i]}return n}o(pc,"resolveProps");function g0(t){return new Error(`unhandled node type: ${t}`)}o(g0,"createUnhandleNodeError");const wV=o(t=>t,"defaultOnCacheKey");let cd=qr();function y0(t){return $n(t)&&G3(t)===0&&(Hc(t,"b")||Hc(t,"body"))}o(y0,"isMessageAST");function vV(t,e={}){let n=!1;const r=e.onError||I0e;return e.onError=i=>{n=!0,r(i)},{...Z0e(t,e),detectError:n}}o(vV,"baseCompile");const nVe=o((t,e)=>{if(!Je(t))throw ia(ra.NOT_SUPPORT_NON_STRING_MESSAGE);{ui(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||wV)(t),i=cd[r];if(i)return i;const{code:s,detectError:a}=vV(t,e),l=new Function(`return ${s}`)();return a?l:cd[r]=l}},"compileToFunction");function rVe(t,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&Je(t)){ui(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||wV)(t),i=cd[r];if(i)return i;const{ast:s,detectError:a}=vV(t,{...e,location:!1,jit:!0}),l=K2(s);return a?l:cd[r]=l}else{const n=t.cacheKey;if(n){const r=cd[n];return r||(cd[n]=K2(t))}else return K2(t)}}o(rVe,"compile$1");const VP=o(()=>"","NOOP_MESSAGE_FUNCTION"),Ys=o(t=>ur(t),"isMessageFunction");function iVe(t,...e){const{fallbackFormat:n,postTranslation:r,unresolving:i,messageCompiler:s,fallbackLocale:a,messages:l}=t,[u,c]=jye(...e),f=ui(c.missingWarn)?c.missingWarn:t.missingWarn,h=ui(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn,d=ui(c.escapeParameter)?c.escapeParameter:t.escapeParameter,p=!!c.resolvedMessage,m=Je(c.default)||ui(c.default)?ui(c.default)?s?u:()=>u:c.default:n?s?u:()=>u:"",y=n||m!=="",_=j3(t,c);d&&zye(c);let[b,S,v]=p?[u,_,l[_]||qr()]:EV(t,u,_,a,h,f),k=b,C=u;if(!p&&!(Je(k)||y0(k)||Ys(k))&&y&&(k=m,C=k),!p&&(!(Je(k)||y0(k)||Ys(k))||!Je(S)))return i?W3:u;let R=!1;const x=o(()=>{R=!0},"onError"),E=Ys(k)?k:xV(t,u,S,k,C,x);if(R)return k;const T=Hye(t,S,v,c),O=pye(T),N=Vye(t,E,O),I=r?r(N,u):N;if(__INTLIFY_PROD_DEVTOOLS__){const M={timestamp:Date.now(),key:Je(u)?u:Ys(k)?k.key:"",locale:S||(Ys(k)?k.locale:""),format:Je(k)?k:Ys(k)?k.source:"",message:I};M.meta=Wp({},t.__meta,xye()||{}),gye(M)}return I}o(iVe,"translate");function zye(t){fo(t.list)?t.list=t.list.map(e=>Je(e)?RP(e):e):$n(t.named)&&Object.keys(t.named).forEach(e=>{Je(t.named[e])&&(t.named[e]=RP(t.named[e]))})}o(zye,"escapeParams");function EV(t,e,n,r,i,s){const{messages:a,onWarn:l,messageResolver:u,localeFallbacker:c}=t,f=c(t,r,n);let h=qr(),d,p=null;const m="translate";for(let y=0;y<f.length&&(d=f[y],h=a[d]||qr(),(p=u(h,e))===null&&(p=h[e]),!(Je(p)||y0(p)||Ys(p)));y++)if(!Sye(d,f)){const _=H3(t,e,d,s,m);_!==e&&(p=_)}return[p,d,h]}o(EV,"resolveMessageFormat");function xV(t,e,n,r,i,s){const{messageCompiler:a,warnHtmlMessage:l}=t;if(Ys(r)){const c=r;return c.locale=c.locale||n,c.key=c.key||e,c}if(a==null){const c=o(()=>r,"msg2");return c.locale=n,c.key=e,c}const u=a(r,Wye(t,n,i,r,l,s));return u.locale=n,u.key=e,u.source=r,u}o(xV,"compileMessageFormat");function Vye(t,e,n){return e(n)}o(Vye,"evaluateMessage");function jye(...t){const[e,n,r]=t,i=qr();if(!Je(e)&&!li(e)&&!Ys(e)&&!y0(e))throw ia(ra.INVALID_ARGUMENT);const s=li(e)?String(e):(Ys(e),e);return li(n)?i.plural=n:Je(n)?i.default=n:cn(n)&&!U3(n)?i.named=n:fo(n)&&(i.list=n),li(r)?i.plural=r:Je(r)?i.default=r:cn(r)&&Wp(i,r),[s,i]}o(jye,"parseTranslateArgs");function Wye(t,e,n,r,i,s){return{locale:e,key:n,warnHtmlMessage:i,onError:o(a=>{throw s&&s(a),a},"onError"),onCacheKey:o(a=>p0e(e,n,a),"onCacheKey")}}o(Wye,"getCompileContext");function Hye(t,e,n,r){const{modifiers:i,pluralRules:s,messageResolver:a,fallbackLocale:l,fallbackWarn:u,missingWarn:c,fallbackContext:f}=t,d={locale:e,modifiers:i,pluralRules:s,messages:o(p=>{let m=a(n,p);if(m==null&&f){const[,,y]=EV(f,p,e,l,u,c);m=a(y,p)}if(Je(m)||y0(m)){let y=!1;const b=xV(t,p,e,m,p,o(()=>{y=!0},"onError"));return y?VP:b}else return Ys(m)?m:VP},"resolveMessage")};return t.processor&&(d.processor=t.processor),r.list&&(d.list=r.list),r.named&&(d.named=r.named),li(r.plural)&&(d.pluralIndex=r.plural),d}o(Hye,"getMessageContextOptions");function sVe(t,...e){const{datetimeFormats:n,unresolving:r,fallbackLocale:i,onWarn:s,localeFallbacker:a}=t,{__datetimeFormatters:l}=t,[u,c,f,h]=qye(...e),d=ui(f.missingWarn)?f.missingWarn:t.missingWarn;ui(f.fallbackWarn)?f.fallbackWarn:t.fallbackWarn;const p=!!f.part,m=j3(t,f),y=a(t,i,m);if(!Je(u)||u==="")return new Intl.DateTimeFormat(m,h).format(c);let _={},b,S=null;const v="datetime format";for(let R=0;R<y.length&&(b=y[R],_=n[b]||{},S=_[u],!cn(S));R++)H3(t,u,b,d,v);if(!cn(S)||!Je(b))return r?W3:u;let k=`${b}__${u}`;U3(h)||(k=`${k}__${JSON.stringify(h)}`);let C=l.get(k);return C||(C=new Intl.DateTimeFormat(b,Wp({},S,h)),l.set(k,C)),p?C.formatToParts(c):C.format(c)}o(sVe,"datetime");const Gye=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function qye(...t){const[e,n,r,i]=t,s=qr();let a=qr(),l;if(Je(e)){const u=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!u)throw ia(ra.INVALID_ISO_DATE_ARGUMENT);const c=u[3]?u[3].trim().startsWith("T")?`${u[1].trim()}${u[3].trim()}`:`${u[1].trim()}T${u[3].trim()}`:u[1].trim();l=new Date(c);try{l.toISOString()}catch{throw ia(ra.INVALID_ISO_DATE_ARGUMENT)}}else if(g0e(e)){if(isNaN(e.getTime()))throw ia(ra.INVALID_DATE_ARGUMENT);l=e}else if(li(e))l=e;else throw ia(ra.INVALID_ARGUMENT);return Je(n)?s.key=n:cn(n)&&Object.keys(n).forEach(u=>{Gye.includes(u)?a[u]=n[u]:s[u]=n[u]}),Je(r)?s.locale=r:cn(r)&&(a=r),cn(i)&&(a=i),[s.key||"",l,s,a]}o(qye,"parseDateTimeArgs");function oVe(t,e,n){const r=t;for(const i in n){const s=`${e}__${i}`;r.__datetimeFormatters.has(s)&&r.__datetimeFormatters.delete(s)}}o(oVe,"clearDateTimeFormat");function aVe(t,...e){const{numberFormats:n,unresolving:r,fallbackLocale:i,onWarn:s,localeFallbacker:a}=t,{__numberFormatters:l}=t,[u,c,f,h]=Yye(...e),d=ui(f.missingWarn)?f.missingWarn:t.missingWarn;ui(f.fallbackWarn)?f.fallbackWarn:t.fallbackWarn;const p=!!f.part,m=j3(t,f),y=a(t,i,m);if(!Je(u)||u==="")return new Intl.NumberFormat(m,h).format(c);let _={},b,S=null;const v="number format";for(let R=0;R<y.length&&(b=y[R],_=n[b]||{},S=_[u],!cn(S));R++)H3(t,u,b,d,v);if(!cn(S)||!Je(b))return r?W3:u;let k=`${b}__${u}`;U3(h)||(k=`${k}__${JSON.stringify(h)}`);let C=l.get(k);return C||(C=new Intl.NumberFormat(b,Wp({},S,h)),l.set(k,C)),p?C.formatToParts(c):C.format(c)}o(aVe,"number");const Kye=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Yye(...t){const[e,n,r,i]=t,s=qr();let a=qr();if(!li(e))throw ia(ra.INVALID_ARGUMENT);const l=e;return Je(n)?s.key=n:cn(n)&&Object.keys(n).forEach(u=>{Kye.includes(u)?a[u]=n[u]:s[u]=n[u]}),Je(r)?s.locale=r:cn(r)&&(a=r),cn(i)&&(a=i),[s.key||"",l,s,a]}o(Yye,"parseNumberArgs");function lVe(t,e,n){const r=t;for(const i in n){const s=`${e}__${i}`;r.__numberFormatters.has(s)&&r.__numberFormatters.delete(s)}}o(lVe,"clearNumberFormat");Q0e();var Bk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function q3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}o(q3,"getDefaultExportFromCjs");var Uk={exports:{}};const Xye="2.0.0",TV=256,Jye=Number.MAX_SAFE_INTEGER||9007199254740991,Zye=16,Qye=TV-6,e1e=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var ex={MAX_LENGTH:TV,MAX_SAFE_COMPONENT_LENGTH:Zye,MAX_SAFE_BUILD_LENGTH:Qye,MAX_SAFE_INTEGER:Jye,RELEASE_TYPES:e1e,SEMVER_SPEC_VERSION:Xye,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Y2={};const t1e=typeof process=="object"&&Y2&&Y2.NODE_DEBUG&&/\bsemver\b/i.test(Y2.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var tx=t1e;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=ex,s=tx;e=t.exports={};const a=e.re=[],l=e.safeRe=[],u=e.src=[],c=e.safeSrc=[],f=e.t={};let h=0;const d="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",i],[d,r]],m=o(_=>{for(const[b,S]of p)_=_.split(`${b}*`).join(`${b}{0,${S}}`).split(`${b}+`).join(`${b}{1,${S}}`);return _},"makeSafeRegex"),y=o((_,b,S)=>{const v=m(b),k=h++;s(_,k,b),f[_]=k,u[k]=b,c[k]=v,a[k]=new RegExp(b,S?"g":void 0),l[k]=new RegExp(v,S?"g":void 0)},"createToken");y("NUMERICIDENTIFIER","0|[1-9]\\d*"),y("NUMERICIDENTIFIERLOOSE","\\d+"),y("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),y("MAINVERSION",`(${u[f.NUMERICIDENTIFIER]})\\.(${u[f.NUMERICIDENTIFIER]})\\.(${u[f.NUMERICIDENTIFIER]})`),y("MAINVERSIONLOOSE",`(${u[f.NUMERICIDENTIFIERLOOSE]})\\.(${u[f.NUMERICIDENTIFIERLOOSE]})\\.(${u[f.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASEIDENTIFIER",`(?:${u[f.NONNUMERICIDENTIFIER]}|${u[f.NUMERICIDENTIFIER]})`),y("PRERELEASEIDENTIFIERLOOSE",`(?:${u[f.NONNUMERICIDENTIFIER]}|${u[f.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASE",`(?:-(${u[f.PRERELEASEIDENTIFIER]}(?:\\.${u[f.PRERELEASEIDENTIFIER]})*))`),y("PRERELEASELOOSE",`(?:-?(${u[f.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[f.PRERELEASEIDENTIFIERLOOSE]})*))`),y("BUILDIDENTIFIER",`${d}+`),y("BUILD",`(?:\\+(${u[f.BUILDIDENTIFIER]}(?:\\.${u[f.BUILDIDENTIFIER]})*))`),y("FULLPLAIN",`v?${u[f.MAINVERSION]}${u[f.PRERELEASE]}?${u[f.BUILD]}?`),y("FULL",`^${u[f.FULLPLAIN]}$`),y("LOOSEPLAIN",`[v=\\s]*${u[f.MAINVERSIONLOOSE]}${u[f.PRERELEASELOOSE]}?${u[f.BUILD]}?`),y("LOOSE",`^${u[f.LOOSEPLAIN]}$`),y("GTLT","((?:<|>)?=?)"),y("XRANGEIDENTIFIERLOOSE",`${u[f.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),y("XRANGEIDENTIFIER",`${u[f.NUMERICIDENTIFIER]}|x|X|\\*`),y("XRANGEPLAIN",`[v=\\s]*(${u[f.XRANGEIDENTIFIER]})(?:\\.(${u[f.XRANGEIDENTIFIER]})(?:\\.(${u[f.XRANGEIDENTIFIER]})(?:${u[f.PRERELEASE]})?${u[f.BUILD]}?)?)?`),y("XRANGEPLAINLOOSE",`[v=\\s]*(${u[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[f.XRANGEIDENTIFIERLOOSE]})(?:${u[f.PRERELEASELOOSE]})?${u[f.BUILD]}?)?)?`),y("XRANGE",`^${u[f.GTLT]}\\s*${u[f.XRANGEPLAIN]}$`),y("XRANGELOOSE",`^${u[f.GTLT]}\\s*${u[f.XRANGEPLAINLOOSE]}$`),y("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),y("COERCE",`${u[f.COERCEPLAIN]}(?:$|[^\\d])`),y("COERCEFULL",u[f.COERCEPLAIN]+`(?:${u[f.PRERELEASE]})?(?:${u[f.BUILD]})?(?:$|[^\\d])`),y("COERCERTL",u[f.COERCE],!0),y("COERCERTLFULL",u[f.COERCEFULL],!0),y("LONETILDE","(?:~>?)"),y("TILDETRIM",`(\\s*)${u[f.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",y("TILDE",`^${u[f.LONETILDE]}${u[f.XRANGEPLAIN]}$`),y("TILDELOOSE",`^${u[f.LONETILDE]}${u[f.XRANGEPLAINLOOSE]}$`),y("LONECARET","(?:\\^)"),y("CARETTRIM",`(\\s*)${u[f.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",y("CARET",`^${u[f.LONECARET]}${u[f.XRANGEPLAIN]}$`),y("CARETLOOSE",`^${u[f.LONECARET]}${u[f.XRANGEPLAINLOOSE]}$`),y("COMPARATORLOOSE",`^${u[f.GTLT]}\\s*(${u[f.LOOSEPLAIN]})$|^$`),y("COMPARATOR",`^${u[f.GTLT]}\\s*(${u[f.FULLPLAIN]})$|^$`),y("COMPARATORTRIM",`(\\s*)${u[f.GTLT]}\\s*(${u[f.LOOSEPLAIN]}|${u[f.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",y("HYPHENRANGE",`^\\s*(${u[f.XRANGEPLAIN]})\\s+-\\s+(${u[f.XRANGEPLAIN]})\\s*$`),y("HYPHENRANGELOOSE",`^\\s*(${u[f.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[f.XRANGEPLAINLOOSE]})\\s*$`),y("STAR","(<|>)?=?\\s*\\*"),y("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),y("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Uk,Uk.exports);var Dy=Uk.exports;const n1e=Object.freeze({loose:!0}),r1e=Object.freeze({}),i1e=o(t=>t?typeof t!="object"?n1e:t:r1e,"parseOptions$1");var K3=i1e;const jP=/^[0-9]+$/,SV=o((t,e)=>{const n=jP.test(t),r=jP.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},"compareIdentifiers$1"),s1e=o((t,e)=>SV(e,t),"rcompareIdentifiers");var kV={compareIdentifiers:SV,rcompareIdentifiers:s1e};const l_=tx,{MAX_LENGTH:WP,MAX_SAFE_INTEGER:u_}=ex,{safeRe:c_,t:f_}=Dy,o1e=K3,{compareIdentifiers:Mh}=kV;let a1e=class Uo{static{o(this,"SemVer")}constructor(e,n){if(n=o1e(n),e instanceof Uo){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>WP)throw new TypeError(`version is longer than ${WP} characters`);l_("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=e.trim().match(n.loose?c_[f_.LOOSE]:c_[f_.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>u_||this.major<0)throw new TypeError("Invalid major version");if(this.minor>u_||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>u_||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<u_)return s}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(l_("SemVer.compare",this.version,this.options,e),!(e instanceof Uo)){if(typeof e=="string"&&e===this.version)return 0;e=new Uo(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Uo||(e=new Uo(e,this.options)),Mh(this.major,e.major)||Mh(this.minor,e.minor)||Mh(this.patch,e.patch)}comparePre(e){if(e instanceof Uo||(e=new Uo(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=e.prerelease[n];if(l_("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Mh(r,i)}while(++n)}compareBuild(e){e instanceof Uo||(e=new Uo(e,this.options));let n=0;do{const r=this.build[n],i=e.build[n];if(l_("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Mh(r,i)}while(++n)}inc(e,n,r){if(e.startsWith("pre")){if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(n){const i=`-${n}`.match(this.options.loose?c_[f_.PRERELEASELOOSE]:c_[f_.PRERELEASE]);if(!i||i[1]!==n)throw new Error(`invalid identifier: ${n}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let s=[n,i];r===!1&&(s=[n]),Mh(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Si=a1e;const HP=Si,l1e=o((t,e,n=!1)=>{if(t instanceof HP)return t;try{return new HP(t,e)}catch(r){if(!n)return null;throw r}},"parse$7");var Hp=l1e;const u1e=Hp,c1e=o((t,e)=>{const n=u1e(t,e);return n?n.version:null},"valid$2");var f1e=c1e;const h1e=Hp,d1e=o((t,e)=>{const n=h1e(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null},"clean$1");var p1e=d1e;const GP=Si,m1e=o((t,e,n,r,i)=>{typeof n=="string"&&(i=r,r=n,n=void 0);try{return new GP(t instanceof GP?t.version:t,n).inc(e,r,i).version}catch{return null}},"inc$1");var g1e=m1e;const qP=Hp,y1e=o((t,e)=>{const n=qP(t,null,!0),r=qP(e,null,!0),i=n.compare(r);if(i===0)return null;const s=i>0,a=s?n:r,l=s?r:n,u=!!a.prerelease.length;if(!!l.prerelease.length&&!u){if(!l.patch&&!l.minor)return"major";if(l.compareMain(a)===0)return l.minor&&!l.patch?"minor":"patch"}const f=u?"pre":"";return n.major!==r.major?f+"major":n.minor!==r.minor?f+"minor":n.patch!==r.patch?f+"patch":"prerelease"},"diff$2");var _1e=y1e;const b1e=Si,w1e=o((t,e)=>new b1e(t,e).major,"major$1");var v1e=w1e;const E1e=Si,x1e=o((t,e)=>new E1e(t,e).minor,"minor$1");var T1e=x1e;const S1e=Si,k1e=o((t,e)=>new S1e(t,e).patch,"patch$2");var A1e=k1e;const C1e=Hp,I1e=o((t,e)=>{const n=C1e(t,e);return n&&n.prerelease.length?n.prerelease:null},"prerelease$1");var R1e=I1e;const KP=Si,O1e=o((t,e,n)=>new KP(t,n).compare(new KP(e,n)),"compare$c");var Co=O1e;const N1e=Co,M1e=o((t,e,n)=>N1e(e,t,n),"rcompare$1");var D1e=M1e;const P1e=Co,$1e=o((t,e)=>P1e(t,e,!0),"compareLoose$1");var L1e=$1e;const YP=Si,F1e=o((t,e,n)=>{const r=new YP(t,n),i=new YP(e,n);return r.compare(i)||r.compareBuild(i)},"compareBuild$3");var Y3=F1e;const B1e=Y3,U1e=o((t,e)=>t.sort((n,r)=>B1e(n,r,e)),"sort$1");var z1e=U1e;const V1e=Y3,j1e=o((t,e)=>t.sort((n,r)=>V1e(r,n,e)),"rsort$1");var W1e=j1e;const H1e=Co,G1e=o((t,e,n)=>H1e(t,e,n)>0,"gt$6");var nx=G1e;const q1e=Co,K1e=o((t,e,n)=>q1e(t,e,n)<0,"lt$5");var X3=K1e;const Y1e=Co,X1e=o((t,e,n)=>Y1e(t,e,n)===0,"eq$3");var AV=X1e;const J1e=Co,Z1e=o((t,e,n)=>J1e(t,e,n)!==0,"neq$2");var CV=Z1e;const Q1e=Co,e_e=o((t,e,n)=>Q1e(t,e,n)>=0,"gte$3");var J3=e_e;const t_e=Co,n_e=o((t,e,n)=>t_e(t,e,n)<=0,"lte$3");var Z3=n_e;const r_e=AV,i_e=CV,s_e=nx,o_e=J3,a_e=X3,l_e=Z3,u_e=o((t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return r_e(t,n,r);case"!=":return i_e(t,n,r);case">":return s_e(t,n,r);case">=":return o_e(t,n,r);case"<":return a_e(t,n,r);case"<=":return l_e(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}},"cmp$2");var IV=u_e;const c_e=Si,f_e=Hp,{safeRe:h_,t:d_}=Dy,h_e=o((t,e)=>{if(t instanceof c_e)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(e.includePrerelease?h_[d_.COERCEFULL]:h_[d_.COERCE]);else{const u=e.includePrerelease?h_[d_.COERCERTLFULL]:h_[d_.COERCERTL];let c;for(;(c=u.exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||c.index+c[0].length!==n.index+n[0].length)&&(n=c),u.lastIndex=c.index+c[1].length+c[2].length;u.lastIndex=-1}if(n===null)return null;const r=n[2],i=n[3]||"0",s=n[4]||"0",a=e.includePrerelease&&n[5]?`-${n[5]}`:"",l=e.includePrerelease&&n[6]?`+${n[6]}`:"";return f_e(`${r}.${i}.${s}${a}${l}`,e)},"coerce$2");var d_e=h_e;class p_e{static{o(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(e){const n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(e,n)}return this}}var m_e=p_e,X2,XP;function Io(){if(XP)return X2;XP=1;const t=/\s+/g;class e{static{o(this,"Range")}constructor(j,H){if(H=i(H),j instanceof e)return j.loose===!!H.loose&&j.includePrerelease===!!H.includePrerelease?j:new e(j.raw,H);if(j instanceof s)return this.raw=j.value,this.set=[[j]],this.formatted=void 0,this;if(this.options=H,this.loose=!!H.loose,this.includePrerelease=!!H.includePrerelease,this.raw=j.trim().replace(t," "),this.set=this.raw.split("||").map(q=>this.parseRange(q.trim())).filter(q=>q.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const q=this.set[0];if(this.set=this.set.filter(te=>!y(te[0])),this.set.length===0)this.set=[q];else if(this.set.length>1){for(const te of this.set)if(te.length===1&&_(te[0])){this.set=[te];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let j=0;j<this.set.length;j++){j>0&&(this.formatted+="||");const H=this.set[j];for(let q=0;q<H.length;q++)q>0&&(this.formatted+=" "),this.formatted+=H[q].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(j){const q=((this.options.includePrerelease&&p)|(this.options.loose&&m))+":"+j,te=r.get(q);if(te)return te;const Z=this.options.loose,ue=Z?u[c.HYPHENRANGELOOSE]:u[c.HYPHENRANGE];j=j.replace(ue,I(this.options.includePrerelease)),a("hyphen replace",j),j=j.replace(u[c.COMPARATORTRIM],f),a("comparator trim",j),j=j.replace(u[c.TILDETRIM],h),a("tilde trim",j),j=j.replace(u[c.CARETTRIM],d),a("caret trim",j);let ce=j.split(" ").map(Oe=>S(Oe,this.options)).join(" ").split(/\s+/).map(Oe=>N(Oe,this.options));Z&&(ce=ce.filter(Oe=>(a("loose invalid filter",Oe,this.options),!!Oe.match(u[c.COMPARATORLOOSE])))),a("range list",ce);const ge=new Map,Te=ce.map(Oe=>new s(Oe,this.options));for(const Oe of Te){if(y(Oe))return[Oe];ge.set(Oe.value,Oe)}ge.size>1&&ge.has("")&&ge.delete("");const Ct=[...ge.values()];return r.set(q,Ct),Ct}intersects(j,H){if(!(j instanceof e))throw new TypeError("a Range is required");return this.set.some(q=>b(q,H)&&j.set.some(te=>b(te,H)&&q.every(Z=>te.every(ue=>Z.intersects(ue,H)))))}test(j){if(!j)return!1;if(typeof j=="string")try{j=new l(j,this.options)}catch{return!1}for(let H=0;H<this.set.length;H++)if(M(this.set[H],j,this.options))return!0;return!1}}X2=e;const n=m_e,r=new n,i=K3,s=rx(),a=tx,l=Si,{safeRe:u,t:c,comparatorTrimReplace:f,tildeTrimReplace:h,caretTrimReplace:d}=Dy,{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:m}=ex,y=o(V=>V.value==="<0.0.0-0","isNullSet"),_=o(V=>V.value==="","isAny"),b=o((V,j)=>{let H=!0;const q=V.slice();let te=q.pop();for(;H&&q.length;)H=q.every(Z=>te.intersects(Z,j)),te=q.pop();return H},"isSatisfiable"),S=o((V,j)=>(a("comp",V,j),V=R(V,j),a("caret",V),V=k(V,j),a("tildes",V),V=E(V,j),a("xrange",V),V=O(V,j),a("stars",V),V),"parseComparator"),v=o(V=>!V||V.toLowerCase()==="x"||V==="*","isX"),k=o((V,j)=>V.trim().split(/\s+/).map(H=>C(H,j)).join(" "),"replaceTildes"),C=o((V,j)=>{const H=j.loose?u[c.TILDELOOSE]:u[c.TILDE];return V.replace(H,(q,te,Z,ue,ce)=>{a("tilde",V,q,te,Z,ue,ce);let ge;return v(te)?ge="":v(Z)?ge=`>=${te}.0.0 <${+te+1}.0.0-0`:v(ue)?ge=`>=${te}.${Z}.0 <${te}.${+Z+1}.0-0`:ce?(a("replaceTilde pr",ce),ge=`>=${te}.${Z}.${ue}-${ce} <${te}.${+Z+1}.0-0`):ge=`>=${te}.${Z}.${ue} <${te}.${+Z+1}.0-0`,a("tilde return",ge),ge})},"replaceTilde"),R=o((V,j)=>V.trim().split(/\s+/).map(H=>x(H,j)).join(" "),"replaceCarets"),x=o((V,j)=>{a("caret",V,j);const H=j.loose?u[c.CARETLOOSE]:u[c.CARET],q=j.includePrerelease?"-0":"";return V.replace(H,(te,Z,ue,ce,ge)=>{a("caret",V,te,Z,ue,ce,ge);let Te;return v(Z)?Te="":v(ue)?Te=`>=${Z}.0.0${q} <${+Z+1}.0.0-0`:v(ce)?Z==="0"?Te=`>=${Z}.${ue}.0${q} <${Z}.${+ue+1}.0-0`:Te=`>=${Z}.${ue}.0${q} <${+Z+1}.0.0-0`:ge?(a("replaceCaret pr",ge),Z==="0"?ue==="0"?Te=`>=${Z}.${ue}.${ce}-${ge} <${Z}.${ue}.${+ce+1}-0`:Te=`>=${Z}.${ue}.${ce}-${ge} <${Z}.${+ue+1}.0-0`:Te=`>=${Z}.${ue}.${ce}-${ge} <${+Z+1}.0.0-0`):(a("no pr"),Z==="0"?ue==="0"?Te=`>=${Z}.${ue}.${ce}${q} <${Z}.${ue}.${+ce+1}-0`:Te=`>=${Z}.${ue}.${ce}${q} <${Z}.${+ue+1}.0-0`:Te=`>=${Z}.${ue}.${ce} <${+Z+1}.0.0-0`),a("caret return",Te),Te})},"replaceCaret"),E=o((V,j)=>(a("replaceXRanges",V,j),V.split(/\s+/).map(H=>T(H,j)).join(" ")),"replaceXRanges"),T=o((V,j)=>{V=V.trim();const H=j.loose?u[c.XRANGELOOSE]:u[c.XRANGE];return V.replace(H,(q,te,Z,ue,ce,ge)=>{a("xRange",V,q,te,Z,ue,ce,ge);const Te=v(Z),Ct=Te||v(ue),Oe=Ct||v(ce),Ge=Oe;return te==="="&&Ge&&(te=""),ge=j.includePrerelease?"-0":"",Te?te===">"||te==="<"?q="<0.0.0-0":q="*":te&&Ge?(Ct&&(ue=0),ce=0,te===">"?(te=">=",Ct?(Z=+Z+1,ue=0,ce=0):(ue=+ue+1,ce=0)):te==="<="&&(te="<",Ct?Z=+Z+1:ue=+ue+1),te==="<"&&(ge="-0"),q=`${te+Z}.${ue}.${ce}${ge}`):Ct?q=`>=${Z}.0.0${ge} <${+Z+1}.0.0-0`:Oe&&(q=`>=${Z}.${ue}.0${ge} <${Z}.${+ue+1}.0-0`),a("xRange return",q),q})},"replaceXRange"),O=o((V,j)=>(a("replaceStars",V,j),V.trim().replace(u[c.STAR],"")),"replaceStars"),N=o((V,j)=>(a("replaceGTE0",V,j),V.trim().replace(u[j.includePrerelease?c.GTE0PRE:c.GTE0],"")),"replaceGTE0"),I=o(V=>(j,H,q,te,Z,ue,ce,ge,Te,Ct,Oe,Ge)=>(v(q)?H="":v(te)?H=`>=${q}.0.0${V?"-0":""}`:v(Z)?H=`>=${q}.${te}.0${V?"-0":""}`:ue?H=`>=${H}`:H=`>=${H}${V?"-0":""}`,v(Te)?ge="":v(Ct)?ge=`<${+Te+1}.0.0-0`:v(Oe)?ge=`<${Te}.${+Ct+1}.0-0`:Ge?ge=`<=${Te}.${Ct}.${Oe}-${Ge}`:V?ge=`<${Te}.${Ct}.${+Oe+1}-0`:ge=`<=${ge}`,`${H} ${ge}`.trim()),"hyphenReplace"),M=o((V,j,H)=>{for(let q=0;q<V.length;q++)if(!V[q].test(j))return!1;if(j.prerelease.length&&!H.includePrerelease){for(let q=0;q<V.length;q++)if(a(V[q].semver),V[q].semver!==s.ANY&&V[q].semver.prerelease.length>0){const te=V[q].semver;if(te.major===j.major&&te.minor===j.minor&&te.patch===j.patch)return!0}return!1}return!0},"testSet");return X2}o(Io,"requireRange");var J2,JP;function rx(){if(JP)return J2;JP=1;const t=Symbol("SemVer ANY");class e{static{o(this,"Comparator")}static get ANY(){return t}constructor(f,h){if(h=n(h),f instanceof e){if(f.loose===!!h.loose)return f;f=f.value}f=f.trim().split(/\s+/).join(" "),a("comparator",f,h),this.options=h,this.loose=!!h.loose,this.parse(f),this.semver===t?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(f){const h=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],d=f.match(h);if(!d)throw new TypeError(`Invalid comparator: ${f}`);this.operator=d[1]!==void 0?d[1]:"",this.operator==="="&&(this.operator=""),d[2]?this.semver=new l(d[2],this.options.loose):this.semver=t}toString(){return this.value}test(f){if(a("Comparator.test",f,this.options.loose),this.semver===t||f===t)return!0;if(typeof f=="string")try{f=new l(f,this.options)}catch{return!1}return s(f,this.operator,this.semver,this.options)}intersects(f,h){if(!(f instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new u(f.value,h).test(this.value):f.operator===""?f.value===""?!0:new u(this.value,h).test(f.semver):(h=n(h),h.includePrerelease&&(this.value==="<0.0.0-0"||f.value==="<0.0.0-0")||!h.includePrerelease&&(this.value.startsWith("<0.0.0")||f.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&f.operator.startsWith(">")||this.operator.startsWith("<")&&f.operator.startsWith("<")||this.semver.version===f.semver.version&&this.operator.includes("=")&&f.operator.includes("=")||s(this.semver,"<",f.semver,h)&&this.operator.startsWith(">")&&f.operator.startsWith("<")||s(this.semver,">",f.semver,h)&&this.operator.startsWith("<")&&f.operator.startsWith(">")))}}J2=e;const n=K3,{safeRe:r,t:i}=Dy,s=IV,a=tx,l=Si,u=Io();return J2}o(rx,"requireComparator");const g_e=Io(),y_e=o((t,e,n)=>{try{e=new g_e(e,n)}catch{return!1}return e.test(t)},"satisfies$4");var ix=y_e;const __e=Io(),b_e=o((t,e)=>new __e(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" ")),"toComparators$1");var w_e=b_e;const v_e=Si,E_e=Io(),x_e=o((t,e,n)=>{let r=null,i=null,s=null;try{s=new E_e(e,n)}catch{return null}return t.forEach(a=>{s.test(a)&&(!r||i.compare(a)===-1)&&(r=a,i=new v_e(r,n))}),r},"maxSatisfying$1");var T_e=x_e;const S_e=Si,k_e=Io(),A_e=o((t,e,n)=>{let r=null,i=null,s=null;try{s=new k_e(e,n)}catch{return null}return t.forEach(a=>{s.test(a)&&(!r||i.compare(a)===1)&&(r=a,i=new S_e(r,n))}),r},"minSatisfying$1");var C_e=A_e;const Z2=Si,I_e=Io(),ZP=nx,R_e=o((t,e)=>{t=new I_e(t,e);let n=new Z2("0.0.0");if(t.test(n)||(n=new Z2("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){const i=t.set[r];let s=null;i.forEach(a=>{const l=new Z2(a.semver.version);switch(a.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!s||ZP(l,s))&&(s=l);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!n||ZP(n,s))&&(n=s)}return n&&t.test(n)?n:null},"minVersion$1");var O_e=R_e;const N_e=Io(),M_e=o((t,e)=>{try{return new N_e(t,e).range||"*"}catch{return null}},"validRange$1");var D_e=M_e;const P_e=Si,RV=rx(),{ANY:$_e}=RV,L_e=Io(),F_e=ix,QP=nx,e$=X3,B_e=Z3,U_e=J3,z_e=o((t,e,n,r)=>{t=new P_e(t,r),e=new L_e(e,r);let i,s,a,l,u;switch(n){case">":i=QP,s=B_e,a=e$,l=">",u=">=";break;case"<":i=e$,s=U_e,a=QP,l="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(F_e(t,e,r))return!1;for(let c=0;c<e.set.length;++c){const f=e.set[c];let h=null,d=null;if(f.forEach(p=>{p.semver===$_e&&(p=new RV(">=0.0.0")),h=h||p,d=d||p,i(p.semver,h.semver,r)?h=p:a(p.semver,d.semver,r)&&(d=p)}),h.operator===l||h.operator===u||(!d.operator||d.operator===l)&&s(t,d.semver))return!1;if(d.operator===u&&a(t,d.semver))return!1}return!0},"outside$3");var Q3=z_e;const V_e=Q3,j_e=o((t,e,n)=>V_e(t,e,">",n),"gtr$1");var W_e=j_e;const H_e=Q3,G_e=o((t,e,n)=>H_e(t,e,"<",n),"ltr$1");var q_e=G_e;const t$=Io(),K_e=o((t,e,n)=>(t=new t$(t,n),e=new t$(e,n),t.intersects(e,n)),"intersects$1");var Y_e=K_e;const X_e=ix,J_e=Co;var Z_e=o((t,e,n)=>{const r=[];let i=null,s=null;const a=t.sort((f,h)=>J_e(f,h,n));for(const f of a)X_e(f,e,n)?(s=f,i||(i=f)):(s&&r.push([i,s]),s=null,i=null);i&&r.push([i,null]);const l=[];for(const[f,h]of r)f===h?l.push(f):!h&&f===a[0]?l.push("*"):h?f===a[0]?l.push(`<=${h}`):l.push(`${f} - ${h}`):l.push(`>=${f}`);const u=l.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return u.length<c.length?u:e},"simplify");const n$=Io(),eR=rx(),{ANY:Q2}=eR,Rm=ix,tR=Co,Q_e=o((t,e,n={})=>{if(t===e)return!0;t=new n$(t,n),e=new n$(e,n);let r=!1;e:for(const i of t.set){for(const s of e.set){const a=tbe(i,s,n);if(r=r||a!==null,a)continue e}if(r)return!1}return!0},"subset$1"),ebe=[new eR(">=0.0.0-0")],r$=[new eR(">=0.0.0")],tbe=o((t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Q2){if(e.length===1&&e[0].semver===Q2)return!0;n.includePrerelease?t=ebe:t=r$}if(e.length===1&&e[0].semver===Q2){if(n.includePrerelease)return!0;e=r$}const r=new Set;let i,s;for(const p of t)p.operator===">"||p.operator===">="?i=i$(i,p,n):p.operator==="<"||p.operator==="<="?s=s$(s,p,n):r.add(p.semver);if(r.size>1)return null;let a;if(i&&s){if(a=tR(i.semver,s.semver,n),a>0)return null;if(a===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const p of r){if(i&&!Rm(p,String(i),n)||s&&!Rm(p,String(s),n))return null;for(const m of e)if(!Rm(p,String(m),n))return!1;return!0}let l,u,c,f,h=s&&!n.includePrerelease&&s.semver.prerelease.length?s.semver:!1,d=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;h&&h.prerelease.length===1&&s.operator==="<"&&h.prerelease[0]===0&&(h=!1);for(const p of e){if(f=f||p.operator===">"||p.operator===">=",c=c||p.operator==="<"||p.operator==="<=",i){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator===">"||p.operator===">="){if(l=i$(i,p,n),l===p&&l!==i)return!1}else if(i.operator===">="&&!Rm(i.semver,String(p),n))return!1}if(s){if(h&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===h.major&&p.semver.minor===h.minor&&p.semver.patch===h.patch&&(h=!1),p.operator==="<"||p.operator==="<="){if(u=s$(s,p,n),u===p&&u!==s)return!1}else if(s.operator==="<="&&!Rm(s.semver,String(p),n))return!1}if(!p.operator&&(s||i)&&a!==0)return!1}return!(i&&c&&!s&&a!==0||s&&f&&!i&&a!==0||d||h)},"simpleSubset"),i$=o((t,e,n)=>{if(!t)return e;const r=tR(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},"higherGT"),s$=o((t,e,n)=>{if(!t)return e;const r=tR(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t},"lowerLT");var nbe=Q_e;const eT=Dy,o$=ex,rbe=Si,a$=kV,ibe=Hp,sbe=f1e,obe=p1e,abe=g1e,lbe=_1e,ube=v1e,cbe=T1e,fbe=A1e,hbe=R1e,dbe=Co,pbe=D1e,mbe=L1e,gbe=Y3,ybe=z1e,_be=W1e,bbe=nx,wbe=X3,vbe=AV,Ebe=CV,xbe=J3,Tbe=Z3,Sbe=IV,kbe=d_e,Abe=rx(),Cbe=Io(),Ibe=ix,Rbe=w_e,Obe=T_e,Nbe=C_e,Mbe=O_e,Dbe=D_e,Pbe=Q3,$be=W_e,Lbe=q_e,Fbe=Y_e,Bbe=Z_e,Ube=nbe;var uVe={parse:ibe,valid:sbe,clean:obe,inc:abe,diff:lbe,major:ube,minor:cbe,patch:fbe,prerelease:hbe,compare:dbe,rcompare:pbe,compareLoose:mbe,compareBuild:gbe,sort:ybe,rsort:_be,gt:bbe,lt:wbe,eq:vbe,neq:Ebe,gte:xbe,lte:Tbe,cmp:Sbe,coerce:kbe,Comparator:Abe,Range:Cbe,satisfies:Ibe,toComparators:Rbe,maxSatisfying:Obe,minSatisfying:Nbe,minVersion:Mbe,validRange:Dbe,outside:Pbe,gtr:$be,ltr:Lbe,intersects:Fbe,simplifyRange:Bbe,subset:Ube,SemVer:rbe,re:eT.re,src:eT.src,tokens:eT.t,SEMVER_SPEC_VERSION:o$.SEMVER_SPEC_VERSION,RELEASE_TYPES:o$.RELEASE_TYPES,compareIdentifiers:a$.compareIdentifiers,rcompareIdentifiers:a$.rcompareIdentifiers};function OV(t,e){return o(function(){return t.apply(e,arguments)},"wrap")}o(OV,"bind$3");const{toString:zbe}=Object.prototype,{getPrototypeOf:nR}=Object,{iterator:sx,toStringTag:NV}=Symbol,ox=(t=>e=>{const n=zbe.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ro=o(t=>(t=t.toLowerCase(),e=>ox(e)===t),"kindOfTest"),ax=o(t=>e=>typeof e===t,"typeOfTest"),{isArray:Gp}=Array,_0=ax("undefined");function Py(t){return t!==null&&!_0(t)&&t.constructor!==null&&!_0(t.constructor)&&Pi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}o(Py,"isBuffer");const MV=Ro("ArrayBuffer");function Vbe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&MV(t.buffer),e}o(Vbe,"isArrayBufferView");const jbe=ax("string"),Pi=ax("function"),DV=ax("number"),$y=o(t=>t!==null&&typeof t=="object","isObject$2"),Wbe=o(t=>t===!0||t===!1,"isBoolean$1"),ab=o(t=>{if(ox(t)!=="object")return!1;const e=nR(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(NV in t)&&!(sx in t)},"isPlainObject"),Hbe=o(t=>{if(!$y(t)||Py(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},"isEmptyObject"),Gbe=Ro("Date"),qbe=Ro("File"),Kbe=Ro("Blob"),Ybe=Ro("FileList"),Xbe=o(t=>$y(t)&&Pi(t.pipe),"isStream"),Jbe=o(t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Pi(t.append)&&((e=ox(t))==="formdata"||e==="object"&&Pi(t.toString)&&t.toString()==="[object FormData]"))},"isFormData"),Zbe=Ro("URLSearchParams"),[Qbe,ewe,twe,nwe]=["ReadableStream","Request","Response","Headers"].map(Ro),rwe=o(t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),"trim");function Ly(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Gp(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(Py(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let l;for(r=0;r<a;r++)l=s[r],e.call(null,t[l],l,t)}}o(Ly,"forEach$1");function PV(t,e){if(Py(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}o(PV,"findKey");const Gc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$V=o(t=>!_0(t)&&t!==Gc,"isContextDefined");function zk(){const{caseless:t}=$V(this)&&this||{},e={},n=o((r,i)=>{const s=t&&PV(e,i)||i;ab(e[s])&&ab(r)?e[s]=zk(e[s],r):ab(r)?e[s]=zk({},r):Gp(r)?e[s]=r.slice():e[s]=r},"assignValue");for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Ly(arguments[r],n);return e}o(zk,"merge");const iwe=o((t,e,n,{allOwnKeys:r}={})=>(Ly(e,(i,s)=>{n&&Pi(i)?t[s]=OV(i,n):t[s]=i},{allOwnKeys:r}),t),"extend"),swe=o(t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),"stripBOM"),owe=o((t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},"inherits"),awe=o((t,e,n,r)=>{let i,s,a;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!r||r(a,t,e))&&!l[a]&&(e[a]=t[a],l[a]=!0);t=n!==!1&&nR(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},"toFlatObject"),lwe=o((t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},"endsWith"),uwe=o(t=>{if(!t)return null;if(Gp(t))return t;let e=t.length;if(!DV(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},"toArray"),cwe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&nR(Uint8Array)),fwe=o((t,e)=>{const r=(t&&t[sx]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},"forEachEntry"),hwe=o((t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},"matchAll"),dwe=Ro("HTMLFormElement"),pwe=o(t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,o(function(n,r,i){return r.toUpperCase()+i},"replacer")),"toCamelCase"),l$=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),mwe=Ro("RegExp"),LV=o((t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ly(n,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(r[s]=a||i)}),Object.defineProperties(t,r)},"reduceDescriptors"),gwe=o(t=>{LV(t,(e,n)=>{if(Pi(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Pi(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},"freezeMethods"),ywe=o((t,e)=>{const n={},r=o(i=>{i.forEach(s=>{n[s]=!0})},"define");return Gp(t)?r(t):r(String(t).split(e)),n},"toObjectSet"),_we=o(()=>{},"noop$2"),bwe=o((t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,"toFiniteNumber");function wwe(t){return!!(t&&Pi(t.append)&&t[NV]==="FormData"&&t[sx])}o(wwe,"isSpecCompliantForm");const vwe=o(t=>{const e=new Array(10),n=o((r,i)=>{if($y(r)){if(e.indexOf(r)>=0)return;if(Py(r))return r;if(!("toJSON"in r)){e[i]=r;const s=Gp(r)?[]:{};return Ly(r,(a,l)=>{const u=n(a,i+1);!_0(u)&&(s[l]=u)}),e[i]=void 0,s}}return r},"visit");return n(t,0)},"toJSONObject"),Ewe=Ro("AsyncFunction"),xwe=o(t=>t&&($y(t)||Pi(t))&&Pi(t.then)&&Pi(t.catch),"isThenable"),FV=((t,e)=>t?setImmediate:e?((n,r)=>(Gc.addEventListener("message",({source:i,data:s})=>{i===Gc&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Gc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Pi(Gc.postMessage)),Twe=typeof queueMicrotask<"u"?queueMicrotask.bind(Gc):typeof process<"u"&&process.nextTick||FV,Swe=o(t=>t!=null&&Pi(t[sx]),"isIterable"),Y={isArray:Gp,isArrayBuffer:MV,isBuffer:Py,isFormData:Jbe,isArrayBufferView:Vbe,isString:jbe,isNumber:DV,isBoolean:Wbe,isObject:$y,isPlainObject:ab,isEmptyObject:Hbe,isReadableStream:Qbe,isRequest:ewe,isResponse:twe,isHeaders:nwe,isUndefined:_0,isDate:Gbe,isFile:qbe,isBlob:Kbe,isRegExp:mwe,isFunction:Pi,isStream:Xbe,isURLSearchParams:Zbe,isTypedArray:cwe,isFileList:Ybe,forEach:Ly,merge:zk,extend:iwe,trim:rwe,stripBOM:swe,inherits:owe,toFlatObject:awe,kindOf:ox,kindOfTest:Ro,endsWith:lwe,toArray:uwe,forEachEntry:fwe,matchAll:hwe,isHTMLForm:dwe,hasOwnProperty:l$,hasOwnProp:l$,reduceDescriptors:LV,freezeMethods:gwe,toObjectSet:ywe,toCamelCase:pwe,noop:_we,toFiniteNumber:bwe,findKey:PV,global:Gc,isContextDefined:$V,isSpecCompliantForm:wwe,toJSONObject:vwe,isAsyncFn:Ewe,isThenable:xwe,setImmediate:FV,asap:Twe,isIterable:Swe};function Xe(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}o(Xe,"AxiosError");Y.inherits(Xe,Error,{toJSON:o(function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}},"toJSON")});const BV=Xe.prototype,UV={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{UV[t]={value:t}});Object.defineProperties(Xe,UV);Object.defineProperty(BV,"isAxiosError",{value:!0});Xe.from=(t,e,n,r,i,s)=>{const a=Object.create(BV);return Y.toFlatObject(t,a,o(function(u){return u!==Error.prototype},"filter"),l=>l!=="isAxiosError"),Xe.call(a,t.message,e,n,r,i),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};const kwe=null;function Vk(t){return Y.isPlainObject(t)||Y.isArray(t)}o(Vk,"isVisitable");function zV(t){return Y.endsWith(t,"[]")?t.slice(0,-2):t}o(zV,"removeBrackets");function u$(t,e,n){return t?t.concat(e).map(o(function(i,s){return i=zV(i),!n&&s?"["+i+"]":i},"each")).join(n?".":""):e}o(u$,"renderKey");function Awe(t){return Y.isArray(t)&&!t.some(Vk)}o(Awe,"isFlatArray");const Cwe=Y.toFlatObject(Y,{},null,o(function(e){return/^is[A-Z]/.test(e)},"filter"));function lx(t,e,n){if(!Y.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Y.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,o(function(y,_){return!Y.isUndefined(_[y])},"defined"));const r=n.metaTokens,i=n.visitor||f,s=n.dots,a=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(e);if(!Y.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(Y.isDate(m))return m.toISOString();if(Y.isBoolean(m))return m.toString();if(!u&&Y.isBlob(m))throw new Xe("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(m)||Y.isTypedArray(m)?u&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}o(c,"convertValue");function f(m,y,_){let b=m;if(m&&!_&&typeof m=="object"){if(Y.endsWith(y,"{}"))y=r?y:y.slice(0,-2),m=JSON.stringify(m);else if(Y.isArray(m)&&Awe(m)||(Y.isFileList(m)||Y.endsWith(y,"[]"))&&(b=Y.toArray(m)))return y=zV(y),b.forEach(o(function(v,k){!(Y.isUndefined(v)||v===null)&&e.append(a===!0?u$([y],k,s):a===null?y:y+"[]",c(v))},"each")),!1}return Vk(m)?!0:(e.append(u$(_,y,s),c(m)),!1)}o(f,"defaultVisitor");const h=[],d=Object.assign(Cwe,{defaultVisitor:f,convertValue:c,isVisitable:Vk});function p(m,y){if(!Y.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(m),Y.forEach(m,o(function(b,S){(!(Y.isUndefined(b)||b===null)&&i.call(e,b,Y.isString(S)?S.trim():S,y,d))===!0&&p(b,y?y.concat(S):[S])},"each")),h.pop()}}if(o(p,"build"),!Y.isObject(t))throw new TypeError("data must be an object");return p(t),e}o(lx,"toFormData");function c$(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,o(function(r){return e[r]},"replacer"))}o(c$,"encode$4");function rR(t,e){this._pairs=[],t&&lx(t,this,e)}o(rR,"AxiosURLSearchParams");const VV=rR.prototype;VV.append=o(function(e,n){this._pairs.push([e,n])},"append");VV.toString=o(function(e){const n=e?function(r){return e.call(this,r,c$)}:c$;return this._pairs.map(o(function(i){return n(i[0])+"="+n(i[1])},"each"),"").join("&")},"toString");function Iwe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}o(Iwe,"encode$3");function jV(t,e,n){if(!e)return t;const r=n&&n.encode||Iwe;Y.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=Y.isURLSearchParams(e)?e.toString():new rR(e,n).toString(r),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}o(jV,"buildURL");class f${static{o(this,"InterceptorManager")}constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Y.forEach(this.handlers,o(function(r){r!==null&&e(r)},"forEachHandler"))}}const WV={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Rwe=typeof URLSearchParams<"u"?URLSearchParams:rR,Owe=typeof FormData<"u"?FormData:null,Nwe=typeof Blob<"u"?Blob:null,Mwe={isBrowser:!0,classes:{URLSearchParams:Rwe,FormData:Owe,Blob:Nwe},protocols:["http","https","file","blob","url","data"]},iR=typeof window<"u"&&typeof document<"u",jk=typeof navigator=="object"&&navigator||void 0,Dwe=iR&&(!jk||["ReactNative","NativeScript","NS"].indexOf(jk.product)<0),Pwe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$we=iR&&window.location.href||"http://localhost",Lwe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:iR,hasStandardBrowserEnv:Dwe,hasStandardBrowserWebWorkerEnv:Pwe,navigator:jk,origin:$we},Symbol.toStringTag,{value:"Module"})),Ur={...Lwe,...Mwe};function Fwe(t,e){return lx(t,new Ur.classes.URLSearchParams,{visitor:o(function(n,r,i,s){return Ur.isNode&&Y.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},"visitor"),...e})}o(Fwe,"toURLEncodedForm");function Bwe(t){return Y.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}o(Bwe,"parsePropPath");function Uwe(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}o(Uwe,"arrayToObject");function HV(t){function e(n,r,i,s){let a=n[s++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),u=s>=n.length;return a=!a&&Y.isArray(i)?i.length:a,u?(Y.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!l):((!i[a]||!Y.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],s)&&Y.isArray(i[a])&&(i[a]=Uwe(i[a])),!l)}if(o(e,"buildPath"),Y.isFormData(t)&&Y.isFunction(t.entries)){const n={};return Y.forEachEntry(t,(r,i)=>{e(Bwe(r),i,n,0)}),n}return null}o(HV,"formDataToJSON");function zwe(t,e,n){if(Y.isString(t))try{return(e||JSON.parse)(t),Y.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}o(zwe,"stringifySafely");const Fy={transitional:WV,adapter:["xhr","http","fetch"],transformRequest:[o(function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Y.isObject(e);if(s&&Y.isHTMLForm(e)&&(e=new FormData(e)),Y.isFormData(e))return i?JSON.stringify(HV(e)):e;if(Y.isArrayBuffer(e)||Y.isBuffer(e)||Y.isStream(e)||Y.isFile(e)||Y.isBlob(e)||Y.isReadableStream(e))return e;if(Y.isArrayBufferView(e))return e.buffer;if(Y.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Fwe(e,this.formSerializer).toString();if((l=Y.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return lx(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),zwe(e)):e},"transformRequest")],transformResponse:[o(function(e){const n=this.transitional||Fy.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Y.isResponse(e)||Y.isReadableStream(e))return e;if(e&&Y.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(a)throw l.name==="SyntaxError"?Xe.from(l,Xe.ERR_BAD_RESPONSE,this,null,this.response):l}}return e},"transformResponse")],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ur.classes.FormData,Blob:Ur.classes.Blob},validateStatus:o(function(e){return e>=200&&e<300},"validateStatus"),headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],t=>{Fy.headers[t]={}});const Vwe=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jwe=o(t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(o(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&Vwe[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)},"parser")),e},"parseHeaders"),h$=Symbol("internals");function Om(t){return t&&String(t).trim().toLowerCase()}o(Om,"normalizeHeader");function lb(t){return t===!1||t==null?t:Y.isArray(t)?t.map(lb):String(t)}o(lb,"normalizeValue");function Wwe(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}o(Wwe,"parseTokens");const Hwe=o(t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim()),"isValidHeaderName");function tT(t,e,n,r,i){if(Y.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Y.isString(e)){if(Y.isString(r))return e.indexOf(r)!==-1;if(Y.isRegExp(r))return r.test(e)}}o(tT,"matchHeaderValue");function Gwe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}o(Gwe,"formatHeader");function qwe(t,e){const n=Y.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:o(function(i,s,a){return this[r].call(this,e,i,s,a)},"value"),configurable:!0})})}o(qwe,"buildAccessors");class $i{static{o(this,"AxiosHeaders")}constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,u,c){const f=Om(u);if(!f)throw new Error("header name must be a non-empty string");const h=Y.findKey(i,f);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||u]=lb(l))}o(s,"setHeader");const a=o((l,u)=>Y.forEach(l,(c,f)=>s(c,f,u)),"setHeaders");if(Y.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(Y.isString(e)&&(e=e.trim())&&!Hwe(e))a(jwe(e),n);else if(Y.isObject(e)&&Y.isIterable(e)){let l={},u,c;for(const f of e){if(!Y.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[c=f[0]]=(u=l[c])?Y.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}a(l,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=Om(e),e){const r=Y.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return Wwe(i);if(Y.isFunction(n))return n.call(this,i,r);if(Y.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Om(e),e){const r=Y.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||tT(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(a){if(a=Om(a),a){const l=Y.findKey(r,a);l&&(!n||tT(r,r[l],l,n))&&(delete r[l],i=!0)}}return o(s,"deleteHeader"),Y.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||tT(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return Y.forEach(this,(i,s)=>{const a=Y.findKey(r,s);if(a){n[a]=lb(i),delete n[s];return}const l=e?Gwe(s):String(s).trim();l!==s&&delete n[s],n[l]=lb(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Y.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Y.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[h$]=this[h$]={accessors:{}}).accessors,i=this.prototype;function s(a){const l=Om(a);r[l]||(qwe(i,a),r[l]=!0)}return o(s,"defineAccessor"),Y.isArray(e)?e.forEach(s):s(e),this}}$i.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors($i.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:o(()=>t,"get"),set(r){this[n]=r}}});Y.freezeMethods($i);function nT(t,e){const n=this||Fy,r=e||n,i=$i.from(r.headers);let s=r.data;return Y.forEach(t,o(function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)},"transform")),i.normalize(),s}o(nT,"transformData");function GV(t){return!!(t&&t.__CANCEL__)}o(GV,"isCancel");function qp(t,e,n){Xe.call(this,t??"canceled",Xe.ERR_CANCELED,e,n),this.name="CanceledError"}o(qp,"CanceledError");Y.inherits(qp,Xe,{__CANCEL__:!0});function qV(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Xe("Request failed with status code "+n.status,[Xe.ERR_BAD_REQUEST,Xe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}o(qV,"settle");function Kwe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}o(Kwe,"parseProtocol");function Ywe(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,o(function(u){const c=Date.now(),f=r[s];a||(a=c),n[i]=u,r[i]=c;let h=s,d=0;for(;h!==i;)d+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-a<e)return;const p=f&&c-f;return p?Math.round(d*1e3/p):void 0},"push")}o(Ywe,"speedometer");function Xwe(t,e){let n=0,r=1e3/e,i,s;const a=o((c,f=Date.now())=>{n=f,i=null,s&&(clearTimeout(s),s=null),t(...c)},"invoke");return[o((...c)=>{const f=Date.now(),h=f-n;h>=r?a(c,f):(i=c,s||(s=setTimeout(()=>{s=null,a(i)},r-h)))},"throttled"),o(()=>i&&a(i),"flush")]}o(Xwe,"throttle");const Sw=o((t,e,n=3)=>{let r=0;const i=Ywe(50,250);return Xwe(s=>{const a=s.loaded,l=s.lengthComputable?s.total:void 0,u=a-r,c=i(u),f=a<=l;r=a;const h={loaded:a,total:l,progress:l?a/l:void 0,bytes:u,rate:c||void 0,estimated:c&&l&&f?(l-a)/c:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(h)},n)},"progressEventReducer"),d$=o((t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},"progressEventDecorator"),p$=o(t=>(...e)=>Y.asap(()=>t(...e)),"asyncDecorator"),Jwe=Ur.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ur.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ur.origin),Ur.navigator&&/(msie|trident)/i.test(Ur.navigator.userAgent)):()=>!0,Zwe=Ur.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const a=[t+"="+encodeURIComponent(e)];Y.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Y.isString(r)&&a.push("path="+r),Y.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Qwe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}o(Qwe,"isAbsoluteURL");function eve(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}o(eve,"combineURLs");function KV(t,e,n){let r=!Qwe(e);return t&&(r||n==!1)?eve(t,e):e}o(KV,"buildFullPath");const m$=o(t=>t instanceof $i?{...t}:t,"headersToObject");function Of(t,e){e=e||{};const n={};function r(c,f,h,d){return Y.isPlainObject(c)&&Y.isPlainObject(f)?Y.merge.call({caseless:d},c,f):Y.isPlainObject(f)?Y.merge({},f):Y.isArray(f)?f.slice():f}o(r,"getMergedValue");function i(c,f,h,d){if(Y.isUndefined(f)){if(!Y.isUndefined(c))return r(void 0,c,h,d)}else return r(c,f,h,d)}o(i,"mergeDeepProperties");function s(c,f){if(!Y.isUndefined(f))return r(void 0,f)}o(s,"valueFromConfig2");function a(c,f){if(Y.isUndefined(f)){if(!Y.isUndefined(c))return r(void 0,c)}else return r(void 0,f)}o(a,"defaultToConfig2");function l(c,f,h){if(h in e)return r(c,f);if(h in t)return r(void 0,c)}o(l,"mergeDirectKeys");const u={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:o((c,f,h)=>i(m$(c),m$(f),h,!0),"headers")};return Y.forEach(Object.keys({...t,...e}),o(function(f){const h=u[f]||i,d=h(t[f],e[f],f);Y.isUndefined(d)&&h!==l||(n[f]=d)},"computeConfigValue")),n}o(Of,"mergeConfig");const YV=o(t=>{const e=Of({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:l}=e;e.headers=a=$i.from(a),e.url=jV(KV(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(Y.isFormData(n)){if(Ur.hasStandardBrowserEnv||Ur.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((u=a.getContentType())!==!1){const[c,...f]=u?u.split(";").map(h=>h.trim()).filter(Boolean):[];a.setContentType([c||"multipart/form-data",...f].join("; "))}}if(Ur.hasStandardBrowserEnv&&(r&&Y.isFunction(r)&&(r=r(e)),r||r!==!1&&Jwe(e.url))){const c=i&&s&&Zwe.read(s);c&&a.set(i,c)}return e},"resolveConfig"),tve=typeof XMLHttpRequest<"u",nve=tve&&function(t){return new Promise(o(function(n,r){const i=YV(t);let s=i.data;const a=$i.from(i.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:c}=i,f,h,d,p,m;function y(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}o(y,"done");let _=new XMLHttpRequest;_.open(i.method.toUpperCase(),i.url,!0),_.timeout=i.timeout;function b(){if(!_)return;const v=$i.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:v,config:t,request:_};qV(o(function(x){n(x),y()},"_resolve"),o(function(x){r(x),y()},"_reject"),C),_=null}o(b,"onloadend"),"onloadend"in _?_.onloadend=b:_.onreadystatechange=o(function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(b)},"handleLoad"),_.onabort=o(function(){_&&(r(new Xe("Request aborted",Xe.ECONNABORTED,t,_)),_=null)},"handleAbort"),_.onerror=o(function(){r(new Xe("Network Error",Xe.ERR_NETWORK,t,_)),_=null},"handleError"),_.ontimeout=o(function(){let k=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const C=i.transitional||WV;i.timeoutErrorMessage&&(k=i.timeoutErrorMessage),r(new Xe(k,C.clarifyTimeoutError?Xe.ETIMEDOUT:Xe.ECONNABORTED,t,_)),_=null},"handleTimeout"),s===void 0&&a.setContentType(null),"setRequestHeader"in _&&Y.forEach(a.toJSON(),o(function(k,C){_.setRequestHeader(C,k)},"setRequestHeader")),Y.isUndefined(i.withCredentials)||(_.withCredentials=!!i.withCredentials),l&&l!=="json"&&(_.responseType=i.responseType),c&&([d,m]=Sw(c,!0),_.addEventListener("progress",d)),u&&_.upload&&([h,p]=Sw(u),_.upload.addEventListener("progress",h),_.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(f=o(v=>{_&&(r(!v||v.type?new qp(null,t,_):v),_.abort(),_=null)},"onCanceled"),i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const S=Kwe(i.url);if(S&&Ur.protocols.indexOf(S)===-1){r(new Xe("Unsupported protocol "+S+":",Xe.ERR_BAD_REQUEST,t));return}_.send(s||null)},"dispatchXhrRequest"))},rve=o((t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=o(function(c){if(!i){i=!0,l();const f=c instanceof Error?c:this.reason;r.abort(f instanceof Xe?f:new qp(f instanceof Error?f.message:f))}},"onabort");let a=e&&setTimeout(()=>{a=null,s(new Xe(`timeout ${e} of ms exceeded`,Xe.ETIMEDOUT))},e);const l=o(()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)},"unsubscribe");t.forEach(c=>c.addEventListener("abort",s));const{signal:u}=r;return u.unsubscribe=()=>Y.asap(l),u}},"composeSignals"),ive=o(function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},"streamChunk"),sve=o(async function*(t,e){for await(const n of ove(t))yield*ive(n,e)},"readBytes"),ove=o(async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},"readStream"),g$=o((t,e,n,r)=>{const i=sve(t,e);let s=0,a,l=o(u=>{a||(a=!0,r&&r(u))},"_onFinish");return new ReadableStream({async pull(u){try{const{done:c,value:f}=await i.next();if(c){l(),u.close();return}let h=f.byteLength;if(n){let d=s+=h;n(d)}u.enqueue(new Uint8Array(f))}catch(c){throw l(c),c}},cancel(u){return l(u),i.return()}},{highWaterMark:2})},"trackStream"),ux=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",XV=ux&&typeof ReadableStream=="function",ave=ux&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),JV=o((t,...e)=>{try{return!!t(...e)}catch{return!1}},"test"),lve=XV&&JV(()=>{let t=!1;const e=new Request(Ur.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),y$=64*1024,Wk=XV&&JV(()=>Y.isReadableStream(new Response("").body)),kw={stream:Wk&&(t=>t.body)};ux&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!kw[e]&&(kw[e]=Y.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Xe(`Response type '${e}' is not supported`,Xe.ERR_NOT_SUPPORT,r)})})})(new Response);const uve=o(async t=>{if(t==null)return 0;if(Y.isBlob(t))return t.size;if(Y.isSpecCompliantForm(t))return(await new Request(Ur.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(t)||Y.isArrayBuffer(t))return t.byteLength;if(Y.isURLSearchParams(t)&&(t=t+""),Y.isString(t))return(await ave(t)).byteLength},"getBodyLength"),cve=o(async(t,e)=>{const n=Y.toFiniteNumber(t.getContentLength());return n??uve(e)},"resolveBodyLength"),fve=ux&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:a,onDownloadProgress:l,onUploadProgress:u,responseType:c,headers:f,withCredentials:h="same-origin",fetchOptions:d}=YV(t);c=c?(c+"").toLowerCase():"text";let p=rve([i,s&&s.toAbortSignal()],a),m;const y=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let _;try{if(u&&lve&&n!=="get"&&n!=="head"&&(_=await cve(f,r))!==0){let C=new Request(e,{method:"POST",body:r,duplex:"half"}),R;if(Y.isFormData(r)&&(R=C.headers.get("content-type"))&&f.setContentType(R),C.body){const[x,E]=d$(_,Sw(p$(u)));r=g$(C.body,y$,x,E)}}Y.isString(h)||(h=h?"include":"omit");const b="credentials"in Request.prototype;m=new Request(e,{...d,signal:p,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:b?h:void 0});let S=await fetch(m,d);const v=Wk&&(c==="stream"||c==="response");if(Wk&&(l||v&&y)){const C={};["status","statusText","headers"].forEach(T=>{C[T]=S[T]});const R=Y.toFiniteNumber(S.headers.get("content-length")),[x,E]=l&&d$(R,Sw(p$(l),!0))||[];S=new Response(g$(S.body,y$,x,()=>{E&&E(),y&&y()}),C)}c=c||"text";let k=await kw[Y.findKey(kw,c)||"text"](S,t);return!v&&y&&y(),await new Promise((C,R)=>{qV(C,R,{data:k,headers:$i.from(S.headers),status:S.status,statusText:S.statusText,config:t,request:m})})}catch(b){throw y&&y(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new Xe("Network Error",Xe.ERR_NETWORK,t,m),{cause:b.cause||b}):Xe.from(b,b&&b.code,t,m)}}),Hk={http:kwe,xhr:nve,fetch:fve};Y.forEach(Hk,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const _$=o(t=>`- ${t}`,"renderReason"),hve=o(t=>Y.isFunction(t)||t===null||t===!1,"isResolvedHandle"),ZV={getAdapter:o(t=>{t=Y.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let a;if(r=n,!hve(n)&&(r=Hk[(a=String(n)).toLowerCase()],r===void 0))throw new Xe(`Unknown adapter '${a}'`);if(r)break;i[a||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(_$).join(`
`):" "+_$(s[0]):"as no adapter specified";throw new Xe("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},"getAdapter"),adapters:Hk};function rT(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new qp(null,t)}o(rT,"throwIfCancellationRequested");function b$(t){return rT(t),t.headers=$i.from(t.headers),t.data=nT.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ZV.getAdapter(t.adapter||Fy.adapter)(t).then(o(function(r){return rT(t),r.data=nT.call(t,t.transformResponse,r),r.headers=$i.from(r.headers),r},"onAdapterResolution"),o(function(r){return GV(r)||(rT(t),r&&r.response&&(r.response.data=nT.call(t,t.transformResponse,r.response),r.response.headers=$i.from(r.response.headers))),Promise.reject(r)},"onAdapterRejection"))}o(b$,"dispatchRequest");const QV="1.11.0",cx={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{cx[t]=o(function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t},"validator")});const w$={};cx.transitional=o(function(e,n,r){function i(s,a){return"[Axios v"+QV+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return o(i,"formatMessage"),(s,a,l)=>{if(e===!1)throw new Xe(i(a," has been removed"+(n?" in "+n:"")),Xe.ERR_DEPRECATED);return n&&!w$[a]&&(w$[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,l):!0}},"transitional");cx.spelling=o(function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)},"spelling");function dve(t,e,n){if(typeof t!="object")throw new Xe("options must be an object",Xe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],a=e[s];if(a){const l=t[s],u=l===void 0||a(l,s,t);if(u!==!0)throw new Xe("option "+s+" must be "+u,Xe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Xe("Unknown option "+s,Xe.ERR_BAD_OPTION)}}o(dve,"assertOptions");const ub={assertOptions:dve,validators:cx},$o=ub.validators;class nf{static{o(this,"Axios")}constructor(e){this.defaults=e||{},this.interceptors={request:new f$,response:new f$}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Of(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&ub.assertOptions(r,{silentJSONParsing:$o.transitional($o.boolean),forcedJSONParsing:$o.transitional($o.boolean),clarifyTimeoutError:$o.transitional($o.boolean)},!1),i!=null&&(Y.isFunction(i)?n.paramsSerializer={serialize:i}:ub.assertOptions(i,{encode:$o.function,serialize:$o.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ub.assertOptions(n,{baseUrl:$o.spelling("baseURL"),withXsrfToken:$o.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&Y.merge(s.common,s[n.method]);s&&Y.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),n.headers=$i.concat(a,s);const l=[];let u=!0;this.interceptors.request.forEach(o(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(u=u&&y.synchronous,l.unshift(y.fulfilled,y.rejected))},"unshiftRequestInterceptors"));const c=[];this.interceptors.response.forEach(o(function(y){c.push(y.fulfilled,y.rejected)},"pushResponseInterceptors"));let f,h=0,d;if(!u){const m=[b$.bind(this),void 0];for(m.unshift(...l),m.push(...c),d=m.length,f=Promise.resolve(n);h<d;)f=f.then(m[h++],m[h++]);return f}d=l.length;let p=n;for(h=0;h<d;){const m=l[h++],y=l[h++];try{p=m(p)}catch(_){y.call(this,_);break}}try{f=b$.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,d=c.length;h<d;)f=f.then(c[h++],c[h++]);return f}getUri(e){e=Of(this.defaults,e);const n=KV(e.baseURL,e.url,e.allowAbsoluteUrls);return jV(n,e.params,e.paramsSerializer)}}Y.forEach(["delete","get","head","options"],o(function(e){nf.prototype[e]=function(n,r){return this.request(Of(r||{},{method:e,url:n,data:(r||{}).data}))}},"forEachMethodNoData"));Y.forEach(["post","put","patch"],o(function(e){function n(r){return o(function(s,a,l){return this.request(Of(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))},"httpMethod")}o(n,"generateHTTPMethod"),nf.prototype[e]=n(),nf.prototype[e+"Form"]=n(!0)},"forEachMethodWithData"));class sR{static{o(this,"CancelToken")}constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(o(function(s){n=s},"promiseExecutor"));const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(l=>{r.subscribe(l),s=l}).then(i);return a.cancel=o(function(){r.unsubscribe(s)},"reject"),a},e(o(function(s,a,l){r.reason||(r.reason=new qp(s,a,l),n(r.reason))},"cancel"))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=o(r=>{e.abort(r)},"abort");return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new sR(o(function(i){e=i},"executor")),cancel:e}}}function pve(t){return o(function(n){return t.apply(null,n)},"wrap")}o(pve,"spread");function mve(t){return Y.isObject(t)&&t.isAxiosError===!0}o(mve,"isAxiosError");const Gk={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Gk).forEach(([t,e])=>{Gk[e]=t});function e7(t){const e=new nf(t),n=OV(nf.prototype.request,e);return Y.extend(n,nf.prototype,e,{allOwnKeys:!0}),Y.extend(n,e,null,{allOwnKeys:!0}),n.create=o(function(i){return e7(Of(t,i))},"create"),n}o(e7,"createInstance");const Zn=e7(Fy);Zn.Axios=nf;Zn.CanceledError=qp;Zn.CancelToken=sR;Zn.isCancel=GV;Zn.VERSION=QV;Zn.toFormData=lx;Zn.AxiosError=Xe;Zn.Cancel=Zn.CanceledError;Zn.all=o(function(e){return Promise.all(e)},"all");Zn.spread=pve;Zn.isAxiosError=mve;Zn.mergeConfig=Of;Zn.AxiosHeaders=$i;Zn.formToJSON=t=>HV(Y.isHTMLForm(t)?new FormData(t):t);Zn.getAdapter=ZV.getAdapter;Zn.HttpStatusCode=Gk;Zn.default=Zn;var wt;(function(t){t.assertEqual=i=>i;function e(i){}o(e,"assertIs"),t.assertIs=e;function n(i){throw new Error}o(n,"assertNever"),t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),a={};for(const l of s)a[l]=i[l];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(const a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}o(r,"joinValues"),t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(wt||(wt={}));var qk;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(qk||(qk={}));const Se=wt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),rl=o(t=>{switch(typeof t){case"undefined":return Se.undefined;case"string":return Se.string;case"number":return isNaN(t)?Se.nan:Se.number;case"boolean":return Se.boolean;case"function":return Se.function;case"bigint":return Se.bigint;case"symbol":return Se.symbol;case"object":return Array.isArray(t)?Se.array:t===null?Se.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Se.promise:typeof Map<"u"&&t instanceof Map?Se.map:typeof Set<"u"&&t instanceof Set?Se.set:typeof Date<"u"&&t instanceof Date?Se.date:Se.object;default:return Se.unknown}},"getParsedType"),fe=wt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),gve=o(t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),"quotelessJson");class ns extends Error{static{o(this,"ZodError")}get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=o(s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let l=r,u=0;for(;u<a.path.length;){const c=a.path[u];u===a.path.length-1?(l[c]=l[c]||{_errors:[]},l[c]._errors.push(n(a))):l[c]=l[c]||{_errors:[]},l=l[c],u++}}},"processError");return i(this),r}static assert(e){if(!(e instanceof ns))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,wt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ns.create=t=>new ns(t);const up=o((t,e)=>{let n;switch(t.code){case fe.invalid_type:t.received===Se.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case fe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,wt.jsonStringifyReplacer)}`;break;case fe.unrecognized_keys:n=`Unrecognized key(s) in object: ${wt.joinValues(t.keys,", ")}`;break;case fe.invalid_union:n="Invalid input";break;case fe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${wt.joinValues(t.options)}`;break;case fe.invalid_enum_value:n=`Invalid enum value. Expected ${wt.joinValues(t.options)}, received '${t.received}'`;break;case fe.invalid_arguments:n="Invalid function arguments";break;case fe.invalid_return_type:n="Invalid function return type";break;case fe.invalid_date:n="Invalid date";break;case fe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:wt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case fe.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case fe.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case fe.custom:n="Invalid input";break;case fe.invalid_intersection_types:n="Intersection results could not be merged";break;case fe.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case fe.not_finite:n="Number must be finite";break;default:n=e.defaultError,wt.assertNever(t)}return{message:n}},"errorMap");let t7=up;function yve(t){t7=t}o(yve,"setErrorMap");function Aw(){return t7}o(Aw,"getErrorMap");const Cw=o(t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const u=r.filter(c=>!!c).slice().reverse();for(const c of u)l=c(a,{data:e,defaultError:l}).message;return{...i,path:s,message:l}},"makeIssue"),_ve=[];function ve(t,e){const n=Aw(),r=Cw({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===up?void 0:up].filter(i=>!!i)});t.common.issues.push(r)}o(ve,"addIssueToContext");class Kr{static{o(this,"ParseStatus")}constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return ze;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,a=await i.value;r.push({key:s,value:a})}return Kr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return ze;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:e.value,value:r}}}const ze=Object.freeze({status:"aborted"}),fd=o(t=>({status:"dirty",value:t}),"DIRTY"),_i=o(t=>({status:"valid",value:t}),"OK"),Kk=o(t=>t.status==="aborted","isAborted"),Yk=o(t=>t.status==="dirty","isDirty"),Nf=o(t=>t.status==="valid","isValid"),b0=o(t=>typeof Promise<"u"&&t instanceof Promise,"isAsync");function Iw(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}o(Iw,"__classPrivateFieldGet");function n7(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}o(n7,"__classPrivateFieldSet");var Re;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Re||(Re={}));var tg,ng;class ga{static{o(this,"ParseInputLazyPath")}constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const v$=o((t,e)=>{if(Nf(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ns(t.common.issues);return this._error=n,this._error}}},"handleResult");function Ze(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:o((a,l)=>{var u,c;const{message:f}=t;return a.code==="invalid_enum_value"?{message:f??l.defaultError}:typeof l.data>"u"?{message:(u=f??r)!==null&&u!==void 0?u:l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:(c=f??n)!==null&&c!==void 0?c:l.defaultError}},"customMap"),description:i}}o(Ze,"processCreateParams");class tt{static{o(this,"ZodType")}get description(){return this._def.description}_getType(e){return rl(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:rl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Kr,ctx:{common:e.parent.common,data:e.data,parsedType:rl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(b0(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:rl(e)},s=this._parseSync({data:e,path:i.path,parent:i});return v$(i,s)}"~validate"(e){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:rl(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:i});return Nf(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((r=(n=s?.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(s=>Nf(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:rl(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(b0(i)?i:Promise.resolve(i));return v$(r,s)}refine(e,n){const r=o(i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n,"getIssueProperties");return this._refinement((i,s)=>{const a=e(i),l=o(()=>s.addIssue({code:fe.custom,...r(i)}),"setError");return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new To({schema:this,typeName:Be.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:o(n=>this["~validate"](n),"validate")}}optional(){return fa.create(this,this._def)}nullable(){return Ku.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ho.create(this)}promise(){return fp.create(this,this._def)}or(e){return x0.create([this,e],this._def)}and(e){return T0.create(this,e,this._def)}transform(e){return new To({...Ze(this._def),schema:this,typeName:Be.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new I0({...Ze(this._def),innerType:this,defaultValue:n,typeName:Be.ZodDefault})}brand(){return new oR({typeName:Be.ZodBranded,type:this,...Ze(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new R0({...Ze(this._def),innerType:this,catchValue:n,typeName:Be.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return By.create(this,e)}readonly(){return O0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const bve=/^c[^\s-]{8,}$/i,wve=/^[0-9a-z]+$/,vve=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Eve=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,xve=/^[a-z0-9_-]{21}$/i,Tve=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Sve=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,kve=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ave="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let iT;const Cve=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ive=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Rve=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Ove=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Nve=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Mve=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,r7="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Dve=new RegExp(`^${r7}$`);function i7(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}o(i7,"timeRegexSource");function Pve(t){return new RegExp(`^${i7(t)}$`)}o(Pve,"timeRegex");function s7(t){let e=`${r7}T${i7(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}o(s7,"datetimeRegex");function $ve(t,e){return!!((e==="v4"||!e)&&Cve.test(t)||(e==="v6"||!e)&&Rve.test(t))}o($ve,"isValidIP");function Lve(t,e){if(!Tve.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}o(Lve,"isValidJWT");function Fve(t,e){return!!((e==="v4"||!e)&&Ive.test(t)||(e==="v6"||!e)&&Ove.test(t))}o(Fve,"isValidCidr");class io extends tt{static{o(this,"ZodString")}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Se.string){const s=this._getOrReturnCtx(e);return ve(s,{code:fe.invalid_type,expected:Se.string,received:s.parsedType}),ze}const r=new Kr;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),ve(i,{code:fe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),ve(i,{code:fe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,l=e.data.length<s.value;(a||l)&&(i=this._getOrReturnCtx(e,i),a?ve(i,{code:fe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&ve(i,{code:fe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")kve.test(e.data)||(i=this._getOrReturnCtx(e,i),ve(i,{validation:"email",code:fe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")iT||(iT=new RegExp(Ave,"u")),iT.test(e.data)||(i=this._getOrReturnCtx(e,i),ve(i,{validation:"emoji",code:fe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Eve.test(e.data)||(i=this._getOrReturnCtx(e,i),ve(i,{validation:"uuid",code:fe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")xve.test(e.data)||(i=this._getOrReturnCtx(e,i),ve(i,{validation:"nanoid",code:fe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")bve.test(e.data)||(i=this._getOrReturnCtx(e,i),ve(i,{validation:"cuid",code:fe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")wve.test(e.data)||(i=this._getOrReturnCtx(e,i),ve(i,{validation:"cuid2",code:fe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")vve.test(e.data)||(i=this._getOrReturnCtx(e,i),ve(i,{validation:"ulid",code:fe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ve(i,{validation:"url",code:fe.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ve(i,{validation:"regex",code:fe.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),ve(i,{code:fe.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),ve(i,{code:fe.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),ve(i,{code:fe.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?s7(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ve(i,{code:fe.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?Dve.test(e.data)||(i=this._getOrReturnCtx(e,i),ve(i,{code:fe.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?Pve(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ve(i,{code:fe.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?Sve.test(e.data)||(i=this._getOrReturnCtx(e,i),ve(i,{validation:"duration",code:fe.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?$ve(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ve(i,{validation:"ip",code:fe.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?Lve(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),ve(i,{validation:"jwt",code:fe.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?Fve(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ve(i,{validation:"cidr",code:fe.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?Nve.test(e.data)||(i=this._getOrReturnCtx(e,i),ve(i,{validation:"base64",code:fe.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?Mve.test(e.data)||(i=this._getOrReturnCtx(e,i),ve(i,{validation:"base64url",code:fe.invalid_string,message:s.message}),r.dirty()):wt.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:fe.invalid_string,...Re.errToObj(r)})}_addCheck(e){return new io({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Re.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Re.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Re.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Re.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Re.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Re.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Re.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Re.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Re.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Re.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Re.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Re.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Re.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,local:(r=e?.local)!==null&&r!==void 0?r:!1,...Re.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Re.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Re.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Re.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...Re.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Re.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Re.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Re.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Re.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Re.errToObj(n)})}nonempty(e){return this.min(1,Re.errToObj(e))}trim(){return new io({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new io({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new io({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}io.create=t=>{var e;return new io({checks:[],typeName:Be.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Ze(t)})};function Bve(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),a=parseInt(e.toFixed(i).replace(".",""));return s%a/Math.pow(10,i)}o(Bve,"floatSafeRemainder");class Hu extends tt{static{o(this,"ZodNumber")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Se.number){const s=this._getOrReturnCtx(e);return ve(s,{code:fe.invalid_type,expected:Se.number,received:s.parsedType}),ze}let r;const i=new Kr;for(const s of this._def.checks)s.kind==="int"?wt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ve(r,{code:fe.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),ve(r,{code:fe.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),ve(r,{code:fe.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Bve(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),ve(r,{code:fe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ve(r,{code:fe.not_finite,message:s.message}),i.dirty()):wt.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Re.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Re.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Re.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Re.toString(n))}setLimit(e,n,r,i){return new Hu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Re.toString(i)}]})}_addCheck(e){return new Hu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Re.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Re.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Re.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Re.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Re.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Re.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&wt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Hu.create=t=>new Hu({checks:[],typeName:Be.ZodNumber,coerce:t?.coerce||!1,...Ze(t)});class Gu extends tt{static{o(this,"ZodBigInt")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Se.bigint)return this._getInvalidInput(e);let r;const i=new Kr;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),ve(r,{code:fe.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),ve(r,{code:fe.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ve(r,{code:fe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):wt.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ve(n,{code:fe.invalid_type,expected:Se.bigint,received:n.parsedType}),ze}gte(e,n){return this.setLimit("min",e,!0,Re.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Re.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Re.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Re.toString(n))}setLimit(e,n,r,i){return new Gu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Re.toString(i)}]})}_addCheck(e){return new Gu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Re.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Re.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Gu.create=t=>{var e;return new Gu({checks:[],typeName:Be.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Ze(t)})};class w0 extends tt{static{o(this,"ZodBoolean")}_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Se.boolean){const r=this._getOrReturnCtx(e);return ve(r,{code:fe.invalid_type,expected:Se.boolean,received:r.parsedType}),ze}return _i(e.data)}}w0.create=t=>new w0({typeName:Be.ZodBoolean,coerce:t?.coerce||!1,...Ze(t)});class Mf extends tt{static{o(this,"ZodDate")}_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Se.date){const s=this._getOrReturnCtx(e);return ve(s,{code:fe.invalid_type,expected:Se.date,received:s.parsedType}),ze}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return ve(s,{code:fe.invalid_date}),ze}const r=new Kr;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),ve(i,{code:fe.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),ve(i,{code:fe.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):wt.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Mf({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Re.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Re.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Mf.create=t=>new Mf({checks:[],coerce:t?.coerce||!1,typeName:Be.ZodDate,...Ze(t)});class Rw extends tt{static{o(this,"ZodSymbol")}_parse(e){if(this._getType(e)!==Se.symbol){const r=this._getOrReturnCtx(e);return ve(r,{code:fe.invalid_type,expected:Se.symbol,received:r.parsedType}),ze}return _i(e.data)}}Rw.create=t=>new Rw({typeName:Be.ZodSymbol,...Ze(t)});class v0 extends tt{static{o(this,"ZodUndefined")}_parse(e){if(this._getType(e)!==Se.undefined){const r=this._getOrReturnCtx(e);return ve(r,{code:fe.invalid_type,expected:Se.undefined,received:r.parsedType}),ze}return _i(e.data)}}v0.create=t=>new v0({typeName:Be.ZodUndefined,...Ze(t)});class E0 extends tt{static{o(this,"ZodNull")}_parse(e){if(this._getType(e)!==Se.null){const r=this._getOrReturnCtx(e);return ve(r,{code:fe.invalid_type,expected:Se.null,received:r.parsedType}),ze}return _i(e.data)}}E0.create=t=>new E0({typeName:Be.ZodNull,...Ze(t)});class cp extends tt{static{o(this,"ZodAny")}constructor(){super(...arguments),this._any=!0}_parse(e){return _i(e.data)}}cp.create=t=>new cp({typeName:Be.ZodAny,...Ze(t)});class rf extends tt{static{o(this,"ZodUnknown")}constructor(){super(...arguments),this._unknown=!0}_parse(e){return _i(e.data)}}rf.create=t=>new rf({typeName:Be.ZodUnknown,...Ze(t)});class kl extends tt{static{o(this,"ZodNever")}_parse(e){const n=this._getOrReturnCtx(e);return ve(n,{code:fe.invalid_type,expected:Se.never,received:n.parsedType}),ze}}kl.create=t=>new kl({typeName:Be.ZodNever,...Ze(t)});class Ow extends tt{static{o(this,"ZodVoid")}_parse(e){if(this._getType(e)!==Se.undefined){const r=this._getOrReturnCtx(e);return ve(r,{code:fe.invalid_type,expected:Se.void,received:r.parsedType}),ze}return _i(e.data)}}Ow.create=t=>new Ow({typeName:Be.ZodVoid,...Ze(t)});class ho extends tt{static{o(this,"ZodArray")}_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Se.array)return ve(n,{code:fe.invalid_type,expected:Se.array,received:n.parsedType}),ze;if(i.exactLength!==null){const a=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(a||l)&&(ve(n,{code:a?fe.too_big:fe.too_small,minimum:l?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(ve(n,{code:fe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(ve(n,{code:fe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,l)=>i.type._parseAsync(new ga(n,a,n.path,l)))).then(a=>Kr.mergeArray(r,a));const s=[...n.data].map((a,l)=>i.type._parseSync(new ga(n,a,n.path,l)));return Kr.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new ho({...this._def,minLength:{value:e,message:Re.toString(n)}})}max(e,n){return new ho({...this._def,maxLength:{value:e,message:Re.toString(n)}})}length(e,n){return new ho({...this._def,exactLength:{value:e,message:Re.toString(n)}})}nonempty(e){return this.min(1,e)}}ho.create=(t,e)=>new ho({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Be.ZodArray,...Ze(e)});function nd(t){if(t instanceof _n){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=fa.create(nd(r))}return new _n({...t._def,shape:o(()=>e,"shape")})}else return t instanceof ho?new ho({...t._def,type:nd(t.element)}):t instanceof fa?fa.create(nd(t.unwrap())):t instanceof Ku?Ku.create(nd(t.unwrap())):t instanceof ya?ya.create(t.items.map(e=>nd(e))):t}o(nd,"deepPartialify");class _n extends tt{static{o(this,"ZodObject")}constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=wt.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Se.object){const c=this._getOrReturnCtx(e);return ve(c,{code:fe.invalid_type,expected:Se.object,received:c.parsedType}),ze}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof kl&&this._def.unknownKeys==="strip"))for(const c in i.data)a.includes(c)||l.push(c);const u=[];for(const c of a){const f=s[c],h=i.data[c];u.push({key:{status:"valid",value:c},value:f._parse(new ga(i,h,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof kl){const c=this._def.unknownKeys;if(c==="passthrough")for(const f of l)u.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(c==="strict")l.length>0&&(ve(i,{code:fe.unrecognized_keys,keys:l}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const f of l){const h=i.data[f];u.push({key:{status:"valid",value:f},value:c._parse(new ga(i,h,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const f of u){const h=await f.key,d=await f.value;c.push({key:h,value:d,alwaysSet:f.alwaysSet})}return c}).then(c=>Kr.mergeObjectSync(r,c)):Kr.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return Re.errToObj,new _n({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:o((n,r)=>{var i,s,a,l;const u=(a=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&a!==void 0?a:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=Re.errToObj(e).message)!==null&&l!==void 0?l:u}:{message:u}},"errorMap")}:{}})}strip(){return new _n({...this._def,unknownKeys:"strip"})}passthrough(){return new _n({...this._def,unknownKeys:"passthrough"})}extend(e){return new _n({...this._def,shape:o(()=>({...this._def.shape(),...e}),"shape")})}merge(e){return new _n({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:o(()=>({...this._def.shape(),...e._def.shape()}),"shape"),typeName:Be.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new _n({...this._def,catchall:e})}pick(e){const n={};return wt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new _n({...this._def,shape:o(()=>n,"shape")})}omit(e){const n={};return wt.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new _n({...this._def,shape:o(()=>n,"shape")})}deepPartial(){return nd(this)}partial(e){const n={};return wt.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new _n({...this._def,shape:o(()=>n,"shape")})}required(e){const n={};return wt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof fa;)s=s._def.innerType;n[r]=s}}),new _n({...this._def,shape:o(()=>n,"shape")})}keyof(){return o7(wt.objectKeys(this.shape))}}_n.create=(t,e)=>new _n({shape:o(()=>t,"shape"),unknownKeys:"strip",catchall:kl.create(),typeName:Be.ZodObject,...Ze(e)});_n.strictCreate=(t,e)=>new _n({shape:o(()=>t,"shape"),unknownKeys:"strict",catchall:kl.create(),typeName:Be.ZodObject,...Ze(e)});_n.lazycreate=(t,e)=>new _n({shape:t,unknownKeys:"strip",catchall:kl.create(),typeName:Be.ZodObject,...Ze(e)});class x0 extends tt{static{o(this,"ZodUnion")}_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const a=s.map(l=>new ns(l.ctx.common.issues));return ve(n,{code:fe.invalid_union,unionErrors:a}),ze}if(o(i,"handleResults"),n.common.async)return Promise.all(r.map(async s=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const u of r){const c={...n,common:{...n.common,issues:[]},parent:null},f=u._parseSync({data:n.data,path:n.path,parent:c});if(f.status==="valid")return f;f.status==="dirty"&&!s&&(s={result:f,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const l=a.map(u=>new ns(u));return ve(n,{code:fe.invalid_union,unionErrors:l}),ze}}get options(){return this._def.options}}x0.create=(t,e)=>new x0({options:t,typeName:Be.ZodUnion,...Ze(e)});const Ka=o(t=>t instanceof k0?Ka(t.schema):t instanceof To?Ka(t.innerType()):t instanceof A0?[t.value]:t instanceof qu?t.options:t instanceof C0?wt.objectValues(t.enum):t instanceof I0?Ka(t._def.innerType):t instanceof v0?[void 0]:t instanceof E0?[null]:t instanceof fa?[void 0,...Ka(t.unwrap())]:t instanceof Ku?[null,...Ka(t.unwrap())]:t instanceof oR||t instanceof O0?Ka(t.unwrap()):t instanceof R0?Ka(t._def.innerType):[],"getDiscriminator");class fx extends tt{static{o(this,"ZodDiscriminatedUnion")}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Se.object)return ve(n,{code:fe.invalid_type,expected:Se.object,received:n.parsedType}),ze;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(ve(n,{code:fe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ze)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const a=Ka(s.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of a){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,s)}}return new fx({typeName:Be.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Ze(r)})}}function Xk(t,e){const n=rl(t),r=rl(e);if(t===e)return{valid:!0,data:t};if(n===Se.object&&r===Se.object){const i=wt.objectKeys(e),s=wt.objectKeys(t).filter(l=>i.indexOf(l)!==-1),a={...t,...e};for(const l of s){const u=Xk(t[l],e[l]);if(!u.valid)return{valid:!1};a[l]=u.data}return{valid:!0,data:a}}else if(n===Se.array&&r===Se.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const a=t[s],l=e[s],u=Xk(a,l);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return n===Se.date&&r===Se.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}o(Xk,"mergeValues");class T0 extends tt{static{o(this,"ZodIntersection")}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=o((s,a)=>{if(Kk(s)||Kk(a))return ze;const l=Xk(s.value,a.value);return l.valid?((Yk(s)||Yk(a))&&n.dirty(),{status:n.value,value:l.data}):(ve(r,{code:fe.invalid_intersection_types}),ze)},"handleParsed");return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}T0.create=(t,e,n)=>new T0({left:t,right:e,typeName:Be.ZodIntersection,...Ze(n)});class ya extends tt{static{o(this,"ZodTuple")}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Se.array)return ve(r,{code:fe.invalid_type,expected:Se.array,received:r.parsedType}),ze;if(r.data.length<this._def.items.length)return ve(r,{code:fe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ze;!this._def.rest&&r.data.length>this._def.items.length&&(ve(r,{code:fe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((a,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new ga(r,a,r.path,l)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>Kr.mergeArray(n,a)):Kr.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new ya({...this._def,rest:e})}}ya.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ya({items:t,typeName:Be.ZodTuple,rest:null,...Ze(e)})};class S0 extends tt{static{o(this,"ZodRecord")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Se.object)return ve(r,{code:fe.invalid_type,expected:Se.object,received:r.parsedType}),ze;const i=[],s=this._def.keyType,a=this._def.valueType;for(const l in r.data)i.push({key:s._parse(new ga(r,l,r.path,l)),value:a._parse(new ga(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?Kr.mergeObjectAsync(n,i):Kr.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof tt?new S0({keyType:e,valueType:n,typeName:Be.ZodRecord,...Ze(r)}):new S0({keyType:io.create(),valueType:e,typeName:Be.ZodRecord,...Ze(n)})}}class Nw extends tt{static{o(this,"ZodMap")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Se.map)return ve(r,{code:fe.invalid_type,expected:Se.map,received:r.parsedType}),ze;const i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([l,u],c)=>({key:i._parse(new ga(r,l,r.path,[c,"key"])),value:s._parse(new ga(r,u,r.path,[c,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of a){const c=await u.key,f=await u.value;if(c.status==="aborted"||f.status==="aborted")return ze;(c.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(c.value,f.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const u of a){const c=u.key,f=u.value;if(c.status==="aborted"||f.status==="aborted")return ze;(c.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(c.value,f.value)}return{status:n.value,value:l}}}}Nw.create=(t,e,n)=>new Nw({valueType:e,keyType:t,typeName:Be.ZodMap,...Ze(n)});class Df extends tt{static{o(this,"ZodSet")}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Se.set)return ve(r,{code:fe.invalid_type,expected:Se.set,received:r.parsedType}),ze;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(ve(r,{code:fe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(ve(r,{code:fe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function a(u){const c=new Set;for(const f of u){if(f.status==="aborted")return ze;f.status==="dirty"&&n.dirty(),c.add(f.value)}return{status:n.value,value:c}}o(a,"finalizeSet");const l=[...r.data.values()].map((u,c)=>s._parse(new ga(r,u,r.path,c)));return r.common.async?Promise.all(l).then(u=>a(u)):a(l)}min(e,n){return new Df({...this._def,minSize:{value:e,message:Re.toString(n)}})}max(e,n){return new Df({...this._def,maxSize:{value:e,message:Re.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Df.create=(t,e)=>new Df({valueType:t,minSize:null,maxSize:null,typeName:Be.ZodSet,...Ze(e)});class Nd extends tt{static{o(this,"ZodFunction")}constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Se.function)return ve(n,{code:fe.invalid_type,expected:Se.function,received:n.parsedType}),ze;function r(l,u){return Cw({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Aw(),up].filter(c=>!!c),issueData:{code:fe.invalid_arguments,argumentsError:u}})}o(r,"makeArgsIssue");function i(l,u){return Cw({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Aw(),up].filter(c=>!!c),issueData:{code:fe.invalid_return_type,returnTypeError:u}})}o(i,"makeReturnsIssue");const s={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof fp){const l=this;return _i(async function(...u){const c=new ns([]),f=await l._def.args.parseAsync(u,s).catch(p=>{throw c.addIssue(r(u,p)),c}),h=await Reflect.apply(a,this,f);return await l._def.returns._def.type.parseAsync(h,s).catch(p=>{throw c.addIssue(i(h,p)),c})})}else{const l=this;return _i(function(...u){const c=l._def.args.safeParse(u,s);if(!c.success)throw new ns([r(u,c.error)]);const f=Reflect.apply(a,this,c.data),h=l._def.returns.safeParse(f,s);if(!h.success)throw new ns([i(f,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Nd({...this._def,args:ya.create(e).rest(rf.create())})}returns(e){return new Nd({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Nd({args:e||ya.create([]).rest(rf.create()),returns:n||rf.create(),typeName:Be.ZodFunction,...Ze(r)})}}class k0 extends tt{static{o(this,"ZodLazy")}get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}k0.create=(t,e)=>new k0({getter:t,typeName:Be.ZodLazy,...Ze(e)});class A0 extends tt{static{o(this,"ZodLiteral")}_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ve(n,{received:n.data,code:fe.invalid_literal,expected:this._def.value}),ze}return{status:"valid",value:e.data}}get value(){return this._def.value}}A0.create=(t,e)=>new A0({value:t,typeName:Be.ZodLiteral,...Ze(e)});function o7(t,e){return new qu({values:t,typeName:Be.ZodEnum,...Ze(e)})}o(o7,"createZodEnum");class qu extends tt{static{o(this,"ZodEnum")}constructor(){super(...arguments),tg.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ve(n,{expected:wt.joinValues(r),received:n.parsedType,code:fe.invalid_type}),ze}if(Iw(this,tg)||n7(this,tg,new Set(this._def.values)),!Iw(this,tg).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ve(n,{received:n.data,code:fe.invalid_enum_value,options:r}),ze}return _i(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return qu.create(e,{...this._def,...n})}exclude(e,n=this._def){return qu.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}tg=new WeakMap;qu.create=o7;class C0 extends tt{static{o(this,"ZodNativeEnum")}constructor(){super(...arguments),ng.set(this,void 0)}_parse(e){const n=wt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Se.string&&r.parsedType!==Se.number){const i=wt.objectValues(n);return ve(r,{expected:wt.joinValues(i),received:r.parsedType,code:fe.invalid_type}),ze}if(Iw(this,ng)||n7(this,ng,new Set(wt.getValidEnumValues(this._def.values))),!Iw(this,ng).has(e.data)){const i=wt.objectValues(n);return ve(r,{received:r.data,code:fe.invalid_enum_value,options:i}),ze}return _i(e.data)}get enum(){return this._def.values}}ng=new WeakMap;C0.create=(t,e)=>new C0({values:t,typeName:Be.ZodNativeEnum,...Ze(e)});class fp extends tt{static{o(this,"ZodPromise")}unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Se.promise&&n.common.async===!1)return ve(n,{code:fe.invalid_type,expected:Se.promise,received:n.parsedType}),ze;const r=n.parsedType===Se.promise?n.data:Promise.resolve(n.data);return _i(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}fp.create=(t,e)=>new fp({type:t,typeName:Be.ZodPromise,...Ze(e)});class To extends tt{static{o(this,"ZodEffects")}innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Be.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o(a=>{ve(r,a),a.fatal?n.abort():n.dirty()},"addIssue"),get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(r.data,s);if(r.common.async)return Promise.resolve(a).then(async l=>{if(n.value==="aborted")return ze;const u=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return u.status==="aborted"?ze:u.status==="dirty"||n.value==="dirty"?fd(u.value):u});{if(n.value==="aborted")return ze;const l=this._def.schema._parseSync({data:a,path:r.path,parent:r});return l.status==="aborted"?ze:l.status==="dirty"||n.value==="dirty"?fd(l.value):l}}if(i.type==="refinement"){const a=o(l=>{const u=i.refinement(l,s);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l},"executeRefinement");if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?ze:(l.status==="dirty"&&n.dirty(),a(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?ze:(l.status==="dirty"&&n.dirty(),a(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Nf(a))return a;const l=i.transform(a.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Nf(a)?Promise.resolve(i.transform(a.value,s)).then(l=>({status:n.value,value:l})):a);wt.assertNever(i)}}To.create=(t,e,n)=>new To({schema:t,typeName:Be.ZodEffects,effect:e,...Ze(n)});To.createWithPreprocess=(t,e,n)=>new To({schema:e,effect:{type:"preprocess",transform:t},typeName:Be.ZodEffects,...Ze(n)});class fa extends tt{static{o(this,"ZodOptional")}_parse(e){return this._getType(e)===Se.undefined?_i(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}fa.create=(t,e)=>new fa({innerType:t,typeName:Be.ZodOptional,...Ze(e)});class Ku extends tt{static{o(this,"ZodNullable")}_parse(e){return this._getType(e)===Se.null?_i(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ku.create=(t,e)=>new Ku({innerType:t,typeName:Be.ZodNullable,...Ze(e)});class I0 extends tt{static{o(this,"ZodDefault")}_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Se.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}I0.create=(t,e)=>new I0({innerType:t,typeName:Be.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ze(e)});class R0 extends tt{static{o(this,"ZodCatch")}_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return b0(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ns(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ns(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}R0.create=(t,e)=>new R0({innerType:t,typeName:Be.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ze(e)});class Mw extends tt{static{o(this,"ZodNaN")}_parse(e){if(this._getType(e)!==Se.nan){const r=this._getOrReturnCtx(e);return ve(r,{code:fe.invalid_type,expected:Se.nan,received:r.parsedType}),ze}return{status:"valid",value:e.data}}}Mw.create=t=>new Mw({typeName:Be.ZodNaN,...Ze(t)});const Uve=Symbol("zod_brand");class oR extends tt{static{o(this,"ZodBranded")}_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class By extends tt{static{o(this,"ZodPipeline")}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return o(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ze:s.status==="dirty"?(n.dirty(),fd(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})},"handleAsync")();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ze:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new By({in:e,out:n,typeName:Be.ZodPipeline})}}class O0 extends tt{static{o(this,"ZodReadonly")}_parse(e){const n=this._def.innerType._parse(e),r=o(i=>(Nf(i)&&(i.value=Object.freeze(i.value)),i),"freeze");return b0(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}O0.create=(t,e)=>new O0({innerType:t,typeName:Be.ZodReadonly,...Ze(e)});function a7(t,e={},n){return t?cp.create().superRefine((r,i)=>{var s,a;if(!t(r)){const l=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,u=(a=(s=l.fatal)!==null&&s!==void 0?s:n)!==null&&a!==void 0?a:!0,c=typeof l=="string"?{message:l}:l;i.addIssue({code:"custom",...c,fatal:u})}}):cp.create()}o(a7,"custom");const zve={object:_n.lazycreate};var Be;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Be||(Be={}));const Vve=o((t,e={message:`Input not instance of ${t.name}`})=>a7(n=>n instanceof t,e),"instanceOfType"),l7=io.create,u7=Hu.create,jve=Mw.create,Wve=Gu.create,c7=w0.create,Hve=Mf.create,Gve=Rw.create,qve=v0.create,Kve=E0.create,Yve=cp.create,Xve=rf.create,Jve=kl.create,Zve=Ow.create,Qve=ho.create,eEe=_n.create,tEe=_n.strictCreate,nEe=x0.create,rEe=fx.create,iEe=T0.create,sEe=ya.create,oEe=S0.create,aEe=Nw.create,lEe=Df.create,uEe=Nd.create,cEe=k0.create,fEe=A0.create,hEe=qu.create,dEe=C0.create,pEe=fp.create,E$=To.create,mEe=fa.create,gEe=Ku.create,yEe=To.createWithPreprocess,_Ee=By.create,bEe=o(()=>l7().optional(),"ostring"),wEe=o(()=>u7().optional(),"onumber"),vEe=o(()=>c7().optional(),"oboolean"),EEe={string:o(t=>io.create({...t,coerce:!0}),"string"),number:o(t=>Hu.create({...t,coerce:!0}),"number"),boolean:o(t=>w0.create({...t,coerce:!0}),"boolean"),bigint:o(t=>Gu.create({...t,coerce:!0}),"bigint"),date:o(t=>Mf.create({...t,coerce:!0}),"date")},xEe=ze;var cVe=Object.freeze({__proto__:null,defaultErrorMap:up,setErrorMap:yve,getErrorMap:Aw,makeIssue:Cw,EMPTY_PATH:_ve,addIssueToContext:ve,ParseStatus:Kr,INVALID:ze,DIRTY:fd,OK:_i,isAborted:Kk,isDirty:Yk,isValid:Nf,isAsync:b0,get util(){return wt},get objectUtil(){return qk},ZodParsedType:Se,getParsedType:rl,ZodType:tt,datetimeRegex:s7,ZodString:io,ZodNumber:Hu,ZodBigInt:Gu,ZodBoolean:w0,ZodDate:Mf,ZodSymbol:Rw,ZodUndefined:v0,ZodNull:E0,ZodAny:cp,ZodUnknown:rf,ZodNever:kl,ZodVoid:Ow,ZodArray:ho,ZodObject:_n,ZodUnion:x0,ZodDiscriminatedUnion:fx,ZodIntersection:T0,ZodTuple:ya,ZodRecord:S0,ZodMap:Nw,ZodSet:Df,ZodFunction:Nd,ZodLazy:k0,ZodLiteral:A0,ZodEnum:qu,ZodNativeEnum:C0,ZodPromise:fp,ZodEffects:To,ZodTransformer:To,ZodOptional:fa,ZodNullable:Ku,ZodDefault:I0,ZodCatch:R0,ZodNaN:Mw,BRAND:Uve,ZodBranded:oR,ZodPipeline:By,ZodReadonly:O0,custom:a7,Schema:tt,ZodSchema:tt,late:zve,get ZodFirstPartyTypeKind(){return Be},coerce:EEe,any:Yve,array:Qve,bigint:Wve,boolean:c7,date:Hve,discriminatedUnion:rEe,effect:E$,enum:hEe,function:uEe,instanceof:Vve,intersection:iEe,lazy:cEe,literal:fEe,map:aEe,nan:jve,nativeEnum:dEe,never:Jve,null:Kve,nullable:gEe,number:u7,object:eEe,oboolean:vEe,onumber:wEe,optional:mEe,ostring:bEe,pipeline:_Ee,preprocess:yEe,promise:pEe,record:oEe,set:lEe,strictObject:tEe,string:l7,symbol:Gve,transformer:E$,tuple:sEe,undefined:qve,union:nEe,unknown:Xve,void:Zve,NEVER:xEe,ZodIssueCode:fe,quotelessJson:gve,ZodError:ns});function aR(t){return t instanceof Error&&t.name==="ZodError"&&"issues"in t&&Array.isArray(t.issues)}o(aR,"isZodErrorLike");var Jk=class extends Error{static{o(this,"ValidationError")}name;details;constructor(e,n){super(e,n),this.name="ZodValidationError",this.details=TEe(n)}toString(){return this.message}};function TEe(t){if(t){const e=t.cause;if(aR(e))return e.issues}return[]}o(TEe,"getIssuesFromErrorOptions");var SEe="; ",kEe=99,f7="Validation error",AEe=": ",CEe=", or ";function IEe(t,e,n){return e!==null?t.length>0?[e,t].join(n):e:t.length>0?t:f7}o(IEe,"prefixMessage");var REe=/[$_\p{ID_Start}][$\u200c\u200d\p{ID_Continue}]*/u;function OEe(t){return t.length===1?t[0].toString():t.reduce((e,n)=>{if(typeof n=="number")return e+"["+n.toString()+"]";if(n.includes('"'))return e+'["'+NEe(n)+'"]';if(!REe.test(n))return e+'["'+n+'"]';const r=e.length===0?"":".";return e+r+n},"")}o(OEe,"joinPath");function NEe(t){return t.replace(/"/g,'\\"')}o(NEe,"escapeQuotes");function MEe(t){return t.length!==0}o(MEe,"isNonEmptyArray");function cb(t){const{issue:e,issueSeparator:n,unionSeparator:r,includePath:i}=t;if(e.code==="invalid_union")return e.unionErrors.reduce((s,a)=>{const l=a.issues.map(u=>cb({issue:u,issueSeparator:n,unionSeparator:r,includePath:i})).join(n);return s.includes(l)||s.push(l),s},[]).join(r);if(e.code==="invalid_arguments")return[e.message,...e.argumentsError.issues.map(s=>cb({issue:s,issueSeparator:n,unionSeparator:r,includePath:i}))].join(n);if(e.code==="invalid_return_type")return[e.message,...e.returnTypeError.issues.map(s=>cb({issue:s,issueSeparator:n,unionSeparator:r,includePath:i}))].join(n);if(i&&MEe(e.path)){if(e.path.length===1){const s=e.path[0];if(typeof s=="number")return`${e.message} at index ${s}`}return`${e.message} at "${OEe(e.path)}"`}return e.message}o(cb,"getMessageFromZodIssue");function hVe(t,e={}){if(!aR(t))throw new TypeError(`Invalid zodError param; expected instance of ZodError. Did you mean to use the "${PEe.name}" method instead?`);return h7(t,e)}o(hVe,"fromZodError");function h7(t,e={}){const{maxIssuesInMessage:n=kEe,issueSeparator:r=SEe,unionSeparator:i=CEe,prefixSeparator:s=AEe,prefix:a=f7,includePath:l=!0}=e,u=t.errors,c=u.length===0?t.message:u.slice(0,n).map(h=>cb({issue:h,issueSeparator:r,unionSeparator:i,includePath:l})).join(r),f=IEe(c,a,s);return new Jk(f,{cause:t})}o(h7,"fromZodErrorWithoutRuntimeCheck");var DEe=o((t={})=>e=>aR(e)?h7(e,t):e instanceof Error?new Jk(e.message,{cause:e}):new Jk("Unknown error"),"toValidationError");function PEe(t,e={}){return DEe(e)(t)}o(PEe,"fromError");var d7={exports:{}};(function(t){(function(e,n){t.exports?t.exports=n():e.log=n()})(Bk,function(){var e=o(function(){},"noop"),n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],s={},a=null;function l(y,_){var b=y[_];if(typeof b.bind=="function")return b.bind(y);try{return Function.prototype.bind.call(b,y)}catch{return function(){return Function.prototype.apply.apply(b,[y,arguments])}}}o(l,"bindMethod");function u(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments]))}o(u,"traceForIE");function c(y){return y==="debug"&&(y="log"),typeof console===n?!1:y==="trace"&&r?u:console[y]!==void 0?l(console,y):console.log!==void 0?l(console,"log"):e}o(c,"realMethod");function f(){for(var y=this.getLevel(),_=0;_<i.length;_++){var b=i[_];this[b]=_<y?e:this.methodFactory(b,y,this.name)}if(this.log=this.debug,typeof console===n&&y<this.levels.SILENT)return"No console available for logging"}o(f,"replaceLoggingMethods");function h(y){return function(){typeof console!==n&&(f.call(this),this[y].apply(this,arguments))}}o(h,"enableLoggingWhenConsoleArrives");function d(y,_,b){return c(y)||h.apply(this,arguments)}o(d,"defaultMethodFactory");function p(y,_){var b=this,S,v,k,C="loglevel";typeof y=="string"?C+=":"+y:typeof y=="symbol"&&(C=void 0);function R(N){var I=(i[N]||"silent").toUpperCase();if(!(typeof window===n||!C)){try{window.localStorage[C]=I;return}catch{}try{window.document.cookie=encodeURIComponent(C)+"="+I+";"}catch{}}}o(R,"persistLevelIfPossible");function x(){var N;if(!(typeof window===n||!C)){try{N=window.localStorage[C]}catch{}if(typeof N===n)try{var I=window.document.cookie,M=encodeURIComponent(C),V=I.indexOf(M+"=");V!==-1&&(N=/^([^;]+)/.exec(I.slice(V+M.length+1))[1])}catch{}return b.levels[N]===void 0&&(N=void 0),N}}o(x,"getPersistedLevel");function E(){if(!(typeof window===n||!C)){try{window.localStorage.removeItem(C)}catch{}try{window.document.cookie=encodeURIComponent(C)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}o(E,"clearPersistedLevel");function T(N){var I=N;if(typeof I=="string"&&b.levels[I.toUpperCase()]!==void 0&&(I=b.levels[I.toUpperCase()]),typeof I=="number"&&I>=0&&I<=b.levels.SILENT)return I;throw new TypeError("log.setLevel() called with invalid level: "+N)}o(T,"normalizeLevel"),b.name=y,b.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},b.methodFactory=_||d,b.getLevel=function(){return k??v??S},b.setLevel=function(N,I){return k=T(N),I!==!1&&R(k),f.call(b)},b.setDefaultLevel=function(N){v=T(N),x()||b.setLevel(N,!1)},b.resetLevel=function(){k=null,E(),f.call(b)},b.enableAll=function(N){b.setLevel(b.levels.TRACE,N)},b.disableAll=function(N){b.setLevel(b.levels.SILENT,N)},b.rebuild=function(){if(a!==b&&(S=T(a.getLevel())),f.call(b),a===b)for(var N in s)s[N].rebuild()},S=T(a?a.getLevel():"WARN");var O=x();O!=null&&(k=T(O)),f.call(b)}o(p,"Logger"),a=new p,a.getLogger=o(function(_){if(typeof _!="symbol"&&typeof _!="string"||_==="")throw new TypeError("You must supply a name when creating a logger.");var b=s[_];return b||(b=s[_]=new p(_,a.methodFactory)),b},"getLogger");var m=typeof window!==n?window.log:void 0;return a.noConflict=function(){return typeof window!==n&&window.log===a&&(window.log=m),a},a.getLoggers=o(function(){return s},"getLoggers"),a.default=a,a})})(d7);var $Ee=d7.exports;const dVe=q3($Ee),po=o(()=>new Map,"create$6"),Zk=o(t=>{const e=po();return t.forEach((n,r)=>{e.set(r,n)}),e},"copy$1"),mc=o((t,e,n)=>{let r=t.get(e);return r===void 0&&t.set(e,r=n()),r},"setIfUndefined"),LEe=o((t,e)=>{const n=[];for(const[r,i]of t)n.push(e(i,r));return n},"map$3"),FEe=o((t,e)=>{for(const[n,r]of t)if(e(r,n))return!0;return!1},"any"),hp=o(()=>new Set,"create$5"),sT=o(t=>t[t.length-1],"last"),BEe=o((t,e)=>{for(let n=0;n<e.length;n++)t.push(e[n])},"appendTo"),Pf=Array.from,UEe=Array.isArray;class zEe{static{o(this,"ObservableV2")}constructor(){this._observers=po()}on(e,n){return mc(this._observers,e,hp).add(n),n}once(e,n){const r=o((...i)=>{this.off(e,r),n(...i)},"_f");this.on(e,r)}off(e,n){const r=this._observers.get(e);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(e))}emit(e,n){return Pf((this._observers.get(e)||po()).values()).forEach(r=>r(...n))}destroy(){this._observers=po()}}const Yu=Math.floor,fb=Math.abs,p7=o((t,e)=>t<e?t:e,"min"),ah=o((t,e)=>t>e?t:e,"max"),m7=o(t=>t!==0?t<0:1/t<0,"isNegativeZero"),x$=1,T$=2,oT=4,aT=8,N0=32,yl=64,rs=128,hx=31,Qk=63,sf=127,VEe=2147483647,g7=Number.MAX_SAFE_INTEGER,jEe=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&Yu(t)===t),WEe=o(t=>t.toLowerCase(),"toLowerCase"),HEe=/^\s*/g,GEe=o(t=>t.replace(HEe,""),"trimLeft"),qEe=/([A-Z])/g,S$=o((t,e)=>GEe(t.replace(qEe,n=>`${e}${WEe(n)}`)),"fromCamelCase"),KEe=o(t=>{const e=unescape(encodeURIComponent(t)),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.codePointAt(i);return r},"_encodeUtf8Polyfill"),M0=typeof TextEncoder<"u"?new TextEncoder:null,YEe=o(t=>M0.encode(t),"_encodeUtf8Native"),XEe=M0?YEe:KEe;let Og=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Og&&Og.decode(new Uint8Array).length===1&&(Og=null);class Uy{static{o(this,"Encoder")}constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const dx=o(()=>new Uy,"createEncoder"),JEe=o(t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},"length"),sa=o(t=>{const e=new Uint8Array(JEe(t));let n=0;for(let r=0;r<t.bufs.length;r++){const i=t.bufs[r];e.set(i,n),n+=i.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),n),e},"toUint8Array"),ZEe=o((t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(ah(n,e)*2),t.cpos=0)},"verifyLen"),sr=o((t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},"write"),eA=sr,vt=o((t,e)=>{for(;e>sf;)sr(t,rs|sf&e),e=Yu(e/128);sr(t,sf&e)},"writeVarUint"),lR=o((t,e)=>{const n=m7(e);for(n&&(e=-e),sr(t,(e>Qk?rs:0)|(n?yl:0)|Qk&e),e=Yu(e/64);e>0;)sr(t,(e>sf?rs:0)|sf&e),e=Yu(e/128)},"writeVarInt"),tA=new Uint8Array(3e4),QEe=tA.length/3,exe=o((t,e)=>{if(e.length<QEe){const n=M0.encodeInto(e,tA).written||0;vt(t,n);for(let r=0;r<n;r++)sr(t,tA[r])}else Wi(t,XEe(e))},"_writeVarStringNative"),txe=o((t,e)=>{const n=unescape(encodeURIComponent(e)),r=n.length;vt(t,r);for(let i=0;i<r;i++)sr(t,n.codePointAt(i))},"_writeVarStringPolyfill"),Md=M0&&M0.encodeInto?exe:txe,px=o((t,e)=>{const n=t.cbuf.length,r=t.cpos,i=p7(n-r,e.length),s=e.length-i;t.cbuf.set(e.subarray(0,i),r),t.cpos+=i,s>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(ah(n*2,s)),t.cbuf.set(e.subarray(i)),t.cpos=s)},"writeUint8Array"),Wi=o((t,e)=>{vt(t,e.byteLength),px(t,e)},"writeVarUint8Array"),uR=o((t,e)=>{ZEe(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},"writeOnDataView"),nxe=o((t,e)=>uR(t,4).setFloat32(0,e,!1),"writeFloat32"),rxe=o((t,e)=>uR(t,8).setFloat64(0,e,!1),"writeFloat64"),ixe=o((t,e)=>uR(t,8).setBigInt64(0,e,!1),"writeBigInt64"),k$=new DataView(new ArrayBuffer(4)),sxe=o(t=>(k$.setFloat32(0,t),k$.getFloat32(0)===t),"isFloat32"),D0=o((t,e)=>{switch(typeof e){case"string":sr(t,119),Md(t,e);break;case"number":jEe(e)&&fb(e)<=VEe?(sr(t,125),lR(t,e)):sxe(e)?(sr(t,124),nxe(t,e)):(sr(t,123),rxe(t,e));break;case"bigint":sr(t,122),ixe(t,e);break;case"object":if(e===null)sr(t,126);else if(UEe(e)){sr(t,117),vt(t,e.length);for(let n=0;n<e.length;n++)D0(t,e[n])}else if(e instanceof Uint8Array)sr(t,116),Wi(t,e);else{sr(t,118);const n=Object.keys(e);vt(t,n.length);for(let r=0;r<n.length;r++){const i=n[r];Md(t,i),D0(t,e[i])}}break;case"boolean":sr(t,e?120:121);break;default:sr(t,127)}},"writeAny");class A$ extends Uy{static{o(this,"RleEncoder")}constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&vt(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const C$=o(t=>{t.count>0&&(lR(t.encoder,t.count===1?t.s:-t.s),t.count>1&&vt(t.encoder,t.count-2))},"flushUintOptRleEncoder");class hb{static{o(this,"UintOptRleEncoder")}constructor(){this.encoder=new Uy,this.s=0,this.count=0}write(e){this.s===e?this.count++:(C$(this),this.count=1,this.s=e)}toUint8Array(){return C$(this),sa(this.encoder)}}const I$=o(t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);lR(t.encoder,e),t.count>1&&vt(t.encoder,t.count-2)}},"flushIntDiffOptRleEncoder");class lT{static{o(this,"IntDiffOptRleEncoder")}constructor(){this.encoder=new Uy,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(I$(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return I$(this),sa(this.encoder)}}class oxe{static{o(this,"StringEncoder")}constructor(){this.sarr=[],this.s="",this.lensE=new hb}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new Uy;return this.sarr.push(this.s),this.s="",Md(e,this.sarr.join("")),px(e,this.lensE.toUint8Array()),sa(e)}}const Xu=o(t=>new Error(t),"create$4"),ha=o(()=>{throw Xu("Method unimplemented")},"methodUnimplemented"),_a=o(()=>{throw Xu("Unexpected case")},"unexpectedCase"),y7=Xu("Unexpected end of array"),_7=Xu("Integer out of Range");class mx{static{o(this,"Decoder")}constructor(e){this.arr=e,this.pos=0}}const Kp=o(t=>new mx(t),"createDecoder"),axe=o(t=>t.pos!==t.arr.length,"hasContent"),lxe=o((t,e)=>{const n=new Uint8Array(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,n},"readUint8Array"),Hi=o(t=>lxe(t,it(t)),"readVarUint8Array"),dp=o(t=>t.arr[t.pos++],"readUint8"),it=o(t=>{let e=0,n=1;const r=t.arr.length;for(;t.pos<r;){const i=t.arr[t.pos++];if(e=e+(i&sf)*n,n*=128,i<rs)return e;if(e>g7)throw _7}throw y7},"readVarUint"),cR=o(t=>{let e=t.arr[t.pos++],n=e&Qk,r=64;const i=(e&yl)>0?-1:1;if(!(e&rs))return i*n;const s=t.arr.length;for(;t.pos<s;){if(e=t.arr[t.pos++],n=n+(e&sf)*r,r*=128,e<rs)return i*n;if(n>g7)throw _7}throw y7},"readVarInt"),uxe=o(t=>{let e=it(t);if(e===0)return"";{let n=String.fromCodePoint(dp(t));if(--e<100)for(;e--;)n+=String.fromCodePoint(dp(t));else for(;e>0;){const r=e<1e4?e:1e4,i=t.arr.subarray(t.pos,t.pos+r);t.pos+=r,n+=String.fromCodePoint.apply(null,i),e-=r}return decodeURIComponent(escape(n))}},"_readVarStringPolyfill"),cxe=o(t=>Og.decode(Hi(t)),"_readVarStringNative"),Dd=Og?cxe:uxe,fR=o((t,e)=>{const n=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,n},"readFromDataView"),fxe=o(t=>fR(t,4).getFloat32(0,!1),"readFloat32"),hxe=o(t=>fR(t,8).getFloat64(0,!1),"readFloat64"),dxe=o(t=>fR(t,8).getBigInt64(0,!1),"readBigInt64"),pxe=[t=>{},t=>null,cR,fxe,hxe,dxe,t=>!1,t=>!0,Dd,t=>{const e=it(t),n={};for(let r=0;r<e;r++){const i=Dd(t);n[i]=P0(t)}return n},t=>{const e=it(t),n=[];for(let r=0;r<e;r++)n.push(P0(t));return n},Hi],P0=o(t=>pxe[127-dp(t)](t),"readAny");class R$ extends mx{static{o(this,"RleDecoder")}constructor(e,n){super(e),this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),axe(this)?this.count=it(this)+1:this.count=-1),this.count--,this.s}}class db extends mx{static{o(this,"UintOptRleDecoder")}constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=cR(this);const e=m7(this.s);this.count=1,e&&(this.s=-this.s,this.count=it(this)+2)}return this.count--,this.s}}class uT extends mx{static{o(this,"IntDiffOptRleDecoder")}constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=cR(this),n=e&1;this.diff=Yu(e/2),this.count=1,n&&(this.count=it(this)+2)}return this.s+=this.diff,this.count--,this.s}}class mxe{static{o(this,"StringDecoder")}constructor(e){this.decoder=new db(e),this.str=Dd(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),n=this.str.slice(this.spos,e);return this.spos=e,n}}const gxe=crypto.getRandomValues.bind(crypto),b7=o(()=>gxe(new Uint32Array(1))[0],"uint32"),yxe="10000000-1000-4000-8000"+-1e11,_xe=o(()=>yxe.replace(/[018]/g,t=>(t^b7()&15>>t/4).toString(16)),"uuidv4"),O$=o(t=>new Promise(t),"create$3");Promise.all.bind(Promise);const N$=o(t=>t===void 0?null:t,"undefinedToNull");class bxe{static{o(this,"VarStoragePolyfill")}constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let w7=new bxe,wxe=!0;try{typeof localStorage<"u"&&localStorage&&(w7=localStorage,wxe=!1)}catch{}const vxe=w7,Exe=Object.assign,xxe=Object.keys,Txe=o((t,e)=>{for(const n in t)e(t[n],n)},"forEach"),M$=o(t=>xxe(t).length,"size"),Sxe=o(t=>{for(const e in t)return!1;return!0},"isEmpty$1"),kxe=o((t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},"every"),Axe=o((t,e)=>Object.prototype.hasOwnProperty.call(t,e),"hasProperty"),Cxe=o((t,e)=>t===e||M$(t)===M$(e)&&kxe(t,(n,r)=>(n!==void 0||Axe(e,r))&&e[r]===n),"equalFlat"),Ixe=Object.freeze,v7=o(t=>{for(const e in t){const n=t[e];(typeof n=="object"||typeof n=="function")&&v7(t[e])}return Ixe(t)},"deepFreeze"),hR=o((t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&hR(t,e,n+1)}},"callAll"),Rxe=o(t=>t,"id"),Oxe=o((t,e)=>e.includes(t),"isOneOf");var E7={};const $0=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";let Lo;const Nxe=o(()=>{if(Lo===void 0)if($0){Lo=po();const t=process.argv;let e=null;for(let n=0;n<t.length;n++){const r=t[n];r[0]==="-"?(e!==null&&Lo.set(e,""),e=r):e!==null&&(Lo.set(e,r),e=null)}e!==null&&Lo.set(e,"")}else typeof location=="object"?(Lo=po(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");Lo.set(`--${S$(e,"-")}`,n),Lo.set(`-${S$(e,"-")}`,n)}})):Lo=po();return Lo},"computeParams"),nA=o(t=>Nxe().has(t),"hasParam"),Dw=o(t=>N$($0?E7[t.toUpperCase().replaceAll("-","_")]:vxe.getItem(t)),"getVariable"),x7=o(t=>nA("--"+t)||Dw(t)!==null,"hasConf");x7("production");const Mxe=$0&&Oxe(E7.FORCE_COLOR,["true","1","2"]),Dxe=Mxe||!nA("--no-colors")&&!x7("no-color")&&(!$0||process.stdout.isTTY)&&(!$0||nA("--color")||Dw("COLORTERM")!==null||(Dw("TERM")||"").includes("color")),Pxe=o(t=>new Uint8Array(t),"createUint8ArrayFromLen"),$xe=o(t=>{const e=Pxe(t.byteLength);return e.set(t),e},"copyUint8Array");class Lxe{static{o(this,"Pair")}constructor(e,n){this.left=e,this.right=n}}const ja=o((t,e)=>new Lxe(t,e),"create$2");typeof DOMParser<"u"&&new DOMParser;const Fxe=o(t=>LEe(t,(e,n)=>`${n}:${e};`).join(""),"mapToStyleString"),Fl=Symbol,T7=Fl(),S7=Fl(),Bxe=Fl(),Uxe=Fl(),zxe=Fl(),k7=Fl(),Vxe=Fl(),dR=Fl(),jxe=Fl(),Wxe=o(t=>{t.length===1&&t[0]?.constructor===Function&&(t=t[0]());const e=[],n=[];let r=0;for(;r<t.length;r++){const i=t[r];if(i===void 0)break;if(i.constructor===String||i.constructor===Number)e.push(i);else if(i.constructor===Object)break}for(r>0&&n.push(e.join(""));r<t.length;r++){const i=t[r];i instanceof Symbol||n.push(i)}return n},"computeNoColorLoggingArgs"),Hxe={[T7]:ja("font-weight","bold"),[S7]:ja("font-weight","normal"),[Bxe]:ja("color","blue"),[zxe]:ja("color","green"),[Uxe]:ja("color","grey"),[k7]:ja("color","red"),[Vxe]:ja("color","purple"),[dR]:ja("color","orange"),[jxe]:ja("color","black")},Gxe=o(t=>{t.length===1&&t[0]?.constructor===Function&&(t=t[0]());const e=[],n=[],r=po();let i=[],s=0;for(;s<t.length;s++){const a=t[s],l=Hxe[a];if(l!==void 0)r.set(l.left,l.right);else{if(a===void 0)break;if(a.constructor===String||a.constructor===Number){const u=Fxe(r);s>0||u.length>0?(e.push("%c"+a),n.push(u)):e.push(a)}else break}}for(s>0&&(i=n,i.unshift(e.join("")));s<t.length;s++){const a=t[s];a instanceof Symbol||i.push(a)}return i},"computeBrowserLoggingArgs"),A7=Dxe?Gxe:Wxe,qxe=o((...t)=>{[...A7(t)],C7.forEach(e=>e.print(t))},"print"),Kxe=o((...t)=>{console.warn(...A7(t)),t.unshift(dR),C7.forEach(e=>e.print(t))},"warn$1"),C7=hp(),I7=o(t=>({[Symbol.iterator](){return this},next:t}),"createIterator"),Yxe=o((t,e)=>I7(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),"iteratorFilter"),cT=o((t,e)=>I7(()=>{const{done:n,value:r}=t.next();return{done:n,value:n?void 0:e(r)}}),"iteratorMap");class pR{static{o(this,"DeleteItem")}constructor(e,n){this.clock=e,this.len=n}}class zy{static{o(this,"DeleteSet")}constructor(){this.clients=new Map}}const R7=o((t,e,n)=>e.clients.forEach((r,i)=>{const s=t.doc.store.clients.get(i);if(s!=null){const a=s[s.length-1],l=a.id.clock+a.length;for(let u=0,c=r[u];u<r.length&&c.clock<l;c=r[++u])U7(t,s,c.clock,c.len,n)}}),"iterateDeletedStructs"),Xxe=o((t,e)=>{let n=0,r=t.length-1;for(;n<=r;){const i=Yu((n+r)/2),s=t[i],a=s.clock;if(a<=e){if(e<a+s.len)return i;n=i+1}else r=i-1}return null},"findIndexDS"),O7=o((t,e)=>{const n=t.clients.get(e.client);return n!==void 0&&Xxe(n,e.clock)!==null},"isDeleted"),mR=o(t=>{t.clients.forEach(e=>{e.sort((i,s)=>i.clock-s.clock);let n,r;for(n=1,r=1;n<e.length;n++){const i=e[r-1],s=e[n];i.clock+i.len>=s.clock?i.len=ah(i.len,s.clock+s.len-i.clock):(r<n&&(e[r]=s),r++)}e.length=r})},"sortAndMergeDeleteSet"),Jxe=o(t=>{const e=new zy;for(let n=0;n<t.length;n++)t[n].clients.forEach((r,i)=>{if(!e.clients.has(i)){const s=r.slice();for(let a=n+1;a<t.length;a++)BEe(s,t[a].clients.get(i)||[]);e.clients.set(i,s)}});return mR(e),e},"mergeDeleteSets"),Pw=o((t,e,n,r)=>{mc(t.clients,e,()=>[]).push(new pR(n,r))},"addToDeleteSet"),Zxe=o(()=>new zy,"createDeleteSet"),Qxe=o(t=>{const e=Zxe();return t.clients.forEach((n,r)=>{const i=[];for(let s=0;s<n.length;s++){const a=n[s];if(a.deleted){const l=a.id.clock;let u=a.length;if(s+1<n.length)for(let c=n[s+1];s+1<n.length&&c.deleted;c=n[++s+1])u+=c.length;i.push(new pR(l,u))}}i.length>0&&e.clients.set(r,i)}),e},"createDeleteSetFromStructStore"),Yp=o((t,e)=>{vt(t.restEncoder,e.clients.size),Pf(e.clients.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{t.resetDsCurVal(),vt(t.restEncoder,n);const i=r.length;vt(t.restEncoder,i);for(let s=0;s<i;s++){const a=r[s];t.writeDsClock(a.clock),t.writeDsLen(a.len)}})},"writeDeleteSet"),gR=o(t=>{const e=new zy,n=it(t.restDecoder);for(let r=0;r<n;r++){t.resetDsCurVal();const i=it(t.restDecoder),s=it(t.restDecoder);if(s>0){const a=mc(e.clients,i,()=>[]);for(let l=0;l<s;l++)a.push(new pR(t.readDsClock(),t.readDsLen()))}}return e},"readDeleteSet"),D$=o((t,e,n)=>{const r=new zy,i=it(t.restDecoder);for(let s=0;s<i;s++){t.resetDsCurVal();const a=it(t.restDecoder),l=it(t.restDecoder),u=n.clients.get(a)||[],c=pr(n,a);for(let f=0;f<l;f++){const h=t.readDsClock(),d=h+t.readDsLen();if(h<c){c<d&&Pw(r,a,c,d-c);let p=ba(u,h),m=u[p];for(!m.deleted&&m.id.clock<h&&(u.splice(p+1,0,Vw(e,m,h-m.id.clock)),p++);p<u.length&&(m=u[p++],m.id.clock<d);)m.deleted||(d<m.id.clock+m.length&&u.splice(p,0,Vw(e,m,d-m.id.clock)),m.delete(e))}else Pw(r,a,h,d-h)}}if(r.clients.size>0){const s=new $f;return vt(s.restEncoder,0),Yp(s,r),s.toUint8Array()}return null},"readAndApplyDeleteSet"),N7=b7;class Vy extends zEe{static{o(this,"Doc")}constructor({guid:e=_xe(),collectionid:n=null,gc:r=!0,gcFilter:i=o(()=>!0,"gcFilter"),meta:s=null,autoLoad:a=!1,shouldLoad:l=!0}={}){super(),this.gc=r,this.gcFilter=i,this.clientID=N7(),this.guid=e,this.collectionid=n,this.share=new Map,this.store=new F7,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=l,this.autoLoad=a,this.meta=s,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=O$(c=>{this.on("load",()=>{this.isLoaded=!0,c(this)})});const u=o(()=>O$(c=>{const f=o(h=>{(h===void 0||h===!0)&&(this.off("sync",f),c())},"eventHandler");this.on("sync",f)}),"provideSyncedPromise");this.on("sync",c=>{c===!1&&this.isSynced&&(this.whenSynced=u()),this.isSynced=c===void 0||c===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=u()}load(){const e=this._item;e!==null&&!this.shouldLoad&&Xt(e.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Pf(this.subdocs).map(e=>e.guid))}transact(e,n=null){return Xt(this,e,n)}get(e,n=Cr){const r=mc(this.share,e,()=>{const s=new n;return s._integrate(this,null),s}),i=r.constructor;if(n!==Cr&&i!==n)if(i===Cr){const s=new n;s._map=r._map,r._map.forEach(a=>{for(;a!==null;a=a.left)a.parent=s}),s._start=r._start;for(let a=s._start;a!==null;a=a.right)a.parent=s;return s._length=r._length,this.share.set(e,s),s._integrate(this,null),s}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return r}getArray(e=""){return this.get(e,$d)}getText(e=""){return this.get(e,gp)}getMap(e=""){return this.get(e,mp)}getXmlElement(e=""){return this.get(e,yp)}getXmlFragment(e=""){return this.get(e,Lf)}toJSON(){const e={};return this.share.forEach((n,r)=>{e[r]=n.toJSON()}),e}destroy(){this.isDestroyed=!0,Pf(this.subdocs).forEach(n=>n.destroy());const e=this._item;if(e!==null){this._item=null;const n=e.content;n.doc=new Vy({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=e,Xt(e.parent.doc,r=>{const i=n.doc;e.deleted||r.subdocsAdded.add(i),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class M7{static{o(this,"DSDecoderV1")}constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return it(this.restDecoder)}readDsLen(){return it(this.restDecoder)}}class D7 extends M7{static{o(this,"UpdateDecoderV1")}readLeftID(){return pt(it(this.restDecoder),it(this.restDecoder))}readRightID(){return pt(it(this.restDecoder),it(this.restDecoder))}readClient(){return it(this.restDecoder)}readInfo(){return dp(this.restDecoder)}readString(){return Dd(this.restDecoder)}readParentInfo(){return it(this.restDecoder)===1}readTypeRef(){return it(this.restDecoder)}readLen(){return it(this.restDecoder)}readAny(){return P0(this.restDecoder)}readBuf(){return $xe(Hi(this.restDecoder))}readJSON(){return JSON.parse(Dd(this.restDecoder))}readKey(){return Dd(this.restDecoder)}}class e2e{static{o(this,"DSDecoderV2")}constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=it(this.restDecoder),this.dsCurrVal}readDsLen(){const e=it(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class pp extends e2e{static{o(this,"UpdateDecoderV2")}constructor(e){super(e),this.keys=[],it(e),this.keyClockDecoder=new uT(Hi(e)),this.clientDecoder=new db(Hi(e)),this.leftClockDecoder=new uT(Hi(e)),this.rightClockDecoder=new uT(Hi(e)),this.infoDecoder=new R$(Hi(e),dp),this.stringDecoder=new mxe(Hi(e)),this.parentInfoDecoder=new R$(Hi(e),dp),this.typeRefDecoder=new db(Hi(e)),this.lenDecoder=new db(Hi(e))}readLeftID(){return new Pd(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new Pd(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return P0(this.restDecoder)}readBuf(){return Hi(this.restDecoder)}readJSON(){return P0(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class t2e{static{o(this,"DSEncoderV1")}constructor(){this.restEncoder=dx()}toUint8Array(){return sa(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){vt(this.restEncoder,e)}writeDsLen(e){vt(this.restEncoder,e)}}class jy extends t2e{static{o(this,"UpdateEncoderV1")}writeLeftID(e){vt(this.restEncoder,e.client),vt(this.restEncoder,e.clock)}writeRightID(e){vt(this.restEncoder,e.client),vt(this.restEncoder,e.clock)}writeClient(e){vt(this.restEncoder,e)}writeInfo(e){eA(this.restEncoder,e)}writeString(e){Md(this.restEncoder,e)}writeParentInfo(e){vt(this.restEncoder,e?1:0)}writeTypeRef(e){vt(this.restEncoder,e)}writeLen(e){vt(this.restEncoder,e)}writeAny(e){D0(this.restEncoder,e)}writeBuf(e){Wi(this.restEncoder,e)}writeJSON(e){Md(this.restEncoder,JSON.stringify(e))}writeKey(e){Md(this.restEncoder,e)}}class n2e{static{o(this,"DSEncoderV2")}constructor(){this.restEncoder=dx(),this.dsCurrVal=0}toUint8Array(){return sa(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const n=e-this.dsCurrVal;this.dsCurrVal=e,vt(this.restEncoder,n)}writeDsLen(e){e===0&&_a(),vt(this.restEncoder,e-1),this.dsCurrVal+=e}}class $f extends n2e{static{o(this,"UpdateEncoderV2")}constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new lT,this.clientEncoder=new hb,this.leftClockEncoder=new lT,this.rightClockEncoder=new lT,this.infoEncoder=new A$(eA),this.stringEncoder=new oxe,this.parentInfoEncoder=new A$(eA),this.typeRefEncoder=new hb,this.lenEncoder=new hb}toUint8Array(){const e=dx();return vt(e,0),Wi(e,this.keyClockEncoder.toUint8Array()),Wi(e,this.clientEncoder.toUint8Array()),Wi(e,this.leftClockEncoder.toUint8Array()),Wi(e,this.rightClockEncoder.toUint8Array()),Wi(e,sa(this.infoEncoder)),Wi(e,this.stringEncoder.toUint8Array()),Wi(e,sa(this.parentInfoEncoder)),Wi(e,this.typeRefEncoder.toUint8Array()),Wi(e,this.lenEncoder.toUint8Array()),px(e,sa(this.restEncoder)),sa(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){D0(this.restEncoder,e)}writeBuf(e){Wi(this.restEncoder,e)}writeJSON(e){D0(this.restEncoder,e)}writeKey(e){const n=this.keyMap.get(e);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(n)}}const r2e=o((t,e,n,r)=>{r=ah(r,e[0].id.clock);const i=ba(e,r);vt(t.restEncoder,e.length-i),t.writeClient(n),vt(t.restEncoder,r);const s=e[i];s.write(t,r-s.id.clock);for(let a=i+1;a<e.length;a++)e[a].write(t,0)},"writeStructs"),yR=o((t,e,n)=>{const r=new Map;n.forEach((i,s)=>{pr(e,s)>i&&r.set(s,i)}),_R(e).forEach((i,s)=>{n.has(s)||r.set(s,0)}),vt(t.restEncoder,r.size),Pf(r.entries()).sort((i,s)=>s[0]-i[0]).forEach(([i,s])=>{r2e(t,e.clients.get(i),i,s)})},"writeClientsStructs"),i2e=o((t,e)=>{const n=po(),r=it(t.restDecoder);for(let i=0;i<r;i++){const s=it(t.restDecoder),a=new Array(s),l=t.readClient();let u=it(t.restDecoder);n.set(l,{i:0,refs:a});for(let c=0;c<s;c++){const f=t.readInfo();switch(hx&f){case 0:{const h=t.readLen();a[c]=new xs(pt(l,u),h),u+=h;break}case 10:{const h=it(t.restDecoder);a[c]=new Ts(pt(l,u),h),u+=h;break}default:{const h=(f&(yl|rs))===0,d=new Vr(pt(l,u),null,(f&rs)===rs?t.readLeftID():null,null,(f&yl)===yl?t.readRightID():null,h?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,h&&(f&N0)===N0?t.readString():null,sj(t,f));a[c]=d,u+=d.length}}}}return n},"readClientsStructRefs"),s2e=o((t,e,n)=>{const r=[];let i=Pf(n.keys()).sort((p,m)=>p-m);if(i.length===0)return null;const s=o(()=>{if(i.length===0)return null;let p=n.get(i[i.length-1]);for(;p.refs.length===p.i;)if(i.pop(),i.length>0)p=n.get(i[i.length-1]);else return null;return p},"getNextStructTarget");let a=s();if(a===null)return null;const l=new F7,u=new Map,c=o((p,m)=>{const y=u.get(p);(y==null||y>m)&&u.set(p,m)},"updateMissingSv");let f=a.refs[a.i++];const h=new Map,d=o(()=>{for(const p of r){const m=p.id.client,y=n.get(m);y?(y.i--,l.clients.set(m,y.refs.slice(y.i)),n.delete(m),y.i=0,y.refs=[]):l.clients.set(m,[p]),i=i.filter(_=>_!==m)}r.length=0},"addStackToRestSS");for(;;){if(f.constructor!==Ts){const m=mc(h,f.id.client,()=>pr(e,f.id.client))-f.id.clock;if(m<0)r.push(f),c(f.id.client,f.id.clock-1),d();else{const y=f.getMissing(t,e);if(y!==null){r.push(f);const _=n.get(y)||{refs:[],i:0};if(_.refs.length===_.i)c(y,pr(e,y)),d();else{f=_.refs[_.i++];continue}}else(m===0||m<f.length)&&(f.integrate(t,m),h.set(f.id.client,f.id.clock+f.length))}}if(r.length>0)f=r.pop();else if(a!==null&&a.i<a.refs.length)f=a.refs[a.i++];else{if(a=s(),a===null)break;f=a.refs[a.i++]}}if(l.clients.size>0){const p=new $f;return yR(p,l,new Map),vt(p.restEncoder,0),{missing:u,update:p.toUint8Array()}}return null},"integrateStructs"),o2e=o((t,e)=>yR(t,e.doc.store,e.beforeState),"writeStructsFromTransaction"),a2e=o((t,e,n,r=new pp(t))=>Xt(e,i=>{i.local=!1;let s=!1;const a=i.doc,l=a.store,u=i2e(r,a),c=s2e(i,l,u),f=l.pendingStructs;if(f){for(const[d,p]of f.missing)if(p<pr(l,d)){s=!0;break}if(c){for(const[d,p]of c.missing){const m=f.missing.get(d);(m==null||m>p)&&f.missing.set(d,p)}f.update=$w([f.update,c.update])}}else l.pendingStructs=c;const h=D$(r,i,l);if(l.pendingDs){const d=new pp(Kp(l.pendingDs));it(d.restDecoder);const p=D$(d,i,l);h&&p?l.pendingDs=$w([h,p]):l.pendingDs=h||p}else l.pendingDs=h;if(s){const d=l.pendingStructs.update;l.pendingStructs=null,P7(i.doc,d)}},n,!1),"readUpdateV2"),P7=o((t,e,n,r=pp)=>{const i=Kp(e);a2e(i,t,n,new r(i))},"applyUpdateV2"),pVe=o((t,e,n)=>P7(t,e,n,D7),"applyUpdate"),l2e=o((t,e,n=new Map)=>{yR(t,e.store,n),Yp(t,Qxe(e.store))},"writeStateAsUpdate"),u2e=o((t,e=new Uint8Array([0]),n=new $f)=>{const r=$7(e);l2e(n,t,r);const i=[n.toUint8Array()];if(t.store.pendingDs&&i.push(t.store.pendingDs),t.store.pendingStructs&&i.push(v2e(t.store.pendingStructs.update,e)),i.length>1){if(n.constructor===jy)return b2e(i.map((s,a)=>a===0?s:x2e(s)));if(n.constructor===$f)return $w(i)}return i[0]},"encodeStateAsUpdateV2"),mVe=o((t,e)=>u2e(t,e,new jy),"encodeStateAsUpdate"),c2e=o(t=>{const e=new Map,n=it(t.restDecoder);for(let r=0;r<n;r++){const i=it(t.restDecoder),s=it(t.restDecoder);e.set(i,s)}return e},"readStateVector"),$7=o(t=>c2e(new M7(Kp(t))),"decodeStateVector");class f2e{static{o(this,"EventHandler")}constructor(){this.l=[]}}const P$=o(()=>new f2e,"createEventHandler"),$$=o((t,e)=>t.l.push(e),"addEventHandlerListener"),L$=o((t,e)=>{const n=t.l,r=n.length;t.l=n.filter(i=>e!==i),r===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},"removeEventHandlerListener"),L7=o((t,e,n)=>hR(t.l,[e,n]),"callEventHandlerListeners");class Pd{static{o(this,"ID")}constructor(e,n){this.client=e,this.clock=n}}const p_=o((t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,"compareIDs"),pt=o((t,e)=>new Pd(t,e),"createID"),h2e=o(t=>{for(const[e,n]of t.doc.share.entries())if(n===t)return e;throw _a()},"findRootTypeKey"),rd=o((t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!O7(e.ds,t.id),"isVisible"),rA=o((t,e)=>{const n=mc(t.meta,rA,hp),r=t.doc.store;n.has(e)||(e.sv.forEach((i,s)=>{i<pr(r,s)&&Ju(t,pt(s,i))}),R7(t,e.ds,i=>{}),n.add(e))},"splitSnapshotAffectedStructs");class F7{static{o(this,"StructStore")}constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const _R=o(t=>{const e=new Map;return t.clients.forEach((n,r)=>{const i=n[n.length-1];e.set(r,i.id.clock+i.length)}),e},"getStateVector"),pr=o((t,e)=>{const n=t.clients.get(e);if(n===void 0)return 0;const r=n[n.length-1];return r.id.clock+r.length},"getState"),B7=o((t,e)=>{let n=t.clients.get(e.id.client);if(n===void 0)n=[],t.clients.set(e.id.client,n);else{const r=n[n.length-1];if(r.id.clock+r.length!==e.id.clock)throw _a()}n.push(e)},"addStruct"),ba=o((t,e)=>{let n=0,r=t.length-1,i=t[r],s=i.id.clock;if(s===e)return r;let a=Yu(e/(s+i.length-1)*r);for(;n<=r;){if(i=t[a],s=i.id.clock,s<=e){if(e<s+i.length)return a;n=a+1}else r=a-1;a=Yu((n+r)/2)}throw _a()},"findIndexSS"),d2e=o((t,e)=>{const n=t.clients.get(e.client);return n[ba(n,e.clock)]},"find$1"),fT=d2e,iA=o((t,e,n)=>{const r=ba(e,n),i=e[r];return i.id.clock<n&&i instanceof Vr?(e.splice(r+1,0,Vw(t,i,n-i.id.clock)),r+1):r},"findIndexCleanStart"),Ju=o((t,e)=>{const n=t.doc.store.clients.get(e.client);return n[iA(t,n,e.clock)]},"getItemCleanStart"),F$=o((t,e,n)=>{const r=e.clients.get(n.client),i=ba(r,n.clock),s=r[i];return n.clock!==s.id.clock+s.length-1&&s.constructor!==xs&&r.splice(i+1,0,Vw(t,s,n.clock-s.id.clock+1)),s},"getItemCleanEnd"),p2e=o((t,e,n)=>{const r=t.clients.get(e.id.client);r[ba(r,e.id.clock)]=n},"replaceStruct"),U7=o((t,e,n,r,i)=>{if(r===0)return;const s=n+r;let a=iA(t,e,n),l;do l=e[a++],s<l.id.clock+l.length&&iA(t,e,s),i(l);while(a<e.length&&e[a].id.clock<s)},"iterateStructs");let m2e=class{static{o(this,"Transaction")}constructor(e,n,r){this.doc=e,this.deleteSet=new zy,this.beforeState=_R(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}};const B$=o((t,e)=>e.deleteSet.clients.size===0&&!FEe(e.afterState,(n,r)=>e.beforeState.get(r)!==n)?!1:(mR(e.deleteSet),o2e(t,e),Yp(t,e.deleteSet),!0),"writeUpdateMessageFromTransaction"),U$=o((t,e,n)=>{const r=e._item;(r===null||r.id.clock<(t.beforeState.get(r.id.client)||0)&&!r.deleted)&&mc(t.changed,e,hp).add(n)},"addChangedTypeToTransaction"),pb=o((t,e)=>{let n=t[e],r=t[e-1],i=e;for(;i>0;n=r,r=t[--i-1]){if(r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n)){n instanceof Vr&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);continue}break}const s=e-i;return s&&t.splice(e+1-s,s),s},"tryToMergeWithLefts"),g2e=o((t,e,n)=>{for(const[r,i]of t.clients.entries()){const s=e.clients.get(r);for(let a=i.length-1;a>=0;a--){const l=i[a],u=l.clock+l.len;for(let c=ba(s,l.clock),f=s[c];c<s.length&&f.id.clock<u;f=s[++c]){const h=s[c];if(l.clock+l.len<=h.id.clock)break;h instanceof Vr&&h.deleted&&!h.keep&&n(h)&&h.gc(e,!1)}}}},"tryGcDeleteSet"),y2e=o((t,e)=>{t.clients.forEach((n,r)=>{const i=e.clients.get(r);for(let s=n.length-1;s>=0;s--){const a=n[s],l=p7(i.length-1,1+ba(i,a.clock+a.len-1));for(let u=l,c=i[u];u>0&&c.id.clock>=a.clock;c=i[u])u-=1+pb(i,u)}})},"tryMergeDeleteSet"),z7=o((t,e)=>{if(e<t.length){const n=t[e],r=n.doc,i=r.store,s=n.deleteSet,a=n._mergeStructs;try{mR(s),n.afterState=_R(n.doc.store),r.emit("beforeObserverCalls",[n,r]);const l=[];n.changed.forEach((u,c)=>l.push(()=>{(c._item===null||!c._item.deleted)&&c._callObserver(n,u)})),l.push(()=>{n.changedParentTypes.forEach((u,c)=>{c._dEH.l.length>0&&(c._item===null||!c._item.deleted)&&(u=u.filter(f=>f.target._item===null||!f.target._item.deleted),u.forEach(f=>{f.currentTarget=c,f._path=null}),u.sort((f,h)=>f.path.length-h.path.length),L7(c._dEH,u,n))})}),l.push(()=>r.emit("afterTransaction",[n,r])),hR(l,[]),n._needFormattingCleanup&&L2e(n)}finally{r.gc&&g2e(s,i,r.gcFilter),y2e(s,i),n.afterState.forEach((f,h)=>{const d=n.beforeState.get(h)||0;if(d!==f){const p=i.clients.get(h),m=ah(ba(p,d),1);for(let y=p.length-1;y>=m;)y-=1+pb(p,y)}});for(let f=a.length-1;f>=0;f--){const{client:h,clock:d}=a[f].id,p=i.clients.get(h),m=ba(p,d);m+1<p.length&&pb(p,m+1)>1||m>0&&pb(p,m)}if(!n.local&&n.afterState.get(r.clientID)!==n.beforeState.get(r.clientID)&&(qxe(dR,T7,"[yjs] ",S7,k7,"Changed the client-id because another client seems to be using it."),r.clientID=N7()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const f=new jy;B$(f,n)&&r.emit("update",[f.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const f=new $f;B$(f,n)&&r.emit("updateV2",[f.toUint8Array(),n.origin,r,n])}const{subdocsAdded:l,subdocsLoaded:u,subdocsRemoved:c}=n;(l.size>0||c.size>0||u.size>0)&&(l.forEach(f=>{f.clientID=r.clientID,f.collectionid==null&&(f.collectionid=r.collectionid),r.subdocs.add(f)}),c.forEach(f=>r.subdocs.delete(f)),r.emit("subdocs",[{loaded:u,added:l,removed:c},r,n]),c.forEach(f=>f.destroy())),t.length<=e+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,t])):z7(t,e+1)}}},"cleanupTransactions"),Xt=o((t,e,n=null,r=!0)=>{const i=t._transactionCleanups;let s=!1,a=null;t._transaction===null&&(s=!0,t._transaction=new m2e(t,n,r),i.push(t._transaction),i.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{a=e(t._transaction)}finally{if(s){const l=t._transaction===i[0];t._transaction=null,l&&z7(i,0)}}return a},"transact");function*_2e(t){const e=it(t.restDecoder);for(let n=0;n<e;n++){const r=it(t.restDecoder),i=t.readClient();let s=it(t.restDecoder);for(let a=0;a<r;a++){const l=t.readInfo();if(l===10){const u=it(t.restDecoder);yield new Ts(pt(i,s),u),s+=u}else if(hx&l){const u=(l&(yl|rs))===0,c=new Vr(pt(i,s),null,(l&rs)===rs?t.readLeftID():null,null,(l&yl)===yl?t.readRightID():null,u?t.readParentInfo()?t.readString():t.readLeftID():null,u&&(l&N0)===N0?t.readString():null,sj(t,l));yield c,s+=c.length}else{const u=t.readLen();yield new xs(pt(i,s),u),s+=u}}}}o(_2e,"lazyStructReaderGenerator");class bR{static{o(this,"LazyStructReader")}constructor(e,n){this.gen=_2e(e),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===Ts);return this.curr}}class wR{static{o(this,"LazyStructWriter")}constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const b2e=o(t=>$w(t,D7,jy),"mergeUpdates"),w2e=o((t,e)=>{if(t.constructor===xs){const{client:n,clock:r}=t.id;return new xs(pt(n,r+e),t.length-e)}else if(t.constructor===Ts){const{client:n,clock:r}=t.id;return new Ts(pt(n,r+e),t.length-e)}else{const n=t,{client:r,clock:i}=n.id;return new Vr(pt(r,i+e),null,pt(r,i+e-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(e))}},"sliceStruct"),$w=o((t,e=pp,n=$f)=>{if(t.length===1)return t[0];const r=t.map(f=>new e(Kp(f)));let i=r.map(f=>new bR(f,!0)),s=null;const a=new n,l=new wR(a);for(;i=i.filter(d=>d.curr!==null),i.sort((d,p)=>{if(d.curr.id.client===p.curr.id.client){const m=d.curr.id.clock-p.curr.id.clock;return m===0?d.curr.constructor===p.curr.constructor?0:d.curr.constructor===Ts?1:-1:m}else return p.curr.id.client-d.curr.id.client}),i.length!==0;){const f=i[0],h=f.curr.id.client;if(s!==null){let d=f.curr,p=!1;for(;d!==null&&d.id.clock+d.length<=s.struct.id.clock+s.struct.length&&d.id.client>=s.struct.id.client;)d=f.next(),p=!0;if(d===null||d.id.client!==h||p&&d.id.clock>s.struct.id.clock+s.struct.length)continue;if(h!==s.struct.id.client)mu(l,s.struct,s.offset),s={struct:d,offset:0},f.next();else if(s.struct.id.clock+s.struct.length<d.id.clock)if(s.struct.constructor===Ts)s.struct.length=d.id.clock+d.length-s.struct.id.clock;else{mu(l,s.struct,s.offset);const m=d.id.clock-s.struct.id.clock-s.struct.length;s={struct:new Ts(pt(h,s.struct.id.clock+s.struct.length),m),offset:0}}else{const m=s.struct.id.clock+s.struct.length-d.id.clock;m>0&&(s.struct.constructor===Ts?s.struct.length-=m:d=w2e(d,m)),s.struct.mergeWith(d)||(mu(l,s.struct,s.offset),s={struct:d,offset:0},f.next())}}else s={struct:f.curr,offset:0},f.next();for(let d=f.curr;d!==null&&d.id.client===h&&d.id.clock===s.struct.id.clock+s.struct.length&&d.constructor!==Ts;d=f.next())mu(l,s.struct,s.offset),s={struct:d,offset:0}}s!==null&&(mu(l,s.struct,s.offset),s=null),vR(l);const u=r.map(f=>gR(f)),c=Jxe(u);return Yp(a,c),a.toUint8Array()},"mergeUpdatesV2"),v2e=o((t,e,n=pp,r=$f)=>{const i=$7(e),s=new r,a=new wR(s),l=new n(Kp(t)),u=new bR(l,!1);for(;u.curr;){const f=u.curr,h=f.id.client,d=i.get(h)||0;if(u.curr.constructor===Ts){u.next();continue}if(f.id.clock+f.length>d)for(mu(a,f,ah(d-f.id.clock,0)),u.next();u.curr&&u.curr.id.client===h;)mu(a,u.curr,0),u.next();else for(;u.curr&&u.curr.id.client===h&&u.curr.id.clock+u.curr.length<=d;)u.next()}vR(a);const c=gR(l);return Yp(s,c),s.toUint8Array()},"diffUpdateV2"),V7=o(t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:sa(t.encoder.restEncoder)}),t.encoder.restEncoder=dx(),t.written=0)},"flushLazyStructWriter"),mu=o((t,e,n)=>{t.written>0&&t.currClient!==e.id.client&&V7(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),vt(t.encoder.restEncoder,e.id.clock+n)),e.write(t.encoder,n),t.written++},"writeStructToLazyStructWriter"),vR=o(t=>{V7(t);const e=t.encoder.restEncoder;vt(e,t.clientStructs.length);for(let n=0;n<t.clientStructs.length;n++){const r=t.clientStructs[n];vt(e,r.written),px(e,r.restEncoder)}},"finishLazyStructWriting"),E2e=o((t,e,n,r)=>{const i=new n(Kp(t)),s=new bR(i,!1),a=new r,l=new wR(a);for(let c=s.curr;c!==null;c=s.next())mu(l,e(c),0);vR(l);const u=gR(i);return Yp(a,u),a.toUint8Array()},"convertUpdateFormat"),x2e=o(t=>E2e(t,Rxe,pp,jy),"convertUpdateFormatV2ToV1"),z$="You must not compute changes after the event-handler fired.";class gx{static{o(this,"YEvent")}constructor(e,n){this.target=e,this.currentTarget=e,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=T2e(this.currentTarget,this.target))}deletes(e){return O7(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw Xu(z$);const e=new Map,n=this.target;this.transaction.changed.get(n).forEach(i=>{if(i!==null){const s=n._map.get(i);let a,l;if(this.adds(s)){let u=s.left;for(;u!==null&&this.adds(u);)u=u.left;if(this.deletes(s))if(u!==null&&this.deletes(u))a="delete",l=sT(u.content.getContent());else return;else u!==null&&this.deletes(u)?(a="update",l=sT(u.content.getContent())):(a="add",l=void 0)}else if(this.deletes(s))a="delete",l=sT(s.content.getContent());else return;e.set(i,{action:a,oldValue:l})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw Xu(z$);const n=this.target,r=hp(),i=hp(),s=[];if(e={added:r,deleted:i,delta:s,keys:this.keys},this.transaction.changed.get(n).has(null)){let l=null;const u=o(()=>{l&&s.push(l)},"packOp");for(let c=n._start;c!==null;c=c.right)c.deleted?this.deletes(c)&&!this.adds(c)&&((l===null||l.delete===void 0)&&(u(),l={delete:0}),l.delete+=c.length,i.add(c)):this.adds(c)?((l===null||l.insert===void 0)&&(u(),l={insert:[]}),l.insert=l.insert.concat(c.content.getContent()),r.add(c)):((l===null||l.retain===void 0)&&(u(),l={retain:0}),l.retain+=c.length);l!==null&&l.retain===void 0&&u()}this._changes=e}return e}}const T2e=o((t,e)=>{const n=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)n.unshift(e._item.parentSub);else{let r=0,i=e._item.parent._start;for(;i!==e._item&&i!==null;)!i.deleted&&i.countable&&(r+=i.length),i=i.right;n.unshift(r)}e=e._item.parent}return n},"getPathTo"),Wr=o(()=>{Kxe("Invalid access: Add Yjs type to a document before reading data.")},"warnPrematureAccess"),j7=80;let ER=0;class S2e{static{o(this,"ArraySearchMarker")}constructor(e,n){e.marker=!0,this.p=e,this.index=n,this.timestamp=ER++}}const k2e=o(t=>{t.timestamp=ER++},"refreshMarkerTimestamp"),W7=o((t,e,n)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=n,t.timestamp=ER++},"overwriteMarker"),A2e=o((t,e,n)=>{if(t.length>=j7){const r=t.reduce((i,s)=>i.timestamp<s.timestamp?i:s);return W7(r,e,n),r}else{const r=new S2e(e,n);return t.push(r),r}},"markPosition"),yx=o((t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const n=t._searchMarker.length===0?null:t._searchMarker.reduce((s,a)=>fb(e-s.index)<fb(e-a.index)?s:a);let r=t._start,i=0;for(n!==null&&(r=n.p,i=n.index,k2e(n));r.right!==null&&i<e;){if(!r.deleted&&r.countable){if(e<i+r.length)break;i+=r.length}r=r.right}for(;r.left!==null&&i>e;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);return n!==null&&fb(n.index-i)<r.parent.length/j7?(W7(n,r,i),n):A2e(t._searchMarker,r,i)},"findMarker"),L0=o((t,e,n)=>{for(let r=t.length-1;r>=0;r--){const i=t[r];if(n>0){let s=i.p;for(s.marker=!1;s&&(s.deleted||!s.countable);)s=s.left,s&&!s.deleted&&s.countable&&(i.index-=s.length);if(s===null||s.marker===!0){t.splice(r,1);continue}i.p=s,s.marker=!0}(e<i.index||n>0&&e===i.index)&&(i.index=ah(e,i.index+n))}},"updateMarkerChanges"),_x=o((t,e,n)=>{const r=t,i=e.changedParentTypes;for(;mc(i,t,()=>[]).push(n),t._item!==null;)t=t._item.parent;L7(r._eH,n,e)},"callTypeObservers");class Cr{static{o(this,"AbstractType")}constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=P$(),this._dEH=P$(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,n){this.doc=e,this._item=n}_copy(){throw ha()}clone(){throw ha()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,n){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){$$(this._eH,e)}observeDeep(e){$$(this._dEH,e)}unobserve(e){L$(this._eH,e)}unobserveDeep(e){L$(this._dEH,e)}toJSON(){}}const H7=o((t,e,n)=>{t.doc??Wr(),e<0&&(e=t._length+e),n<0&&(n=t._length+n);let r=n-e;const i=[];let s=t._start;for(;s!==null&&r>0;){if(s.countable&&!s.deleted){const a=s.content.getContent();if(a.length<=e)e-=a.length;else{for(let l=e;l<a.length&&r>0;l++)i.push(a[l]),r--;e=0}}s=s.right}return i},"typeListSlice"),G7=o(t=>{t.doc??Wr();const e=[];let n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const r=n.content.getContent();for(let i=0;i<r.length;i++)e.push(r[i])}n=n.right}return e},"typeListToArray"),F0=o((t,e)=>{let n=0,r=t._start;for(t.doc??Wr();r!==null;){if(r.countable&&!r.deleted){const i=r.content.getContent();for(let s=0;s<i.length;s++)e(i[s],n++,t)}r=r.right}},"typeListForEach"),q7=o((t,e)=>{const n=[];return F0(t,(r,i)=>{n.push(e(r,i,t))}),n},"typeListMap"),C2e=o(t=>{let e=t._start,n=null,r=0;return{[Symbol.iterator](){return this},next:o(()=>{if(n===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};n=e.content.getContent(),r=0,e=e.right}const i=n[r++];return n.length<=r&&(n=null),{done:!1,value:i}},"next")}},"typeListCreateIterator"),K7=o((t,e)=>{t.doc??Wr();const n=yx(t,e);let r=t._start;for(n!==null&&(r=n.p,e-=n.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(e<r.length)return r.content.getContent()[e];e-=r.length}},"typeListGet"),Lw=o((t,e,n,r)=>{let i=n;const s=t.doc,a=s.clientID,l=s.store,u=n===null?e._start:n.right;let c=[];const f=o(()=>{c.length>0&&(i=new Vr(pt(a,pr(l,a)),i,i&&i.lastId,u,u&&u.id,e,null,new Ff(c)),i.integrate(t,0),c=[])},"packJsonContent");r.forEach(h=>{if(h===null)c.push(h);else switch(h.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(h);break;default:switch(f(),h.constructor){case Uint8Array:case ArrayBuffer:i=new Vr(pt(a,pr(l,a)),i,i&&i.lastId,u,u&&u.id,e,null,new Wy(new Uint8Array(h))),i.integrate(t,0);break;case Vy:i=new Vr(pt(a,pr(l,a)),i,i&&i.lastId,u,u&&u.id,e,null,new Hy(h)),i.integrate(t,0);break;default:if(h instanceof Cr)i=new Vr(pt(a,pr(l,a)),i,i&&i.lastId,u,u&&u.id,e,null,new Bl(h)),i.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),f()},"typeListInsertGenericsAfter"),Y7=o(()=>Xu("Length exceeded!"),"lengthExceeded"),X7=o((t,e,n,r)=>{if(n>e._length)throw Y7();if(n===0)return e._searchMarker&&L0(e._searchMarker,n,r.length),Lw(t,e,null,r);const i=n,s=yx(e,n);let a=e._start;for(s!==null&&(a=s.p,n-=s.index,n===0&&(a=a.prev,n+=a&&a.countable&&!a.deleted?a.length:0));a!==null;a=a.right)if(!a.deleted&&a.countable){if(n<=a.length){n<a.length&&Ju(t,pt(a.id.client,a.id.clock+n));break}n-=a.length}return e._searchMarker&&L0(e._searchMarker,i,r.length),Lw(t,e,a,r)},"typeListInsertGenerics"),I2e=o((t,e,n)=>{let i=(e._searchMarker||[]).reduce((s,a)=>a.index>s.index?a:s,{index:0,p:e._start}).p;if(i)for(;i.right;)i=i.right;return Lw(t,e,i,n)},"typeListPushGenerics"),J7=o((t,e,n,r)=>{if(r===0)return;const i=n,s=r,a=yx(e,n);let l=e._start;for(a!==null&&(l=a.p,n-=a.index);l!==null&&n>0;l=l.right)!l.deleted&&l.countable&&(n<l.length&&Ju(t,pt(l.id.client,l.id.clock+n)),n-=l.length);for(;r>0&&l!==null;)l.deleted||(r<l.length&&Ju(t,pt(l.id.client,l.id.clock+r)),l.delete(t),r-=l.length),l=l.right;if(r>0)throw Y7();e._searchMarker&&L0(e._searchMarker,i,-s+r)},"typeListDelete"),Fw=o((t,e,n)=>{const r=e._map.get(n);r!==void 0&&r.delete(t)},"typeMapDelete"),xR=o((t,e,n,r)=>{const i=e._map.get(n)||null,s=t.doc,a=s.clientID;let l;if(r==null)l=new Ff([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:l=new Ff([r]);break;case Uint8Array:l=new Wy(r);break;case Vy:l=new Hy(r);break;default:if(r instanceof Cr)l=new Bl(r);else throw new Error("Unexpected content type")}new Vr(pt(a,pr(s.store,a)),i,i&&i.lastId,null,null,e,n,l).integrate(t,0)},"typeMapSet"),TR=o((t,e)=>{t.doc??Wr();const n=t._map.get(e);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},"typeMapGet"),Z7=o(t=>{const e={};return t.doc??Wr(),t._map.forEach((n,r)=>{n.deleted||(e[r]=n.content.getContent()[n.length-1])}),e},"typeMapGetAll"),Q7=o((t,e)=>{t.doc??Wr();const n=t._map.get(e);return n!==void 0&&!n.deleted},"typeMapHas"),R2e=o((t,e)=>{const n={};return t._map.forEach((r,i)=>{let s=r;for(;s!==null&&(!e.sv.has(s.id.client)||s.id.clock>=(e.sv.get(s.id.client)||0));)s=s.left;s!==null&&rd(s,e)&&(n[i]=s.content.getContent()[s.length-1])}),n},"typeMapGetAllSnapshot"),m_=o(t=>(t.doc??Wr(),Yxe(t._map.entries(),e=>!e[1].deleted)),"createMapIterator");class O2e extends gx{static{o(this,"YArrayEvent")}}class $d extends Cr{static{o(this,"YArray")}constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const n=new $d;return n.push(e),n}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new $d}clone(){const e=new $d;return e.insert(0,this.toArray().map(n=>n instanceof Cr?n.clone():n)),e}get length(){return this.doc??Wr(),this._length}_callObserver(e,n){super._callObserver(e,n),_x(this,e,new O2e(this,e))}insert(e,n){this.doc!==null?Xt(this.doc,r=>{X7(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}push(e){this.doc!==null?Xt(this.doc,n=>{I2e(n,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,n=1){this.doc!==null?Xt(this.doc,r=>{J7(r,this,e,n)}):this._prelimContent.splice(e,n)}get(e){return K7(this,e)}toArray(){return G7(this)}slice(e=0,n=this.length){return H7(this,e,n)}toJSON(){return this.map(e=>e instanceof Cr?e.toJSON():e)}map(e){return q7(this,e)}forEach(e){F0(this,e)}[Symbol.iterator](){return C2e(this)}_write(e){e.writeTypeRef(nTe)}}const N2e=o(t=>new $d,"readYArray");class M2e extends gx{static{o(this,"YMapEvent")}constructor(e,n,r){super(e,n),this.keysChanged=r}}class mp extends Cr{static{o(this,"YMap")}constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,n){super._integrate(e,n),this._prelimContent.forEach((r,i)=>{this.set(i,r)}),this._prelimContent=null}_copy(){return new mp}clone(){const e=new mp;return this.forEach((n,r)=>{e.set(r,n instanceof Cr?n.clone():n)}),e}_callObserver(e,n){_x(this,e,new M2e(this,e,n))}toJSON(){this.doc??Wr();const e={};return this._map.forEach((n,r)=>{if(!n.deleted){const i=n.content.getContent()[n.length-1];e[r]=i instanceof Cr?i.toJSON():i}}),e}get size(){return[...m_(this)].length}keys(){return cT(m_(this),e=>e[0])}values(){return cT(m_(this),e=>e[1].content.getContent()[e[1].length-1])}entries(){return cT(m_(this),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this.doc??Wr(),this._map.forEach((n,r)=>{n.deleted||e(n.content.getContent()[n.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?Xt(this.doc,n=>{Fw(n,this,e)}):this._prelimContent.delete(e)}set(e,n){return this.doc!==null?Xt(this.doc,r=>{xR(r,this,e,n)}):this._prelimContent.set(e,n),n}get(e){return TR(this,e)}has(e){return Q7(this,e)}clear(){this.doc!==null?Xt(this.doc,e=>{this.forEach(function(n,r,i){Fw(e,i,r)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(rTe)}}const D2e=o(t=>new mp,"readYMap"),vu=o((t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&Cxe(t,e),"equalAttrs");class sA{static{o(this,"ItemTextListPosition")}constructor(e,n,r,i){this.left=e,this.right=n,this.index=r,this.currentAttributes=i}forward(){switch(this.right===null&&_a(),this.right.content.constructor){case Qn:this.right.deleted||Xp(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const V$=o((t,e,n)=>{for(;e.right!==null&&n>0;){switch(e.right.content.constructor){case Qn:e.right.deleted||Xp(e.currentAttributes,e.right.content);break;default:e.right.deleted||(n<e.right.length&&Ju(t,pt(e.right.id.client,e.right.id.clock+n)),e.index+=e.right.length,n-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},"findNextPosition"),g_=o((t,e,n,r)=>{const i=new Map,s=r?yx(e,n):null;if(s){const a=new sA(s.p.left,s.p,s.index,i);return V$(t,a,n-s.index)}else{const a=new sA(null,e._start,0,i);return V$(t,a,n)}},"findPosition"),ej=o((t,e,n,r)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===Qn&&vu(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const i=t.doc,s=i.clientID;r.forEach((a,l)=>{const u=n.left,c=n.right,f=new Vr(pt(s,pr(i.store,s)),u,u&&u.lastId,c,c&&c.id,e,null,new Qn(l,a));f.integrate(t,0),n.right=f,n.forward()})},"insertNegatedAttributes"),Xp=o((t,e)=>{const{key:n,value:r}=e;r===null?t.delete(n):t.set(n,r)},"updateCurrentAttributes"),tj=o((t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===Qn&&vu(e[t.right.content.key]??null,t.right.content.value)))break;t.forward()}},"minimizeAttributeChanges"),nj=o((t,e,n,r)=>{const i=t.doc,s=i.clientID,a=new Map;for(const l in r){const u=r[l],c=n.currentAttributes.get(l)??null;if(!vu(c,u)){a.set(l,c);const{left:f,right:h}=n;n.right=new Vr(pt(s,pr(i.store,s)),f,f&&f.lastId,h,h&&h.id,e,null,new Qn(l,u)),n.right.integrate(t,0),n.forward()}}return a},"insertAttributes"),hT=o((t,e,n,r,i)=>{n.currentAttributes.forEach((d,p)=>{i[p]===void 0&&(i[p]=null)});const s=t.doc,a=s.clientID;tj(n,i);const l=nj(t,e,n,i),u=r.constructor===String?new wa(r):r instanceof Cr?new Bl(r):new lh(r);let{left:c,right:f,index:h}=n;e._searchMarker&&L0(e._searchMarker,n.index,u.getLength()),f=new Vr(pt(a,pr(s.store,a)),c,c&&c.lastId,f,f&&f.id,e,null,u),f.integrate(t,0),n.right=f,n.index=h,n.forward(),ej(t,e,n,l)},"insertText"),j$=o((t,e,n,r,i)=>{const s=t.doc,a=s.clientID;tj(n,i);const l=nj(t,e,n,i);e:for(;n.right!==null&&(r>0||l.size>0&&(n.right.deleted||n.right.content.constructor===Qn));){if(!n.right.deleted)switch(n.right.content.constructor){case Qn:{const{key:u,value:c}=n.right.content,f=i[u];if(f!==void 0){if(vu(f,c))l.delete(u);else{if(r===0)break e;l.set(u,c)}n.right.delete(t)}else n.currentAttributes.set(u,c);break}default:r<n.right.length&&Ju(t,pt(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;break}n.forward()}if(r>0){let u="";for(;r>0;r--)u+=`
`;n.right=new Vr(pt(a,pr(s.store,a)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,e,null,new wa(u)),n.right.integrate(t,0),n.forward()}ej(t,e,n,l)},"formatText"),rj=o((t,e,n,r,i)=>{let s=e;const a=po();for(;s&&(!s.countable||s.deleted);){if(!s.deleted&&s.content.constructor===Qn){const c=s.content;a.set(c.key,c)}s=s.right}let l=0,u=!1;for(;e!==s;){if(n===e&&(u=!0),!e.deleted){const c=e.content;switch(c.constructor){case Qn:{const{key:f,value:h}=c,d=r.get(f)??null;(a.get(f)!==c||d===h)&&(e.delete(t),l++,!u&&(i.get(f)??null)===h&&d!==h&&(d===null?i.delete(f):i.set(f,d))),!u&&!e.deleted&&Xp(i,c);break}}}e=e.right}return l},"cleanupFormattingGap"),P2e=o((t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const n=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===Qn){const r=e.content.key;n.has(r)?e.delete(t):n.add(r)}e=e.left}},"cleanupContextlessFormattingGap"),$2e=o(t=>{let e=0;return Xt(t.doc,n=>{let r=t._start,i=t._start,s=po();const a=Zk(s);for(;i;){if(i.deleted===!1)switch(i.content.constructor){case Qn:Xp(a,i.content);break;default:e+=rj(n,r,i,s,a),s=Zk(a),r=i;break}i=i.right}}),e},"cleanupYTextFormatting"),L2e=o(t=>{const e=new Set,n=t.doc;for(const[r,i]of t.afterState.entries()){const s=t.beforeState.get(r)||0;i!==s&&U7(t,n.store.clients.get(r),s,i,a=>{!a.deleted&&a.content.constructor===Qn&&a.constructor!==xs&&e.add(a.parent)})}Xt(n,r=>{R7(t,t.deleteSet,i=>{if(i instanceof xs||!i.parent._hasFormatting||e.has(i.parent))return;const s=i.parent;i.content.constructor===Qn?e.add(s):P2e(r,i)});for(const i of e)$2e(i)})},"cleanupYTextAfterTransaction"),W$=o((t,e,n)=>{const r=n,i=Zk(e.currentAttributes),s=e.right;for(;n>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case Bl:case lh:case wa:n<e.right.length&&Ju(t,pt(e.right.id.client,e.right.id.clock+n)),n-=e.right.length,e.right.delete(t);break}e.forward()}s&&rj(t,s,e.right,i,e.currentAttributes);const a=(e.left||e.right).parent;return a._searchMarker&&L0(a._searchMarker,e.index,-r+n),e},"deleteText");class F2e extends gx{static{o(this,"YTextEvent")}constructor(e,n,r){super(e,n),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(i=>{i===null?this.childListChanged=!0:this.keysChanged.add(i)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,n=[];Xt(e,r=>{const i=new Map,s=new Map;let a=this.target._start,l=null;const u={};let c="",f=0,h=0;const d=o(()=>{if(l!==null){let p=null;switch(l){case"delete":h>0&&(p={delete:h}),h=0;break;case"insert":(typeof c=="object"||c.length>0)&&(p={insert:c},i.size>0&&(p.attributes={},i.forEach((m,y)=>{m!==null&&(p.attributes[y]=m)}))),c="";break;case"retain":f>0&&(p={retain:f},Sxe(u)||(p.attributes=Exe({},u))),f=0;break}p&&n.push(p),l=null}},"addOp");for(;a!==null;){switch(a.content.constructor){case Bl:case lh:this.adds(a)?this.deletes(a)||(d(),l="insert",c=a.content.getContent()[0],d()):this.deletes(a)?(l!=="delete"&&(d(),l="delete"),h+=1):a.deleted||(l!=="retain"&&(d(),l="retain"),f+=1);break;case wa:this.adds(a)?this.deletes(a)||(l!=="insert"&&(d(),l="insert"),c+=a.content.str):this.deletes(a)?(l!=="delete"&&(d(),l="delete"),h+=a.length):a.deleted||(l!=="retain"&&(d(),l="retain"),f+=a.length);break;case Qn:{const{key:p,value:m}=a.content;if(this.adds(a)){if(!this.deletes(a)){const y=i.get(p)??null;vu(y,m)?m!==null&&a.delete(r):(l==="retain"&&d(),vu(m,s.get(p)??null)?delete u[p]:u[p]=m)}}else if(this.deletes(a)){s.set(p,m);const y=i.get(p)??null;vu(y,m)||(l==="retain"&&d(),u[p]=y)}else if(!a.deleted){s.set(p,m);const y=u[p];y!==void 0&&(vu(y,m)?y!==null&&a.delete(r):(l==="retain"&&d(),m===null?delete u[p]:u[p]=m))}a.deleted||(l==="insert"&&d(),Xp(i,a.content));break}}a=a.right}for(d();n.length>0;){const p=n[n.length-1];if(p.retain!==void 0&&p.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class gp extends Cr{static{o(this,"YText")}constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??Wr(),this._length}_integrate(e,n){super._integrate(e,n);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new gp}clone(){const e=new gp;return e.applyDelta(this.toDelta()),e}_callObserver(e,n){super._callObserver(e,n);const r=new F2e(this,e,n);_x(this,e,r),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){this.doc??Wr();let e="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===wa&&(e+=n.content.str),n=n.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:n=!0}={}){this.doc!==null?Xt(this.doc,r=>{const i=new sA(null,this._start,0,new Map);for(let s=0;s<e.length;s++){const a=e[s];if(a.insert!==void 0){const l=!n&&typeof a.insert=="string"&&s===e.length-1&&i.right===null&&a.insert.slice(-1)===`
`?a.insert.slice(0,-1):a.insert;(typeof l!="string"||l.length>0)&&hT(r,this,i,l,a.attributes||{})}else a.retain!==void 0?j$(r,this,i,a.retain,a.attributes||{}):a.delete!==void 0&&W$(r,i,a.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,n,r){this.doc??Wr();const i=[],s=new Map,a=this.doc;let l="",u=this._start;function c(){if(l.length>0){const h={};let d=!1;s.forEach((m,y)=>{d=!0,h[y]=m});const p={insert:l};d&&(p.attributes=h),i.push(p),l=""}}o(c,"packStr");const f=o(()=>{for(;u!==null;){if(rd(u,e)||n!==void 0&&rd(u,n))switch(u.content.constructor){case wa:{const h=s.get("ychange");e!==void 0&&!rd(u,e)?(h===void 0||h.user!==u.id.client||h.type!=="removed")&&(c(),s.set("ychange",r?r("removed",u.id):{type:"removed"})):n!==void 0&&!rd(u,n)?(h===void 0||h.user!==u.id.client||h.type!=="added")&&(c(),s.set("ychange",r?r("added",u.id):{type:"added"})):h!==void 0&&(c(),s.delete("ychange")),l+=u.content.str;break}case Bl:case lh:{c();const h={insert:u.content.getContent()[0]};if(s.size>0){const d={};h.attributes=d,s.forEach((p,m)=>{d[m]=p})}i.push(h);break}case Qn:rd(u,e)&&(c(),Xp(s,u.content));break}u=u.right}c()},"computeDelta");return e||n?Xt(a,h=>{e&&rA(h,e),n&&rA(h,n),f()},"cleanup"):f(),i}insert(e,n,r){if(n.length<=0)return;const i=this.doc;i!==null?Xt(i,s=>{const a=g_(s,this,e,!r);r||(r={},a.currentAttributes.forEach((l,u)=>{r[u]=l})),hT(s,this,a,n,r)}):this._pending.push(()=>this.insert(e,n,r))}insertEmbed(e,n,r){const i=this.doc;i!==null?Xt(i,s=>{const a=g_(s,this,e,!r);hT(s,this,a,n,r||{})}):this._pending.push(()=>this.insertEmbed(e,n,r||{}))}delete(e,n){if(n===0)return;const r=this.doc;r!==null?Xt(r,i=>{W$(i,g_(i,this,e,!0),n)}):this._pending.push(()=>this.delete(e,n))}format(e,n,r){if(n===0)return;const i=this.doc;i!==null?Xt(i,s=>{const a=g_(s,this,e,!1);a.right!==null&&j$(s,this,a,n,r)}):this._pending.push(()=>this.format(e,n,r))}removeAttribute(e){this.doc!==null?Xt(this.doc,n=>{Fw(n,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,n){this.doc!==null?Xt(this.doc,r=>{xR(r,this,e,n)}):this._pending.push(()=>this.setAttribute(e,n))}getAttribute(e){return TR(this,e)}getAttributes(){return Z7(this)}_write(e){e.writeTypeRef(iTe)}}const B2e=o(t=>new gp,"readYText");class dT{static{o(this,"YXmlTreeWalker")}constructor(e,n=()=>!0){this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0,e.doc??Wr()}[Symbol.iterator](){return this}next(){let e=this._currentNode,n=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(n)))do if(n=e.content.type,!e.deleted&&(n.constructor===yp||n.constructor===Lf)&&n._start!==null)e=n._start;else for(;e!==null;){const r=e.next;if(r!==null){e=r;break}else e.parent===this._root?e=null:e=e.parent._item}while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class Lf extends Cr{static{o(this,"YXmlFragment")}constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Lf}clone(){const e=new Lf;return e.insert(0,this.toArray().map(n=>n instanceof Cr?n.clone():n)),e}get length(){return this.doc??Wr(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new dT(this,e)}querySelector(e){e=e.toUpperCase();const r=new dT(this,i=>i.nodeName&&i.nodeName.toUpperCase()===e).next();return r.done?null:r.value}querySelectorAll(e){return e=e.toUpperCase(),Pf(new dT(this,n=>n.nodeName&&n.nodeName.toUpperCase()===e))}_callObserver(e,n){_x(this,e,new V2e(this,n,e))}toString(){return q7(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,n={},r){const i=e.createDocumentFragment();return r!==void 0&&r._createAssociation(i,this),F0(this,s=>{i.insertBefore(s.toDOM(e,n,r),null)}),i}insert(e,n){this.doc!==null?Xt(this.doc,r=>{X7(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}insertAfter(e,n){if(this.doc!==null)Xt(this.doc,r=>{const i=e&&e instanceof Cr?e._item:e;Lw(r,this,i,n)});else{const r=this._prelimContent,i=e===null?0:r.findIndex(s=>s===e)+1;if(i===0&&e!==null)throw Xu("Reference item not found");r.splice(i,0,...n)}}delete(e,n=1){this.doc!==null?Xt(this.doc,r=>{J7(r,this,e,n)}):this._prelimContent.splice(e,n)}toArray(){return G7(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return K7(this,e)}slice(e=0,n=this.length){return H7(this,e,n)}forEach(e){F0(this,e)}_write(e){e.writeTypeRef(oTe)}}const U2e=o(t=>new Lf,"readYXmlFragment");class yp extends Lf{static{o(this,"YXmlElement")}constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,n){super._integrate(e,n),this._prelimAttrs.forEach((r,i)=>{this.setAttribute(i,r)}),this._prelimAttrs=null}_copy(){return new yp(this.nodeName)}clone(){const e=new yp(this.nodeName),n=this.getAttributes();return Txe(n,(r,i)=>{typeof r=="string"&&e.setAttribute(i,r)}),e.insert(0,this.toArray().map(r=>r instanceof Cr?r.clone():r)),e}toString(){const e=this.getAttributes(),n=[],r=[];for(const l in e)r.push(l);r.sort();const i=r.length;for(let l=0;l<i;l++){const u=r[l];n.push(u+'="'+e[u]+'"')}const s=this.nodeName.toLocaleLowerCase(),a=n.length>0?" "+n.join(" "):"";return`<${s}${a}>${super.toString()}</${s}>`}removeAttribute(e){this.doc!==null?Xt(this.doc,n=>{Fw(n,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,n){this.doc!==null?Xt(this.doc,r=>{xR(r,this,e,n)}):this._prelimAttrs.set(e,n)}getAttribute(e){return TR(this,e)}hasAttribute(e){return Q7(this,e)}getAttributes(e){return e?R2e(this,e):Z7(this)}toDOM(e=document,n={},r){const i=e.createElement(this.nodeName),s=this.getAttributes();for(const a in s){const l=s[a];typeof l=="string"&&i.setAttribute(a,l)}return F0(this,a=>{i.appendChild(a.toDOM(e,n,r))}),r!==void 0&&r._createAssociation(i,this),i}_write(e){e.writeTypeRef(sTe),e.writeKey(this.nodeName)}}const z2e=o(t=>new yp(t.readKey()),"readYXmlElement");class V2e extends gx{static{o(this,"YXmlEvent")}constructor(e,n,r){super(e,r),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(i=>{i===null?this.childListChanged=!0:this.attributesChanged.add(i)})}}class Bw extends mp{static{o(this,"YXmlHook")}constructor(e){super(),this.hookName=e}_copy(){return new Bw(this.hookName)}clone(){const e=new Bw(this.hookName);return this.forEach((n,r)=>{e.set(r,n)}),e}toDOM(e=document,n={},r){const i=n[this.hookName];let s;return i!==void 0?s=i.createDom(this):s=document.createElement(this.hookName),s.setAttribute("data-yjs-hook",this.hookName),r!==void 0&&r._createAssociation(s,this),s}_write(e){e.writeTypeRef(aTe),e.writeKey(this.hookName)}}const j2e=o(t=>new Bw(t.readKey()),"readYXmlHook");class Uw extends gp{static{o(this,"YXmlText")}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new Uw}clone(){const e=new Uw;return e.applyDelta(this.toDelta()),e}toDOM(e=document,n,r){const i=e.createTextNode(this.toString());return r!==void 0&&r._createAssociation(i,this),i}toString(){return this.toDelta().map(e=>{const n=[];for(const i in e.attributes){const s=[];for(const a in e.attributes[i])s.push({key:a,value:e.attributes[i][a]});s.sort((a,l)=>a.key<l.key?-1:1),n.push({nodeName:i,attrs:s})}n.sort((i,s)=>i.nodeName<s.nodeName?-1:1);let r="";for(let i=0;i<n.length;i++){const s=n[i];r+=`<${s.nodeName}`;for(let a=0;a<s.attrs.length;a++){const l=s.attrs[a];r+=` ${l.key}="${l.value}"`}r+=">"}r+=e.insert;for(let i=n.length-1;i>=0;i--)r+=`</${n[i].nodeName}>`;return r}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(lTe)}}const W2e=o(t=>new Uw,"readYXmlText");class SR{static{o(this,"AbstractStruct")}constructor(e,n){this.id=e,this.length=n}get deleted(){throw ha()}mergeWith(e){return!1}write(e,n,r){throw ha()}integrate(e,n){throw ha()}}const H2e=0;class xs extends SR{static{o(this,"GC")}get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){n>0&&(this.id.clock+=n,this.length-=n),B7(e.doc.store,this)}write(e,n){e.writeInfo(H2e),e.writeLen(this.length-n)}getMissing(e,n){return null}}class Wy{static{o(this,"ContentBinary")}constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Wy(this.content)}splice(e){throw ha()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeBuf(this.content)}getRef(){return 3}}const G2e=o(t=>new Wy(t.readBuf()),"readContentBinary");class B0{static{o(this,"ContentDeleted")}constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new B0(this.len)}splice(e){const n=new B0(this.len-e);return this.len=e,n}mergeWith(e){return this.len+=e.len,!0}integrate(e,n){Pw(e.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(e){}gc(e){}write(e,n){e.writeLen(this.len-n)}getRef(){return 1}}const q2e=o(t=>new B0(t.readLen()),"readContentDeleted"),ij=o((t,e)=>new Vy({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1}),"createDocFromOpts");class Hy{static{o(this,"ContentDoc")}constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const n={};this.opts=n,e.gc||(n.gc=!1),e.autoLoad&&(n.autoLoad=!0),e.meta!==null&&(n.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new Hy(ij(this.doc.guid,this.opts))}splice(e){throw ha()}mergeWith(e){return!1}integrate(e,n){this.doc._item=n,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,n){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const K2e=o(t=>new Hy(ij(t.readString(),t.readAny())),"readContentDoc");class lh{static{o(this,"ContentEmbed")}constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new lh(this.embed)}splice(e){throw ha()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeJSON(this.embed)}getRef(){return 5}}const Y2e=o(t=>new lh(t.readJSON()),"readContentEmbed");class Qn{static{o(this,"ContentFormat")}constructor(e,n){this.key=e,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Qn(this.key,this.value)}splice(e){throw ha()}mergeWith(e){return!1}integrate(e,n){const r=n.parent;r._searchMarker=null,r._hasFormatting=!0}delete(e){}gc(e){}write(e,n){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const X2e=o(t=>new Qn(t.readKey(),t.readJSON()),"readContentFormat");class zw{static{o(this,"ContentJSON")}constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new zw(this.arr)}splice(e){const n=new zw(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let i=n;i<r;i++){const s=this.arr[i];e.writeString(s===void 0?"undefined":JSON.stringify(s))}}getRef(){return 2}}const J2e=o(t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++){const i=t.readString();i==="undefined"?n.push(void 0):n.push(JSON.parse(i))}return new zw(n)},"readContentJSON"),Z2e=Dw("node_env")==="development";class Ff{static{o(this,"ContentAny")}constructor(e){this.arr=e,Z2e&&v7(e)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Ff(this.arr)}splice(e){const n=new Ff(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let i=n;i<r;i++){const s=this.arr[i];e.writeAny(s)}}getRef(){return 8}}const Q2e=o(t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++)n.push(t.readAny());return new Ff(n)},"readContentAny");class wa{static{o(this,"ContentString")}constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new wa(this.str)}splice(e){const n=new wa(this.str.slice(e));this.str=this.str.slice(0,e);const r=this.str.charCodeAt(e-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,e-1)+"",n.str=""+n.str.slice(1)),n}mergeWith(e){return this.str+=e.str,!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const eTe=o(t=>new wa(t.readString()),"readContentString"),tTe=[N2e,D2e,B2e,z2e,U2e,j2e,W2e],nTe=0,rTe=1,iTe=2,sTe=3,oTe=4,aTe=5,lTe=6;class Bl{static{o(this,"ContentType")}constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Bl(this.type._copy())}splice(e){throw ha()}mergeWith(e){return!1}integrate(e,n){this.type._integrate(e.doc,n)}delete(e){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e),n=n.right;this.type._map.forEach(r=>{r.deleted?r.id.clock<(e.beforeState.get(r.id.client)||0)&&e._mergeStructs.push(r):r.delete(e)}),e.changed.delete(this.type)}gc(e){let n=this.type._start;for(;n!==null;)n.gc(e,!0),n=n.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(e,!0),r=r.left}),this.type._map=new Map}write(e,n){this.type._write(e)}getRef(){return 7}}const uTe=o(t=>new Bl(tTe[t.readTypeRef()](t)),"readContentType"),Vw=o((t,e,n)=>{const{client:r,clock:i}=e.id,s=new Vr(pt(r,i+n),e,pt(r,i+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&s.markDeleted(),e.keep&&(s.keep=!0),e.redone!==null&&(s.redone=pt(e.redone.client,e.redone.clock+n)),e.right=s,s.right!==null&&(s.right.left=s),t._mergeStructs.push(s),s.parentSub!==null&&s.right===null&&s.parent._map.set(s.parentSub,s),e.length=n,s},"splitItem");let Vr=class oA extends SR{static{o(this,"Item")}constructor(e,n,r,i,s,a,l,u){super(e,u.getLength()),this.origin=r,this.left=n,this.right=i,this.rightOrigin=s,this.parent=a,this.parentSub=l,this.redone=null,this.content=u,this.info=this.content.isCountable()?T$:0}set marker(e){(this.info&aT)>0!==e&&(this.info^=aT)}get marker(){return(this.info&aT)>0}get keep(){return(this.info&x$)>0}set keep(e){this.keep!==e&&(this.info^=x$)}get countable(){return(this.info&T$)>0}get deleted(){return(this.info&oT)>0}set deleted(e){this.deleted!==e&&(this.info^=oT)}markDeleted(){this.info|=oT}getMissing(e,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=pr(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=pr(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Pd&&this.id.client!==this.parent.client&&this.parent.clock>=pr(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=F$(e,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Ju(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===xs||this.right&&this.right.constructor===xs)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===oA?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===oA&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===Pd){const r=fT(n,this.parent);r.constructor===xs?this.parent=null:this.parent=r.content.type}return null}integrate(e,n){if(n>0&&(this.id.clock+=n,this.left=F$(e,e.doc.store,pt(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,i;if(r!==null)i=r.right;else if(this.parentSub!==null)for(i=this.parent._map.get(this.parentSub)||null;i!==null&&i.left!==null;)i=i.left;else i=this.parent._start;const s=new Set,a=new Set;for(;i!==null&&i!==this.right;){if(a.add(i),s.add(i),p_(this.origin,i.origin)){if(i.id.client<this.id.client)r=i,s.clear();else if(p_(this.rightOrigin,i.rightOrigin))break}else if(i.origin!==null&&a.has(fT(e.doc.store,i.origin)))s.has(fT(e.doc.store,i.origin))||(r=i,s.clear());else break;i=i.right}this.left=r}if(this.left!==null){const r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),B7(e.doc.store,this),this.content.integrate(e,this),U$(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new xs(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:pt(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&p_(e.origin,this.lastId)&&this.right===e&&p_(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const n=this.parent._searchMarker;return n&&n.forEach(r=>{r.p===e&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),Pw(e.deleteSet,this.id.client,this.id.clock,this.length),U$(e,n,this.parentSub),this.content.delete(e)}}gc(e,n){if(!this.deleted)throw _a();this.content.gc(e),n?p2e(e,this,new xs(this.id,this.length)):this.content=new B0(this.length)}write(e,n){const r=n>0?pt(this.id.client,this.id.clock+n-1):this.origin,i=this.rightOrigin,s=this.parentSub,a=this.content.getRef()&hx|(r===null?0:rs)|(i===null?0:yl)|(s===null?0:N0);if(e.writeInfo(a),r!==null&&e.writeLeftID(r),i!==null&&e.writeRightID(i),r===null&&i===null){const l=this.parent;if(l._item!==void 0){const u=l._item;if(u===null){const c=h2e(l);e.writeParentInfo(!0),e.writeString(c)}else e.writeParentInfo(!1),e.writeLeftID(u.id)}else l.constructor===String?(e.writeParentInfo(!0),e.writeString(l)):l.constructor===Pd?(e.writeParentInfo(!1),e.writeLeftID(l)):_a();s!==null&&e.writeString(s)}this.content.write(e,n)}};const sj=o((t,e)=>cTe[e&hx](t),"readItemContent"),cTe=[()=>{_a()},q2e,J2e,G2e,eTe,Y2e,X2e,uTe,Q2e,K2e,()=>{_a()}],fTe=10;class Ts extends SR{static{o(this,"Skip")}get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){_a()}write(e,n){e.writeInfo(fTe),vt(e.restEncoder,this.length-n)}getMissing(e,n){return null}}const oj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},aj="__ $YJS$ __";oj[aj]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");oj[aj]=!0;function Al(t){return Array.isArray?Array.isArray(t):cj(t)==="[object Array]"}o(Al,"isArray");const hTe=1/0;function dTe(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-hTe?"-0":e}o(dTe,"baseToString");function pTe(t){return t==null?"":dTe(t)}o(pTe,"toString");function oa(t){return typeof t=="string"}o(oa,"isString$2");function lj(t){return typeof t=="number"}o(lj,"isNumber$2");function mTe(t){return t===!0||t===!1||gTe(t)&&cj(t)=="[object Boolean]"}o(mTe,"isBoolean");function uj(t){return typeof t=="object"}o(uj,"isObject$1");function gTe(t){return uj(t)&&t!==null}o(gTe,"isObjectLike");function Ki(t){return t!=null}o(Ki,"isDefined");function pT(t){return!t.trim().length}o(pT,"isBlank");function cj(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}o(cj,"getTag");const yTe="Incorrect 'index' type",_Te=o(t=>`Invalid value for key ${t}`,"LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY"),bTe=o(t=>`Pattern length exceeds max of ${t}.`,"PATTERN_LENGTH_TOO_LARGE"),wTe=o(t=>`Missing ${t} property in key`,"MISSING_KEY_PROPERTY"),vTe=o(t=>`Property 'weight' in key '${t}' must be a positive integer`,"INVALID_KEY_WEIGHT_VALUE"),H$=Object.prototype.hasOwnProperty;class ETe{static{o(this,"KeyStore")}constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(r=>{let i=fj(r);this._keys.push(i),this._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(r=>{r.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function fj(t){let e=null,n=null,r=null,i=1,s=null;if(oa(t)||Al(t))r=t,e=G$(t),n=aA(t);else{if(!H$.call(t,"name"))throw new Error(wTe("name"));const a=t.name;if(r=a,H$.call(t,"weight")&&(i=t.weight,i<=0))throw new Error(vTe(a));e=G$(a),n=aA(a),s=t.getFn}return{path:e,id:n,weight:i,src:r,getFn:s}}o(fj,"createKey$1");function G$(t){return Al(t)?t:t.split(".")}o(G$,"createKeyPath");function aA(t){return Al(t)?t.join("."):t}o(aA,"createKeyId");function xTe(t,e){let n=[],r=!1;const i=o((s,a,l)=>{if(Ki(s))if(!a[l])n.push(s);else{let u=a[l];const c=s[u];if(!Ki(c))return;if(l===a.length-1&&(oa(c)||lj(c)||mTe(c)))n.push(pTe(c));else if(Al(c)){r=!0;for(let f=0,h=c.length;f<h;f+=1)i(c[f],a,l+1)}else a.length&&i(c,a,l+1)}},"deepGet");return i(t,oa(e)?e.split("."):e,0),r?n:n[0]}o(xTe,"get$1");const TTe={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},STe={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:o((t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1,"sortFn")},kTe={location:0,threshold:.6,distance:100},ATe={useExtendedSearch:!1,getFn:xTe,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var He={...STe,...TTe,...kTe,...ATe};const CTe=/[^ ]+/g;function ITe(t=1,e=3){const n=new Map,r=Math.pow(10,e);return{get(i){const s=i.match(CTe).length;if(n.has(s))return n.get(s);const a=1/Math.pow(s,.5*t),l=parseFloat(Math.round(a*r)/r);return n.set(s,l),l},clear(){n.clear()}}}o(ITe,"norm");class kR{static{o(this,"FuseIndex")}constructor({getFn:e=He.getFn,fieldNormWeight:n=He.fieldNormWeight}={}){this.norm=ITe(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,oa(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();oa(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!Ki(e)||pT(e))return;let r={v:e,i:n,n:this.norm.get(e)};this.records.push(r)}_addObject(e,n){let r={i:n,$:{}};this.keys.forEach((i,s)=>{let a=i.getFn?i.getFn(e):this.getFn(e,i.path);if(Ki(a)){if(Al(a)){let l=[];const u=[{nestedArrIndex:-1,value:a}];for(;u.length;){const{nestedArrIndex:c,value:f}=u.pop();if(Ki(f))if(oa(f)&&!pT(f)){let h={v:f,i:c,n:this.norm.get(f)};l.push(h)}else Al(f)&&f.forEach((h,d)=>{u.push({nestedArrIndex:d,value:h})})}r.$[s]=l}else if(oa(a)&&!pT(a)){let l={v:a,n:this.norm.get(a)};r.$[s]=l}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function hj(t,e,{getFn:n=He.getFn,fieldNormWeight:r=He.fieldNormWeight}={}){const i=new kR({getFn:n,fieldNormWeight:r});return i.setKeys(t.map(fj)),i.setSources(e),i.create(),i}o(hj,"createIndex");function RTe(t,{getFn:e=He.getFn,fieldNormWeight:n=He.fieldNormWeight}={}){const{keys:r,records:i}=t,s=new kR({getFn:e,fieldNormWeight:n});return s.setKeys(r),s.setIndexRecords(i),s}o(RTe,"parseIndex");function y_(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:i=He.distance,ignoreLocation:s=He.ignoreLocation}={}){const a=e/t.length;if(s)return a;const l=Math.abs(r-n);return i?a+l/i:l?1:a}o(y_,"computeScore$1");function OTe(t=[],e=He.minMatchCharLength){let n=[],r=-1,i=-1,s=0;for(let a=t.length;s<a;s+=1){let l=t[s];l&&r===-1?r=s:!l&&r!==-1&&(i=s-1,i-r+1>=e&&n.push([r,i]),r=-1)}return t[s-1]&&s-r>=e&&n.push([r,s-1]),n}o(OTe,"convertMaskToIndices");const Bc=32;function NTe(t,e,n,{location:r=He.location,distance:i=He.distance,threshold:s=He.threshold,findAllMatches:a=He.findAllMatches,minMatchCharLength:l=He.minMatchCharLength,includeMatches:u=He.includeMatches,ignoreLocation:c=He.ignoreLocation}={}){if(e.length>Bc)throw new Error(bTe(Bc));const f=e.length,h=t.length,d=Math.max(0,Math.min(r,h));let p=s,m=d;const y=l>1||u,_=y?Array(h):[];let b;for(;(b=t.indexOf(e,m))>-1;){let x=y_(e,{currentLocation:b,expectedLocation:d,distance:i,ignoreLocation:c});if(p=Math.min(x,p),m=b+f,y){let E=0;for(;E<f;)_[b+E]=1,E+=1}}m=-1;let S=[],v=1,k=f+h;const C=1<<f-1;for(let x=0;x<f;x+=1){let E=0,T=k;for(;E<T;)y_(e,{errors:x,currentLocation:d+T,expectedLocation:d,distance:i,ignoreLocation:c})<=p?E=T:k=T,T=Math.floor((k-E)/2+E);k=T;let O=Math.max(1,d-T+1),N=a?h:Math.min(d+T,h)+f,I=Array(N+2);I[N+1]=(1<<x)-1;for(let V=N;V>=O;V-=1){let j=V-1,H=n[t.charAt(j)];if(y&&(_[j]=+!!H),I[V]=(I[V+1]<<1|1)&H,x&&(I[V]|=(S[V+1]|S[V])<<1|1|S[V+1]),I[V]&C&&(v=y_(e,{errors:x,currentLocation:j,expectedLocation:d,distance:i,ignoreLocation:c}),v<=p)){if(p=v,m=j,m<=d)break;O=Math.max(1,2*d-m)}}if(y_(e,{errors:x+1,currentLocation:d,expectedLocation:d,distance:i,ignoreLocation:c})>p)break;S=I}const R={isMatch:m>=0,score:Math.max(.001,v)};if(y){const x=OTe(_,l);x.length?u&&(R.indices=x):R.isMatch=!1}return R}o(NTe,"search");function MTe(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const i=t.charAt(n);e[i]=(e[i]||0)|1<<r-n-1}return e}o(MTe,"createPatternAlphabet");class dj{static{o(this,"BitapSearch")}constructor(e,{location:n=He.location,threshold:r=He.threshold,distance:i=He.distance,includeMatches:s=He.includeMatches,findAllMatches:a=He.findAllMatches,minMatchCharLength:l=He.minMatchCharLength,isCaseSensitive:u=He.isCaseSensitive,ignoreLocation:c=He.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:i,includeMatches:s,findAllMatches:a,minMatchCharLength:l,isCaseSensitive:u,ignoreLocation:c},this.pattern=u?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const f=o((d,p)=>{this.chunks.push({pattern:d,alphabet:MTe(d),startIndex:p})},"addChunk"),h=this.pattern.length;if(h>Bc){let d=0;const p=h%Bc,m=h-p;for(;d<m;)f(this.pattern.substr(d,Bc),d),d+=Bc;if(p){const y=h-Bc;f(this.pattern.substr(y),y)}}else f(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,includeMatches:r}=this.options;if(n||(e=e.toLowerCase()),this.pattern===e){let m={isMatch:!0,score:0};return r&&(m.indices=[[0,e.length-1]]),m}const{location:i,distance:s,threshold:a,findAllMatches:l,minMatchCharLength:u,ignoreLocation:c}=this.options;let f=[],h=0,d=!1;this.chunks.forEach(({pattern:m,alphabet:y,startIndex:_})=>{const{isMatch:b,score:S,indices:v}=NTe(e,m,y,{location:i+_,distance:s,threshold:a,findAllMatches:l,minMatchCharLength:u,includeMatches:r,ignoreLocation:c});b&&(d=!0),h+=S,b&&v&&(f=[...f,...v])});let p={isMatch:d,score:d?h/this.chunks.length:1};return d&&r&&(p.indices=f),p}}class gc{static{o(this,"BaseMatch")}constructor(e){this.pattern=e}static isMultiMatch(e){return q$(e,this.multiRegex)}static isSingleMatch(e){return q$(e,this.singleRegex)}search(){}}function q$(t,e){const n=t.match(e);return n?n[1]:null}o(q$,"getMatch");class DTe extends gc{static{o(this,"ExactMatch")}constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const n=e===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class PTe extends gc{static{o(this,"InverseExactMatch")}constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class $Te extends gc{static{o(this,"PrefixExactMatch")}constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const n=e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class LTe extends gc{static{o(this,"InversePrefixExactMatch")}constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const n=!e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class FTe extends gc{static{o(this,"SuffixExactMatch")}constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const n=e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class BTe extends gc{static{o(this,"InverseSuffixExactMatch")}constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const n=!e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class pj extends gc{static{o(this,"FuzzyMatch")}constructor(e,{location:n=He.location,threshold:r=He.threshold,distance:i=He.distance,includeMatches:s=He.includeMatches,findAllMatches:a=He.findAllMatches,minMatchCharLength:l=He.minMatchCharLength,isCaseSensitive:u=He.isCaseSensitive,ignoreLocation:c=He.ignoreLocation}={}){super(e),this._bitapSearch=new dj(e,{location:n,threshold:r,distance:i,includeMatches:s,findAllMatches:a,minMatchCharLength:l,isCaseSensitive:u,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class mj extends gc{static{o(this,"IncludeMatch")}constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n=0,r;const i=[],s=this.pattern.length;for(;(r=e.indexOf(this.pattern,n))>-1;)n=r+s,i.push([r,n-1]);const a=!!i.length;return{isMatch:a,score:a?0:1,indices:i}}}const lA=[DTe,mj,$Te,LTe,BTe,FTe,PTe,pj],K$=lA.length,UTe=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,zTe="|";function VTe(t,e={}){return t.split(zTe).map(n=>{let r=n.trim().split(UTe).filter(s=>s&&!!s.trim()),i=[];for(let s=0,a=r.length;s<a;s+=1){const l=r[s];let u=!1,c=-1;for(;!u&&++c<K$;){const f=lA[c];let h=f.isMultiMatch(l);h&&(i.push(new f(h,e)),u=!0)}if(!u)for(c=-1;++c<K$;){const f=lA[c];let h=f.isSingleMatch(l);if(h){i.push(new f(h,e));break}}}return i})}o(VTe,"parseQuery");const jTe=new Set([pj.type,mj.type]);class WTe{static{o(this,"ExtendedSearch")}constructor(e,{isCaseSensitive:n=He.isCaseSensitive,includeMatches:r=He.includeMatches,minMatchCharLength:i=He.minMatchCharLength,ignoreLocation:s=He.ignoreLocation,findAllMatches:a=He.findAllMatches,location:l=He.location,threshold:u=He.threshold,distance:c=He.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:r,minMatchCharLength:i,findAllMatches:a,ignoreLocation:s,location:l,threshold:u,distance:c},this.pattern=n?e:e.toLowerCase(),this.query=VTe(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:i}=this.options;e=i?e:e.toLowerCase();let s=0,a=[],l=0;for(let u=0,c=n.length;u<c;u+=1){const f=n[u];a.length=0,s=0;for(let h=0,d=f.length;h<d;h+=1){const p=f[h],{isMatch:m,indices:y,score:_}=p.search(e);if(m){if(s+=1,l+=_,r){const b=p.constructor.type;jTe.has(b)?a=[...a,...y]:a.push(y)}}else{l=0,s=0,a.length=0;break}}if(s){let h={isMatch:!0,score:l/s};return r&&(h.indices=a),h}}return{isMatch:!1,score:1}}}const uA=[];function HTe(...t){uA.push(...t)}o(HTe,"register$3");function cA(t,e){for(let n=0,r=uA.length;n<r;n+=1){let i=uA[n];if(i.condition(t,e))return new i(t,e)}return new dj(t,e)}o(cA,"createSearcher");const jw={AND:"$and",OR:"$or"},fA={PATH:"$path",PATTERN:"$val"},hA=o(t=>!!(t[jw.AND]||t[jw.OR]),"isExpression"),GTe=o(t=>!!t[fA.PATH],"isPath"),qTe=o(t=>!Al(t)&&uj(t)&&!hA(t),"isLeaf"),Y$=o(t=>({[jw.AND]:Object.keys(t).map(e=>({[e]:t[e]}))}),"convertToExplicit");function gj(t,e,{auto:n=!0}={}){const r=o(i=>{let s=Object.keys(i);const a=GTe(i);if(!a&&s.length>1&&!hA(i))return r(Y$(i));if(qTe(i)){const u=a?i[fA.PATH]:s[0],c=a?i[fA.PATTERN]:i[u];if(!oa(c))throw new Error(_Te(u));const f={keyId:aA(u),pattern:c};return n&&(f.searcher=cA(c,e)),f}let l={children:[],operator:s[0]};return s.forEach(u=>{const c=i[u];Al(c)&&c.forEach(f=>{l.children.push(r(f))})}),l},"next");return hA(t)||(t=Y$(t)),r(t)}o(gj,"parse");function KTe(t,{ignoreFieldNorm:e=He.ignoreFieldNorm}){t.forEach(n=>{let r=1;n.matches.forEach(({key:i,norm:s,score:a})=>{const l=i?i.weight:null;r*=Math.pow(a===0&&l?Number.EPSILON:a,(l||1)*(e?1:s))}),n.score=r})}o(KTe,"computeScore");function YTe(t,e){const n=t.matches;e.matches=[],Ki(n)&&n.forEach(r=>{if(!Ki(r.indices)||!r.indices.length)return;const{indices:i,value:s}=r;let a={indices:i,value:s};r.key&&(a.key=r.key.src),r.idx>-1&&(a.refIndex=r.idx),e.matches.push(a)})}o(YTe,"transformMatches");function XTe(t,e){e.score=t.score}o(XTe,"transformScore");function JTe(t,e,{includeMatches:n=He.includeMatches,includeScore:r=He.includeScore}={}){const i=[];return n&&i.push(YTe),r&&i.push(XTe),t.map(s=>{const{idx:a}=s,l={item:e[a],refIndex:a};return i.length&&i.forEach(u=>{u(s,l)}),l})}o(JTe,"format$1");class Jp{static{o(this,"Fuse")}constructor(e,n={},r){this.options={...He,...n},this.options.useExtendedSearch,this._keyStore=new ETe(this.options.keys),this.setCollection(e,r)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof kR))throw new Error(yTe);this._myIndex=n||hj(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Ki(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let r=0,i=this._docs.length;r<i;r+=1){const s=this._docs[r];e(s,r)&&(this.removeAt(r),r-=1,i-=1,n.push(s))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:r,includeScore:i,shouldSort:s,sortFn:a,ignoreFieldNorm:l}=this.options;let u=oa(e)?oa(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return KTe(u,{ignoreFieldNorm:l}),s&&u.sort(a),lj(n)&&n>-1&&(u=u.slice(0,n)),JTe(u,this._docs,{includeMatches:r,includeScore:i})}_searchStringList(e){const n=cA(e,this.options),{records:r}=this._myIndex,i=[];return r.forEach(({v:s,i:a,n:l})=>{if(!Ki(s))return;const{isMatch:u,score:c,indices:f}=n.searchIn(s);u&&i.push({item:s,idx:a,matches:[{score:c,value:s,norm:l,indices:f}]})}),i}_searchLogical(e){const n=gj(e,this.options),r=o((l,u,c)=>{if(!l.children){const{keyId:h,searcher:d}=l,p=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(u,h),searcher:d});return p&&p.length?[{idx:c,item:u,matches:p}]:[]}const f=[];for(let h=0,d=l.children.length;h<d;h+=1){const p=l.children[h],m=r(p,u,c);if(m.length)f.push(...m);else if(l.operator===jw.AND)return[]}return f},"evaluate"),i=this._myIndex.records,s={},a=[];return i.forEach(({$:l,i:u})=>{if(Ki(l)){let c=r(n,l,u);c.length&&(s[u]||(s[u]={idx:u,item:l,matches:[]},a.push(s[u])),c.forEach(({matches:f})=>{s[u].matches.push(...f)}))}}),a}_searchObjectList(e){const n=cA(e,this.options),{keys:r,records:i}=this._myIndex,s=[];return i.forEach(({$:a,i:l})=>{if(!Ki(a))return;let u=[];r.forEach((c,f)=>{u.push(...this._findMatches({key:c,value:a[f],searcher:n}))}),u.length&&s.push({idx:l,item:a,matches:u})}),s}_findMatches({key:e,value:n,searcher:r}){if(!Ki(n))return[];let i=[];if(Al(n))n.forEach(({v:s,i:a,n:l})=>{if(!Ki(s))return;const{isMatch:u,score:c,indices:f}=r.searchIn(s);u&&i.push({score:c,key:e,value:s,idx:a,norm:l,indices:f})});else{const{v:s,n:a}=n,{isMatch:l,score:u,indices:c}=r.searchIn(s);l&&i.push({score:u,key:e,value:s,norm:a,indices:c})}return i}}Jp.version="7.0.0";Jp.createIndex=hj;Jp.parseIndex=RTe;Jp.config=He;Jp.parseQuery=gj;HTe(WTe);function yj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=yj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}o(yj,"r");function yVe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=yj(t))&&(r&&(r+=" "),r+=e);return r}o(yVe,"clsx");const AR="-",ZTe=o(t=>{const e=eSe(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o(a=>{const l=a.split(AR);return l[0]===""&&l.length!==1&&l.shift(),_j(l,e)||QTe(a)},"getClassGroupId"),getConflictingClassGroupIds:o((a,l)=>{const u=n[a]||[];return l&&r[a]?[...u,...r[a]]:u},"getConflictingClassGroupIds")}},"createClassGroupUtils"),_j=o((t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?_j(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(AR);return e.validators.find(({validator:a})=>a(s))?.classGroupId},"getGroupRecursive"),X$=/^\[(.+)\]$/,QTe=o(t=>{if(X$.test(t)){const e=X$.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},"getGroupIdForArbitraryProperty"),eSe=o(t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return nSe(Object.entries(t.classGroups),n).forEach(([s,a])=>{dA(a,r,s,e)}),r},"createClassMap"),dA=o((t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:J$(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(tSe(i)){dA(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{dA(a,J$(e,s),n,r)})})},"processClassesRecursively"),J$=o((t,e)=>{let n=t;return e.split(AR).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},"getPart"),tSe=o(t=>t.isThemeGetter,"isThemeGetter"),nSe=o((t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,l])=>[e+a,l])):s);return[n,i]}):t,"getPrefixedClassGroupEntries"),rSe=o(t=>{if(t<1)return{get:o(()=>{},"get"),set:o(()=>{},"set")};let e=0,n=new Map,r=new Map;const i=o((s,a)=>{n.set(s,a),e++,e>t&&(e=0,r=n,n=new Map)},"update");return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},"createLruCache"),bj="!",iSe=o(t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,a=o(l=>{const u=[];let c=0,f=0,h;for(let _=0;_<l.length;_++){let b=l[_];if(c===0){if(b===i&&(r||l.slice(_,_+s)===e)){u.push(l.slice(f,_)),f=_+s;continue}if(b==="/"){h=_;continue}}b==="["?c++:b==="]"&&c--}const d=u.length===0?l:l.substring(f),p=d.startsWith(bj),m=p?d.substring(1):d,y=h&&h>f?h-f:void 0;return{modifiers:u,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:y}},"parseClassName");return n?l=>n({className:l,parseClassName:a}):a},"createParseClassName"),sSe=o(t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},"sortModifiers"),oSe=o(t=>({cache:rSe(t.cacheSize),parseClassName:iSe(t),...ZTe(t)}),"createConfigUtils"),aSe=/\s+/,lSe=o((t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(aSe);let l="";for(let u=a.length-1;u>=0;u-=1){const c=a[u],{modifiers:f,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:p}=n(c);let m=!!p,y=r(m?d.substring(0,p):d);if(!y){if(!m){l=c+(l.length>0?" "+l:l);continue}if(y=r(d),!y){l=c+(l.length>0?" "+l:l);continue}m=!1}const _=sSe(f).join(":"),b=h?_+bj:_,S=b+y;if(s.includes(S))continue;s.push(S);const v=i(y,m);for(let k=0;k<v.length;++k){const C=v[k];s.push(b+C)}l=c+(l.length>0?" "+l:l)}return l},"mergeClassList");function uSe(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=wj(e))&&(r&&(r+=" "),r+=n);return r}o(uSe,"twJoin");const wj=o(t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=wj(t[r]))&&(n&&(n+=" "),n+=e);return n},"toValue$1");function cSe(t,...e){let n,r,i,s=a;function a(u){const c=e.reduce((f,h)=>h(f),t());return n=oSe(c),r=n.cache.get,i=n.cache.set,s=l,l(u)}o(a,"initTailwindMerge");function l(u){const c=r(u);if(c)return c;const f=lSe(u,n);return i(u,f),f}return o(l,"tailwindMerge"),o(function(){return s(uSe.apply(null,arguments))},"callTailwindMerge")}o(cSe,"createTailwindMerge");const tn=o(t=>{const e=o(n=>n[t]||[],"themeGetter");return e.isThemeGetter=!0,e},"fromTheme"),vj=/^\[(?:([a-z-]+):)?(.+)\]$/i,fSe=/^\d+\/\d+$/,hSe=new Set(["px","full","screen"]),dSe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pSe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mSe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,gSe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ySe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wa=o(t=>Ld(t)||hSe.has(t)||fSe.test(t),"isLength"),Yl=o(t=>Zp(t,"length",SSe),"isArbitraryLength"),Ld=o(t=>!!t&&!Number.isNaN(Number(t)),"isNumber$1"),mT=o(t=>Zp(t,"number",Ld),"isArbitraryNumber"),Nm=o(t=>!!t&&Number.isInteger(Number(t)),"isInteger"),_Se=o(t=>t.endsWith("%")&&Ld(t.slice(0,-1)),"isPercent"),Qe=o(t=>vj.test(t),"isArbitraryValue"),Xl=o(t=>dSe.test(t),"isTshirtSize"),bSe=new Set(["length","size","percentage"]),wSe=o(t=>Zp(t,bSe,Ej),"isArbitrarySize"),vSe=o(t=>Zp(t,"position",Ej),"isArbitraryPosition"),ESe=new Set(["image","url"]),xSe=o(t=>Zp(t,ESe,ASe),"isArbitraryImage"),TSe=o(t=>Zp(t,"",kSe),"isArbitraryShadow"),Mm=o(()=>!0,"isAny"),Zp=o((t,e,n)=>{const r=vj.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},"getIsArbitraryValue"),SSe=o(t=>pSe.test(t)&&!mSe.test(t),"isLengthOnly"),Ej=o(()=>!1,"isNever"),kSe=o(t=>gSe.test(t),"isShadow"),ASe=o(t=>ySe.test(t),"isImage"),CSe=o(()=>{const t=tn("colors"),e=tn("spacing"),n=tn("blur"),r=tn("brightness"),i=tn("borderColor"),s=tn("borderRadius"),a=tn("borderSpacing"),l=tn("borderWidth"),u=tn("contrast"),c=tn("grayscale"),f=tn("hueRotate"),h=tn("invert"),d=tn("gap"),p=tn("gradientColorStops"),m=tn("gradientColorStopPositions"),y=tn("inset"),_=tn("margin"),b=tn("opacity"),S=tn("padding"),v=tn("saturate"),k=tn("scale"),C=tn("sepia"),R=tn("skew"),x=tn("space"),E=tn("translate"),T=o(()=>["auto","contain","none"],"getOverscroll"),O=o(()=>["auto","hidden","clip","visible","scroll"],"getOverflow"),N=o(()=>["auto",Qe,e],"getSpacingWithAutoAndArbitrary"),I=o(()=>[Qe,e],"getSpacingWithArbitrary"),M=o(()=>["",Wa,Yl],"getLengthWithEmptyAndArbitrary"),V=o(()=>["auto",Ld,Qe],"getNumberWithAutoAndArbitrary"),j=o(()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],"getPositions"),H=o(()=>["solid","dashed","dotted","double","none"],"getLineStyles"),q=o(()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],"getBlendModes"),te=o(()=>["start","end","center","between","around","evenly","stretch"],"getAlign"),Z=o(()=>["","0",Qe],"getZeroAndEmpty"),ue=o(()=>["auto","avoid","all","avoid-page","page","left","right","column"],"getBreaks"),ce=o(()=>[Ld,Qe],"getNumberAndArbitrary");return{cacheSize:500,separator:":",theme:{colors:[Mm],spacing:[Wa,Yl],blur:["none","",Xl,Qe],brightness:ce(),borderColor:[t],borderRadius:["none","","full",Xl,Qe],borderSpacing:I(),borderWidth:M(),contrast:ce(),grayscale:Z(),hueRotate:ce(),invert:Z(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[_Se,Yl],inset:N(),margin:N(),opacity:ce(),padding:I(),saturate:ce(),scale:ce(),sepia:Z(),skew:ce(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Qe]}],container:["container"],columns:[{columns:[Xl]}],"break-after":[{"break-after":ue()}],"break-before":[{"break-before":ue()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...j(),Qe]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Nm,Qe]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Qe]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",Nm,Qe]}],"grid-cols":[{"grid-cols":[Mm]}],"col-start-end":[{col:["auto",{span:["full",Nm,Qe]},Qe]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[Mm]}],"row-start-end":[{row:["auto",{span:[Nm,Qe]},Qe]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Qe]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...te()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...te(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...te(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[x]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[x]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Qe,e]}],"min-w":[{"min-w":[Qe,e,"min","max","fit"]}],"max-w":[{"max-w":[Qe,e,"none","full","min","max","fit","prose",{screen:[Xl]},Xl]}],h:[{h:[Qe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Qe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Qe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Qe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Xl,Yl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",mT]}],"font-family":[{font:[Mm]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Qe]}],"line-clamp":[{"line-clamp":["none",Ld,mT]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wa,Qe]}],"list-image":[{"list-image":["none",Qe]}],"list-style-type":[{list:["none","disc","decimal",Qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wa,Yl]}],"underline-offset":[{"underline-offset":["auto",Wa,Qe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...j(),vSe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",wSe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},xSe]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:H()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[Wa,Qe]}],"outline-w":[{outline:[Wa,Yl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Wa,Yl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Xl,TSe]}],"shadow-color":[{shadow:[Mm]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Xl,Qe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[v]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Qe]}],duration:[{duration:ce()}],ease:[{ease:["linear","in","out","in-out",Qe]}],delay:[{delay:ce()}],animate:[{animate:["none","spin","ping","pulse","bounce",Qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Nm,Qe]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Wa,Yl,mT]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},"getDefaultConfig"),_Ve=cSe(CSe);function bVe(t,e,n){const r=o(()=>{var a,l;return new Jp((a=Ho(e))!=null?a:[],(l=Ho(n))==null?void 0:l.fuseOptions)},"createFuse"),i=Ce(r());Zt(()=>{var a;return(a=Ho(n))==null?void 0:a.fuseOptions},()=>{i.value=r()},{deep:!0}),Zt(()=>Ho(e),a=>{i.value.setCollection(a)},{deep:!0});const s=We(()=>{const a=Ho(n);if(a?.matchAllWhenSearchEmpty&&!Ho(t))return Ho(e).map((u,c)=>({item:u,refIndex:c}));const l=a?.resultLimit;return i.value.search(Ho(t),l?{limit:l}:void 0)});return{fuse:i,results:s}}o(bVe,"useFuse");function ISe(t,e,n){return t<e?n==="asc"?-1:1:t>e?n==="asc"?1:-1:0}o(ISe,"compareValues");function RSe(t,e,n){return t.slice().sort((r,i)=>{const s=n.length;for(let a=0;a<e.length;a++){const l=s>a?n[a]:n[s-1],u=e[a],c=typeof u=="function",f=c?u(r):r[u],h=c?u(i):i[u],d=ISe(f,h,l);if(d!==0)return d}return 0})}o(RSe,"orderBy");function wVe(t,e){return RSe(t,e,["asc"])}o(wVe,"sortBy");function vr(t){this.content=t}o(vr,"OrderedMap");vr.prototype={constructor:vr,find:o(function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},"find"),get:o(function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},"get"),update:o(function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new vr(s)},"update"),remove:o(function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new vr(n)},"remove"),addToStart:o(function(t,e){return new vr([t,e].concat(this.remove(t).content))},"addToStart"),addToEnd:o(function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new vr(n)},"addToEnd"),addBefore:o(function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new vr(i)},"addBefore"),forEach:o(function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},"forEach"),prepend:o(function(t){return t=vr.from(t),t.size?new vr(t.content.concat(this.subtract(t).content)):this},"prepend"),append:o(function(t){return t=vr.from(t),t.size?new vr(this.subtract(t).content.concat(t.content)):this},"append"),subtract:o(function(t){var e=this;t=vr.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},"subtract"),toObject:o(function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},"toObject"),get size(){return this.content.length>>1}};vr.from=function(t){if(t instanceof vr)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new vr(e)};function xj(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let a=0;i.text[a]==s.text[a];a++)n++;return n}if(i.content.size||s.content.size){let a=xj(i.content,s.content,n+1);if(a!=null)return a}n+=i.nodeSize}}o(xj,"findDiffStart");function Tj(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let a=t.child(--i),l=e.child(--s),u=a.nodeSize;if(a==l){n-=u,r-=u;continue}if(!a.sameMarkup(l))return{a:n,b:r};if(a.isText&&a.text!=l.text){let c=0,f=Math.min(a.text.length,l.text.length);for(;c<f&&a.text[a.text.length-c-1]==l.text[l.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(a.content.size||l.content.size){let c=Tj(a.content,l.content,n-1,r-1);if(c)return c}n-=u,r-=u}}o(Tj,"findDiffEnd");class le{static{o(this,"Fragment")}constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let a=0,l=0;l<n;a++){let u=this.content[a],c=l+u.nodeSize;if(c>e&&r(u,i+l,s||null,a)!==!1&&u.content.size){let f=l+1;u.nodesBetween(Math.max(0,e-f),Math.min(u.content.size,n-f),r,i+f)}l=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",a=!0;return this.nodesBetween(e,n,(l,u)=>{let c=l.isText?l.text.slice(Math.max(e,u)-u,n-u):l.isLeaf?i?typeof i=="function"?i(l):i:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&c||l.isTextblock)&&r&&(a?a=!1:s+=r),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new le(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,a=0;a<n;s++){let l=this.content[s],u=a+l.nodeSize;u>e&&((a<e||u>n)&&(l.isText?l=l.cut(Math.max(0,e-a),Math.min(l.text.length,n-a)):l=l.cut(Math.max(0,e-a-1),Math.min(l.content.size,n-a-1))),r.push(l),i+=l.nodeSize),a=u}return new le(r,i)}cutByIndex(e,n){return e==n?le.empty:e==0&&n==this.content.length?this:new le(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new le(i,s)}addToStart(e){return new le([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new le(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return xj(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return Tj(this,e,n,r)}findIndex(e,n=-1){if(e==0)return __(0,e);if(e==this.size)return __(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),a=i+s.nodeSize;if(a>=e)return a==e||n>0?__(r+1,a):__(r,i);i=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return le.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new le(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return le.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new le(n||e,r)}static from(e){if(!e)return le.empty;if(e instanceof le)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new le([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}le.empty=new le([],0);const gT={index:0,offset:0};function __(t,e){return gT.index=t,gT.offset=e,gT}o(__,"retIndex");function Ww(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Ww(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Ww(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}o(Ww,"compareDeep");class Et{static{o(this,"Mark")}constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Ww(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Et.none;if(e instanceof Et)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}}Et.none=[];class Hw extends Error{static{o(this,"ReplaceError")}}class we{static{o(this,"Slice")}constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=kj(this.content,e+this.openStart,n);return r&&new we(r,this.openStart,this.openEnd)}removeBetween(e,n){return new we(Sj(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return we.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new we(le.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new we(e,r,i)}}we.empty=new we(le.empty,0,0);function Sj(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:a,offset:l}=t.findIndex(n);if(i==e||s.isText){if(l!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(Sj(s.content,e-i-1,n-i-1)))}o(Sj,"removeRange");function kj(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),a=t.maybeChild(i);if(s==e||a.isText)return t.cut(0,e).append(n).append(t.cut(e));let l=kj(a.content,e-s-1,n);return l&&t.replaceChild(i,a.copy(l))}o(kj,"insertInto");function OSe(t,e,n){if(n.openStart>t.depth)throw new Hw("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Hw("Inconsistent open depths");return Aj(t,e,n,0)}o(OSe,"replace$1");function Aj(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let a=Aj(t,e,n,r+1);return s.copy(s.content.replaceChild(i,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,l=a.content;return af(a,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:a,end:l}=NSe(n,t);return af(s,Ij(t,a,l,e,r))}else return af(s,Gw(t,e,r))}o(Aj,"replaceOuter");function Cj(t,e){if(!e.type.compatibleContent(t.type))throw new Hw("Cannot join "+e.type.name+" onto "+t.type.name)}o(Cj,"checkJoin");function pA(t,e,n){let r=t.node(n);return Cj(r,e.node(n)),r}o(pA,"joinable$1");function of(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}o(of,"addNode");function Ng(t,e,n,r){let i=(e||t).node(n),s=0,a=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(of(t.nodeAfter,r),s++));for(let l=s;l<a;l++)of(i.child(l),r);e&&e.depth==n&&e.textOffset&&of(e.nodeBefore,r)}o(Ng,"addRange");function af(t,e){return t.type.checkContent(e),t.copy(e)}o(af,"close");function Ij(t,e,n,r,i){let s=t.depth>i&&pA(t,e,i+1),a=r.depth>i&&pA(n,r,i+1),l=[];return Ng(null,t,i,l),s&&a&&e.index(i)==n.index(i)?(Cj(s,a),of(af(s,Ij(t,e,n,r,i+1)),l)):(s&&of(af(s,Gw(t,e,i+1)),l),Ng(e,n,i,l),a&&of(af(a,Gw(n,r,i+1)),l)),Ng(r,null,i,l),new le(l)}o(Ij,"replaceThreeWay");function Gw(t,e,n){let r=[];if(Ng(null,t,n,r),t.depth>n){let i=pA(t,e,n+1);of(af(i,Gw(t,e,n+1)),r)}return Ng(e,null,n,r),new le(r)}o(Gw,"replaceTwoWay");function NSe(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(le.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}o(NSe,"prepareSliceForReplace");class U0{static{o(this,"ResolvedPos")}constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Et.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let l=r;r=i,i=l}let s=r.marks;for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!i||!s[a].isInSet(i.marks))&&(s=s[a--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new qw(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let a=e;;){let{index:l,offset:u}=a.content.findIndex(s),c=s-u;if(r.push(a,l,i+u),!c||(a=a.child(l),a.isText))break;s=c-1,i+=u+1}return new U0(n,r,s)}static resolveCached(e,n){let r=Z$.get(e);if(r)for(let s=0;s<r.elts.length;s++){let a=r.elts[s];if(a.pos==n)return a}else Z$.set(e,r=new MSe);let i=r.elts[r.i]=U0.resolve(e,n);return r.i=(r.i+1)%DSe,i}}class MSe{static{o(this,"ResolveCache")}constructor(){this.elts=[],this.i=0}}const DSe=12,Z$=new WeakMap;class qw{static{o(this,"NodeRange")}constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const PSe=Object.create(null);let lf=class mA{static{o(this,"Node")}constructor(e,n,r,i=Et.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||le.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Ww(this.attrs,n||e.defaultAttrs||PSe)&&Et.sameSet(this.marks,r||Et.none)}copy(e=null){return e==this.content?this:new mA(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new mA(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return we.empty;let i=this.resolve(e),s=this.resolve(n),a=r?0:i.sharedDepth(n),l=i.start(a),c=i.node(a).content.cut(i.pos-l,s.pos-l);return new we(c,i.depth-a,s.depth-a)}replace(e,n,r){return OSe(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return U0.resolveCached(this,e)}resolveNoCache(e){return U0.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Rj(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=le.empty,i=0,s=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,i,s),l=a&&a.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let u=i;u<s;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),a=s&&s.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Et.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Et.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=le.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};lf.prototype.text=void 0;class Kw extends lf{static{o(this,"TextNode")}constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Rj(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Kw(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Kw(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Rj(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}o(Rj,"wrapMarks");class Bf{static{o(this,"ContentMatch")}constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new $Se(e,n);if(r.next==null)return Bf.empty;let i=Oj(r);r.next&&r.err("Unexpected trailing text");let s=jSe(VSe(i));return WSe(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(a,l){let u=a.matchFragment(e,r);if(u&&(!n||u.validEnd))return le.from(l.map(c=>c.createAndFill()));for(let c=0;c<a.next.length;c++){let{type:f,next:h}=a.next[c];if(!(f.isText||f.hasRequiredAttrs())&&i.indexOf(h)==-1){i.push(h);let d=s(h,l.concat(f));if(d)return d}}return null}return o(s,"search"),s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let a=[];for(let l=i;l.type;l=l.via)a.push(l.type);return a.reverse()}for(let a=0;a<s.next.length;a++){let{type:l,next:u}=s.next[a];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!i.type||u.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return o(n,"scan"),n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)s+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return s}).join(`
`)}}Bf.empty=new Bf(!0);class $Se{static{o(this,"TokenStream")}constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Oj(t){let e=[];do e.push(LSe(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}o(Oj,"parseExpr");function LSe(t){let e=[];do e.push(FSe(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}o(LSe,"parseExprSeq");function FSe(t){let e=zSe(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=BSe(t,e);else break;return e}o(FSe,"parseExprSubscript");function Q$(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}o(Q$,"parseNum");function BSe(t,e){let n=Q$(t),r=n;return t.eat(",")&&(t.next!="}"?r=Q$(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}o(BSe,"parseExprRange");function USe(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let a=n[s];a.isInGroup(e)&&i.push(a)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}o(USe,"resolveName");function zSe(t){if(t.eat("(")){let e=Oj(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=USe(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}o(zSe,"parseExprAtom");function VSe(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}o(n,"node");function r(a,l,u){let c={term:u,to:l};return e[a].push(c),c}o(r,"edge");function i(a,l){a.forEach(u=>u.to=l)}o(i,"connect");function s(a,l){if(a.type=="choice")return a.exprs.reduce((u,c)=>u.concat(s(c,l)),[]);if(a.type=="seq")for(let u=0;;u++){let c=s(a.exprs[u],l);if(u==a.exprs.length-1)return c;i(c,l=n())}else if(a.type=="star"){let u=n();return r(l,u),i(s(a.expr,u),u),[r(u)]}else if(a.type=="plus"){let u=n();return i(s(a.expr,l),u),i(s(a.expr,u),u),[r(u)]}else{if(a.type=="opt")return[r(l)].concat(s(a.expr,l));if(a.type=="range"){let u=l;for(let c=0;c<a.min;c++){let f=n();i(s(a.expr,u),f),u=f}if(a.max==-1)i(s(a.expr,u),u);else for(let c=a.min;c<a.max;c++){let f=n();r(u,f),i(s(a.expr,u),f),u=f}return[r(u)]}else{if(a.type=="name")return[r(l,void 0,a.value)];throw new Error("Unknown expr type")}}}o(s,"compile")}o(VSe,"nfa");function Nj(t,e){return e-t}o(Nj,"cmp");function eL(t,e){let n=[];return r(e),n.sort(Nj);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let a=0;a<s.length;a++){let{term:l,to:u}=s[a];!l&&n.indexOf(u)==-1&&r(u)}}o(r,"scan")}o(eL,"nullFrom");function jSe(t){let e=Object.create(null);return n(eL(t,0));function n(r){let i=[];r.forEach(a=>{t[a].forEach(({term:l,to:u})=>{if(!l)return;let c;for(let f=0;f<i.length;f++)i[f][0]==l&&(c=i[f][1]);eL(t,u).forEach(f=>{c||i.push([l,c=[]]),c.indexOf(f)==-1&&c.push(f)})})});let s=e[r.join(",")]=new Bf(r.indexOf(t.length-1)>-1);for(let a=0;a<i.length;a++){let l=i[a][1].sort(Nj);s.next.push({type:i[a][0],next:e[l.join(",")]||n(l)})}return s}}o(jSe,"dfa");function WSe(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,a=[];for(let l=0;l<i.next.length;l++){let{type:u,next:c}=i.next[l];a.push(u.name),s&&!(u.isText||u.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}o(WSe,"checkForDeadEnds");function Mj(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}o(Mj,"defaultAttrs");function Dj(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}o(Dj,"computeAttrs");function Pj(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}o(Pj,"checkAttrs");function $j(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new GSe(t,r,e[r]);return n}o($j,"initAttrs");let tL=class Lj{static{o(this,"NodeType")}constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=$j(e,r.attrs),this.defaultAttrs=Mj(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Bf.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Dj(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new lf(this,this.computeAttrs(e),le.from(n),Et.setFrom(r))}createChecked(e=null,n,r){return n=le.from(n),this.checkContent(n),new lf(this,this.computeAttrs(e),n,Et.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=le.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(le.empty,!0);return s?new lf(this,e,n.append(s),Et.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Pj(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Et.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,a)=>r[s]=new Lj(s,n,a));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function HSe(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}o(HSe,"validateType");class GSe{static{o(this,"Attribute")}constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?HSe(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class bx{static{o(this,"MarkType")}constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=$j(e,i.attrs),this.excluded=null;let s=Mj(this.attrs);this.instance=s?new Et(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Et(this,Dj(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,a)=>r[s]=new bx(s,i++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){Pj(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}let qSe=class{static{o(this,"Schema")}constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=vr.from(e.nodes),n.marks=vr.from(e.marks||{}),this.nodes=tL.compile(this.spec.nodes,this),this.marks=bx.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],a=s.spec.content||"",l=s.spec.marks;if(s.contentMatch=r[a]||(r[a]=Bf.parse(a,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=l=="_"?null:l?nL(this,l.split(" ")):l==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],a=s.spec.excludes;s.excluded=a==null?[s]:a==""?[]:nL(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof tL){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Kw(r,r.defaultAttrs,e,Et.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return lf.fromJSON(this,e)}markFromJSON(e){return Et.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}};function nL(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],a=s;if(s)n.push(s);else for(let l in t.marks){let u=t.marks[l];(i=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=u)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}o(nL,"gatherMarks");function KSe(t){return t.tag!=null}o(KSe,"isTagRule");function YSe(t){return t.style!=null}o(YSe,"isStyleRule");let Fj=class gA{static{o(this,"DOMParser")}constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(KSe(i))this.tags.push(i);else if(YSe(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new iL(this,n,!1);return r.addAll(e,Et.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new iL(this,n,!0);return r.addAll(e,Et.none,n.from,n.to),we.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(ZSe(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let a=s.getAttrs(e);if(a===!1)continue;s.attrs=a||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let a=this.styles[s],l=a.style;if(!(l.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(a.getAttrs){let u=a.getAttrs(n);if(u===!1)continue;a.attrs=u||void 0}return a}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,a=0;for(;a<n.length;a++){let l=n[a];if((l.priority==null?50:l.priority)<s)break}n.splice(a,0,i)}o(r,"insert");for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(a=>{r(a=sL(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(a=>{r(a=sL(a)),a.node||a.ignore||a.mark||(a.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new gA(e,gA.schemaRules(e)))}};const Bj={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},XSe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Uj={ol:!0,ul:!0},z0=1,yA=2,Mg=4;function rL(t,e,n){return e!=null?(e?z0:0)|(e==="full"?yA:0):t&&t.whitespace=="pre"?z0|yA:n&~Mg}o(rL,"wsOptionsFor");class b_{static{o(this,"NodeContext")}constructor(e,n,r,i,s,a){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=Et.none,this.match=s||(a&Mg?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(le.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&z0)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=le.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(le.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Bj.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class iL{static{o(this,"ParseContext")}constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,a=rL(null,n.preserveWhitespace,0)|(r?Mg:0);i?s=new b_(i.type,i.attrs,Et.none,!0,n.topMatch||i.type.contentMatch,a):r?s=new b_(null,null,Et.none,!0,null,a):s=new b_(e.schema.topNodeType,null,Et.none,!0,null,a),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&yA?"full":this.localPreserveWS||(i.options&z0)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],l=e.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),l;Uj.hasOwnProperty(a)&&this.parser.normalizeLists&&JSe(e);let u=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,r));e:if(u?u.ignore:XSe.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!u||u.skip||u.closeParent){u&&u.closeParent?this.open=Math.max(0,this.open-1):u&&u.skip.nodeType&&(e=u.skip);let c,f=this.needsBlock;if(Bj.hasOwnProperty(a))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),c=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let h=u&&u.skip?n:this.readStyles(e,n);h&&this.addAll(e,h),c&&this.sync(s),this.needsBlock=f}else{let c=this.readStyles(e,n);c&&this.addElementByRule(e,u,c,u.consuming===!1?l:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],a=r.getPropertyValue(s);if(a)for(let l=void 0;;){let u=this.parser.matchStyle(s,a,this,l);if(!u)break;if(u.ignore)return null;if(u.clearMark?n=n.filter(c=>!u.clearMark(c)):n=n.concat(this.parser.schema.marks[u.mark].create(u.attrs)),u.consuming===!1)l=u;else break}}return n}addElementByRule(e,n,r,i){let s,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r)||this.leafFallback(e,r);else{let u=this.enter(a,n.attrs||null,r,n.preserveWhitespace);u&&(s=!0,r=u)}else{let u=this.parser.schema.marks[n.mark];r=r.concat(u.create(n.attrs))}let l=this.top;if(a&&a.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(u=>this.insertNode(u,r));else{let u=e;typeof n.contentElement=="string"?u=e.querySelector(n.contentElement):typeof n.contentElement=="function"?u=n.contentElement(e):n.contentElement&&(u=n.contentElement),this.findAround(e,u,!0),this.addAll(u,r),this.findAround(e,u,!1)}s&&this.sync(l)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let a=r?e.childNodes[r]:e.firstChild,l=i==null?null:e.childNodes[i];a!=l;a=a.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(a,n);this.findAtPoint(e,s)}findPlace(e,n){let r,i;for(let s=this.open;s>=0;s--){let a=this.nodes[s],l=a.findWrapping(e);if(l&&(!r||r.length>l.length)&&(r=l,i=a,!l.length)||a.solid)break}if(!r)return null;this.sync(i);for(let s=0;s<r.length;s++)n=this.enterInner(r[s],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let r=this.findPlace(e,n);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let s=Et.none;for(let a of r.concat(e.marks))(i.type?i.type.allowsMarkType(a.type):oL(a.type,e.type))&&(s=a.addToSet(s));return i.content.push(e.mark(s)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let l=rL(e,s,a.options);a.options&Mg&&a.content.length==0&&(l|=Mg);let u=Et.none;return r=r.filter(c=>(a.type?a.type.allowsMarkType(c.type):oL(c.type,e))?(u=c.addToSet(u),!1):!0),this.nodes.push(new b_(e,n,u,i,null,l)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=z0)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),a=o((l,u)=>{for(;l>=0;l--){let c=n[l];if(c==""){if(l==n.length-1||l==0)continue;for(;u>=s;u--)if(a(l-1,u))return!0;return!1}else{let f=u>0||u==0&&i?this.nodes[u].type:r&&u>=s?r.node(u-s).type:null;if(!f||f.name!=c&&!f.isInGroup(c))return!1;u--}}return!0},"match");return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function JSe(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Uj.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}o(JSe,"normalizeList");function ZSe(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}o(ZSe,"matches");function sL(t){let e={};for(let n in t)e[n]=t[n];return e}o(sL,"copy");function oL(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],a=o(l=>{s.push(l);for(let u=0;u<l.edgeCount;u++){let{type:c,next:f}=l.edge(u);if(c==e||s.indexOf(f)<0&&a(f))return!0}},"scan");if(a(i.contentMatch))return!0}}o(oL,"markMayApply");class Qp{static{o(this,"DOMSerializer")}constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=yT(n).createDocumentFragment());let i=r,s=[];return e.forEach(a=>{if(s.length||a.marks.length){let l=0,u=0;for(;l<s.length&&u<a.marks.length;){let c=a.marks[u];if(!this.marks[c.type.name]){u++;continue}if(!c.eq(s[l][0])||c.type.spec.spanning===!1)break;l++,u++}for(;l<s.length;)i=s.pop()[1];for(;u<a.marks.length;){let c=a.marks[u++],f=this.serializeMark(c,a.isInline,n);f&&(s.push([c,i]),i.appendChild(f.dom),i=f.contentDOM||f.dom)}}i.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=mb(yT(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&mb(yT(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return mb(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Qp(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=aL(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return aL(e.marks)}}function aL(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}o(aL,"gatherToDOM");function yT(t){return t.document||window.document}o(yT,"doc$1");const lL=new WeakMap;function QSe(t){let e=lL.get(t);return e===void 0&&lL.set(t,e=eke(t)),e}o(QSe,"suspiciousAttributes");function eke(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return o(n,"scan"),n(t),e}o(eke,"suspiciousAttributesInner");function mb(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=QSe(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let l,u=n?t.createElementNS(n,i):t.createElement(i),c=e[1],f=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){f=2;for(let h in c)if(c[h]!=null){let d=h.indexOf(" ");d>0?u.setAttributeNS(h.slice(0,d),h.slice(d+1),c[h]):u.setAttribute(h,c[h])}}for(let h=f;h<e.length;h++){let d=e[h];if(d===0){if(h<e.length-1||h>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}else{let{dom:p,contentDOM:m}=mb(t,d,n,r);if(u.appendChild(p),m){if(l)throw new RangeError("Multiple content holes");l=m}}}return{dom:u,contentDOM:l}}o(mb,"renderSpec");const zj=65535,Vj=Math.pow(2,16);function tke(t,e){return t+e*Vj}o(tke,"makeRecover");function uL(t){return t&zj}o(uL,"recoverIndex");function nke(t){return(t-(t&zj))/Vj}o(nke,"recoverOffset");const jj=1,Wj=2,gb=4,Hj=8;class _A{static{o(this,"MapResult")}constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&Hj)>0}get deletedBefore(){return(this.delInfo&(jj|gb))>0}get deletedAfter(){return(this.delInfo&(Wj|gb))>0}get deletedAcross(){return(this.delInfo&gb)>0}}class Yi{static{o(this,"StepMap")}constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Yi.empty)return Yi.empty}recover(e){let n=0,r=uL(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+nke(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?i:0);if(u>e)break;let c=this.ranges[l+s],f=this.ranges[l+a],h=u+c;if(e<=h){let d=c?e==u?-1:e==h?1:n:n,p=u+i+(d<0?0:f);if(r)return p;let m=e==(n<0?u:h)?null:tke(l/3,e-u),y=e==u?Wj:e==h?jj:gb;return(n<0?e!=u:e!=h)&&(y|=Hj),new _A(p,y,m)}i+=f-c}return r?e+i:new _A(e+i,0,null)}touches(e,n){let r=0,i=uL(n),s=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?r:0);if(u>e)break;let c=this.ranges[l+s],f=u+c;if(e<=f&&l==i*3)return!0;r+=this.ranges[l+a]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let a=this.ranges[i],l=a-(this.inverted?s:0),u=a+(this.inverted?0:s),c=this.ranges[i+n],f=this.ranges[i+r];e(l,l+c,u,u+f),s+=f-c}}invert(){return new Yi(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Yi.empty:new Yi(e<0?[0,-e,0]:[0,0,e])}}Yi.empty=new Yi([]);class Fd{static{o(this,"Mapping")}constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new Fd(this.maps,this.mirror,e,n)}copy(){return new Fd(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Fd;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let a=this.maps[s],l=a.mapResult(e,n);if(l.recover!=null){let u=this.getMirror(s);if(u!=null&&u>s&&u<this.to){s=u,e=this.maps[u].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new _A(e,i,null)}}const _T=Object.create(null);class Xr{static{o(this,"Step")}getMap(){return Yi.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=_T[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in _T)throw new RangeError("Duplicate use of step JSON ID "+e);return _T[e]=n,n.prototype.jsonID=e,n}}class zn{static{o(this,"StepResult")}constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new zn(e,null)}static fail(e){return new zn(null,e)}static fromReplace(e,n,r,i){try{return zn.ok(e.replace(n,r,i))}catch(s){if(s instanceof Hw)return zn.fail(s.message);throw s}}}function CR(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(CR(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return le.fromArray(r)}o(CR,"mapFragment");class Eu extends Xr{static{o(this,"AddMarkStep")}constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new we(CR(n.content,(a,l)=>!a.isAtom||!l.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),n.openStart,n.openEnd);return zn.fromReplace(e,this.from,this.to,s)}invert(){return new aa(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Eu(n.pos,r.pos,this.mark)}merge(e){return e instanceof Eu&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Eu(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Eu(n.from,n.to,e.markFromJSON(n.mark))}}Xr.jsonID("addMark",Eu);class aa extends Xr{static{o(this,"RemoveMarkStep")}constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new we(CR(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return zn.fromReplace(e,this.from,this.to,r)}invert(){return new Eu(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new aa(n.pos,r.pos,this.mark)}merge(e){return e instanceof aa&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new aa(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new aa(n.from,n.to,e.markFromJSON(n.mark))}}Xr.jsonID("removeMark",aa);class xu extends Xr{static{o(this,"AddNodeMarkStep")}constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return zn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return zn.fromReplace(e,this.pos,this.pos+1,new we(le.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new xu(this.pos,n.marks[i]);return new xu(this.pos,this.mark)}}return new _p(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new xu(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new xu(n.pos,e.markFromJSON(n.mark))}}Xr.jsonID("addNodeMark",xu);class _p extends Xr{static{o(this,"RemoveNodeMarkStep")}constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return zn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return zn.fromReplace(e,this.pos,this.pos+1,new we(le.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new xu(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new _p(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new _p(n.pos,e.markFromJSON(n.mark))}}Xr.jsonID("removeNodeMark",_p);class Er extends Xr{static{o(this,"ReplaceStep")}constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&bA(e,this.from,this.to)?zn.fail("Structure replace would overwrite content"):zn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Yi([this.from,this.to-this.from,this.slice.size])}invert(e){return new Er(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Er(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Er)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?we.empty:new we(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Er(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?we.empty:new we(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Er(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Er(n.from,n.to,we.fromJSON(e,n.slice),!!n.structure)}}Xr.jsonID("replace",Er);class Ir extends Xr{static{o(this,"ReplaceAroundStep")}constructor(e,n,r,i,s,a,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=a,this.structure=l}apply(e){if(this.structure&&(bA(e,this.from,this.gapFrom)||bA(e,this.gapTo,this.to)))return zn.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return zn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?zn.fromReplace(e,this.from,this.to,r):zn.fail("Content does not fit in gap")}getMap(){return new Yi([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Ir(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new Ir(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ir(n.from,n.to,n.gapFrom,n.gapTo,we.fromJSON(e,n.slice),n.insert,!!n.structure)}}Xr.jsonID("replaceAround",Ir);function bA(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let a=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}o(bA,"contentBetween");function rke(t,e,n,r){let i=[],s=[],a,l;t.doc.nodesBetween(e,n,(u,c,f)=>{if(!u.isInline)return;let h=u.marks;if(!r.isInSet(h)&&f.type.allowsMarkType(r.type)){let d=Math.max(c,e),p=Math.min(c+u.nodeSize,n),m=r.addToSet(h);for(let y=0;y<h.length;y++)h[y].isInSet(m)||(a&&a.to==d&&a.mark.eq(h[y])?a.to=p:i.push(a=new aa(d,p,h[y])));l&&l.to==d?l.to=p:s.push(l=new Eu(d,p,r))}}),i.forEach(u=>t.step(u)),s.forEach(u=>t.step(u))}o(rke,"addMark");function ike(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(a,l)=>{if(!a.isInline)return;s++;let u=null;if(r instanceof bx){let c=a.marks,f;for(;f=r.isInSet(c);)(u||(u=[])).push(f),c=f.removeFromSet(c)}else r?r.isInSet(a.marks)&&(u=[r]):u=a.marks;if(u&&u.length){let c=Math.min(l+a.nodeSize,n);for(let f=0;f<u.length;f++){let h=u[f],d;for(let p=0;p<i.length;p++){let m=i[p];m.step==s-1&&h.eq(i[p].style)&&(d=m)}d?(d.to=c,d.step=s):i.push({style:h,from:Math.max(l,e),to:c,step:s})}}}),i.forEach(a=>t.step(new aa(a.from,a.to,a.style)))}o(ike,"removeMark");function IR(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),a=[],l=e+1;for(let u=0;u<s.childCount;u++){let c=s.child(u),f=l+c.nodeSize,h=r.matchType(c.type);if(!h)a.push(new Er(l,f,we.empty));else{r=h;for(let d=0;d<c.marks.length;d++)n.allowsMarkType(c.marks[d].type)||t.step(new aa(l,f,c.marks[d]));if(i&&c.isText&&n.whitespace!="pre"){let d,p=/\r?\n|\r/g,m;for(;d=p.exec(c.text);)m||(m=new we(le.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),a.push(new Er(l+d.index,l+d.index+d[0].length,m))}}l=f}if(!r.validEnd){let u=r.fillBefore(le.empty,!0);t.replace(l,l,new we(u,0,0))}for(let u=a.length-1;u>=0;u--)t.step(a[u])}o(IR,"clearIncompatible");function ske(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}o(ske,"canCut");function Gy(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),a=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,a,n))return r;if(r==0||i.type.spec.isolating||!ske(i,s,a))break}return null}o(Gy,"liftTarget");function oke(t,e,n){let{$from:r,$to:i,depth:s}=e,a=r.before(s+1),l=i.after(s+1),u=a,c=l,f=le.empty,h=0;for(let m=s,y=!1;m>n;m--)y||r.index(m)>0?(y=!0,f=le.from(r.node(m).copy(f)),h++):u--;let d=le.empty,p=0;for(let m=s,y=!1;m>n;m--)y||i.after(m+1)<i.end(m)?(y=!0,d=le.from(i.node(m).copy(d)),p++):c++;t.step(new Ir(u,c,a,l,new we(f.append(d),h,p),f.size-h,!0))}o(oke,"lift$1");function Gj(t,e,n=null,r=t){let i=ake(t,e),s=i&&lke(r,e);return s?i.map(cL).concat({type:e,attrs:n}).concat(s.map(cL)):null}o(Gj,"findWrapping");function cL(t){return{type:t,attrs:null}}o(cL,"withAttrs");function ake(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let a=s.length?s[0]:e;return n.canReplaceWith(r,i,a)?s:null}o(ake,"findWrappingOutside");function lke(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),a=e.contentMatch.findWrapping(s.type);if(!a)return null;let u=(a.length?a[a.length-1]:e).contentMatch;for(let c=r;u&&c<i;c++)u=u.matchType(n.child(c).type);return!u||!u.validEnd?null:a}o(lke,"findWrappingInside");function uke(t,e,n){let r=le.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let l=n[a].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=le.from(n[a].type.create(n[a].attrs,r))}let i=e.start,s=e.end;t.step(new Ir(i,s,i,s,new we(r,0,0),n.length,!0))}o(uke,"wrap$2");function cke(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(a,l)=>{let u=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(r,u)&&fke(t.doc,t.mapping.slice(s).map(l),r)){let c=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",m=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!m?c=!1:!p&&m&&(c=!0)}c===!1&&Kj(t,a,l,s),IR(t,t.mapping.slice(s).map(l,1),r,void 0,c===null);let f=t.mapping.slice(s),h=f.map(l,1),d=f.map(l+a.nodeSize,1);return t.step(new Ir(h,d,h+1,d-1,new we(le.from(r.create(u,null,a.marks)),0,0),1,!0)),c===!0&&qj(t,a,l,s),!1}})}o(cke,"setBlockType$1");function qj(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let a,l=/\r?\n|\r/g;for(;a=l.exec(i.text);){let u=t.mapping.slice(r).map(n+1+s+a.index);t.replaceWith(u,u+1,e.type.schema.linebreakReplacement.create())}}})}o(qj,"replaceNewlines");function Kj(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+s);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}o(Kj,"replaceLinebreaks");function fke(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}o(fke,"canChangeType");function hke(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let a=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,a);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Ir(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new we(le.from(a),0,0),1,!0))}o(hke,"setNodeMarkup");function Yj(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,a=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,f=n-2;c>s;c--,f--){let h=i.node(c),d=i.index(c);if(h.type.spec.isolating)return!1;let p=h.content.cutByIndex(d,h.childCount),m=r&&r[f+1];m&&(p=p.replaceChild(0,m.type.create(m.attrs)));let y=r&&r[f]||h;if(!h.canReplace(d+1,h.childCount)||!y.type.validContent(p))return!1}let l=i.indexAfter(s),u=r&&r[0];return i.node(s).canReplaceWith(l,l,u?u.type:i.node(s+1).type)}o(Yj,"canSplit");function dke(t,e,n=1,r){let i=t.doc.resolve(e),s=le.empty,a=le.empty;for(let l=i.depth,u=i.depth-n,c=n-1;l>u;l--,c--){s=le.from(i.node(l).copy(s));let f=r&&r[c];a=le.from(f?f.type.create(f.attrs,a):i.node(l).copy(a))}t.step(new Er(e,e,new we(s.append(a),n,n),!0))}o(dke,"split");function qy(t,e){let n=t.resolve(e),r=n.index();return Xj(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}o(qy,"canJoin");function pke(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),a=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}o(pke,"canAppendWithSubstitutedLinebreaks");function Xj(t,e){return!!(t&&e&&!t.isLeaf&&pke(t,e))}o(Xj,"joinable");function Jj(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,a,l=r.index(i);if(i==r.depth?(s=r.nodeBefore,a=r.nodeAfter):n>0?(s=r.node(i+1),l++,a=r.node(i).maybeChild(l)):(s=r.node(i).maybeChild(l-1),a=r.node(i+1)),s&&!s.isTextblock&&Xj(s,a)&&r.node(i).canReplace(l,l+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}o(Jj,"joinPoint");function mke(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),a=s.node().type;if(i&&a.inlineContent){let f=a.whitespace=="pre",h=!!a.contentMatch.matchType(i);f&&!h?r=!1:!f&&h&&(r=!0)}let l=t.steps.length;if(r===!1){let f=t.doc.resolve(e+n);Kj(t,f.node(),f.before(),l)}a.inlineContent&&IR(t,e+n-1,a,s.node().contentMatchAt(s.index()),r==null);let u=t.mapping.slice(l),c=u.map(e-n);if(t.step(new Er(c,u.map(e+n,-1),we.empty,!0)),r===!0){let f=t.doc.resolve(c);qj(t,f.node(),f.before(),t.steps.length)}return t}o(mke,"join");function gke(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}o(gke,"insertPoint");function Zj(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let a=r.depth;a>=0;a--){let l=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,u=r.index(a)+(l>0?1:0),c=r.node(a),f=!1;if(s==1)f=c.canReplace(u,u,i);else{let h=c.contentMatchAt(u).findWrapping(i.firstChild.type);f=h&&c.canReplaceWith(u,u,h[0])}if(f)return l==0?r.pos:l<0?r.before(a+1):r.after(a+1)}return null}o(Zj,"dropPoint");function wx(t,e,n=e,r=we.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return Qj(i,s,r)?new Er(e,n,r):new yke(i,s,r).fit()}o(wx,"replaceStep");function Qj(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}o(Qj,"fitsTrivially");class yke{static{o(this,"Fitter")}constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=le.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=le.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,a=r.depth,l=i.depth;for(;a&&l&&s.childCount==1;)s=s.firstChild.content,a--,l--;let u=new we(s,a,l);return e>-1?new Ir(r.pos,e,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new Er(r.pos,i.pos,u):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=bT(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let a=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:u,match:c}=this.frontier[l],f,h=null;if(n==1&&(a?c.matchType(a.type)||(h=c.fillBefore(le.from(a),!1)):s&&u.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:l,parent:s,inject:h};if(n==2&&a&&(f=c.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:l,parent:s,wrap:f};if(s&&c.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=bT(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new we(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=bT(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new we(rg(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new we(rg(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let y=0;y<s.length;y++)this.openFrontierNode(s[y]);let a=this.unplaced,l=r?r.content:a.content,u=a.openStart-e,c=0,f=[],{match:h,type:d}=this.frontier[n];if(i){for(let y=0;y<i.childCount;y++)f.push(i.child(y));h=h.matchFragment(i)}let p=l.size+e-(a.content.size-a.openEnd);for(;c<l.childCount;){let y=l.child(c),_=h.matchType(y.type);if(!_)break;c++,(c>1||u==0||y.content.size)&&(h=_,f.push(eW(y.mark(d.allowedMarks(y.marks)),c==1?u:0,c==l.childCount?p:-1)))}let m=c==l.childCount;m||(p=-1),this.placed=ig(this.placed,n,le.from(f)),this.frontier[n].match=h,m&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let y=0,_=l;y<p;y++){let b=_.lastChild;this.frontier.push({type:b.type,match:b.contentMatchAt(b.childCount)}),_=b.content}this.unplaced=m?e==0?we.empty:new we(rg(a.content,e-1,1),e-1,p<0?a.openEnd:e-1):new we(rg(a.content,e,c),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!wT(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=wT(e,n,i,r,s);if(a){for(let l=n-1;l>=0;l--){let{match:u,type:c}=this.frontier[l],f=wT(e,l,c,u,!0);if(!f||f.childCount)continue e}return{depth:n,fit:a,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=ig(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=ig(this.placed,this.depth,le.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(le.empty,!0);n.childCount&&(this.placed=ig(this.placed,this.frontier.length,n))}}function rg(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(rg(t.firstChild.content,e-1,n)))}o(rg,"dropFromFragment");function ig(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(ig(t.lastChild.content,e-1,n)))}o(ig,"addToFragment");function bT(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}o(bT,"contentAt");function eW(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,eW(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(le.empty,!0)))),t.copy(r)}o(eW,"closeNodeStart");function wT(t,e,n,r,i){let s=t.node(e),a=i?t.indexAfter(e):t.index(e);if(a==s.childCount&&!n.compatibleContent(s.type))return null;let l=r.fillBefore(s.content,!0,a);return l&&!_ke(n,s.content,a)?l:null}o(wT,"contentAfterFits");function _ke(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}o(_ke,"invalidMarks");function bke(t){return t.spec.defining||t.spec.definingForContent}o(bke,"definesContent");function wke(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(Qj(i,s,r))return t.step(new Er(e,n,r));let a=nW(i,t.doc.resolve(n));a[a.length-1]==0&&a.pop();let l=-(i.depth+1);a.unshift(l);for(let d=i.depth,p=i.pos-1;d>0;d--,p--){let m=i.node(d).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;a.indexOf(d)>-1?l=d:i.before(d)==p&&a.splice(1,0,-d)}let u=a.indexOf(l),c=[],f=r.openStart;for(let d=r.content,p=0;;p++){let m=d.firstChild;if(c.push(m),p==r.openStart)break;d=m.content}for(let d=f-1;d>=0;d--){let p=c[d],m=bke(p.type);if(m&&!p.sameMarkup(i.node(Math.abs(l)-1)))f=d;else if(m||!p.type.isTextblock)break}for(let d=r.openStart;d>=0;d--){let p=(d+f+1)%(r.openStart+1),m=c[p];if(m)for(let y=0;y<a.length;y++){let _=a[(y+u)%a.length],b=!0;_<0&&(b=!1,_=-_);let S=i.node(_-1),v=i.index(_-1);if(S.canReplaceWith(v,v,m.type,m.marks))return t.replace(i.before(_),b?s.after(_):n,new we(tW(r.content,0,r.openStart,p),p,r.openEnd))}}let h=t.steps.length;for(let d=a.length-1;d>=0&&(t.replace(e,n,r),!(t.steps.length>h));d--){let p=a[d];p<0||(e=i.before(p),n=s.after(p))}}o(wke,"replaceRange");function tW(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(tW(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(le.empty,!0))}return t}o(tW,"closeFragment");function vke(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=gke(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new we(le.from(r),0,0))}o(vke,"replaceRangeWith");function Eke(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=nW(r,i);for(let a=0;a<s.length;a++){let l=s[a],u=a==s.length-1;if(u&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),i.end(l));if(l>0&&(u||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return t.delete(r.before(l),i.after(l))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&i.end(a)-n!=i.depth-a&&r.start(a-1)==i.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),i.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}o(Eke,"deleteRange");function nW(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}o(nW,"coveredDepths");class Bd extends Xr{static{o(this,"AttrStep")}constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return zn.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return zn.fromReplace(e,this.pos,this.pos+1,new we(le.from(i),0,n.isLeaf?0:1))}getMap(){return Yi.empty}invert(e){return new Bd(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Bd(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Bd(n.pos,n.attr,n.value)}}Xr.jsonID("attr",Bd);class V0 extends Xr{static{o(this,"DocAttrStep")}constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return zn.ok(r)}getMap(){return Yi.empty}invert(e){return new V0(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new V0(n.attr,n.value)}}Xr.jsonID("docAttr",V0);let bp=class extends Error{static{o(this,"TransformError")}};bp=o(function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n},"TransformError");bp.prototype=Object.create(Error.prototype);bp.prototype.constructor=bp;bp.prototype.name="TransformError";class rW{static{o(this,"Transform")}constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Fd}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new bp(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=we.empty){let i=wx(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new we(le.from(r),0,0))}delete(e,n){return this.replace(e,n,we.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return wke(this,e,n,r),this}replaceRangeWith(e,n,r){return vke(this,e,n,r),this}deleteRange(e,n){return Eke(this,e,n),this}lift(e,n){return oke(this,e,n),this}join(e,n=1){return mke(this,e,n),this}wrap(e,n){return uke(this,e,n),this}setBlockType(e,n=e,r,i=null){return cke(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return hke(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Bd(e,n,r)),this}setDocAttribute(e,n){return this.step(new V0(e,n)),this}addNodeMark(e,n){return this.step(new xu(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Et)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new _p(e,n)),this}split(e,n=1,r){return dke(this,e,n,r),this}addMark(e,n,r){return rke(this,e,n,r),this}removeMark(e,n,r){return ike(this,e,n,r),this}clearIncompatible(e,n,r){return IR(this,e,n,r),this}}const vT=Object.create(null);class Ye{static{o(this,"Selection")}constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new iW(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=we.empty){let r=n.content.lastChild,i=null;for(let l=0;l<n.openEnd;l++)i=r,r=r.lastChild;let s=e.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:u,$to:c}=a[l],f=e.mapping.slice(s);e.replaceRange(f.map(u.pos),f.map(c.pos),l?we.empty:n),l==0&&dL(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:a,$to:l}=i[s],u=e.mapping.slice(r),c=u.map(a.pos),f=u.map(l.pos);s?e.deleteRange(c,f):(e.replaceRangeWith(c,f,n),dL(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new lt(e):id(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let a=n<0?id(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):id(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new mo(e.node(0))}static atStart(e){return id(e,e,0,0,1)||new mo(e)}static atEnd(e){return id(e,e,e.content.size,e.childCount,-1)||new mo(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=vT[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in vT)throw new RangeError("Duplicate use of selection JSON ID "+e);return vT[e]=n,n.prototype.jsonID=e,n}getBookmark(){return lt.between(this.$anchor,this.$head).getBookmark()}}Ye.prototype.visible=!0;class iW{static{o(this,"SelectionRange")}constructor(e,n){this.$from=e,this.$to=n}}let fL=!1;function hL(t){!fL&&!t.parent.inlineContent&&(fL=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}o(hL,"checkTextSelection");class lt extends Ye{static{o(this,"TextSelection")}constructor(e,n=e){hL(e),hL(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ye.near(r);let i=e.resolve(n.map(this.anchor));return new lt(i.parent.inlineContent?i:r,r)}replace(e,n=we.empty){if(super.replace(e,n),n==we.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof lt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new vx(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new lt(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Ye.findFrom(n,r,!0)||Ye.findFrom(n,-r,!0);if(s)n=s.$head;else return Ye.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Ye.findFrom(e,-r,!0)||Ye.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new lt(e,n)}}Ye.jsonID("text",lt);class vx{static{o(this,"TextBookmark")}constructor(e,n){this.anchor=e,this.head=n}map(e){return new vx(e.map(this.anchor),e.map(this.head))}resolve(e){return lt.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ue extends Ye{static{o(this,"NodeSelection")}constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?Ye.near(s):new Ue(s)}content(){return new we(le.from(this.node),0,0)}eq(e){return e instanceof Ue&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new RR(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ue(e.resolve(n.anchor))}static create(e,n){return new Ue(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ue.prototype.visible=!1;Ye.jsonID("node",Ue);class RR{static{o(this,"NodeBookmark")}constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new vx(r,r):new RR(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Ue.isSelectable(r)?new Ue(n):Ye.near(n)}}class mo extends Ye{static{o(this,"AllSelection")}constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=we.empty){if(n==we.empty){e.delete(0,e.doc.content.size);let r=Ye.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new mo(e)}map(e){return new mo(e)}eq(e){return e instanceof mo}getBookmark(){return xke}}Ye.jsonID("all",mo);const xke={map(){return this},resolve(t){return new mo(t)}};function id(t,e,n,r,i,s=!1){if(e.inlineContent)return lt.create(t,n);for(let a=r-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let l=e.child(a);if(l.isAtom){if(!s&&Ue.isSelectable(l))return Ue.create(t,n-(i<0?l.nodeSize:0))}else{let u=id(t,l,n+i,i<0?l.childCount:0,i,s);if(u)return u}n+=l.nodeSize*i}return null}o(id,"findSelectionIn");function dL(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Er||i instanceof Ir))return;let s=t.mapping.maps[r],a;s.forEach((l,u,c,f)=>{a==null&&(a=f)}),t.setSelection(Ye.near(t.doc.resolve(a),n))}o(dL,"selectionToInsertionEnd");const pL=1,w_=2,mL=4;class Tke extends rW{static{o(this,"Transaction")}constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|pL)&~w_,this.storedMarks=null,this}get selectionSet(){return(this.updated&pL)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=w_,this}ensureMarks(e){return Et.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&w_)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~w_,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Et.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let a=this.doc.resolve(n);s=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(Ye.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=mL,this}get scrolledIntoView(){return(this.updated&mL)>0}}function gL(t,e){return!e||!t?t:t.bind(e)}o(gL,"bind$2");class sg{static{o(this,"FieldDesc")}constructor(e,n,r){this.name=e,this.init=gL(n.init,r),this.apply=gL(n.apply,r)}}const Ske=[new sg("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new sg("selection",{init(t,e){return t.selection||Ye.atStart(e.doc)},apply(t){return t.selection}}),new sg("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new sg("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class ET{static{o(this,"Configuration")}constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Ske.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new sg(r.key,r.spec.state,r))})}}class og{static{o(this,"EditorState")}constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let a=0;a<this.config.plugins.length;a++){let l=this.config.plugins[a];if(l.spec.appendTransaction){let u=i?i[a].n:0,c=i?i[a].state:this,f=u<n.length&&l.spec.appendTransaction.call(l,u?n.slice(u):n,c,r);if(f&&r.filterTransaction(f,a)){if(f.setMeta("appendedTransaction",e),!i){i=[];for(let h=0;h<this.config.plugins.length;h++)i.push(h<a?{state:r,n:n.length}:{state:this,n:0})}n.push(f),r=r.applyInner(f),s=!0}i&&(i[a]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new og(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new Tke(this)}static create(e){let n=new ET(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new og(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new ET(this.schema,e.plugins),r=n.fields,i=new og(n);for(let s=0;s<r.length;s++){let a=r[s].name;i[a]=this.hasOwnProperty(a)?this[a]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new ET(e.schema,e.plugins),s=new og(i);return i.fields.forEach(a=>{if(a.name=="doc")s.doc=lf.fromJSON(e.schema,n.doc);else if(a.name=="selection")s.selection=Ye.fromJSON(s.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let u=r[l],c=u.spec.state;if(u.key==a.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){s[a.name]=c.fromJSON.call(u,e,n[l],s);return}}s[a.name]=a.init(e,s)}}),s}}function sW(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=sW(i,e,{})),n[r]=i}return n}o(sW,"bindProps");class em{static{o(this,"Plugin")}constructor(e){this.spec=e,this.props={},e.props&&sW(e.props,this,this.props),this.key=e.key?e.key.key:oW("plugin")}getState(e){return e[this.key]}}const xT=Object.create(null);function oW(t){return t in xT?t+"$"+ ++xT[t]:(xT[t]=0,t+"$")}o(oW,"createKey");class Ky{static{o(this,"PluginKey")}constructor(e="key"){this.key=oW(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const xr=o(function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},"domIndex"),j0=o(function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e},"parentNode");let wA=null;const el=o(function(t,e,n){let r=wA||(wA=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},"textRange"),kke=o(function(){wA=null},"clearReusedRange"),Uf=o(function(t,e,n,r){return n&&(yL(t,e,n,r,-1)||yL(t,e,n,r,1))},"isEquivalentPosition"),Ake=/^(img|br|input|textarea|hr)$/i;function yL(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Ss(t))){let s=t.parentNode;if(!s||s.nodeType!=1||Yy(t)||Ake.test(t.nodeName)||t.contentEditable=="false")return!1;e=xr(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Ss(t):0}else return!1}}o(yL,"scanFor");function Ss(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}o(Ss,"nodeSize");function Cke(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Ss(t)}else if(t.parentNode&&!Yy(t))e=xr(t),t=t.parentNode;else return null}}o(Cke,"textNodeBefore$1");function Ike(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Yy(t))e=xr(t)+1,t=t.parentNode;else return null}}o(Ike,"textNodeAfter$1");function Rke(t,e,n){for(let r=e==0,i=e==Ss(t);r||i;){if(t==n)return!0;let s=xr(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==Ss(t)}}o(Rke,"isOnEdge");function Yy(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}o(Yy,"hasBlockDesc");const Ex=o(function(t){return t.focusNode&&Uf(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)},"selectionCollapsed");function Uc(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}o(Uc,"keyEvent");function Oke(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}o(Oke,"deepActiveElement");function Nke(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Ss(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Ss(r.startContainer),r.startOffset)}}}o(Nke,"caretFromPoint");const va=typeof navigator<"u"?navigator:null,_L=typeof document<"u"?document:null,yc=va&&va.userAgent||"",vA=/Edge\/(\d+)/.exec(yc),aW=/MSIE \d/.exec(yc),EA=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(yc),Li=!!(aW||EA||vA),Mu=aW?document.documentMode:EA?+EA[1]:vA?+vA[1]:0,So=!Li&&/gecko\/(\d+)/i.test(yc);So&&+(/Firefox\/(\d+)/.exec(yc)||[0,0])[1];const xA=!Li&&/Chrome\/(\d+)/.exec(yc),jr=!!xA,lW=xA?+xA[1]:0,bi=!Li&&!!va&&/Apple Computer/.test(va.vendor),wp=bi&&(/Mobile\/\w+/.test(yc)||!!va&&va.maxTouchPoints>2),vs=wp||(va?/Mac/.test(va.platform):!1),Mke=va?/Win/.test(va.platform):!1,hl=/Android \d/.test(yc),Xy=!!_L&&"webkitFontSmoothing"in _L.documentElement.style,Dke=Xy?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Pke(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}o(Pke,"windowRect");function Ha(t,e){return typeof t=="number"?t:t[e]}o(Ha,"getSide");function $ke(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}o($ke,"clientRect");function bL(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let a=n||t.dom;a;a=j0(a)){if(a.nodeType!=1)continue;let l=a,u=l==s.body,c=u?Pke(s):$ke(l),f=0,h=0;if(e.top<c.top+Ha(r,"top")?h=-(c.top-e.top+Ha(i,"top")):e.bottom>c.bottom-Ha(r,"bottom")&&(h=e.bottom-e.top>c.bottom-c.top?e.top+Ha(i,"top")-c.top:e.bottom-c.bottom+Ha(i,"bottom")),e.left<c.left+Ha(r,"left")?f=-(c.left-e.left+Ha(i,"left")):e.right>c.right-Ha(r,"right")&&(f=e.right-c.right+Ha(i,"right")),f||h)if(u)s.defaultView.scrollBy(f,h);else{let d=l.scrollLeft,p=l.scrollTop;h&&(l.scrollTop+=h),f&&(l.scrollLeft+=f);let m=l.scrollLeft-d,y=l.scrollTop-p;e={left:e.left-m,top:e.top-y,right:e.right-m,bottom:e.bottom-y}}if(u||/^(fixed|sticky)$/.test(getComputedStyle(a).position))break}}o(bL,"scrollRectIntoView");function Lke(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let l=t.root.elementFromPoint(s,a);if(!l||l==t.dom||!t.dom.contains(l))continue;let u=l.getBoundingClientRect();if(u.top>=n-20){r=l,i=u.top;break}}return{refDOM:r,refTop:i,stack:uW(t.dom)}}o(Lke,"storeScrollPos");function uW(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=j0(r));return e}o(uW,"scrollStack");function Fke({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;cW(n,r==0?0:r-e)}o(Fke,"resetScrollPos");function cW(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}o(cW,"restoreScrollStack");let Dh=null;function Bke(t){if(t.setActive)return t.setActive();if(Dh)return t.focus(Dh);let e=uW(t);t.focus(Dh==null?{get preventScroll(){return Dh={preventScroll:!0},!0}}:void 0),Dh||(Dh=!1,cW(e,0))}o(Bke,"focusPreventScroll");function fW(t,e){let n,r=2e8,i,s=0,a=e.top,l=e.top,u,c;for(let f=t.firstChild,h=0;f;f=f.nextSibling,h++){let d;if(f.nodeType==1)d=f.getClientRects();else if(f.nodeType==3)d=el(f).getClientRects();else continue;for(let p=0;p<d.length;p++){let m=d[p];if(m.top<=a&&m.bottom>=l){a=Math.max(m.bottom,a),l=Math.min(m.top,l);let y=m.left>e.left?m.left-e.left:m.right<e.left?e.left-m.right:0;if(y<r){n=f,r=y,i=y&&n.nodeType==3?{left:m.right<e.left?m.right:m.left,top:e.top}:e,f.nodeType==1&&y&&(s=h+(e.left>=(m.left+m.right)/2?1:0));continue}}else m.top>e.top&&!u&&m.left<=e.left&&m.right>=e.left&&(u=f,c={left:Math.max(m.left,Math.min(m.right,e.left)),top:m.top});!n&&(e.left>=m.right&&e.top>=m.top||e.left>=m.left&&e.top>=m.bottom)&&(s=h+1)}}return!n&&u&&(n=u,i=c,r=0),n&&n.nodeType==3?Uke(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:fW(n,i)}o(fW,"findOffsetInNode");function Uke(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=tu(r,1);if(s.top!=s.bottom&&OR(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}o(Uke,"findOffsetInText");function OR(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}o(OR,"inRect");function zke(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}o(zke,"targetKludge");function Vke(t,e,n){let{node:r,offset:i}=fW(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}o(Vke,"posFromElement");function jke(t,e,n,r){let i=-1;for(let s=e,a=!1;s!=t.dom;){let l=t.docView.nearestDesc(s,!0),u;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((u=l.dom.getBoundingClientRect()).width||u.height)&&(l.node.isBlock&&l.parent&&(!a&&u.left>r.left||u.top>r.top?i=l.posBefore:(!a&&u.right<r.left||u.bottom<r.top)&&(i=l.posAfter),a=!0),!l.contentDOM&&i<0&&!l.node.isText))return(l.node.isBlock?r.top<(u.top+u.bottom)/2:r.left<(u.left+u.right)/2)?l.posBefore:l.posAfter;s=l.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}o(jke,"posFromCaret");function hW(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let a=t.childNodes[s];if(a.nodeType==1){let l=a.getClientRects();for(let u=0;u<l.length;u++){let c=l[u];if(OR(e,c))return hW(a,e,c)}}if((s=(s+1)%r)==i)break}return t}o(hW,"elementFromPoint");function Wke(t,e){let n=t.dom.ownerDocument,r,i=0,s=Nke(n,e.left,e.top);s&&({node:r,offset:i}=s);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let c=t.dom.getBoundingClientRect();if(!OR(e,c)||(a=hW(t.dom,e,c),!a))return null}if(bi)for(let c=a;r&&c;c=j0(c))c.draggable&&(r=void 0);if(a=zke(a,e),r){if(So&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let f=r.childNodes[i],h;f.nodeName=="IMG"&&(h=f.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&i++}let c;Xy&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(l=jke(t,r,i,e))}l==null&&(l=Vke(t,a,e));let u=t.docView.nearestDesc(a,!0);return{pos:l,inside:u?u.posAtStart-u.border:-1}}o(Wke,"posAtCoords");function wL(t){return t.top<t.bottom||t.left<t.right}o(wL,"nonZero");function tu(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(wL(r))return r}return Array.prototype.find.call(n,wL)||t.getBoundingClientRect()}o(tu,"singleRect");const Hke=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function dW(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),a=Xy||So;if(r.nodeType==3)if(a&&(Hke.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let u=tu(el(r,i,i),n);if(So&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=tu(el(r,i-1,i-1),-1);if(c.top==u.top){let f=tu(el(r,i,i+1),-1);if(f.top!=u.top)return Dm(f,f.left<c.left)}}return u}else{let u=i,c=i,f=n<0?1:-1;return n<0&&!i?(c++,f=-1):n>=0&&i==r.nodeValue.length?(u--,f=1):n<0?u--:c++,Dm(tu(el(r,u,c),f),f<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==Ss(r))){let u=r.childNodes[i-1];if(u.nodeType==1)return TT(u.getBoundingClientRect(),!1)}if(s==null&&i<Ss(r)){let u=r.childNodes[i];if(u.nodeType==1)return TT(u.getBoundingClientRect(),!0)}return TT(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==Ss(r))){let u=r.childNodes[i-1],c=u.nodeType==3?el(u,Ss(u)-(a?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(c)return Dm(tu(c,1),!1)}if(s==null&&i<Ss(r)){let u=r.childNodes[i];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let c=u?u.nodeType==3?el(u,0,a?0:1):u.nodeType==1?u:null:null;if(c)return Dm(tu(c,-1),!0)}return Dm(tu(r.nodeType==3?el(r):r,-n),n>=0)}o(dW,"coordsAtPos");function Dm(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}o(Dm,"flattenV");function TT(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}o(TT,"flattenH");function pW(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}o(pW,"withFlushedState");function Gke(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return pW(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(s,!0);if(!l)break;if(l.node.isBlock){s=l.contentDOM||l.dom;break}s=l.dom.parentNode}let a=dW(t,i.pos,1);for(let l=s.firstChild;l;l=l.nextSibling){let u;if(l.nodeType==1)u=l.getClientRects();else if(l.nodeType==3)u=el(l,0,l.nodeValue.length).getClientRects();else continue;for(let c=0;c<u.length;c++){let f=u[c];if(f.bottom>f.top+1&&(n=="up"?a.top-f.top>(f.bottom-a.top)*2:f.bottom-a.bottom>(a.bottom-f.top)*2))return!1}}return!0})}o(Gke,"endOfTextblockVertical");const qke=/[\u0590-\u08ac]/;function Kke(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,a=i==r.parent.content.size,l=t.domSelection();return l?!qke.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?s:a:pW(t,e,()=>{let{focusNode:u,focusOffset:c,anchorNode:f,anchorOffset:h}=t.domSelectionRange(),d=l.caretBidiLevel;l.modify("move",n,"character");let p=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:m,focusOffset:y}=t.domSelectionRange(),_=m&&!p.contains(m.nodeType==1?m:m.parentNode)||u==m&&c==y;try{l.collapse(f,h),u&&(u!=f||c!=h)&&l.extend&&l.extend(u,c)}catch{}return d!=null&&(l.caretBidiLevel=d),_}):r.pos==r.start()||r.pos==r.end()}o(Kke,"endOfTextblockHorizontal");let vL=null,EL=null,xL=!1;function Yke(t,e,n){return vL==e&&EL==n?xL:(vL=e,EL=n,xL=n=="up"||n=="down"?Gke(t,e,n):Kke(t,e,n))}o(Yke,"endOfTextblock");const Ns=0,TL=1,qc=2,Ea=3;class Jy{static{o(this,"ViewDesc")}constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Ns,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,a;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(a)+a.size:this.posAtStart}else{let s,a;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>xr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),a;if(s&&(!n||s.node))if(r&&(a=s.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let a=this.children[r],l=s+a.size;if(l>e||a instanceof gW){i=e-s;break}s=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof mW&&s.side>=0;r--);if(n<=0){let s,a=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,a=!1);return s&&n&&a&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?xr(s.dom)+1:0}}else{let s,a=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,a=!1);return s&&a&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?xr(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let a=r,l=0;;l++){let u=this.children[l],c=a+u.size;if(i==-1&&e<=c){let f=a+u.border;if(e>=f&&n<=c-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(e,n,f);e=a;for(let h=l;h>0;h--){let d=this.children[h-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=xr(d.dom)+1;break}e-=d.size}i==-1&&(i=0)}if(i>-1&&(c>n||l==this.children.length-1)){n=c;for(let f=l+1;f<this.children.length;f++){let h=this.children[f];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){s=xr(h.dom);break}n+=h.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=c}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),a=Math.max(e,n);for(let p=0,m=0;p<this.children.length;p++){let y=this.children[p],_=m+y.size;if(s>m&&a<_)return y.setSelection(e-m-y.border,n-m-y.border,r,i);m=_}let l=this.domFromPos(e,e?-1:1),u=n==e?l:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),f=r.domSelectionRange(),h=!1;if((So||bi)&&e==n){let{node:p,offset:m}=l;if(p.nodeType==3){if(h=!!(m&&p.nodeValue[m-1]==`
`),h&&m==p.nodeValue.length)for(let y=p,_;y;y=y.parentNode){if(_=y.nextSibling){_.nodeName=="BR"&&(l=u={node:_.parentNode,offset:xr(_)+1});break}let b=y.pmViewDesc;if(b&&b.node&&b.node.isBlock)break}}else{let y=p.childNodes[m-1];h=y&&(y.nodeName=="BR"||y.contentEditable=="false")}}if(So&&f.focusNode&&f.focusNode!=u.node&&f.focusNode.nodeType==1){let p=f.focusNode.childNodes[f.focusOffset];p&&p.contentEditable=="false"&&(i=!0)}if(!(i||h&&bi)&&Uf(l.node,l.offset,f.anchorNode,f.anchorOffset)&&Uf(u.node,u.offset,f.focusNode,f.focusOffset))return;let d=!1;if((c.extend||e==n)&&!h){c.collapse(l.node,l.offset);try{e!=n&&c.extend(u.node,u.offset),d=!0}catch{}}if(!d){if(e>n){let m=l;l=u,u=m}let p=document.createRange();p.setEnd(u.node,u.offset),p.setStart(l.node,l.offset),c.removeAllRanges(),c.addRange(p)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],a=r+s.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let l=r+s.border,u=a-s.border;if(e>=l&&n<=u){this.dirty=e==r||n==a?qc:TL,e==l&&n==u&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Ea:s.markDirty(e-l,n-l);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?qc:Ea}r=a}this.dirty=qc}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?qc:TL;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class mW extends Jy{static{o(this,"WidgetViewDesc")}constructor(e,n,r,i){let s,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(a.nodeType!=1){let l=document.createElement("span");l.appendChild(a),a=l}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==Ns&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Xke extends Jy{static{o(this,"CompositionViewDesc")}constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class zf extends Jy{static{o(this,"MarkViewDesc")}constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],a=s&&s(n,i,r);return(!a||!a.dom)&&(a=Qp.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new zf(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&Ea||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Ea&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Ns){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Ns}}slice(e,n,r){let i=zf.create(this.parent,this.mark,!0,r),s=this.children,a=this.size;n<a&&(s=SA(s,n,a,r)),e>0&&(s=SA(s,0,e,r));for(let l=0;l<s.length;l++)s[l].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Du extends Jy{static{o(this,"NodeViewDesc")}constructor(e,n,r,i,s,a,l,u,c){super(e,[],s,a),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l}static create(e,n,r,i,s,a){let l=s.nodeViews[n.type.name],u,c=l&&l(n,s,()=>{if(!u)return a;if(u.parent)return u.parent.posBeforeChild(u)},r,i),f=c&&c.dom,h=c&&c.contentDOM;if(n.isText){if(!f)f=document.createTextNode(n.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:h}=Qp.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!h&&!n.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),n.type.spec.draggable&&(f.draggable=!0));let d=f;return f=bW(f,r,n),c?u=new Jke(e,n,r,i,f,h||null,d,c,s,a+1):n.isText?new xx(e,n,r,i,f,d,s):new Du(e,n,r,i,f,h||null,d,s,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>le.empty)}return e}matchesNode(e,n,r){return this.dirty==Ns&&e.eq(this.node)&&Yw(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,a=s&&s.pos>-1?s:null,l=s&&s.pos<0,u=new Qke(this,a&&a.node,e);nAe(this.node,this.innerDeco,(c,f,h)=>{c.spec.marks?u.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!h&&u.syncToMarks(f==this.node.childCount?Et.none:this.node.child(f).marks,r,e),u.placeWidget(c,e,i)},(c,f,h,d)=>{u.syncToMarks(c.marks,r,e);let p;u.findNodeMatch(c,f,h,d)||l&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(p=u.findIndexWithChild(s.node))>-1&&u.updateNodeAt(c,f,h,p,e)||u.updateNextNode(c,f,h,e,d,i)||u.addNode(c,f,h,e,i),i+=c.nodeSize}),u.syncToMarks([],r,e),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==qc)&&(a&&this.protectLocalComposition(e,a),yW(this.contentDOM,this.children,e),wp&&rAe(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof lt)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,l=iAe(this.node.content,a,r-n,i-n);return l<0?null:{node:s,pos:l,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let a=new Xke(this,s,n,i);e.input.compositionNodes.push(a),this.children=SA(this.children,r,r+i.length,e,a)}update(e,n,r,i){return this.dirty==Ea||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Ns}updateOuterDeco(e){if(Yw(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=_W(this.dom,this.nodeDOM,TA(this.outerDeco,this.node,n),TA(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function SL(t,e,n,r,i){bW(r,e,t);let s=new Du(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}o(SL,"docViewDesc");class xx extends Du{static{o(this,"TextViewDesc")}constructor(e,n,r,i,s,a,l){super(e,n,r,i,s,null,a,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Ea||this.dirty!=Ns&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Ns||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Ns,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new xx(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Ea)}get domAtom(){return!1}isText(e){return this.node.text==e}}class gW extends Jy{static{o(this,"TrailingHackViewDesc")}parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ns&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Jke extends Du{static{o(this,"CustomNodeViewDesc")}constructor(e,n,r,i,s,a,l,u,c,f){super(e,n,r,i,s,a,l,c,f),this.spec=u}update(e,n,r,i){if(this.dirty==Ea)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function yW(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let a=e[s],l=a.dom;if(l.parentNode==t){for(;l!=r;)r=kL(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(l,r);if(a instanceof zf){let u=r?r.previousSibling:t.lastChild;yW(a.contentDOM,a.children,n),r=u?u.nextSibling:t.firstChild}}for(;r;)r=kL(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}o(yW,"renderDescs");const Dg=o(function(t){t&&(this.nodeName=t)},"OuterDecoLevel");Dg.prototype=Object.create(null);const Kc=[new Dg];function TA(t,e,n){if(t.length==0)return Kc;let r=n?Kc[0]:new Dg,i=[r];for(let s=0;s<t.length;s++){let a=t[s].type.attrs;if(a){a.nodeName&&i.push(r=new Dg(a.nodeName));for(let l in a){let u=a[l];u!=null&&(n&&i.length==1&&i.push(r=new Dg(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+u:l=="style"?r.style=(r.style?r.style+";":"")+u:l!="nodeName"&&(r[l]=u))}}}return i}o(TA,"computeOuterDeco");function _W(t,e,n,r){if(n==Kc&&r==Kc)return e;let i=e;for(let s=0;s<r.length;s++){let a=r[s],l=n[s];if(s){let u;l&&l.nodeName==a.nodeName&&i!=t&&(u=i.parentNode)&&u.nodeName.toLowerCase()==a.nodeName||(u=document.createElement(a.nodeName),u.pmIsDeco=!0,u.appendChild(i),l=Kc[0]),i=u}Zke(i,l||Kc[0],a)}return i}o(_W,"patchOuterDeco");function Zke(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}o(Zke,"patchAttributes");function bW(t,e,n){return _W(t,t,Kc,TA(e,n,t.nodeType!=1))}o(bW,"applyOuterDeco");function Yw(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}o(Yw,"sameOuterDeco");function kL(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}o(kL,"rm");class Qke{static{o(this,"ViewTreeUpdater")}constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=eAe(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,a=Math.min(s,e.length);for(;i<a&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Ns,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let u=this.index;u<Math.min(this.index+3,this.top.children.length);u++){let c=this.top.children[u];if(c.matchesMark(e[s])&&!this.isLocked(c.dom)){l=u;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let u=zf.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))s=this.top.children.indexOf(a,this.index);else for(let l=this.index,u=Math.min(this.top.children.length,l+5);l<u;l++){let c=this.top.children[l];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){s=l;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let a=this.top.children[i];return a.dirty==Ea&&a.dom==a.contentDOM&&(a.dirty=qc),a.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,a){for(let l=this.index;l<this.top.children.length;l++){let u=this.top.children[l];if(u instanceof Du){let c=this.preMatch.matched.get(u);if(c!=null&&c!=s)return!1;let f=u.dom,h,d=this.isLocked(f)&&!(e.isText&&u.node&&u.node.isText&&u.nodeDOM.nodeValue==e.text&&u.dirty!=Ea&&Yw(n,u.outerDeco));if(!d&&u.update(e,n,r,i))return this.destroyBetween(this.index,l),u.dom!=f&&(this.changed=!0),this.index++,!0;if(!d&&(h=this.recreateWrapper(u,e,n,r,i,a)))return this.destroyBetween(this.index,l),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=qc,h.updateChildren(i,a+1),h.dirty=Ns),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Yw(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let l=Du.create(this.top,n,r,i,s,a);if(l.contentDOM){l.children=e.children,e.children=[];for(let u of l.children)u.parent=l}return e.destroy(),l}addNode(e,n,r,i,s){let a=Du.create(this.top,e,n,r,i,s);a.contentDOM&&a.updateChildren(i,s+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new mW(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof zf;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof xx)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((bi||jr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new gW(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function eAe(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,a=[];e:for(;i>0;){let l;for(;;)if(r){let c=n.children[r-1];if(c instanceof zf)n=c,r=c.children.length;else{l=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let u=l.node;if(u){if(u!=t.child(i-1))break;--i,s.set(l,i),a.push(l)}}return{index:i,matched:s,matches:a.reverse()}}o(eAe,"preMatch");function tAe(t,e){return t.type.side-e.type.side}o(tAe,"compareSide");function nAe(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let f=t.child(c);r(f,i,e.forChild(s,f),c),s+=f.nodeSize}return}let a=0,l=[],u=null;for(let c=0;;){let f,h;for(;a<i.length&&i[a].to==s;){let _=i[a++];_.widget&&(f?(h||(h=[f])).push(_):f=_)}if(f)if(h){h.sort(tAe);for(let _=0;_<h.length;_++)n(h[_],c,!!u)}else n(f,c,!!u);let d,p;if(u)p=-1,d=u,u=null;else if(c<t.childCount)p=c,d=t.child(c++);else break;for(let _=0;_<l.length;_++)l[_].to<=s&&l.splice(_--,1);for(;a<i.length&&i[a].from<=s&&i[a].to>s;)l.push(i[a++]);let m=s+d.nodeSize;if(d.isText){let _=m;a<i.length&&i[a].from<_&&(_=i[a].from);for(let b=0;b<l.length;b++)l[b].to<_&&(_=l[b].to);_<m&&(u=d.cut(_-s),d=d.cut(0,_-s),m=_,p=-1)}else for(;a<i.length&&i[a].to<m;)a++;let y=d.isInline&&!d.isLeaf?l.filter(_=>!_.inline):l.slice();r(d,y,e.forChild(s,d),p),s=m}}o(nAe,"iterDeco");function rAe(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}o(rAe,"iosHacks");function iAe(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let a=t.child(i++),l=s;if(s+=a.nodeSize,!a.isText)continue;let u=a.text;for(;i<t.childCount;){let c=t.child(i++);if(s+=c.nodeSize,!c.isText)break;u+=c.text}if(s>=n){if(s>=r&&u.slice(r-e.length-l,r-l)==e)return r-e.length;let c=l<r?u.lastIndexOf(e,r-l-1):-1;if(c>=0&&c+e.length+l>=n)return l+c;if(n==r&&u.length>=r+e.length-l&&u.slice(r-l,r-l+e.length)==e)return r}}return-1}o(iAe,"findTextInFragment");function SA(t,e,n,r,i){let s=[];for(let a=0,l=0;a<t.length;a++){let u=t[a],c=l,f=l+=u.size;c>=n||f<=e?s.push(u):(c<e&&s.push(u.slice(0,e-c,r)),i&&(s.push(i),i=void 0),f>n&&s.push(u.slice(n-c,u.size,r)))}return s}o(SA,"replaceNodes");function NR(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let l=r.resolve(a),u,c;if(Ex(n)){for(u=a;i&&!i.node;)i=i.parent;let h=i.node;if(i&&h.isAtom&&Ue.isSelectable(h)&&i.parent&&!(h.isInline&&Rke(n.focusNode,n.focusOffset,i.dom))){let d=i.posBefore;c=new Ue(a==d?l:r.resolve(d))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let h=a,d=a;for(let p=0;p<n.rangeCount;p++){let m=n.getRangeAt(p);h=Math.min(h,t.docView.posFromDOM(m.startContainer,m.startOffset,1)),d=Math.max(d,t.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(h<0)return null;[u,a]=d==t.state.selection.anchor?[d,h]:[h,d],l=r.resolve(a)}else u=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null}let f=r.resolve(u);if(!c){let h=e=="pointer"||t.state.selection.head<l.pos&&!s?1:-1;c=MR(t,f,l,h)}return c}o(NR,"selectionFromDOM");function wW(t){return t.editable?t.hasFocus():EW(t)&&document.activeElement&&document.activeElement.contains(t.dom)}o(wW,"editorOwnsSelection");function _l(t,e=!1){let n=t.state.selection;if(vW(t,n),!!wW(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&jr){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Uf(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)oAe(t);else{let{anchor:r,head:i}=n,s,a;AL&&!(n instanceof lt)&&(n.$from.parent.inlineContent||(s=CL(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=CL(t,n.to))),t.docView.setSelection(r,i,t,e),AL&&(s&&IL(s),a&&IL(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&sAe(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}o(_l,"selectionToDOM");const AL=bi||jr&&lW<63;function CL(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(bi&&i&&i.contentEditable=="false")return ST(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return ST(i);if(s)return ST(s)}}o(CL,"temporarilyEditableNear");function ST(t){return t.contentEditable="true",bi&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}o(ST,"setEditable");function IL(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}o(IL,"resetEditable");function sAe(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!wW(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}o(sAe,"removeClassOnSelectionChange");function oAe(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,xr(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&Li&&Mu<=11&&(r.disabled=!0,r.disabled=!1)}o(oAe,"selectCursorWrapper");function vW(t,e){if(e instanceof Ue){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(RL(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else RL(t)}o(vW,"syncNodeSelection");function RL(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}o(RL,"clearNodeSelection");function MR(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||lt.between(e,n,r)}o(MR,"selectionBetween");function OL(t){return t.editable&&!t.hasFocus()?!1:EW(t)}o(OL,"hasFocusAndSelection");function EW(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}o(EW,"hasSelection");function aAe(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Uf(e.node,e.offset,n.anchorNode,n.anchorOffset)}o(aAe,"anchorInRightPlace");function kA(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Ye.findFrom(s,e)}o(kA,"moveSelectionBlock");function ou(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}o(ou,"apply$1");function NL(t,e,n){let r=t.state.selection;if(r instanceof lt)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let a=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return ou(t,new lt(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=kA(t.state,e);return i&&i instanceof Ue?ou(t,i):!1}else if(!(vs&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!s||s.isText)return!1;let l=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(a=t.docView.descAt(l))&&!a.contentDOM?Ue.isSelectable(s)?ou(t,new Ue(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):Xy?ou(t,new lt(t.state.doc.resolve(e<0?l:l+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ue&&r.node.isInline)return ou(t,new lt(e>0?r.$to:r.$from));{let i=kA(t.state,e);return i?ou(t,i):!1}}}o(NL,"selectHorizontally");function Xw(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}o(Xw,"nodeLen");function Pg(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}o(Pg,"isIgnorable");function Ph(t,e){return e<0?lAe(t):uAe(t)}o(Ph,"skipIgnoredNodes");function lAe(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,a=!1;for(So&&n.nodeType==1&&r<Xw(n)&&Pg(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(Pg(l,-1))i=n,s=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(xW(n))break;{let l=n.previousSibling;for(;l&&Pg(l,-1);)i=n.parentNode,s=xr(l),l=l.previousSibling;if(l)n=l,r=Xw(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?AA(t,n,r):i&&AA(t,i,s)}o(lAe,"skipIgnoredNodesBefore");function uAe(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Xw(n),s,a;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(Pg(l,1))s=n,a=++r;else break}else{if(xW(n))break;{let l=n.nextSibling;for(;l&&Pg(l,1);)s=l.parentNode,a=xr(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=Xw(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&AA(t,s,a)}o(uAe,"skipIgnoredNodesAfter");function xW(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}o(xW,"isBlockNode");function cAe(t,e){for(;t&&e==t.childNodes.length&&!Yy(t);)e=xr(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}o(cAe,"textNodeAfter");function fAe(t,e){for(;t&&!e&&!Yy(t);)e=xr(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}o(fAe,"textNodeBefore");function AA(t,e,n){if(e.nodeType!=3){let s,a;(a=cAe(e,n))?(e=a,n=0):(s=fAe(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Ex(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&_l(t)},50)}o(AA,"setSelFocus");function ML(t,e){let n=t.state.doc.resolve(e);if(!(jr||Mke)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}o(ML,"findDirection");function DL(t,e,n){let r=t.state.selection;if(r instanceof lt&&!r.empty||n.indexOf("s")>-1||vs&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=kA(t.state,e);if(a&&a instanceof Ue)return ou(t,a)}if(!i.parent.inlineContent){let a=e<0?i:s,l=r instanceof mo?Ye.near(a,e):Ye.findFrom(a,e);return l?ou(t,l):!1}return!1}o(DL,"selectVertically");function PL(t,e){if(!(t.state.selection instanceof lt))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let a=t.state.tr;return e<0?a.delete(n.pos-s.nodeSize,n.pos):a.delete(n.pos,n.pos+s.nodeSize),t.dispatch(a),!0}return!1}o(PL,"stopNativeHorizontalDelete");function $L(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}o($L,"switchEditable");function hAe(t){if(!bi||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;$L(t,r,"true"),setTimeout(()=>$L(t,r,"false"),20)}return!1}o(hAe,"safariDownArrowBug");function dAe(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}o(dAe,"getMods");function pAe(t,e){let n=e.keyCode,r=dAe(e);if(n==8||vs&&n==72&&r=="c")return PL(t,-1)||Ph(t,-1);if(n==46&&!e.shiftKey||vs&&n==68&&r=="c")return PL(t,1)||Ph(t,1);if(n==13||n==27)return!0;if(n==37||vs&&n==66&&r=="c"){let i=n==37?ML(t,t.state.selection.from)=="ltr"?-1:1:-1;return NL(t,i,r)||Ph(t,i)}else if(n==39||vs&&n==70&&r=="c"){let i=n==39?ML(t,t.state.selection.from)=="ltr"?1:-1:1;return NL(t,i,r)||Ph(t,i)}else{if(n==38||vs&&n==80&&r=="c")return DL(t,-1,r)||Ph(t,-1);if(n==40||vs&&n==78&&r=="c")return hAe(t)||DL(t,1,r)||Ph(t,1);if(r==(vs?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}o(pAe,"captureKeyDown");function TW(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let a=t.someProp("clipboardSerializer")||Qp.fromSchema(t.state.schema),l=RW(),u=l.createElement("div");u.appendChild(a.serializeFragment(r,{document:l}));let c=u.firstChild,f,h=0;for(;c&&c.nodeType==1&&(f=IW[c.nodeName.toLowerCase()]);){for(let p=f.length-1;p>=0;p--){let m=l.createElement(f[p]);for(;u.firstChild;)m.appendChild(u.firstChild);u.appendChild(m),h++}c=u.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${s}${h?` -${h}`:""} ${JSON.stringify(n)}`);let d=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:u,text:d,slice:e}}o(TW,"serializeForClipboard");function SW(t,e,n,r,i){let s=i.parent.type.spec.code,a,l;if(!n&&!e)return null;let u=e&&(r||s||!n);if(u){if(t.someProp("transformPastedText",d=>{e=d(e,s||r,t)}),s)return e?new we(le.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):we.empty;let h=t.someProp("clipboardTextParser",d=>d(e,i,r,t));if(h)l=h;else{let d=i.marks(),{schema:p}=t.state,m=Qp.fromSchema(p);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(y=>{let _=a.appendChild(document.createElement("p"));y&&_.appendChild(m.serializeNode(p.text(y,d)))})}}else t.someProp("transformPastedHTML",h=>{n=h(n,t)}),a=_Ae(n),Xy&&bAe(a);let c=a&&a.querySelector("[data-pm-slice]"),f=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let h=+f[3];h>0;h--){let d=a.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;a=d}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||Fj.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(u||f),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!mAe.test(d.parentNode.nodeName)?{ignore:!0}:null}})),f)l=wAe(LL(l,+f[1],+f[2]),f[4]);else if(l=we.maxOpen(gAe(l.content,i),!0),l.openStart||l.openEnd){let h=0,d=0;for(let p=l.content.firstChild;h<l.openStart&&!p.type.spec.isolating;h++,p=p.firstChild);for(let p=l.content.lastChild;d<l.openEnd&&!p.type.spec.isolating;d++,p=p.lastChild);l=LL(l,h,d)}return t.someProp("transformPasted",h=>{l=h(l,t)}),l}o(SW,"parseFromClipboard");const mAe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function gAe(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,a=[];if(t.forEach(l=>{if(!a)return;let u=i.findWrapping(l.type),c;if(!u)return a=null;if(c=a.length&&s.length&&AW(u,s,l,a[a.length-1],0))a[a.length-1]=c;else{a.length&&(a[a.length-1]=CW(a[a.length-1],s.length));let f=kW(l,u);a.push(f),i=i.matchType(f.type),s=u}}),a)return le.from(a)}return t}o(gAe,"normalizeSiblings");function kW(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,le.from(t));return t}o(kW,"withWrappers");function AW(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=AW(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(le.from(kW(n,t,i+1))))}}o(AW,"addToSibling");function CW(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,CW(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(le.empty,!0);return t.copy(n.append(r))}o(CW,"closeRight");function CA(t,e,n,r,i,s){let a=e<0?t.firstChild:t.lastChild,l=a.content;return t.childCount>1&&(s=0),i<r-1&&(l=CA(l,e,n,r,i+1,s)),i>=n&&(l=e<0?a.contentMatchAt(0).fillBefore(l,s<=i).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(le.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(l))}o(CA,"closeRange");function LL(t,e,n){return e<t.openStart&&(t=new we(CA(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new we(CA(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}o(LL,"closeSlice");const IW={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let FL=null;function RW(){return FL||(FL=document.implementation.createHTMLDocument("title"))}o(RW,"detachedDoc");let kT=null;function yAe(t){let e=window.trustedTypes;return e?(kT||(kT=e.createPolicy("ProseMirrorClipboard",{createHTML:o(n=>n,"createHTML")})),kT.createHTML(t)):t}o(yAe,"maybeWrapTrusted");function _Ae(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=RW().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&IW[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=yAe(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}o(_Ae,"readHTML");function bAe(t){let e=t.querySelectorAll(jr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}o(bAe,"restoreReplacedSpaces");function wAe(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:a}=t;for(let l=r.length-2;l>=0;l-=2){let u=n.nodes[r[l]];if(!u||u.hasRequiredAttrs())break;i=le.from(u.create(r[l+1],i)),s++,a++}return new we(i,s,a)}o(wAe,"addContext");const wi={},vi={},vAe={touchstart:!0,touchmove:!0};class EAe{static{o(this,"InputState")}constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function xAe(t){for(let e in wi){let n=wi[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{SAe(t,r)&&!DR(t,r)&&(t.editable||!(r.type in vi))&&n(t,r)},vAe[e]?{passive:!0}:void 0)}bi&&t.dom.addEventListener("input",()=>null),IA(t)}o(xAe,"initInput");function Tu(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}o(Tu,"setSelectionOrigin");function TAe(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}o(TAe,"destroyInput");function IA(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>DR(t,r))})}o(IA,"ensureListeners");function DR(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}o(DR,"runCustomHandler");function SAe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}o(SAe,"eventBelongsToView");function kAe(t,e){!DR(t,e)&&wi[e.type]&&(t.editable||!(e.type in vi))&&wi[e.type](t,e)}o(kAe,"dispatchEvent");vi.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!NW(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(hl&&jr&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),wp&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Uc(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||pAe(t,n)?n.preventDefault():Tu(t,"key")};vi.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};vi.keypress=(t,e)=>{let n=e;if(NW(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||vs&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof lt)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",s=>s(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Tx(t){return{left:t.clientX,top:t.clientY}}o(Tx,"eventCoords");function AAe(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}o(AAe,"isNear");function PR(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let a=s.depth+1;a>0;a--)if(t.someProp(e,l=>a>s.depth?l(t,n,s.nodeAfter,s.before(a),i,!0):l(t,n,s.node(a),s.before(a),i,!1)))return!0;return!1}o(PR,"runHandlerOnContext");function Ud(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}o(Ud,"updateSelection");function CAe(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Ue.isSelectable(r)?(Ud(t,new Ue(n)),!0):!1}o(CAe,"selectClickedLeaf");function IAe(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof Ue&&(r=n.node);let s=t.state.doc.resolve(e);for(let a=s.depth+1;a>0;a--){let l=a>s.depth?s.nodeAfter:s.node(a);if(Ue.isSelectable(l)){r&&n.$from.depth>0&&a>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(a);break}}return i!=null?(Ud(t,Ue.create(t.state.doc,i)),!0):!1}o(IAe,"selectClickedNode");function RAe(t,e,n,r,i){return PR(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?IAe(t,n):CAe(t,n))}o(RAe,"handleSingleClick");function OAe(t,e,n,r){return PR(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}o(OAe,"handleDoubleClick");function NAe(t,e,n,r){return PR(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||MAe(t,n,r)}o(NAe,"handleTripleClick$1");function MAe(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Ud(t,lt.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let a=s>i.depth?i.nodeAfter:i.node(s),l=i.before(s);if(a.inlineContent)Ud(t,lt.create(r,l+1,l+1+a.content.size));else if(Ue.isSelectable(a))Ud(t,Ue.create(r,l));else continue;return!0}}o(MAe,"defaultTripleClick");function $R(t){return Jw(t)}o($R,"forceDOMFlush");const OW=vs?"metaKey":"ctrlKey";wi.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=$R(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&AAe(n,t.input.lastClick)&&!n[OW]&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s};let a=t.posAtCoords(Tx(n));a&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new DAe(t,a,n,!!r)):(s=="doubleClick"?OAe:NAe)(t,a.pos,a.inside,n)?n.preventDefault():Tu(t,"pointer"))};class DAe{static{o(this,"MouseDown")}constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[OW],this.allowDefault=r.shiftKey;let s,a;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),a=n.inside;else{let f=e.state.doc.resolve(n.pos);s=f.parent,a=f.depth?f.before():0}const l=i?null:r.target,u=l?e.docView.nearestDesc(l,!0):null;this.target=u&&u.dom.nodeType==1?u.dom:null;let{selection:c}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof Ue&&c.from<=a&&c.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&So&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Tu(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>_l(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Tx(e))),this.updateAllowDefault(e),this.allowDefault||!n?Tu(this.view,"pointer"):RAe(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||bi&&this.mightDrag&&!this.mightDrag.node.isAtom||jr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Ud(this.view,Ye.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Tu(this.view,"pointer")}move(e){this.updateAllowDefault(e),Tu(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}wi.touchstart=t=>{t.input.lastTouch=Date.now(),$R(t),Tu(t,"pointer")};wi.touchmove=t=>{t.input.lastTouch=Date.now(),Tu(t,"pointer")};wi.contextmenu=t=>$R(t);function NW(t,e){return t.composing?!0:bi&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}o(NW,"inOrNearComposition");const PAe=hl?5e3:-1;vi.compositionstart=vi.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof lt&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Jw(t,!0),t.markCursor=null;else if(Jw(t,!e.selection.empty),So&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let a=s<0?i.lastChild:i.childNodes[s-1];if(!a)break;if(a.nodeType==3){let l=t.domSelection();l&&l.collapse(a,a.nodeValue.length);break}else i=a,s=-1}}t.input.composing=!0}MW(t,PAe)};vi.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,MW(t,20))};function MW(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Jw(t),e))}o(MW,"scheduleComposeEnd");function DW(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=LAe());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}o(DW,"clearComposition");function $Ae(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=Cke(e.focusNode,e.focusOffset),r=Ike(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}o($Ae,"findCompositionNode");function LAe(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}o(LAe,"timestampFromCustomEvent");function Jw(t,e=!1){if(!(hl&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),DW(t),e||t.docView&&t.docView.dirty){let n=NR(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}o(Jw,"endComposition");function FAe(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}o(FAe,"captureCopy");const W0=Li&&Mu<15||wp&&Dke<604;wi.copy=vi.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=W0?null:n.clipboardData,a=r.content(),{dom:l,text:u}=TW(t,a);s?(n.preventDefault(),s.clearData(),s.setData("text/html",l.innerHTML),s.setData("text/plain",u)):FAe(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function BAe(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}o(BAe,"sliceSingleNode");function UAe(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?H0(t,r.value,null,i,e):H0(t,r.textContent,r.innerHTML,i,e)},50)}o(UAe,"capturePaste");function H0(t,e,n,r,i){let s=SW(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",u=>u(t,i,s||we.empty)))return!0;if(!s)return!1;let a=BAe(s),l=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(s);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}o(H0,"doPaste");function PW(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}o(PW,"getText");vi.paste=(t,e)=>{let n=e;if(t.composing&&!hl)return;let r=W0?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&H0(t,PW(r),r.getData("text/html"),i,n)?n.preventDefault():UAe(t,n)};class $W{static{o(this,"Dragging")}constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const LW=vs?"altKey":"ctrlKey";wi.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(Tx(n)),a;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Ue?i.to-1:i.to))){if(r&&r.mightDrag)a=Ue.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let h=t.docView.nearestDesc(n.target,!0);h&&h.node.type.spec.draggable&&h!=t.docView&&(a=Ue.create(t.state.doc,h.posBefore))}}let l=(a||t.state.selection).content(),{dom:u,text:c,slice:f}=TW(t,l);(!n.dataTransfer.files.length||!jr||lW>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(W0?"Text":"text/html",u.innerHTML),n.dataTransfer.effectAllowed="copyMove",W0||n.dataTransfer.setData("text/plain",c),t.dragging=new $W(f,!n[LW],a)};wi.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};vi.dragover=vi.dragenter=(t,e)=>e.preventDefault();vi.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Tx(n));if(!i)return;let s=t.state.doc.resolve(i.pos),a=r&&r.slice;a?t.someProp("transformPasted",m=>{a=m(a,t)}):a=SW(t,PW(n.dataTransfer),W0?null:n.dataTransfer.getData("text/html"),!1,s);let l=!!(r&&!n[LW]);if(t.someProp("handleDrop",m=>m(t,n,a||we.empty,l))){n.preventDefault();return}if(!a)return;n.preventDefault();let u=a?Zj(t.state.doc,s.pos,a):s.pos;u==null&&(u=s.pos);let c=t.state.tr;if(l){let{node:m}=r;m?m.replace(c):c.deleteSelection()}let f=c.mapping.map(u),h=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,d=c.doc;if(h?c.replaceRangeWith(f,f,a.content.firstChild):c.replaceRange(f,f,a),c.doc.eq(d))return;let p=c.doc.resolve(f);if(h&&Ue.isSelectable(a.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(a.content.firstChild))c.setSelection(new Ue(p));else{let m=c.mapping.map(u);c.mapping.maps[c.mapping.maps.length-1].forEach((y,_,b,S)=>m=S),c.setSelection(MR(t,p,c.doc.resolve(m)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};wi.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&_l(t)},20))};wi.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};wi.beforeinput=(t,e)=>{if(jr&&hl&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Uc(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in vi)wi[t]=vi[t];function G0(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}o(G0,"compareObjs");class Zw{static{o(this,"WidgetType")}constructor(e,n){this.toDOM=e,this.spec=n||uf,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:a}=e.mapResult(n.from+i,this.side<0?-1:1);return a?null:new hi(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Zw&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&G0(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Pu{static{o(this,"InlineType")}constructor(e,n){this.attrs=e,this.spec=n||uf}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=a?null:new hi(s,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Pu&&G0(this.attrs,e.attrs)&&G0(this.spec,e.spec)}static is(e){return e.type instanceof Pu}destroy(){}}class LR{static{o(this,"NodeType")}constructor(e,n){this.attrs=e,this.spec=n||uf}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let a=e.mapResult(n.to+i,-1);return a.deleted||a.pos<=s.pos?null:new hi(s.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof LR&&G0(this.attrs,e.attrs)&&G0(this.spec,e.spec)}destroy(){}}class hi{static{o(this,"Decoration")}constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new hi(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new hi(e,e,new Zw(n,r))}static inline(e,n,r,i){return new hi(e,n,new Pu(r,i))}static node(e,n,r,i){return new hi(e,n,new LR(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Pu}get widget(){return this.type instanceof Zw}}const sd=[],uf={};class Tn{static{o(this,"DecorationSet")}constructor(e,n){this.local=e.length?e:sd,this.children=n.length?n:sd}static create(e,n){return n.length?Qw(n,e,0,uf):Pr}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let a=0;a<this.local.length;a++){let l=this.local[a];l.from<=n&&l.to>=e&&(!s||s(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let l=this.children[a]+1;this.children[a+2].findInner(e-l,n-l,r,i+l,s)}}map(e,n,r){return this==Pr||e.maps.length==0?this:this.mapInner(e,n,0,0,r||uf)}mapInner(e,n,r,i,s){let a;for(let l=0;l<this.local.length;l++){let u=this.local[l].map(e,r,i);u&&u.type.valid(n,u)?(a||(a=[])).push(u):s.onRemove&&s.onRemove(this.local[l].spec)}return this.children.length?zAe(this.children,a||[],e,n,r,i,s):a?new Tn(a.sort(cf),sd):Pr}add(e,n){return n.length?this==Pr?Tn.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((l,u)=>{let c=u+r,f;if(f=BW(n,l,c)){for(i||(i=this.children.slice());s<i.length&&i[s]<u;)s+=3;i[s]==u?i[s+2]=i[s+2].addInner(l,f,c+1):i.splice(s,0,u,u+l.nodeSize,Qw(f,l,c+1,uf)),s+=3}});let a=FW(s?UW(n):n,-r);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||a.splice(l--,1);return new Tn(a.length?this.local.concat(a).sort(cf):this.local,i||this.children)}remove(e){return e.length==0||this==Pr?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let a,l=r[s]+n,u=r[s+1]+n;for(let f=0,h;f<e.length;f++)(h=e[f])&&h.from>l&&h.to<u&&(e[f]=null,(a||(a=[])).push(h));if(!a)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(a,l+1);c!=Pr?r[s+2]=c:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,a;s<e.length;s++)if(a=e[s])for(let l=0;l<i.length;l++)i[l].eq(a,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Tn(i,r):Pr}forChild(e,n){if(this==Pr)return this;if(n.isLeaf)return Tn.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let s=e+1,a=s+n.content.size;for(let l=0;l<this.local.length;l++){let u=this.local[l];if(u.from<a&&u.to>s&&u.type instanceof Pu){let c=Math.max(s,u.from)-s,f=Math.min(a,u.to)-s;c<f&&(i||(i=[])).push(u.copy(c,f))}}if(i){let l=new Tn(i.sort(cf),sd);return r?new gu([l,r]):l}return r||Pr}eq(e){if(this==e)return!0;if(!(e instanceof Tn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return FR(this.localsInner(e))}localsInner(e){if(this==Pr)return sd;if(e.inlineContent||!this.local.some(Pu.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Pu||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Tn.empty=new Tn([],[]);Tn.removeOverlap=FR;const Pr=Tn.empty;class gu{static{o(this,"DecorationGroup")}constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,uf));return gu.from(r)}forChild(e,n){if(n.isLeaf)return Tn.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=Pr&&(s instanceof gu?r=r.concat(s.members):r.push(s))}return gu.from(r)}eq(e){if(!(e instanceof gu)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let a=0;a<s.length;a++)n.push(s[a])}}return n?FR(r?n:n.sort(cf)):sd}static from(e){switch(e.length){case 0:return Pr;case 1:return e[0];default:return new gu(e.every(n=>n instanceof Tn)?e:e.reduce((n,r)=>n.concat(r instanceof Tn?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function zAe(t,e,n,r,i,s,a){let l=t.slice();for(let c=0,f=s;c<n.maps.length;c++){let h=0;n.maps[c].forEach((d,p,m,y)=>{let _=y-m-(p-d);for(let b=0;b<l.length;b+=3){let S=l[b+1];if(S<0||d>S+f-h)continue;let v=l[b]+f-h;p>=v?l[b+1]=d<=v?-2:-1:d>=f&&_&&(l[b]+=_,l[b+1]+=_)}h+=_}),f=n.maps[c].map(f,-1)}let u=!1;for(let c=0;c<l.length;c+=3)if(l[c+1]<0){if(l[c+1]==-2){u=!0,l[c+1]=-1;continue}let f=n.map(t[c]+s),h=f-i;if(h<0||h>=r.content.size){u=!0;continue}let d=n.map(t[c+1]+s,-1),p=d-i,{index:m,offset:y}=r.content.findIndex(h),_=r.maybeChild(m);if(_&&y==h&&y+_.nodeSize==p){let b=l[c+2].mapInner(n,_,f+1,t[c]+s+1,a);b!=Pr?(l[c]=h,l[c+1]=p,l[c+2]=b):(l[c+1]=-2,u=!0)}else u=!0}if(u){let c=VAe(l,t,e,n,i,s,a),f=Qw(c,r,0,a);e=f.local;for(let h=0;h<l.length;h+=3)l[h+1]<0&&(l.splice(h,3),h-=3);for(let h=0,d=0;h<f.children.length;h+=3){let p=f.children[h];for(;d<l.length&&l[d]<p;)d+=3;l.splice(d,0,f.children[h],f.children[h+1],f.children[h+2])}}return new Tn(e.sort(cf),l)}o(zAe,"mapChildren");function FW(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new hi(i.from+e,i.to+e,i.type))}return n}o(FW,"moveSpans");function VAe(t,e,n,r,i,s,a){function l(u,c){for(let f=0;f<u.local.length;f++){let h=u.local[f].map(r,i,c);h?n.push(h):a.onRemove&&a.onRemove(u.local[f].spec)}for(let f=0;f<u.children.length;f+=3)l(u.children[f+2],u.children[f]+c+1)}o(l,"gather");for(let u=0;u<t.length;u+=3)t[u+1]==-1&&l(t[u+2],e[u]+s+1);return n}o(VAe,"mapAndGatherRemainingDecorations");function BW(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,a;s<t.length;s++)(a=t[s])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),t[s]=null);return i}o(BW,"takeSpansForNode");function UW(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}o(UW,"withoutNulls");function Qw(t,e,n,r){let i=[],s=!1;e.forEach((l,u)=>{let c=BW(t,l,u+n);if(c){s=!0;let f=Qw(c,l,n+u+1,r);f!=Pr&&i.push(u,u+l.nodeSize,f)}});let a=FW(s?UW(t):t,-n).sort(cf);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||(r.onRemove&&r.onRemove(a[l].spec),a.splice(l--,1));return a.length||i.length?new Tn(a,i):Pr}o(Qw,"buildTree");function cf(t,e){return t.from-e.from||t.to-e.to}o(cf,"byPos");function FR(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),BL(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),BL(e,i,r.copy(s.from,r.to)));break}}}return e}o(FR,"removeOverlap");function BL(t,e,n){for(;e<t.length&&cf(n,t[e])>0;)e++;t.splice(e,0,n)}o(BL,"insertAhead");function AT(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Pr&&e.push(r)}),t.cursorWrapper&&e.push(Tn.create(t.state.doc,[t.cursorWrapper.deco])),gu.from(e)}o(AT,"viewDecorations");const jAe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},WAe=Li&&Mu<=11;class HAe{static{o(this,"SelectionState")}constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class GAe{static{o(this,"DOMObserver")}constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new HAe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Li&&Mu<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),WAe&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,jAe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(OL(this.view)){if(this.suppressingSelectionUpdates)return _l(this.view);if(Li&&Mu<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Uf(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=j0(s))n.add(s);for(let s=e.anchorNode;s;s=j0(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&OL(e)&&!this.ignoreSelectionChange(r),s=-1,a=-1,l=!1,u=[];if(e.editable)for(let f=0;f<n.length;f++){let h=this.registerMutation(n[f],u);h&&(s=s<0?h.from:Math.min(h.from,s),a=a<0?h.to:Math.max(h.to,a),h.typeOver&&(l=!0))}if(So&&u.length){let f=u.filter(h=>h.nodeName=="BR");if(f.length==2){let[h,d]=f;h.parentNode&&h.parentNode.parentNode==d.parentNode?d.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let d of f){let p=d.parentNode;p&&p.nodeName=="LI"&&(!h||YAe(e,h)!=p)&&d.remove()}}}let c=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Ex(r)&&(c=NR(e))&&c.eq(Ye.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,_l(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,a),qAe(e)),this.handleDOMChange(s,a,l,u),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||_l(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let h=e.addedNodes[f];n.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Li&&Mu<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:h,nextSibling:d}=e.addedNodes[f];(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(i=h),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(s=d)}let a=i&&i.parentNode==e.target?xr(i)+1:0,l=r.localPosFromDOM(e.target,a,-1),u=s&&s.parentNode==e.target?xr(s):e.target.childNodes.length,c=r.localPosFromDOM(e.target,u,1);return{from:l,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let UL=new WeakMap,zL=!1;function qAe(t){if(!UL.has(t)&&(UL.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=So,zL)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),zL=!0}}o(qAe,"checkCSS");function VL(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return Uf(a.node,a.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}o(VL,"rangeToSelectionRange");function KAe(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return VL(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return o(r,"read"),t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?VL(t,n):null}o(KAe,"safariShadowSelectionRange");function YAe(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}o(YAe,"blockParent");function XAe(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:a,to:l}=t.docView.parseRange(e,n),u=t.domSelectionRange(),c,f=u.anchorNode;if(f&&t.dom.contains(f.nodeType==1?f:f.parentNode)&&(c=[{node:f,offset:u.anchorOffset}],Ex(u)||c.push({node:u.focusNode,offset:u.focusOffset})),jr&&t.input.lastKeyCode===8)for(let _=s;_>i;_--){let b=r.childNodes[_-1],S=b.pmViewDesc;if(b.nodeName=="BR"&&!S){s=_;break}if(!S||S.size)break}let h=t.state.doc,d=t.someProp("domParser")||Fj.fromSchema(t.state.schema),p=h.resolve(a),m=null,y=d.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:s,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:JAe,context:p});if(c&&c[0].pos!=null){let _=c[0].pos,b=c[1]&&c[1].pos;b==null&&(b=_),m={anchor:_+a,head:b+a}}return{doc:y,sel:m,from:a,to:l}}o(XAe,"parseBetween");function JAe(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(bi&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||bi&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}o(JAe,"ruleFromNode");const ZAe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function QAe(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let T=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,O=NR(t,T);if(O&&!t.state.selection.eq(O)){if(jr&&hl&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",I=>I(t,Uc(13,"Enter"))))return;let N=t.state.tr.setSelection(O);T=="pointer"?N.setMeta("pointer",!0):T=="key"&&N.scrollIntoView(),s&&N.setMeta("composition",s),t.dispatch(N)}return}let a=t.state.doc.resolve(e),l=a.sharedDepth(n);e=a.before(l+1),n=t.state.doc.resolve(n).after(l+1);let u=t.state.selection,c=XAe(t,e,n),f=t.state.doc,h=f.slice(c.from,c.to),d,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(d=t.state.selection.to,p="end"):(d=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let m=nCe(h.content,c.doc.content,c.from,d,p);if(m&&t.input.domChangeCount++,(wp&&t.input.lastIOSEnter>Date.now()-225||hl)&&i.some(T=>T.nodeType==1&&!ZAe.test(T.nodeName))&&(!m||m.endA>=m.endB)&&t.someProp("handleKeyDown",T=>T(t,Uc(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!m)if(r&&u instanceof lt&&!u.empty&&u.$head.sameParent(u.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))m={start:u.from,endA:u.to,endB:u.to};else{if(c.sel){let T=jL(t,t.state.doc,c.sel);if(T&&!T.eq(t.state.selection)){let O=t.state.tr.setSelection(T);s&&O.setMeta("composition",s),t.dispatch(O)}}return}t.state.selection.from<t.state.selection.to&&m.start==m.endB&&t.state.selection instanceof lt&&(m.start>t.state.selection.from&&m.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?m.start=t.state.selection.from:m.endA<t.state.selection.to&&m.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(m.endB+=t.state.selection.to-m.endA,m.endA=t.state.selection.to)),Li&&Mu<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>c.from&&c.doc.textBetween(m.start-c.from-1,m.start-c.from+1)==" "&&(m.start--,m.endA--,m.endB--);let y=c.doc.resolveNoCache(m.start-c.from),_=c.doc.resolveNoCache(m.endB-c.from),b=f.resolve(m.start),S=y.sameParent(_)&&y.parent.inlineContent&&b.end()>=m.endA,v;if((wp&&t.input.lastIOSEnter>Date.now()-225&&(!S||i.some(T=>T.nodeName=="DIV"||T.nodeName=="P"))||!S&&y.pos<c.doc.content.size&&!y.sameParent(_)&&(v=Ye.findFrom(c.doc.resolve(y.pos+1),1,!0))&&v.head==_.pos)&&t.someProp("handleKeyDown",T=>T(t,Uc(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>m.start&&tCe(f,m.start,m.endA,y,_)&&t.someProp("handleKeyDown",T=>T(t,Uc(8,"Backspace")))){hl&&jr&&t.domObserver.suppressSelectionUpdates();return}jr&&m.endB==m.start&&(t.input.lastChromeDelete=Date.now()),hl&&!S&&y.start()!=_.start()&&_.parentOffset==0&&y.depth==_.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==m.endA&&(m.endB-=2,_=c.doc.resolveNoCache(m.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(T){return T(t,Uc(13,"Enter"))})},20));let k=m.start,C=m.endA,R,x,E;if(S){if(y.pos==_.pos)Li&&Mu<=11&&y.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>_l(t),20)),R=t.state.tr.delete(k,C),x=f.resolve(m.start).marksAcross(f.resolve(m.endA));else if(m.endA==m.endB&&(E=eCe(y.parent.content.cut(y.parentOffset,_.parentOffset),b.parent.content.cut(b.parentOffset,m.endA-b.start()))))R=t.state.tr,E.type=="add"?R.addMark(k,C,E.mark):R.removeMark(k,C,E.mark);else if(y.parent.child(y.index()).isText&&y.index()==_.index()-(_.textOffset?0:1)){let T=y.parent.textBetween(y.parentOffset,_.parentOffset);if(t.someProp("handleTextInput",O=>O(t,k,C,T)))return;R=t.state.tr.insertText(T,k,C)}}if(R||(R=t.state.tr.replace(k,C,c.doc.slice(m.start-c.from,m.endB-c.from))),c.sel){let T=jL(t,R.doc,c.sel);T&&!(jr&&t.composing&&T.empty&&(m.start!=m.endB||t.input.lastChromeDelete<Date.now()-100)&&(T.head==k||T.head==R.mapping.map(C)-1)||Li&&T.empty&&T.head==k)&&R.setSelection(T)}x&&R.ensureMarks(x),s&&R.setMeta("composition",s),t.dispatch(R.scrollIntoView())}o(QAe,"readDOMChange");function jL(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:MR(t,e.resolve(n.anchor),e.resolve(n.head))}o(jL,"resolveSelection");function eCe(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,a,l,u;for(let f=0;f<r.length;f++)i=r[f].removeFromSet(i);for(let f=0;f<n.length;f++)s=n[f].removeFromSet(s);if(i.length==1&&s.length==0)l=i[0],a="add",u=o(f=>f.mark(l.addToSet(f.marks)),"update");else if(i.length==0&&s.length==1)l=s[0],a="remove",u=o(f=>f.mark(l.removeFromSet(f.marks)),"update");else return null;let c=[];for(let f=0;f<e.childCount;f++)c.push(u(e.child(f)));if(le.from(c).eq(t))return{mark:l,type:a}}o(eCe,"isMarkChange");function tCe(t,e,n,r,i){if(n-e<=i.pos-r.pos||CT(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let l=s.nodeAfter;return l!=null&&n==e+l.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let a=t.resolve(CT(s,!0,!0));return!a.parent.isTextblock||a.pos>n||CT(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}o(tCe,"looksLikeBackspace");function CT(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}o(CT,"skipClosingAndOpening");function nCe(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let u=Math.max(0,s-Math.min(a,l));r-=a+u-s}if(a<s&&t.size<e.size){let u=r<=s&&r>=a?s-r:0;s-=u,s&&s<e.size&&WL(e.textBetween(s-1,s+1))&&(s+=u?1:-1),l=s+(l-a),a=s}else if(l<s){let u=r<=s&&r>=l?s-r:0;s-=u,s&&s<t.size&&WL(t.textBetween(s-1,s+1))&&(s+=u?1:-1),a=s+(a-l),l=s}return{start:s,endA:a,endB:l}}o(nCe,"findDiff");function WL(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}o(WL,"isSurrogatePair");class EVe{static{o(this,"EditorView")}constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new EAe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(YL),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=qL(this),GL(this),this.nodeViews=KL(this),this.docView=SL(this.state.doc,HL(this),AT(this),this.dom,this),this.domObserver=new GAe(this,(r,i,s,a)=>QAe(this,r,i,s,a)),this.domObserver.start(),xAe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&IA(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(YL),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,a=!1;e.storedMarks&&this.composing&&(DW(this),a=!0),this.state=e;let l=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=KL(this);iCe(p,this.nodeViews)&&(this.nodeViews=p,s=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&IA(this),this.editable=qL(this),GL(this);let u=AT(this),c=HL(this),f=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",h=s||!this.docView.matchesNode(e.doc,c,u);(h||!e.selection.eq(i.selection))&&(a=!0);let d=f=="preserve"&&a&&this.dom.style.overflowAnchor==null&&Lke(this);if(a){this.domObserver.stop();let p=h&&(Li||jr)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&rCe(i.selection,e.selection);if(h){let m=jr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=$Ae(this)),(s||!this.docView.update(e.doc,c,u,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=SL(e.doc,c,u,this.dom,this)),m&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&aAe(this))?_l(this,p):(vW(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():d&&Fke(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Ue){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&bL(this,n.getBoundingClientRect(),e)}else bL(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new $W(e.slice,e.move,i<0?void 0:Ue.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let l=this.directPlugins[a].props[e];if(l!=null&&(i=n?n(l):l))return i}let s=this.state.plugins;if(s)for(let a=0;a<s.length;a++){let l=s[a].props[e];if(l!=null&&(i=n?n(l):l))return i}}hasFocus(){if(Li){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Bke(this.dom),_l(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Wke(this,e)}coordsAtPos(e,n=1){return dW(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return Yke(this,n||this.state,e)}pasteHTML(e,n){return H0(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return H0(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(TAe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],AT(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,kke())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return kAe(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?bi&&this.root.nodeType===11&&Oke(this.dom.ownerDocument)==this.dom&&KAe(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function HL(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[hi.node(0,t.state.doc.content.size,e)]}o(HL,"computeDocDeco");function GL(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:hi.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}o(GL,"updateCursorWrapper");function qL(t){return!t.someProp("editable",e=>e(t.state)===!1)}o(qL,"getEditable");function rCe(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}o(rCe,"selectionContextChanged");function KL(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return o(n,"add"),t.someProp("nodeViews",n),t.someProp("markViews",n),e}o(KL,"buildNodeViews");function iCe(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}o(iCe,"changedNodeViews");function YL(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}o(YL,"checkStateComponent");var Zu={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ev={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},sCe=typeof navigator<"u"&&/Mac/.test(navigator.platform),oCe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Tr=0;Tr<10;Tr++)Zu[48+Tr]=Zu[96+Tr]=String(Tr);for(var Tr=1;Tr<=24;Tr++)Zu[Tr+111]="F"+Tr;for(var Tr=65;Tr<=90;Tr++)Zu[Tr]=String.fromCharCode(Tr+32),ev[Tr]=String.fromCharCode(Tr);for(var IT in Zu)ev.hasOwnProperty(IT)||(ev[IT]=Zu[IT]);function aCe(t){var e=sCe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||oCe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?ev:Zu)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}o(aCe,"keyName");const lCe=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function uCe(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,a;for(let l=0;l<e.length-1;l++){let u=e[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))lCe?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),a&&(n="Meta-"+n),s&&(n="Shift-"+n),n}o(uCe,"normalizeKeyName");function cCe(t){let e=Object.create(null);for(let n in t)e[uCe(n)]=t[n];return e}o(cCe,"normalize$1");function RT(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}o(RT,"modifiers");function xVe(t){return new em({props:{handleKeyDown:BR(t)}})}o(xVe,"keymap");function BR(t){let e=cCe(t);return function(n,r){let i=aCe(r),s,a=e[RT(i,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[RT(i,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=Zu[r.keyCode])&&s!=i){let l=e[RT(s,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}o(BR,"keydownHandler");const TVe=o((t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0),"deleteSelection");function zW(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}o(zW,"atBlockStart");const SVe=o((t,e,n)=>{let r=zW(t,n);if(!r)return!1;let i=UR(r);if(!i){let a=r.blockRange(),l=a&&Gy(a);return l==null?!1:(e&&e(t.tr.lift(a,l).scrollIntoView()),!0)}let s=i.nodeBefore;if(HW(t,i,e,-1))return!0;if(r.parent.content.size==0&&(vp(s,"end")||Ue.isSelectable(s)))for(let a=r.depth;;a--){let l=wx(t.doc,r.before(a),r.after(a),we.empty);if(l&&l.slice.size<l.to-l.from){if(e){let u=t.tr.step(l);u.setSelection(vp(s,"end")?Ye.findFrom(u.doc.resolve(u.mapping.map(i.pos,-1)),-1):Ue.create(u.doc,i.pos-s.nodeSize)),e(u.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},"joinBackward"),kVe=o((t,e,n)=>{let r=zW(t,n);if(!r)return!1;let i=UR(r);return i?VW(t,i,e):!1},"joinTextblockBackward"),AVe=o((t,e,n)=>{let r=jW(t,n);if(!r)return!1;let i=zR(r);return i?VW(t,i,e):!1},"joinTextblockForward");function VW(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let f=i.lastChild;if(!f)return!1;i=f}let a=e.nodeAfter,l=a,u=e.pos+1;for(;!l.isTextblock;u++){if(l.type.spec.isolating)return!1;let f=l.firstChild;if(!f)return!1;l=f}let c=wx(t.doc,s,u,we.empty);if(!c||c.from!=s||c instanceof Er&&c.slice.size>=u-s)return!1;if(n){let f=t.tr.step(c);f.setSelection(lt.create(f.doc,s)),n(f.scrollIntoView())}return!0}o(VW,"joinTextblocksAround");function vp(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}o(vp,"textblockAt");const CVe=o((t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=UR(r)}let a=s&&s.nodeBefore;return!a||!Ue.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Ue.create(t.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)},"selectNodeBackward");function UR(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}o(UR,"findCutBefore");function jW(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}o(jW,"atBlockEnd");const IVe=o((t,e,n)=>{let r=jW(t,n);if(!r)return!1;let i=zR(r);if(!i)return!1;let s=i.nodeAfter;if(HW(t,i,e,1))return!0;if(r.parent.content.size==0&&(vp(s,"start")||Ue.isSelectable(s))){let a=wx(t.doc,r.before(),r.after(),we.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(vp(s,"start")?Ye.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):Ue.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},"joinForward"),RVe=o((t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=zR(r)}let a=s&&s.nodeAfter;return!a||!Ue.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Ue.create(t.doc,s.pos)).scrollIntoView()),!0)},"selectNodeForward");function zR(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}o(zR,"findCutAfter");const OVe=o((t,e)=>{let n=t.selection,r=n instanceof Ue,i;if(r){if(n.node.isTextblock||!qy(t.doc,n.from))return!1;i=n.from}else if(i=Jj(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(Ue.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},"joinUp"),NVe=o((t,e)=>{let n=t.selection,r;if(n instanceof Ue){if(n.node.isTextblock||!qy(t.doc,n.to))return!1;r=n.to}else if(r=Jj(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},"joinDown"),MVe=o((t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&Gy(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},"lift"),DVe=o((t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)},"newlineInCode");function WW(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}o(WW,"defaultBlockAt");const PVe=o((t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),a=WW(i.contentMatchAt(s));if(!a||!i.canReplaceWith(s,s,a))return!1;if(e){let l=n.after(),u=t.tr.replaceWith(l,l,a.createAndFill());u.setSelection(Ye.near(u.doc.resolve(l),1)),e(u.scrollIntoView())}return!0},"exitCode"),$Ve=o((t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof mo||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=WW(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=t.tr.insert(a,s.createAndFill());l.setSelection(lt.create(l.doc,a+1)),e(l.scrollIntoView())}return!0},"createParagraphNear"),LVe=o((t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Yj(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Gy(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},"liftEmptyBlock"),FVe=o((t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(Ue.create(t.doc,i))),!0)},"selectParentNode");function fCe(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||qy(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}o(fCe,"joinMaybeClear");function HW(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,a,l,u=i.type.spec.isolating||s.type.spec.isolating;if(!u&&fCe(t,e,n))return!0;let c=!u&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(a=(l=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&l.matchType(a[0]||s.type).validEnd){if(n){let p=e.pos+s.nodeSize,m=le.empty;for(let b=a.length-1;b>=0;b--)m=le.from(a[b].create(null,m));m=le.from(i.copy(m));let y=t.tr.step(new Ir(e.pos-1,p,e.pos,p,new we(m,1,0),a.length,!0)),_=y.doc.resolve(p+2*a.length);_.nodeAfter&&_.nodeAfter.type==i.type&&qy(y.doc,_.pos)&&y.join(_.pos),n(y.scrollIntoView())}return!0}let f=s.type.spec.isolating||r>0&&u?null:Ye.findFrom(e,1),h=f&&f.$from.blockRange(f.$to),d=h&&Gy(h);if(d!=null&&d>=e.depth)return n&&n(t.tr.lift(h,d).scrollIntoView()),!0;if(c&&vp(s,"start",!0)&&vp(i,"end")){let p=i,m=[];for(;m.push(p),!p.isTextblock;)p=p.lastChild;let y=s,_=1;for(;!y.isTextblock;y=y.firstChild)_++;if(p.canReplace(p.childCount,p.childCount,y.content)){if(n){let b=le.empty;for(let v=m.length-1;v>=0;v--)b=le.from(m[v].copy(b));let S=t.tr.step(new Ir(e.pos-m.length,e.pos+s.nodeSize,e.pos+_,e.pos+s.nodeSize-_,new we(b,m.length,0),0,!0));n(S.scrollIntoView())}return!0}}return!1}o(HW,"deleteBarrier");function GW(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(lt.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}o(GW,"selectTextblockSide");const BVe=GW(-1),UVe=GW(1);function zVe(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s),l=a&&Gj(a,t,e);return l?(r&&r(n.tr.wrap(a,l).scrollIntoView()),!0):!1}}o(zVe,"wrapIn");function VVe(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];n.doc.nodesBetween(a,l,(u,c)=>{if(i)return!1;if(!(!u.isTextblock||u.hasMarkup(t,e)))if(u.type==t)i=!0;else{let f=n.doc.resolve(c),h=f.index();i=f.parent.canReplaceWith(h,h+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:l},$to:{pos:u}}=n.selection.ranges[a];s.setBlockType(l,u,t,e)}r(s.scrollIntoView())}return!0}}o(VVe,"setBlockType");typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function jVe(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s);if(!a)return!1;let l=r?n.tr:null;return hCe(l,a,t,e)?(r&&r(l.scrollIntoView()),!0):!1}}o(jVe,"wrapInList");function hCe(t,e,n,r=null){let i=!1,s=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let u=a.resolve(e.start-2);s=new qw(u,u,e.depth),e.endIndex<e.parent.childCount&&(e=new qw(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let l=Gj(s,n,r,e);return l?(t&&dCe(t,e,l,i,n),!0):!1}o(hCe,"wrapRangeInList");function dCe(t,e,n,r,i){let s=le.empty;for(let f=n.length-1;f>=0;f--)s=le.from(n[f].type.create(n[f].attrs,s));t.step(new Ir(e.start-(r?2:0),e.end,e.start,e.end,new we(s,0,0),n.length,!0));let a=0;for(let f=0;f<n.length;f++)n[f].type==i&&(a=f+1);let l=n.length-a,u=e.start+n.length-(r?2:0),c=e.parent;for(let f=e.startIndex,h=e.endIndex,d=!0;f<h;f++,d=!1)!d&&Yj(t.doc,u,l)&&(t.split(u,l),u+=2*l),u+=c.child(f).nodeSize;return t}o(dCe,"doWrapInList");function WVe(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?pCe(e,n,t,s):mCe(e,n,s):!0:!1}}o(WVe,"liftListItem");function pCe(t,e,n,r){let i=t.tr,s=r.end,a=r.$to.end(r.depth);s<a&&(i.step(new Ir(s-1,a,s,a,new we(le.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new qw(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const l=Gy(r);if(l==null)return!1;i.lift(r,l);let u=i.mapping.map(s,-1)-1;return qy(i.doc,u)&&i.join(u),e(i.scrollIntoView()),!0}o(pCe,"liftToOuterList");function mCe(t,e,n){let r=t.tr,i=n.parent;for(let p=n.end,m=n.endIndex-1,y=n.startIndex;m>y;m--)p-=i.child(m).nodeSize,r.delete(p-1,p+1);let s=r.doc.resolve(n.start),a=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,u=n.endIndex==i.childCount,c=s.node(-1),f=s.index(-1);if(!c.canReplace(f+(l?0:1),f+1,a.content.append(u?le.empty:le.from(i))))return!1;let h=s.pos,d=h+a.nodeSize;return r.step(new Ir(h-(l?1:0),d+(u?1:0),h+1,d-1,new we((l?le.empty:le.from(i.copy(le.empty))).append(u?le.empty:le.from(i.copy(le.empty))),l?0:1,u?0:1),l?0:1)),e(r.scrollIntoView()),!0}o(mCe,"liftOutOfList");function HVe(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!s)return!1;let a=s.startIndex;if(a==0)return!1;let l=s.parent,u=l.child(a-1);if(u.type!=t)return!1;if(n){let c=u.lastChild&&u.lastChild.type==l.type,f=le.from(c?t.create():null),h=new we(le.from(t.create(null,le.from(l.type.create(null,f)))),c?3:1,0),d=s.start,p=s.end;n(e.tr.step(new Ir(d-(c?3:1),p,d,p,h,1,!0)).scrollIntoView())}return!0}}o(HVe,"sinkListItem");const gCe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",yCe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Ep=o((t,e)=>{for(const n in e)t[n]=e[n];return t},"assign$2"),RA="numeric",OA="ascii",NA="alpha",$g="asciinumeric",ag="alphanumeric",MA="domain",qW="emoji",_Ce="scheme",bCe="slashscheme",OT="whitespace";function wCe(t,e){return t in e||(e[t]=[]),e[t]}o(wCe,"registerGroup");function Yc(t,e,n){e[RA]&&(e[$g]=!0,e[ag]=!0),e[OA]&&(e[$g]=!0,e[NA]=!0),e[$g]&&(e[ag]=!0),e[NA]&&(e[ag]=!0),e[ag]&&(e[MA]=!0),e[qW]&&(e[MA]=!0);for(const r in e){const i=wCe(r,n);i.indexOf(t)<0&&i.push(t)}}o(Yc,"addToGroups");function vCe(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}o(vCe,"flagsForToken");function Oi(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}o(Oi,"State");Oi.groups={};Oi.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||Oi.groups;let i;return e&&e.j?i=e:(i=new Oi(e),n&&r&&Yc(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let a=0;a<s-1;a++)i=i.tt(t[a]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||Oi.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let a,l=i.go(t);if(l?(a=new Oi,Ep(a.j,l.j),a.jr.push.apply(a.jr,l.jr),a.jd=l.jd,a.t=l.t):a=new Oi,s){if(r)if(a.t&&typeof a.t=="string"){const u=Ep(vCe(a.t,r),n);Yc(s,u,r)}else n&&Yc(s,n,r);a.t=s}return i.j[t]=a,a}};const et=o((t,e,n,r,i)=>t.ta(e,n,r,i),"ta$1"),xn=o((t,e,n,r,i)=>t.tr(e,n,r,i),"tr$2"),XL=o((t,e,n,r,i)=>t.ts(e,n,r,i),"ts"),pe=o((t,e,n,r,i)=>t.tt(e,n,r,i),"tt$3"),Ya="WORD",DA="UWORD",KW="ASCIINUMERICAL",YW="ALPHANUMERICAL",q0="LOCALHOST",PA="TLD",$A="UTLD",yb="SCHEME",od="SLASH_SCHEME",VR="NUM",LA="WS",jR="NL",Lg="OPENBRACE",Fg="CLOSEBRACE",tv="OPENBRACKET",nv="CLOSEBRACKET",rv="OPENPAREN",iv="CLOSEPAREN",sv="OPENANGLEBRACKET",ov="CLOSEANGLEBRACKET",av="FULLWIDTHLEFTPAREN",lv="FULLWIDTHRIGHTPAREN",uv="LEFTCORNERBRACKET",cv="RIGHTCORNERBRACKET",fv="LEFTWHITECORNERBRACKET",hv="RIGHTWHITECORNERBRACKET",dv="FULLWIDTHLESSTHAN",pv="FULLWIDTHGREATERTHAN",mv="AMPERSAND",WR="APOSTROPHE",gv="ASTERISK",au="AT",yv="BACKSLASH",_v="BACKTICK",bv="CARET",yu="COLON",HR="COMMA",wv="DOLLAR",qo="DOT",vv="EQUALS",GR="EXCLAMATION",ys="HYPHEN",Bg="PERCENT",Ev="PIPE",xv="PLUS",Tv="POUND",Ug="QUERY",qR="QUOTE",XW="FULLWIDTHMIDDLEDOT",KR="SEMI",Ko="SLASH",zg="TILDE",Sv="UNDERSCORE",JW="EMOJI",kv="SYM";var ZW=Object.freeze({__proto__:null,WORD:Ya,UWORD:DA,ASCIINUMERICAL:KW,ALPHANUMERICAL:YW,LOCALHOST:q0,TLD:PA,UTLD:$A,SCHEME:yb,SLASH_SCHEME:od,NUM:VR,WS:LA,NL:jR,OPENBRACE:Lg,CLOSEBRACE:Fg,OPENBRACKET:tv,CLOSEBRACKET:nv,OPENPAREN:rv,CLOSEPAREN:iv,OPENANGLEBRACKET:sv,CLOSEANGLEBRACKET:ov,FULLWIDTHLEFTPAREN:av,FULLWIDTHRIGHTPAREN:lv,LEFTCORNERBRACKET:uv,RIGHTCORNERBRACKET:cv,LEFTWHITECORNERBRACKET:fv,RIGHTWHITECORNERBRACKET:hv,FULLWIDTHLESSTHAN:dv,FULLWIDTHGREATERTHAN:pv,AMPERSAND:mv,APOSTROPHE:WR,ASTERISK:gv,AT:au,BACKSLASH:yv,BACKTICK:_v,CARET:bv,COLON:yu,COMMA:HR,DOLLAR:wv,DOT:qo,EQUALS:vv,EXCLAMATION:GR,HYPHEN:ys,PERCENT:Bg,PIPE:Ev,PLUS:xv,POUND:Tv,QUERY:Ug,QUOTE:qR,FULLWIDTHMIDDLEDOT:XW,SEMI:KR,SLASH:Ko,TILDE:zg,UNDERSCORE:Sv,EMOJI:JW,SYM:kv});const Ga=/[a-z]/,Pm=/\p{L}/u,NT=/\p{Emoji}/u,qa=/\d/,MT=/\s/,JL="\r",DT=`
`,ECe="",xCe="",PT="";let v_=null,E_=null;function TCe(t=[]){const e={};Oi.groups=e;const n=new Oi;v_==null&&(v_=ZL(gCe)),E_==null&&(E_=ZL(yCe)),pe(n,"'",WR),pe(n,"{",Lg),pe(n,"}",Fg),pe(n,"[",tv),pe(n,"]",nv),pe(n,"(",rv),pe(n,")",iv),pe(n,"<",sv),pe(n,">",ov),pe(n,"",av),pe(n,"",lv),pe(n,"",uv),pe(n,"",cv),pe(n,"",fv),pe(n,"",hv),pe(n,"",dv),pe(n,"",pv),pe(n,"&",mv),pe(n,"*",gv),pe(n,"@",au),pe(n,"`",_v),pe(n,"^",bv),pe(n,":",yu),pe(n,",",HR),pe(n,"$",wv),pe(n,".",qo),pe(n,"=",vv),pe(n,"!",GR),pe(n,"-",ys),pe(n,"%",Bg),pe(n,"|",Ev),pe(n,"+",xv),pe(n,"#",Tv),pe(n,"?",Ug),pe(n,'"',qR),pe(n,"/",Ko),pe(n,";",KR),pe(n,"~",zg),pe(n,"_",Sv),pe(n,"\\",yv),pe(n,"",XW);const r=xn(n,qa,VR,{[RA]:!0});xn(r,qa,r);const i=xn(r,Ga,KW,{[$g]:!0}),s=xn(r,Pm,YW,{[ag]:!0}),a=xn(n,Ga,Ya,{[OA]:!0});xn(a,qa,i),xn(a,Ga,a),xn(i,qa,i),xn(i,Ga,i);const l=xn(n,Pm,DA,{[NA]:!0});xn(l,Ga),xn(l,qa,s),xn(l,Pm,l),xn(s,qa,s),xn(s,Ga),xn(s,Pm,s);const u=pe(n,DT,jR,{[OT]:!0}),c=pe(n,JL,LA,{[OT]:!0}),f=xn(n,MT,LA,{[OT]:!0});pe(n,PT,f),pe(c,DT,u),pe(c,PT,f),xn(c,MT,f),pe(f,JL),pe(f,DT),xn(f,MT,f),pe(f,PT,f);const h=xn(n,NT,JW,{[qW]:!0});pe(h,"#"),xn(h,NT,h),pe(h,ECe,h);const d=pe(h,xCe);pe(d,"#"),xn(d,NT,h);const p=[[Ga,a],[qa,i]],m=[[Ga,null],[Pm,l],[qa,s]];for(let y=0;y<v_.length;y++)Jl(n,v_[y],PA,Ya,p);for(let y=0;y<E_.length;y++)Jl(n,E_[y],$A,DA,m);Yc(PA,{tld:!0,ascii:!0},e),Yc($A,{utld:!0,alpha:!0},e),Jl(n,"file",yb,Ya,p),Jl(n,"mailto",yb,Ya,p),Jl(n,"http",od,Ya,p),Jl(n,"https",od,Ya,p),Jl(n,"ftp",od,Ya,p),Jl(n,"ftps",od,Ya,p),Yc(yb,{scheme:!0,ascii:!0},e),Yc(od,{slashscheme:!0,ascii:!0},e),t=t.sort((y,_)=>y[0]>_[0]?1:-1);for(let y=0;y<t.length;y++){const _=t[y][0],S=t[y][1]?{[_Ce]:!0}:{[bCe]:!0};_.indexOf("-")>=0?S[MA]=!0:Ga.test(_)?qa.test(_)?S[$g]=!0:S[OA]=!0:S[RA]=!0,XL(n,_,_,S)}return XL(n,"localhost",q0,{ascii:!0}),n.jd=new Oi(kv),{start:n,tokens:Ep({groups:e},ZW)}}o(TCe,"init$2");function QW(t,e){const n=SCe(e.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,i=[];let s=0,a=0;for(;a<r;){let l=t,u=null,c=0,f=null,h=-1,d=-1;for(;a<r&&(u=l.go(n[a]));)l=u,l.accepts()?(h=0,d=0,f=l):h>=0&&(h+=n[a].length,d++),c+=n[a].length,s+=n[a].length,a++;s-=h,a-=d,c-=h,i.push({t:f.t,v:e.slice(s-c,s),s:s-c,e:s})}return i}o(QW,"run$1");function SCe(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,a=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}o(SCe,"stringToArray");function Jl(t,e,n,r,i){let s;const a=e.length;for(let l=0;l<a-1;l++){const u=e[l];t.j[u]?s=t.j[u]:(s=new Oi(r),s.jr=i.slice(),t.j[u]=s),t=s}return s=new Oi(n),s.jr=i.slice(),t.j[e[a-1]]=s,s}o(Jl,"fastts");function ZL(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let a=parseInt(t.substring(r,r+s),10);a>0;a--)n.pop();r+=s}else n.push(t[r]),r++}return e}o(ZL,"decodeTlds");const K0={defaultProtocol:"http",events:null,format:QL,formatHref:QL,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function YR(t,e=null){let n=Ep({},K0);t&&(n=Ep(n,t instanceof YR?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}o(YR,"Options");YR.prototype={o:K0,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:K0[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function QL(t){return t}o(QL,"noop$1");function eH(t,e){this.t="token",this.v=t,this.tk=e}o(eH,"MultiToken");eH.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=K0.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),a={},l=t.get("className",n,e),u=t.get("target",n,e),c=t.get("rel",n,e),f=t.getObj("attributes",n,e),h=t.getObj("events",n,e);return a.href=r,l&&(a.class=l),u&&(a.target=u),c&&(a.rel=c),f&&Ep(a,f),{tagName:i,attributes:a,content:s,eventListeners:h}}};function Sx(t,e){class n extends eH{static{o(this,"Token")}constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}o(Sx,"createTokenClass");const e6=Sx("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),t6=Sx("text"),kCe=Sx("nl"),x_=Sx("url",{isLink:!0,toHref(t=K0.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==q0&&t[1].t===yu}}),hs=o(t=>new Oi(t),"makeState");function ACe({groups:t}){const e=t.domain.concat([mv,gv,au,yv,_v,bv,wv,vv,ys,VR,Bg,Ev,xv,Tv,Ko,kv,zg,Sv]),n=[yu,HR,qo,GR,Bg,Ug,qR,KR,sv,ov,Lg,Fg,nv,tv,rv,iv,av,lv,uv,cv,fv,hv,dv,pv],r=[mv,WR,gv,yv,_v,bv,wv,vv,ys,Lg,Fg,Bg,Ev,xv,Tv,Ug,Ko,kv,zg,Sv],i=hs(),s=pe(i,zg);et(s,r,s),et(s,t.domain,s);const a=hs(),l=hs(),u=hs();et(i,t.domain,a),et(i,t.scheme,l),et(i,t.slashscheme,u),et(a,r,s),et(a,t.domain,a);const c=pe(a,au);pe(s,au,c),pe(l,au,c),pe(u,au,c);const f=pe(s,qo);et(f,r,s),et(f,t.domain,s);const h=hs();et(c,t.domain,h),et(h,t.domain,h);const d=pe(h,qo);et(d,t.domain,h);const p=hs(e6);et(d,t.tld,p),et(d,t.utld,p),pe(c,q0,p);const m=pe(h,ys);pe(m,ys,m),et(m,t.domain,h),et(p,t.domain,h),pe(p,qo,d),pe(p,ys,m);const y=pe(p,yu);et(y,t.numeric,e6);const _=pe(a,ys),b=pe(a,qo);pe(_,ys,_),et(_,t.domain,a),et(b,r,s),et(b,t.domain,a);const S=hs(x_);et(b,t.tld,S),et(b,t.utld,S),et(S,t.domain,a),et(S,r,s),pe(S,qo,b),pe(S,ys,_),pe(S,au,c);const v=pe(S,yu),k=hs(x_);et(v,t.numeric,k);const C=hs(x_),R=hs();et(C,e,C),et(C,n,R),et(R,e,C),et(R,n,R),pe(S,Ko,C),pe(k,Ko,C);const x=pe(l,yu),E=pe(u,yu),T=pe(E,Ko),O=pe(T,Ko);et(l,t.domain,a),pe(l,qo,b),pe(l,ys,_),et(u,t.domain,a),pe(u,qo,b),pe(u,ys,_),et(x,t.domain,C),pe(x,Ko,C),pe(x,Ug,C),et(O,t.domain,C),et(O,e,C),pe(O,Ko,C);const N=[[Lg,Fg],[tv,nv],[rv,iv],[sv,ov],[av,lv],[uv,cv],[fv,hv],[dv,pv]];for(let I=0;I<N.length;I++){const[M,V]=N[I],j=pe(C,M);pe(R,M,j),pe(j,V,C);const H=hs(x_);et(j,e,H);const q=hs();et(j,n),et(H,e,H),et(H,n,q),et(q,e,H),et(q,n,q),pe(H,V,C),pe(q,V,C)}return pe(i,q0,S),pe(i,jR,kCe),{start:i,tokens:ZW}}o(ACe,"init$1");function CCe(t,e,n){let r=n.length,i=0,s=[],a=[];for(;i<r;){let l=t,u=null,c=null,f=0,h=null,d=-1;for(;i<r&&!(u=l.go(n[i].t));)a.push(n[i++]);for(;i<r&&(c=u||l.go(n[i].t));)u=null,l=c,l.accepts()?(d=0,h=l):d>=0&&d++,i++,f++;if(d<0)i-=f,i<r&&(a.push(n[i]),i++);else{a.length>0&&(s.push($T(t6,e,a)),a=[]),i-=d,f-=d;const p=h.t,m=n.slice(i-f,i);s.push($T(p,e,m))}}return a.length>0&&s.push($T(t6,e,a)),s}o(CCe,"run");function $T(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}o($T,"initMultiToken");const ICe=typeof console<"u"&&console&&console.warn||(()=>{}),RCe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",rn={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function GVe(){return Oi.groups={},rn.scanner=null,rn.parser=null,rn.tokenQueue=[],rn.pluginQueue=[],rn.customSchemes=[],rn.initialized=!1,rn}o(GVe,"reset");function qVe(t,e=!1){if(rn.initialized&&ICe(`linkifyjs: already initialized - will not register custom scheme "${t}" ${RCe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);rn.customSchemes.push([t,e])}o(qVe,"registerCustomProtocol");function OCe(){rn.scanner=TCe(rn.customSchemes);for(let t=0;t<rn.tokenQueue.length;t++)rn.tokenQueue[t][1]({scanner:rn.scanner});rn.parser=ACe(rn.scanner.tokens);for(let t=0;t<rn.pluginQueue.length;t++)rn.pluginQueue[t][1]({scanner:rn.scanner,parser:rn.parser});return rn.initialized=!0,rn}o(OCe,"init");function tH(t){return rn.initialized||OCe(),CCe(rn.parser.start,t,QW(rn.scanner.start,t))}o(tH,"tokenize");tH.scan=QW;function KVe(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new YR(n),i=tH(t),s=[];for(let a=0;a<i.length;a++){const l=i[a];l.isLink&&(!e||l.t===e)&&r.check(l)&&s.push(l.toFormattedObject(r))}return s}o(KVe,"find");var FA,BA;if(typeof WeakMap<"u"){let t=new WeakMap;FA=o(e=>t.get(e),"readFromCache"),BA=o((e,n)=>(t.set(e,n),n),"addToCache")}else{const t=[];let n=0;FA=o(r=>{for(let i=0;i<t.length;i+=2)if(t[i]==r)return t[i+1]},"readFromCache"),BA=o((r,i)=>(n==10&&(n=0),t[n++]=r,t[n++]=i),"addToCache")}var kn=class{static{o(this,"TableMap")}constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,i=e/this.width|0;let s=r+1,a=i+1;for(let l=1;s<this.width&&this.map[e+l]==n;l++)s++;for(let l=1;a<this.height&&this.map[e+this.width*l]==n;l++)a++;return{left:r,top:i,right:s,bottom:a}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:i,top:s,bottom:a}=this.findCell(t);return e=="horiz"?(n<0?r==0:i==this.width)?null:this.map[s*this.width+(n<0?r-1:i)]:(n<0?s==0:a==this.height)?null:this.map[r+this.width*(n<0?s-1:a)]}rectBetween(t,e){const{left:n,right:r,top:i,bottom:s}=this.findCell(t),{left:a,right:l,top:u,bottom:c}=this.findCell(e);return{left:Math.min(n,a),top:Math.min(i,u),right:Math.max(r,l),bottom:Math.max(s,c)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let i=t.left;i<t.right;i++){const s=r*this.width+i,a=this.map[s];n[a]||(n[a]=!0,!(i==t.left&&i&&this.map[s-1]==a||r==t.top&&r&&this.map[s-this.width]==a)&&e.push(a))}return e}positionAt(t,e,n){for(let r=0,i=0;;r++){const s=i+n.child(r).nodeSize;if(r==t){let a=e+t*this.width;const l=(t+1)*this.width;for(;a<l&&this.map[a]<i;)a++;return a==l?s-1:this.map[a]}i=s}}static get(t){return FA(t)||BA(t,NCe(t))}};function NCe(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=MCe(t),n=t.childCount,r=[];let i=0,s=null;const a=[];for(let c=0,f=e*n;c<f;c++)r[c]=0;for(let c=0,f=0;c<n;c++){const h=t.child(c);f++;for(let m=0;;m++){for(;i<r.length&&r[i]!=0;)i++;if(m==h.childCount)break;const y=h.child(m),{colspan:_,rowspan:b,colwidth:S}=y.attrs;for(let v=0;v<b;v++){if(v+c>=n){(s||(s=[])).push({type:"overlong_rowspan",pos:f,n:b-v});break}const k=i+v*e;for(let C=0;C<_;C++){r[k+C]==0?r[k+C]=f:(s||(s=[])).push({type:"collision",row:c,pos:f,n:_-C});const R=S&&S[C];if(R){const x=(k+C)%e*2,E=a[x];E==null||E!=R&&a[x+1]==1?(a[x]=R,a[x+1]=1):E==R&&a[x+1]++}}}i+=_,f+=y.nodeSize}const d=(c+1)*e;let p=0;for(;i<d;)r[i++]==0&&p++;p&&(s||(s=[])).push({type:"missing",row:c,n:p}),f++}const l=new kn(e,n,r,s);let u=!1;for(let c=0;!u&&c<a.length;c+=2)a[c]!=null&&a[c+1]<n&&(u=!0);return u&&DCe(l,a,t),l}o(NCe,"computeMap");function MCe(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const i=t.child(r);let s=0;if(n)for(let a=0;a<r;a++){const l=t.child(a);for(let u=0;u<l.childCount;u++){const c=l.child(u);a+c.attrs.rowspan>r&&(s+=c.attrs.colspan)}}for(let a=0;a<i.childCount;a++){const l=i.child(a);s+=l.attrs.colspan,l.attrs.rowspan>1&&(n=!0)}e==-1?e=s:e!=s&&(e=Math.max(e,s))}return e}o(MCe,"findWidth");function DCe(t,e,n){t.problems||(t.problems=[]);const r={};for(let i=0;i<t.map.length;i++){const s=t.map[i];if(r[s])continue;r[s]=!0;const a=n.nodeAt(s);if(!a)throw new RangeError(`No cell with offset ${s} found`);let l=null;const u=a.attrs;for(let c=0;c<u.colspan;c++){const f=(i+c)%t.width,h=e[f*2];h!=null&&(!u.colwidth||u.colwidth[c]!=h)&&((l||(l=PCe(u)))[c]=h)}l&&t.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:l})}}o(DCe,"findBadColWidths");function PCe(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}o(PCe,"freshColWidth");function Yr(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],i=r.spec.tableRole;i&&(e[i]=r)}}return e}o(Yr,"tableNodeTypes");var _u=new Ky("selectingCells");function tm(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}o(tm,"cellAround");function $Ce(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}o($Ce,"cellWrapping");function Oo(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}o(Oo,"isInTable");function kx(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=tm(e.$head)||LCe(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}o(kx,"selectionCell");function LCe(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}o(LCe,"cellNear");function UA(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}o(UA,"pointsAtCell");function FCe(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}o(FCe,"moveCellForward");function XR(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}o(XR,"inSameTable");function nH(t,e,n){const r=t.node(-1),i=kn.get(r),s=t.start(-1),a=i.nextCell(t.pos-s,e,n);return a==null?null:t.node(0).resolve(s+a)}o(nH,"nextCell");function Vf(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}o(Vf,"removeColSpan");function rH(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(e,0,0)}return r}o(rH,"addColSpan");function BCe(t,e,n){const r=Yr(e.type.schema).header_cell;for(let i=0;i<t.height;i++)if(e.nodeAt(t.map[n+i*t.width]).type!=r)return!1;return!0}o(BCe,"columnIsHeader");var hn=class Xa extends Ye{static{o(this,"_CellSelection")}constructor(e,n=e){const r=e.node(-1),i=kn.get(r),s=e.start(-1),a=i.rectBetween(e.pos-s,n.pos-s),l=e.node(0),u=i.cellsInRect(a).filter(f=>f!=n.pos-s);u.unshift(n.pos-s);const c=u.map(f=>{const h=r.nodeAt(f);if(!h)throw RangeError(`No cell with offset ${f} found`);const d=s+f+1;return new iW(l.resolve(d),l.resolve(d+h.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),i=e.resolve(n.map(this.$headCell.pos));if(UA(r)&&UA(i)&&XR(r,i)){const s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?Xa.rowSelection(r,i):s&&this.isColSelection()?Xa.colSelection(r,i):new Xa(r,i)}return lt.between(r,i)}content(){const e=this.$anchorCell.node(-1),n=kn.get(e),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},a=[];for(let u=i.top;u<i.bottom;u++){const c=[];for(let f=u*n.width+i.left,h=i.left;h<i.right;h++,f++){const d=n.map[f];if(s[d])continue;s[d]=!0;const p=n.findCell(d);let m=e.nodeAt(d);if(!m)throw RangeError(`No cell with offset ${d} found`);const y=i.left-p.left,_=p.right-i.right;if(y>0||_>0){let b=m.attrs;if(y>0&&(b=Vf(b,0,y)),_>0&&(b=Vf(b,b.colspan-_,_)),p.left<i.left){if(m=m.type.createAndFill(b),!m)throw RangeError(`Could not create cell with attrs ${JSON.stringify(b)}`)}else m=m.type.create(b,m.content)}if(p.top<i.top||p.bottom>i.bottom){const b={...m.attrs,rowspan:Math.min(p.bottom,i.bottom)-Math.max(p.top,i.top)};p.top<i.top?m=m.type.createAndFill(b):m=m.type.create(b,m.content)}c.push(m)}a.push(e.child(u).copy(le.from(c)))}const l=this.isColSelection()&&this.isRowSelection()?e:a;return new we(le.from(l),1,1)}replace(e,n=we.empty){const r=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){const{$from:l,$to:u}=i[a],c=e.mapping.slice(r);e.replace(c.map(l.pos),c.map(u.pos),a?we.empty:n)}const s=Ye.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,n){this.replace(e,new we(le.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=kn.get(n),i=this.$anchorCell.start(-1),s=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let a=0;a<s.length;a++)e(n.nodeAt(s[a]),i+s[a])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),i=kn.get(r),s=e.start(-1),a=i.findCell(e.pos-s),l=i.findCell(n.pos-s),u=e.node(0);return a.top<=l.top?(a.top>0&&(e=u.resolve(s+i.map[a.left])),l.bottom<i.height&&(n=u.resolve(s+i.map[i.width*(i.height-1)+l.right-1]))):(l.top>0&&(n=u.resolve(s+i.map[l.left])),a.bottom<i.height&&(e=u.resolve(s+i.map[i.width*(i.height-1)+a.right-1]))),new Xa(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=kn.get(e),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),s=n.colCount(this.$headCell.pos-r);if(Math.min(i,s)>0)return!1;const a=i+this.$anchorCell.nodeAfter.attrs.colspan,l=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,l)==n.width}eq(e){return e instanceof Xa&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),i=kn.get(r),s=e.start(-1),a=i.findCell(e.pos-s),l=i.findCell(n.pos-s),u=e.node(0);return a.left<=l.left?(a.left>0&&(e=u.resolve(s+i.map[a.top*i.width])),l.right<i.width&&(n=u.resolve(s+i.map[i.width*(l.top+1)-1]))):(l.left>0&&(n=u.resolve(s+i.map[l.top*i.width])),a.right<i.width&&(e=u.resolve(s+i.map[i.width*(a.top+1)-1]))),new Xa(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new Xa(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new Xa(e.resolve(n),e.resolve(r))}getBookmark(){return new UCe(this.$anchorCell.pos,this.$headCell.pos)}};hn.prototype.visible=!1;Ye.jsonID("cell",hn);var UCe=class iH{static{o(this,"_CellBookmark")}constructor(e,n){this.anchor=e,this.head=n}map(e){return new iH(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&XR(n,r)?new hn(n,r):Ye.near(r,1)}};function zCe(t){if(!(t.selection instanceof hn))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(hi.node(r,r+n.nodeSize,{class:"selectedCell"}))}),Tn.create(t.doc,e)}o(zCe,"drawCellSelection");function VCe({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,r=e.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,n++);for(let s=e.depth;s>=0&&!(e.before(s+1)>e.start(s));s--,r--);return n==r&&/row|table/.test(t.node(i).type.spec.tableRole)}o(VCe,"isCellBoundarySelection");function jCe({$from:t,$to:e}){let n,r;for(let i=t.depth;i>0;i--){const s=t.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){n=s;break}}for(let i=e.depth;i>0;i--){const s=e.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}return n!==r&&e.parentOffset===0}o(jCe,"isTextSelectionAcrossCells");function WCe(t,e,n){const r=(e||t).selection,i=(e||t).doc;let s,a;if(r instanceof Ue&&(a=r.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")s=hn.create(i,r.from);else if(a=="row"){const l=i.resolve(r.from+1);s=hn.rowSelection(l,l)}else if(!n){const l=kn.get(r.node),u=r.from+1,c=u+l.map[l.width*l.height-1];s=hn.create(i,u+1,c)}}else r instanceof lt&&VCe(r)?s=lt.create(i,r.from):r instanceof lt&&jCe(r)&&(s=lt.create(i,r.$from.start(),r.$from.end()));return s&&(e||(e=t.tr)).setSelection(s),e}o(WCe,"normalizeSelection");var HCe=new Ky("fix-tables");function sH(t,e,n,r){const i=t.childCount,s=e.childCount;e:for(let a=0,l=0;a<s;a++){const u=e.child(a);for(let c=l,f=Math.min(i,a+3);c<f;c++)if(t.child(c)==u){l=c+1,n+=u.nodeSize;continue e}r(u,n),l<i&&t.child(l).sameMarkup(u)?sH(t.child(l),u,n+1,r):u.nodesBetween(0,u.content.size,r,n+1),n+=u.nodeSize}}o(sH,"changedDescendants");function GCe(t,e){let n;const r=o((i,s)=>{i.type.spec.tableRole=="table"&&(n=qCe(t,i,s,n))},"check");return e?e.doc!=t.doc&&sH(e.doc,t.doc,0,r):t.doc.descendants(r),n}o(GCe,"fixTables");function qCe(t,e,n,r){const i=kn.get(e);if(!i.problems)return r;r||(r=t.tr);const s=[];for(let u=0;u<i.height;u++)s.push(0);for(let u=0;u<i.problems.length;u++){const c=i.problems[u];if(c.type=="collision"){const f=e.nodeAt(c.pos);if(!f)continue;const h=f.attrs;for(let d=0;d<h.rowspan;d++)s[c.row+d]+=c.n;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,Vf(h,h.colspan-c.n,c.n))}else if(c.type=="missing")s[c.row]+=c.n;else if(c.type=="overlong_rowspan"){const f=e.nodeAt(c.pos);if(!f)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...f.attrs,rowspan:f.attrs.rowspan-c.n})}else if(c.type=="colwidth mismatch"){const f=e.nodeAt(c.pos);if(!f)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...f.attrs,colwidth:c.colwidth})}}let a,l;for(let u=0;u<s.length;u++)s[u]&&(a==null&&(a=u),l=u);for(let u=0,c=n+1;u<i.height;u++){const f=e.child(u),h=c+f.nodeSize,d=s[u];if(d>0){let p="cell";f.firstChild&&(p=f.firstChild.type.spec.tableRole);const m=[];for(let _=0;_<d;_++){const b=Yr(t.schema)[p].createAndFill();b&&m.push(b)}const y=(u==0||a==u-1)&&l==u?c+1:h-1;r.insert(r.mapping.map(y),m)}c=h}return r.setMeta(HCe,{fixTables:!0})}o(qCe,"fixTable");function Ma(t){const e=t.selection,n=kx(t),r=n.node(-1),i=n.start(-1),s=kn.get(r);return{...e instanceof hn?s.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):s.findCell(n.pos-i),tableStart:i,map:s,table:r}}o(Ma,"selectedRect");function oH(t,{map:e,tableStart:n,table:r},i){let s=i>0?-1:0;BCe(e,r,i+s)&&(s=i==0||i==e.width?null:0);for(let a=0;a<e.height;a++){const l=a*e.width+i;if(i>0&&i<e.width&&e.map[l-1]==e.map[l]){const u=e.map[l],c=r.nodeAt(u);t.setNodeMarkup(t.mapping.map(n+u),null,rH(c.attrs,i-e.colCount(u))),a+=c.attrs.rowspan-1}else{const u=s==null?Yr(r.type.schema).cell:r.nodeAt(e.map[l+s]).type,c=e.positionAt(a,i,r);t.insert(t.mapping.map(n+c),u.createAndFill())}}return t}o(oH,"addColumn");function YVe(t,e){if(!Oo(t))return!1;if(e){const n=Ma(t);e(oH(t.tr,n,n.left))}return!0}o(YVe,"addColumnBefore");function XVe(t,e){if(!Oo(t))return!1;if(e){const n=Ma(t);e(oH(t.tr,n,n.right))}return!0}o(XVe,"addColumnAfter");function KCe(t,{map:e,table:n,tableStart:r},i){const s=t.mapping.maps.length;for(let a=0;a<e.height;){const l=a*e.width+i,u=e.map[l],c=n.nodeAt(u),f=c.attrs;if(i>0&&e.map[l-1]==u||i<e.width-1&&e.map[l+1]==u)t.setNodeMarkup(t.mapping.slice(s).map(r+u),null,Vf(f,i-e.colCount(u)));else{const h=t.mapping.slice(s).map(r+u);t.delete(h,h+c.nodeSize)}a+=f.rowspan}}o(KCe,"removeColumn");function JVe(t,e){if(!Oo(t))return!1;if(e){const n=Ma(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;KCe(r,n,i),i!=n.left;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=kn.get(s)}e(r)}return!0}o(JVe,"deleteColumn");function YCe(t,e,n){var r;const i=Yr(e.type.schema).header_cell;for(let s=0;s<t.width;s++)if(((r=e.nodeAt(t.map[s+n*t.width]))==null?void 0:r.type)!=i)return!1;return!0}o(YCe,"rowIsHeader");function aH(t,{map:e,tableStart:n,table:r},i){var s;let a=n;for(let c=0;c<i;c++)a+=r.child(c).nodeSize;const l=[];let u=i>0?-1:0;YCe(e,r,i+u)&&(u=i==0||i==e.height?null:0);for(let c=0,f=e.width*i;c<e.width;c++,f++)if(i>0&&i<e.height&&e.map[f]==e.map[f-e.width]){const h=e.map[f],d=r.nodeAt(h).attrs;t.setNodeMarkup(n+h,null,{...d,rowspan:d.rowspan+1}),c+=d.colspan-1}else{const h=u==null?Yr(r.type.schema).cell:(s=r.nodeAt(e.map[f+u*e.width]))==null?void 0:s.type,d=h?.createAndFill();d&&l.push(d)}return t.insert(a,Yr(r.type.schema).row.create(null,l)),t}o(aH,"addRow");function ZVe(t,e){if(!Oo(t))return!1;if(e){const n=Ma(t);e(aH(t.tr,n,n.top))}return!0}o(ZVe,"addRowBefore");function QVe(t,e){if(!Oo(t))return!1;if(e){const n=Ma(t);e(aH(t.tr,n,n.bottom))}return!0}o(QVe,"addRowAfter");function XCe(t,{map:e,table:n,tableStart:r},i){let s=0;for(let c=0;c<i;c++)s+=n.child(c).nodeSize;const a=s+n.child(i).nodeSize,l=t.mapping.maps.length;t.delete(s+r,a+r);const u=new Set;for(let c=0,f=i*e.width;c<e.width;c++,f++){const h=e.map[f];if(!u.has(h)){if(u.add(h),i>0&&h==e.map[f-e.width]){const d=n.nodeAt(h).attrs;t.setNodeMarkup(t.mapping.slice(l).map(h+r),null,{...d,rowspan:d.rowspan-1}),c+=d.colspan-1}else if(i<e.height&&h==e.map[f+e.width]){const d=n.nodeAt(h),p=d.attrs,m=d.type.create({...p,rowspan:d.attrs.rowspan-1},d.content),y=e.positionAt(i+1,c,n);t.insert(t.mapping.slice(l).map(r+y),m),c+=p.colspan-1}}}}o(XCe,"removeRow");function e7e(t,e){if(!Oo(t))return!1;if(e){const n=Ma(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;XCe(r,n,i),i!=n.top;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=kn.get(n.table)}e(r)}return!0}o(e7e,"deleteRow");function n6(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}o(n6,"isEmpty");function JCe({width:t,height:e,map:n},r){let i=r.top*t+r.left,s=i,a=(r.bottom-1)*t+r.left,l=i+(r.right-r.left-1);for(let u=r.top;u<r.bottom;u++){if(r.left>0&&n[s]==n[s-1]||r.right<t&&n[l]==n[l+1])return!0;s+=t,l+=t}for(let u=r.left;u<r.right;u++){if(r.top>0&&n[i]==n[i-t]||r.bottom<e&&n[a]==n[a+t])return!0;i++,a++}return!1}o(JCe,"cellsOverlapRectangle");function t7e(t,e){const n=t.selection;if(!(n instanceof hn)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=Ma(t),{map:i}=r;if(JCe(i,r))return!1;if(e){const s=t.tr,a={};let l=le.empty,u,c;for(let f=r.top;f<r.bottom;f++)for(let h=r.left;h<r.right;h++){const d=i.map[f*i.width+h],p=r.table.nodeAt(d);if(!(a[d]||!p))if(a[d]=!0,u==null)u=d,c=p;else{n6(p)||(l=l.append(p.content));const m=s.mapping.map(d+r.tableStart);s.delete(m,m+p.nodeSize)}}if(u==null||c==null)return!0;if(s.setNodeMarkup(u+r.tableStart,null,{...rH(c.attrs,c.attrs.colspan,r.right-r.left-c.attrs.colspan),rowspan:r.bottom-r.top}),l.size){const f=u+1+c.content.size,h=n6(c)?u+1:f;s.replaceWith(h+r.tableStart,f+r.tableStart,l)}s.setSelection(new hn(s.doc.resolve(u+r.tableStart))),e(s)}return!0}o(t7e,"mergeCells");function n7e(t,e){const n=Yr(t.schema);return ZCe(({node:r})=>n[r.type.spec.tableRole])(t,e)}o(n7e,"splitCell");function ZCe(t){return(e,n)=>{var r;const i=e.selection;let s,a;if(i instanceof hn){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;s=i.$anchorCell.nodeAfter,a=i.$anchorCell.pos}else{if(s=$Ce(i.$from),!s)return!1;a=(r=tm(i.$from))==null?void 0:r.pos}if(s==null||a==null||s.attrs.colspan==1&&s.attrs.rowspan==1)return!1;if(n){let l=s.attrs;const u=[],c=l.colwidth;l.rowspan>1&&(l={...l,rowspan:1}),l.colspan>1&&(l={...l,colspan:1});const f=Ma(e),h=e.tr;for(let p=0;p<f.right-f.left;p++)u.push(c?{...l,colwidth:c&&c[p]?[c[p]]:null}:l);let d;for(let p=f.top;p<f.bottom;p++){let m=f.map.positionAt(p,f.left,f.table);p==f.top&&(m+=s.nodeSize);for(let y=f.left,_=0;y<f.right;y++,_++)y==f.left&&p==f.top||h.insert(d=h.mapping.map(m+f.tableStart,1),t({node:s,row:p,col:y}).createAndFill(u[_]))}h.setNodeMarkup(a,t({node:s,row:f.top,col:f.left}),u[0]),i instanceof hn&&h.setSelection(new hn(h.doc.resolve(i.$anchorCell.pos),d?h.doc.resolve(d):void 0)),n(h)}return!0}}o(ZCe,"splitCellWithType");function r7e(t,e){return function(n,r){if(!Oo(n))return!1;const i=kx(n);if(i.nodeAfter.attrs[t]===e)return!1;if(r){const s=n.tr;n.selection instanceof hn?n.selection.forEachCell((a,l)=>{a.attrs[t]!==e&&s.setNodeMarkup(l,null,{...a.attrs,[t]:e})}):s.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[t]:e}),r(s)}return!0}}o(r7e,"setCellAttr");function QCe(t){return function(e,n){if(!Oo(e))return!1;if(n){const r=Yr(e.schema),i=Ma(e),s=e.tr,a=i.map.cellsInRect(t=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:t=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),l=a.map(u=>i.table.nodeAt(u));for(let u=0;u<a.length;u++)l[u].type==r.header_cell&&s.setNodeMarkup(i.tableStart+a[u],r.cell,l[u].attrs);if(s.steps.length==0)for(let u=0;u<a.length;u++)s.setNodeMarkup(i.tableStart+a[u],r.header_cell,l[u].attrs);n(s)}return!0}}o(QCe,"deprecated_toggleHeader");function r6(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let i=0;i<r.length;i++){const s=e.table.nodeAt(r[i]);if(s&&s.type!==n.header_cell)return!1}return!0}o(r6,"isHeaderEnabledByType");function JR(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?QCe(t):function(n,r){if(!Oo(n))return!1;if(r){const i=Yr(n.schema),s=Ma(n),a=n.tr,l=r6("row",s,i),u=r6("column",s,i),f=(t==="column"?l:t==="row"?u:!1)?1:0,h=t=="column"?{left:0,top:f,right:1,bottom:s.map.height}:t=="row"?{left:f,top:0,right:s.map.width,bottom:1}:s,d=t=="column"?u?i.cell:i.header_cell:t=="row"?l?i.cell:i.header_cell:i.cell;s.map.cellsInRect(h).forEach(p=>{const m=p+s.tableStart,y=a.doc.nodeAt(m);y&&a.setNodeMarkup(m,d,y.attrs)}),r(a)}return!0}}o(JR,"toggleHeader");JR("row",{useDeprecatedLogic:!0});JR("column",{useDeprecatedLogic:!0});var i7e=JR("cell",{useDeprecatedLogic:!0});function eIe(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,i=t.before();r>=0;r--){const s=t.node(-1).child(r),a=s.lastChild;if(a)return i-1-a.nodeSize;i-=s.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),i=t.after();r<n.childCount;r++){const s=n.child(r);if(s.childCount)return i+1;i+=s.nodeSize}}return null}o(eIe,"findNextCell");function s7e(t){return function(e,n){if(!Oo(e))return!1;const r=eIe(kx(e),t);if(r==null)return!1;if(n){const i=e.doc.resolve(r);n(e.tr.setSelection(lt.between(i,FCe(i))).scrollIntoView())}return!0}}o(s7e,"goToNextCell");function o7e(t,e){const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}o(o7e,"deleteTable");function T_(t,e){const n=t.selection;if(!(n instanceof hn))return!1;if(e){const r=t.tr,i=Yr(t.schema).cell.createAndFill().content;n.forEachCell((s,a)=>{s.content.eq(i)||r.replace(r.mapping.map(a+1),r.mapping.map(a+s.nodeSize-1),new we(i,0,0))}),r.docChanged&&e(r)}return!0}o(T_,"deleteCellSelection");function tIe(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.child(0).type.spec.tableRole=="table");)n--,r--,e=e.child(0).content;const i=e.child(0),s=i.type.spec.tableRole,a=i.type.schema,l=[];if(s=="row")for(let u=0;u<e.childCount;u++){let c=e.child(u).content;const f=u?0:Math.max(0,n-1),h=u<e.childCount-1?0:Math.max(0,r-1);(f||h)&&(c=zA(Yr(a).row,new we(c,f,h)).content),l.push(c)}else if(s=="cell"||s=="header_cell")l.push(n||r?zA(Yr(a).row,new we(e,n,r)).content:e);else return null;return nIe(a,l)}o(tIe,"pastedCells");function nIe(t,e){const n=[];for(let i=0;i<e.length;i++){const s=e[i];for(let a=s.childCount-1;a>=0;a--){const{rowspan:l,colspan:u}=s.child(a).attrs;for(let c=i;c<i+l;c++)n[c]=(n[c]||0)+u}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=e.length&&e.push(le.empty),n[i]<r){const s=Yr(t).cell.createAndFill(),a=[];for(let l=n[i];l<r;l++)a.push(s);e[i]=e[i].append(le.from(a))}return{height:e.length,width:r,rows:e}}o(nIe,"ensureRectangular");function zA(t,e){const n=t.createAndFill();return new rW(n).replace(0,n.content.size,e).doc}o(zA,"fitSlice");function rIe({width:t,height:e,rows:n},r,i){if(t!=r){const s=[],a=[];for(let l=0;l<n.length;l++){const u=n[l],c=[];for(let f=s[l]||0,h=0;f<r;h++){let d=u.child(h%u.childCount);f+d.attrs.colspan>r&&(d=d.type.createChecked(Vf(d.attrs,d.attrs.colspan,f+d.attrs.colspan-r),d.content)),c.push(d),f+=d.attrs.colspan;for(let p=1;p<d.attrs.rowspan;p++)s[l+p]=(s[l+p]||0)+d.attrs.colspan}a.push(le.from(c))}n=a,t=r}if(e!=i){const s=[];for(let a=0,l=0;a<i;a++,l++){const u=[],c=n[l%e];for(let f=0;f<c.childCount;f++){let h=c.child(f);a+h.attrs.rowspan>i&&(h=h.type.create({...h.attrs,rowspan:Math.max(1,i-h.attrs.rowspan)},h.content)),u.push(h)}s.push(le.from(u))}n=s,e=i}return{width:t,height:e,rows:n}}o(rIe,"clipCells");function iIe(t,e,n,r,i,s,a){const l=t.doc.type.schema,u=Yr(l);let c,f;if(i>e.width)for(let h=0,d=0;h<e.height;h++){const p=n.child(h);d+=p.nodeSize;const m=[];let y;p.lastChild==null||p.lastChild.type==u.cell?y=c||(c=u.cell.createAndFill()):y=f||(f=u.header_cell.createAndFill());for(let _=e.width;_<i;_++)m.push(y);t.insert(t.mapping.slice(a).map(d-1+r),m)}if(s>e.height){const h=[];for(let m=0,y=(e.height-1)*e.width;m<Math.max(e.width,i);m++){const _=m>=e.width?!1:n.nodeAt(e.map[y+m]).type==u.header_cell;h.push(_?f||(f=u.header_cell.createAndFill()):c||(c=u.cell.createAndFill()))}const d=u.row.create(null,le.from(h)),p=[];for(let m=e.height;m<s;m++)p.push(d);t.insert(t.mapping.slice(a).map(r+n.nodeSize-2),p)}return!!(c||f)}o(iIe,"growTable");function i6(t,e,n,r,i,s,a,l){if(a==0||a==e.height)return!1;let u=!1;for(let c=i;c<s;c++){const f=a*e.width+c,h=e.map[f];if(e.map[f-e.width]==h){u=!0;const d=n.nodeAt(h),{top:p,left:m}=e.findCell(h);t.setNodeMarkup(t.mapping.slice(l).map(h+r),null,{...d.attrs,rowspan:a-p}),t.insert(t.mapping.slice(l).map(e.positionAt(a,m,n)),d.type.createAndFill({...d.attrs,rowspan:p+d.attrs.rowspan-a})),c+=d.attrs.colspan-1}}return u}o(i6,"isolateHorizontal");function s6(t,e,n,r,i,s,a,l){if(a==0||a==e.width)return!1;let u=!1;for(let c=i;c<s;c++){const f=c*e.width+a,h=e.map[f];if(e.map[f-1]==h){u=!0;const d=n.nodeAt(h),p=e.colCount(h),m=t.mapping.slice(l).map(h+r);t.setNodeMarkup(m,null,Vf(d.attrs,a-p,d.attrs.colspan-(a-p))),t.insert(m+d.nodeSize,d.type.createAndFill(Vf(d.attrs,0,a-p))),c+=d.attrs.rowspan-1}}return u}o(s6,"isolateVertical");function o6(t,e,n,r,i){let s=n?t.doc.nodeAt(n-1):t.doc;if(!s)throw new Error("No table found");let a=kn.get(s);const{top:l,left:u}=r,c=u+i.width,f=l+i.height,h=t.tr;let d=0;function p(){if(s=n?h.doc.nodeAt(n-1):h.doc,!s)throw new Error("No table found");a=kn.get(s),d=h.mapping.maps.length}o(p,"recomp"),iIe(h,a,s,n,c,f,d)&&p(),i6(h,a,s,n,u,c,l,d)&&p(),i6(h,a,s,n,u,c,f,d)&&p(),s6(h,a,s,n,l,f,u,d)&&p(),s6(h,a,s,n,l,f,c,d)&&p();for(let m=l;m<f;m++){const y=a.positionAt(m,u,s),_=a.positionAt(m,c,s);h.replace(h.mapping.slice(d).map(y+n),h.mapping.slice(d).map(_+n),new we(i.rows[m-l],0,0))}p(),h.setSelection(new hn(h.doc.resolve(n+a.positionAt(l,u,s)),h.doc.resolve(n+a.positionAt(f-1,c-1,s)))),e(h)}o(o6,"insertCells");var sIe=BR({ArrowLeft:S_("horiz",-1),ArrowRight:S_("horiz",1),ArrowUp:S_("vert",-1),ArrowDown:S_("vert",1),"Shift-ArrowLeft":k_("horiz",-1),"Shift-ArrowRight":k_("horiz",1),"Shift-ArrowUp":k_("vert",-1),"Shift-ArrowDown":k_("vert",1),Backspace:T_,"Mod-Backspace":T_,Delete:T_,"Mod-Delete":T_});function _b(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}o(_b,"maybeSetSelection");function S_(t,e){return(n,r,i)=>{if(!i)return!1;const s=n.selection;if(s instanceof hn)return _b(n,r,Ye.near(s.$headCell,e));if(t!="horiz"&&!s.empty)return!1;const a=lH(i,t,e);if(a==null)return!1;if(t=="horiz")return _b(n,r,Ye.near(n.doc.resolve(s.head+e),e));{const l=n.doc.resolve(a),u=nH(l,t,e);let c;return u?c=Ye.near(u,1):e<0?c=Ye.near(n.doc.resolve(l.before(-1)),-1):c=Ye.near(n.doc.resolve(l.after(-1)),1),_b(n,r,c)}}}o(S_,"arrow$1");function k_(t,e){return(n,r,i)=>{if(!i)return!1;const s=n.selection;let a;if(s instanceof hn)a=s;else{const u=lH(i,t,e);if(u==null)return!1;a=new hn(n.doc.resolve(u))}const l=nH(a.$headCell,t,e);return l?_b(n,r,new hn(a.$anchorCell,l)):!1}}o(k_,"shiftArrow");function oIe(t,e){const n=t.state.doc,r=tm(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new hn(r))),!0):!1}o(oIe,"handleTripleClick");function aIe(t,e,n){if(!Oo(t.state))return!1;let r=tIe(n);const i=t.state.selection;if(i instanceof hn){r||(r={width:1,height:1,rows:[le.from(zA(Yr(t.state.schema).cell,n))]});const s=i.$anchorCell.node(-1),a=i.$anchorCell.start(-1),l=kn.get(s).rectBetween(i.$anchorCell.pos-a,i.$headCell.pos-a);return r=rIe(r,l.right-l.left,l.bottom-l.top),o6(t.state,t.dispatch,a,l,r),!0}else if(r){const s=kx(t.state),a=s.start(-1);return o6(t.state,t.dispatch,a,kn.get(s.node(-1)).findCell(s.pos-a),r),!0}else return!1}o(aIe,"handlePaste");function lIe(t,e){var n;if(e.ctrlKey||e.metaKey)return;const r=a6(t,e.target);let i;if(e.shiftKey&&t.state.selection instanceof hn)s(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(i=tm(t.state.selection.$anchor))!=null&&((n=LT(t,e))==null?void 0:n.pos)!=i.pos)s(i,e),e.preventDefault();else if(!r)return;function s(u,c){let f=LT(t,c);const h=_u.getState(t.state)==null;if(!f||!XR(u,f))if(h)f=u;else return;const d=new hn(u,f);if(h||!t.state.selection.eq(d)){const p=t.state.tr.setSelection(d);h&&p.setMeta(_u,u.pos),t.dispatch(p)}}o(s,"setCellSelection");function a(){t.root.removeEventListener("mouseup",a),t.root.removeEventListener("dragstart",a),t.root.removeEventListener("mousemove",l),_u.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(_u,-1))}o(a,"stop");function l(u){const c=u,f=_u.getState(t.state);let h;if(f!=null)h=t.state.doc.resolve(f);else if(a6(t,c.target)!=r&&(h=LT(t,e),!h))return a();h&&s(h,c)}o(l,"move"),t.root.addEventListener("mouseup",a),t.root.addEventListener("dragstart",a),t.root.addEventListener("mousemove",l)}o(lIe,"handleMouseDown");function lH(t,e,n){if(!(t.state.selection instanceof lt))return null;const{$head:r}=t.state.selection;for(let i=r.depth-1;i>=0;i--){const s=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const l=r.before(i),u=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(u)?l:null}}return null}o(lH,"atEndOfCell");function a6(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}o(a6,"domInCell");function LT(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?tm(t.state.doc.resolve(n.pos)):null}o(LT,"cellUnderMouse");var uIe=class{static{o(this,"TableView")}constructor(t,e){this.node=t,this.defaultCellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${e}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),VA(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!=this.node.type?!1:(this.node=t,VA(t,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(t){return t.type=="attributes"&&(t.target==this.table||this.colgroup.contains(t.target))}};function VA(t,e,n,r,i,s){var a;let l=0,u=!0,c=e.firstChild;const f=t.firstChild;if(f){for(let h=0,d=0;h<f.childCount;h++){const{colspan:p,colwidth:m}=f.child(h).attrs;for(let y=0;y<p;y++,d++){const _=i==d?s:m&&m[y],b=_?_+"px":"";if(l+=_||r,_||(u=!1),c)c.style.width!=b&&(c.style.width=b),c=c.nextSibling;else{const S=document.createElement("col");S.style.width=b,e.appendChild(S)}}}for(;c;){const h=c.nextSibling;(a=c.parentNode)==null||a.removeChild(c),c=h}u?(n.style.width=l+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=l+"px")}}o(VA,"updateColumnsOnResize");var Xi=new Ky("tableColumnResizing");function a7e({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:r=uIe,lastColumnResizable:i=!0}={}){const s=new em({key:Xi,state:{init(a,l){var u,c;const f=(c=(u=s.spec)==null?void 0:u.props)==null?void 0:c.nodeViews,h=Yr(l.schema).table.name;return r&&f&&(f[h]=(d,p)=>new r(d,n,p)),new cIe(-1,!1)},apply(a,l){return l.apply(a)}},props:{attributes:o(a=>{const l=Xi.getState(a);return l&&l.activeHandle>-1?{class:"resize-cursor"}:{}},"attributes"),handleDOMEvents:{mousemove:o((a,l)=>{fIe(a,l,t,i)},"mousemove"),mouseleave:o(a=>{hIe(a)},"mouseleave"),mousedown:o((a,l)=>{dIe(a,l,e,n)},"mousedown")},decorations:o(a=>{const l=Xi.getState(a);if(l&&l.activeHandle>-1)return _Ie(a,l.activeHandle)},"decorations"),nodeViews:{}}});return s}o(a7e,"columnResizing");var cIe=class bb{static{o(this,"_ResizeState")}constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,r=e.getMeta(Xi);if(r&&r.setHandle!=null)return new bb(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new bb(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let i=e.mapping.map(n.activeHandle,-1);return UA(e.doc.resolve(i))||(i=-1),new bb(i,n.dragging)}return n}};function fIe(t,e,n,r){const i=Xi.getState(t.state);if(i&&!i.dragging){const s=mIe(e.target);let a=-1;if(s){const{left:l,right:u}=s.getBoundingClientRect();e.clientX-l<=n?a=l6(t,e,"left",n):u-e.clientX<=n&&(a=l6(t,e,"right",n))}if(a!=i.activeHandle){if(!r&&a!==-1){const l=t.state.doc.resolve(a),u=l.node(-1),c=kn.get(u),f=l.start(-1);if(c.colCount(l.pos-f)+l.nodeAfter.attrs.colspan-1==c.width-1)return}uH(t,a)}}}o(fIe,"handleMouseMove");function hIe(t){const e=Xi.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&uH(t,-1)}o(hIe,"handleMouseLeave");function dIe(t,e,n,r){var i;const s=(i=t.dom.ownerDocument.defaultView)!=null?i:window,a=Xi.getState(t.state);if(!a||a.activeHandle==-1||a.dragging)return!1;const l=t.state.doc.nodeAt(a.activeHandle),u=pIe(t,a.activeHandle,l.attrs);t.dispatch(t.state.tr.setMeta(Xi,{setDragging:{startX:e.clientX,startWidth:u}}));function c(h){s.removeEventListener("mouseup",c),s.removeEventListener("mousemove",f);const d=Xi.getState(t.state);d?.dragging&&(gIe(t,d.activeHandle,u6(d.dragging,h,n)),t.dispatch(t.state.tr.setMeta(Xi,{setDragging:null})))}o(c,"finish");function f(h){if(!h.which)return c(h);const d=Xi.getState(t.state);if(d&&d.dragging){const p=u6(d.dragging,h,n);c6(t,d.activeHandle,p,r)}}return o(f,"move"),c6(t,a.activeHandle,u,r),s.addEventListener("mouseup",c),s.addEventListener("mousemove",f),e.preventDefault(),!0}o(dIe,"handleMouseDown2");function pIe(t,e,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const s=t.domAtPos(e);let l=s.node.childNodes[s.offset].offsetWidth,u=n;if(r)for(let c=0;c<n;c++)r[c]&&(l-=r[c],u--);return l/u}o(pIe,"currentColWidth");function mIe(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}o(mIe,"domCellAround");function l6(t,e,n,r){const i=n=="right"?-r:r,s=t.posAtCoords({left:e.clientX+i,top:e.clientY});if(!s)return-1;const{pos:a}=s,l=tm(t.state.doc.resolve(a));if(!l)return-1;if(n=="right")return l.pos;const u=kn.get(l.node(-1)),c=l.start(-1),f=u.map.indexOf(l.pos-c);return f%u.width==0?-1:c+u.map[f-1]}o(l6,"edgeCell");function u6(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}o(u6,"draggedWidth");function uH(t,e){t.dispatch(t.state.tr.setMeta(Xi,{setHandle:e}))}o(uH,"updateHandle");function gIe(t,e,n){const r=t.state.doc.resolve(e),i=r.node(-1),s=kn.get(i),a=r.start(-1),l=s.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,u=t.state.tr;for(let c=0;c<s.height;c++){const f=c*s.width+l;if(c&&s.map[f]==s.map[f-s.width])continue;const h=s.map[f],d=i.nodeAt(h).attrs,p=d.colspan==1?0:l-s.colCount(h);if(d.colwidth&&d.colwidth[p]==n)continue;const m=d.colwidth?d.colwidth.slice():yIe(d.colspan);m[p]=n,u.setNodeMarkup(a+h,null,{...d,colwidth:m})}u.docChanged&&t.dispatch(u)}o(gIe,"updateColumnWidth");function c6(t,e,n,r){const i=t.state.doc.resolve(e),s=i.node(-1),a=i.start(-1),l=kn.get(s).colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1;let u=t.domAtPos(i.start(-1)).node;for(;u&&u.nodeName!="TABLE";)u=u.parentNode;u&&VA(s,u.firstChild,u,r,l,n)}o(c6,"displayColumnWidth");function yIe(t){return Array(t).fill(0)}o(yIe,"zeroes");function _Ie(t,e){var n;const r=[],i=t.doc.resolve(e),s=i.node(-1);if(!s)return Tn.empty;const a=kn.get(s),l=i.start(-1),u=a.colCount(i.pos-l)+i.nodeAfter.attrs.colspan-1;for(let c=0;c<a.height;c++){const f=u+c*a.width;if((u==a.width-1||a.map[f]!=a.map[f+1])&&(c==0||a.map[f]!=a.map[f-a.width])){const h=a.map[f],d=l+h+s.nodeAt(h).nodeSize-1,p=document.createElement("div");p.className="column-resize-handle",(n=Xi.getState(t))!=null&&n.dragging&&r.push(hi.node(l+h,l+h+s.nodeAt(h).nodeSize,{class:"column-resize-dragging"})),r.push(hi.widget(d,p))}}return Tn.create(t.doc,r)}o(_Ie,"handleDecorations");function l7e({allowTableNodeSelection:t=!1}={}){return new em({key:_u,state:{init(){return null},apply(e,n){const r=e.getMeta(_u);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:i,pos:s}=e.mapping.mapResult(n);return i?null:s}},props:{decorations:zCe,handleDOMEvents:{mousedown:lIe},createSelectionBetween(e){return _u.getState(e.state)!=null?e.state.selection:null},handleTripleClick:oIe,handleKeyDown:sIe,handlePaste:aIe},appendTransaction(e,n,r){return WCe(r,GCe(r,n),t)}})}o(l7e,"tableEditing");function u7e(t={}){return new em({view(e){return new bIe(e,t)}})}o(u7e,"dropCursor");class bIe{static{o(this,"DropCursorView")}constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o(a=>{this[i](a)},"handler");return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let l=e.nodeBefore,u=e.nodeAfter;if(l||u){let c=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(c){let f=c.getBoundingClientRect(),h=l?f.bottom:f.top;l&&u&&(h=(h+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:f.left,right:f.right,top:h-this.width/2,bottom:h+this.width/2}}}}if(!r){let l=this.editorView.coordsAtPos(this.cursorPos);r={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let s,a;if(!i||i==document.body&&getComputedStyle(i).position=="static")s=-pageXOffset,a=-pageYOffset;else{let l=i.getBoundingClientRect();s=l.left-i.scrollLeft,a=l.top-i.scrollTop}this.element.style.left=r.left-s+"px",this.element.style.top=r.top-a+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=Zj(this.editorView.state.doc,a,this.editorView.dragging.slice);l!=null&&(a=l)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}class Sn extends Ye{static{o(this,"GapCursor")}constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Sn.valid(r)?new Sn(r):Ye.near(r)}content(){return we.empty}eq(e){return e instanceof Sn&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Sn(e.resolve(n.pos))}getBookmark(){return new ZR(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!wIe(e)||!vIe(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Sn.valid(e))return e;let i=e.pos,s=null;for(let a=e.depth;;a--){let l=e.node(a);if(n>0?e.indexAfter(a)<l.childCount:e.index(a)>0){s=l.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;i+=n;let u=e.doc.resolve(i);if(Sn.valid(u))return u}for(;;){let a=n>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!Ue.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=a,i+=n;let l=e.doc.resolve(i);if(Sn.valid(l))return l}return null}}}Sn.prototype.visible=!1;Sn.findFrom=Sn.findGapCursorFrom;Ye.jsonID("gapcursor",Sn);class ZR{static{o(this,"GapBookmark")}constructor(e){this.pos=e}map(e){return new ZR(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Sn.valid(n)?new Sn(n):Ye.near(n)}}function wIe(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}o(wIe,"closedBefore");function vIe(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}o(vIe,"closedAfter");function c7e(){return new em({props:{decorations:SIe,createSelectionBetween(t,e,n){return e.pos==n.pos&&Sn.valid(n)?new Sn(n):null},handleClick:xIe,handleKeyDown:EIe,handleDOMEvents:{beforeinput:TIe}}})}o(c7e,"gapCursor");const EIe=BR({ArrowLeft:A_("horiz",-1),ArrowRight:A_("horiz",1),ArrowUp:A_("vert",-1),ArrowDown:A_("vert",1)});function A_(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let a=r.selection,l=e>0?a.$to:a.$from,u=a.empty;if(a instanceof lt){if(!s.endOfTextblock(n)||l.depth==0)return!1;u=!1,l=r.doc.resolve(e>0?l.after():l.before())}let c=Sn.findGapCursorFrom(l,e,u);return c?(i&&i(r.tr.setSelection(new Sn(c))),!0):!1}}o(A_,"arrow");function xIe(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Sn.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Ue.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Sn(r))),!0)}o(xIe,"handleClick");function TIe(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Sn))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=le.empty;for(let a=r.length-1;a>=0;a--)i=le.from(r[a].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new we(i,0,0));return s.setSelection(lt.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}o(TIe,"beforeinput");function SIe(t){if(!(t.selection instanceof Sn))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Tn.create(t.doc,[hi.widget(t.selection.head,e,{key:"gapcursor"})])}o(SIe,"drawGapCursor");var Av=200,mr=o(function(){},"RopeSequence");mr.prototype.append=o(function(e){return e.length?(e=mr.from(e),!this.length&&e||e.length<Av&&this.leafAppend(e)||this.length<Av&&e.leafPrepend(this)||this.appendInner(e)):this},"append");mr.prototype.prepend=o(function(e){return e.length?mr.from(e).append(this):this},"prepend");mr.prototype.appendInner=o(function(e){return new kIe(this,e)},"appendInner");mr.prototype.slice=o(function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?mr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))},"slice");mr.prototype.get=o(function(e){if(!(e<0||e>=this.length))return this.getInner(e)},"get");mr.prototype.forEach=o(function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)},"forEach");mr.prototype.map=o(function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,a){return i.push(e(s,a))},n,r),i},"map");mr.from=o(function(e){return e instanceof mr?e:e&&e.length?new cH(e):mr.empty},"from");var cH=function(t){function e(r){t.call(this),this.values=r}o(e,"Leaf"),t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=o(function(){return this.values},"flatten"),e.prototype.sliceInner=o(function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},"sliceInner"),e.prototype.getInner=o(function(i){return this.values[i]},"getInner"),e.prototype.forEachInner=o(function(i,s,a,l){for(var u=s;u<a;u++)if(i(this.values[u],l+u)===!1)return!1},"forEachInner"),e.prototype.forEachInvertedInner=o(function(i,s,a,l){for(var u=s-1;u>=a;u--)if(i(this.values[u],l+u)===!1)return!1},"forEachInvertedInner"),e.prototype.leafAppend=o(function(i){if(this.length+i.length<=Av)return new e(this.values.concat(i.flatten()))},"leafAppend"),e.prototype.leafPrepend=o(function(i){if(this.length+i.length<=Av)return new e(i.flatten().concat(this.values))},"leafPrepend"),n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(mr);mr.empty=new cH([]);var kIe=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return o(e,"Append"),t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=o(function(){return this.left.flatten().concat(this.right.flatten())},"flatten"),e.prototype.getInner=o(function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},"getInner"),e.prototype.forEachInner=o(function(r,i,s,a){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(s,l),a)===!1||s>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,s)-l,a+l)===!1)return!1},"forEachInner"),e.prototype.forEachInvertedInner=o(function(r,i,s,a){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(s,l)-l,a+l)===!1||s<l&&this.left.forEachInvertedInner(r,Math.min(i,l),s,a)===!1)return!1},"forEachInvertedInner"),e.prototype.sliceInner=o(function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},"sliceInner"),e.prototype.leafAppend=o(function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},"leafAppend"),e.prototype.leafPrepend=o(function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},"leafPrepend"),e.prototype.appendInner=o(function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},"appendInner"),e}(mr);const AIe=500;class Qs{static{o(this,"Branch")}constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let a=e.tr,l,u,c=[],f=[];return this.items.forEach((h,d)=>{if(!h.step){i||(i=this.remapping(r,d+1),s=i.maps.length),s--,f.push(h);return}if(i){f.push(new Yo(h.map));let p=h.step.map(i.slice(s)),m;p&&a.maybeStep(p).doc&&(m=a.mapping.maps[a.mapping.maps.length-1],c.push(new Yo(m,void 0,void 0,c.length+f.length))),s--,m&&i.appendMap(m,s)}else a.maybeStep(h.step);if(h.selection)return l=i?h.selection.map(i.slice(s)):h.selection,u=new Qs(this.items.slice(0,r).append(f.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:a,selection:l}}addTransform(e,n,r,i){let s=[],a=this.eventCount,l=this.items,u=!i&&l.length?l.get(l.length-1):null;for(let f=0;f<e.steps.length;f++){let h=e.steps[f].invert(e.docs[f]),d=new Yo(e.mapping.maps[f],h,n),p;(p=u&&u.merge(d))&&(d=p,f?s.pop():l=l.slice(0,l.length-1)),s.push(d),n&&(a++,n=void 0),i||(u=d)}let c=a-r.depth;return c>IIe&&(l=CIe(l,c),a-=c),new Qs(l.append(s),a)}remapping(e,n){let r=new Fd;return this.items.forEach((i,s)=>{let a=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new Qs(this.items.append(e.map(n=>new Yo(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,a=e.steps.length,l=this.eventCount;this.items.forEach(d=>{d.selection&&l--},i);let u=n;this.items.forEach(d=>{let p=s.getMirror(--u);if(p==null)return;a=Math.min(a,p);let m=s.maps[p];if(d.step){let y=e.steps[p].invert(e.docs[p]),_=d.selection&&d.selection.map(s.slice(u+1,p));_&&l++,r.push(new Yo(m,y,_))}else r.push(new Yo(m))},i);let c=[];for(let d=n;d<a;d++)c.push(new Yo(s.maps[d]));let f=this.items.slice(0,i).append(c).append(r),h=new Qs(f,l);return h.emptyItemCount()>AIe&&(h=h.compress(this.items.length-r.length)),h}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((a,l)=>{if(l>=e)i.push(a),a.selection&&s++;else if(a.step){let u=a.step.map(n.slice(r)),c=u&&u.getMap();if(r--,c&&n.appendMap(c,r),u){let f=a.selection&&a.selection.map(n.slice(r));f&&s++;let h=new Yo(c.invert(),u,f),d,p=i.length-1;(d=i.length&&i[p].merge(h))?i[p]=d:i.push(h)}}else a.map&&r--},this.items.length,0),new Qs(mr.from(i.reverse()),s)}}Qs.empty=new Qs(mr.empty,0);function CIe(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}o(CIe,"cutOffEvents");class Yo{static{o(this,"Item")}constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Yo(n.getMap().invert(),n,this.selection)}}}class lu{static{o(this,"HistoryState")}constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const IIe=20;function RIe(t,e,n,r){let i=n.getMeta(ff),s;if(i)return i.historyState;n.getMeta(MIe)&&(t=new lu(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(ff))return a.getMeta(ff).redo?new lu(t.done.addTransform(n,void 0,r,wb(e)),t.undone,f6(n.mapping.maps),t.prevTime,t.prevComposition):new lu(t.done,t.undone.addTransform(n,void 0,r,wb(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),u=t.prevTime==0||!a&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!OIe(n,t.prevRanges)),c=a?FT(t.prevRanges,n.mapping):f6(n.mapping.maps);return new lu(t.done.addTransform(n,u?e.selection.getBookmark():void 0,r,wb(e)),Qs.empty,c,n.time,l??t.prevComposition)}else return(s=n.getMeta("rebased"))?new lu(t.done.rebased(n,s),t.undone.rebased(n,s),FT(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new lu(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),FT(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}o(RIe,"applyTransaction");function OIe(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}o(OIe,"isAdjacentTo");function f6(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,a)=>e.push(s,a));return e}o(f6,"rangesFor");function FT(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}o(FT,"mapRanges");function NIe(t,e,n){let r=wb(e),i=ff.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let a=s.selection.resolve(s.transform.doc),l=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),u=new lu(n?l:s.remaining,n?s.remaining:l,null,0,-1);return s.transform.setSelection(a).setMeta(ff,{redo:n,historyState:u})}o(NIe,"histTransaction");let BT=!1,h6=null;function wb(t){let e=t.plugins;if(h6!=e){BT=!1,h6=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){BT=!0;break}}return BT}o(wb,"mustPreserveItems");const ff=new Ky("history"),MIe=new Ky("closeHistory");function f7e(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new em({key:ff,state:{init(){return new lu(Qs.empty,Qs.empty,null,0,-1)},apply(e,n,r){return RIe(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?DIe:r=="historyRedo"?PIe:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}o(f7e,"history");function fH(t,e){return(n,r)=>{let i=ff.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=NIe(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}o(fH,"buildCommand");const DIe=fH(!1,!0),PIe=fH(!0,!0),d6={};function $Ie(t){let e=d6[t];if(e)return e;e=d6[t]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);e.push(r)}for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2)}return e}o($Ie,"getDecodeCache");function xp(t,e){typeof e!="string"&&(e=xp.defaultChars);const n=$Ie(e);return t.replace(/(%[a-f0-9]{2})+/gi,function(r){let i="";for(let s=0,a=r.length;s<a;s+=3){const l=parseInt(r.slice(s+1,s+3),16);if(l<128){i+=n[l];continue}if((l&224)===192&&s+3<a){const u=parseInt(r.slice(s+4,s+6),16);if((u&192)===128){const c=l<<6&1984|u&63;c<128?i+="":i+=String.fromCharCode(c),s+=3;continue}}if((l&240)===224&&s+6<a){const u=parseInt(r.slice(s+4,s+6),16),c=parseInt(r.slice(s+7,s+9),16);if((u&192)===128&&(c&192)===128){const f=l<<12&61440|u<<6&4032|c&63;f<2048||f>=55296&&f<=57343?i+="":i+=String.fromCharCode(f),s+=6;continue}}if((l&248)===240&&s+9<a){const u=parseInt(r.slice(s+4,s+6),16),c=parseInt(r.slice(s+7,s+9),16),f=parseInt(r.slice(s+10,s+12),16);if((u&192)===128&&(c&192)===128&&(f&192)===128){let h=l<<18&1835008|u<<12&258048|c<<6&4032|f&63;h<65536||h>1114111?i+="":(h-=65536,i+=String.fromCharCode(55296+(h>>10),56320+(h&1023))),s+=9;continue}}i+=""}return i})}o(xp,"decode$1");xp.defaultChars=";/?:@&=+$,#";xp.componentChars="";const p6={};function LIe(t){let e=p6[t];if(e)return e;e=p6[t]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);/^[0-9a-z]$/i.test(r)?e.push(r):e.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<t.length;n++)e[t.charCodeAt(n)]=t[n];return e}o(LIe,"getEncodeCache");function Zy(t,e,n){typeof e!="string"&&(n=e,e=Zy.defaultChars),typeof n>"u"&&(n=!0);const r=LIe(e);let i="";for(let s=0,a=t.length;s<a;s++){const l=t.charCodeAt(s);if(n&&l===37&&s+2<a&&/^[0-9a-f]{2}$/i.test(t.slice(s+1,s+3))){i+=t.slice(s,s+3),s+=2;continue}if(l<128){i+=r[l];continue}if(l>=55296&&l<=57343){if(l>=55296&&l<=56319&&s+1<a){const u=t.charCodeAt(s+1);if(u>=56320&&u<=57343){i+=encodeURIComponent(t[s]+t[s+1]),s++;continue}}i+="%EF%BF%BD";continue}i+=encodeURIComponent(t[s])}return i}o(Zy,"encode$2");Zy.defaultChars=";/?:@&=+$,-_.!~*'()#";Zy.componentChars="-_.!~*'()";function QR(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}o(QR,"format");function Cv(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}o(Cv,"Url");const FIe=/^([a-z0-9.+-]+:)/i,BIe=/:[0-9]*$/,UIe=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,zIe=["<",">",'"',"`"," ","\r",`
`,"	"],VIe=["{","}","|","\\","^","`"].concat(zIe),jIe=["'"].concat(VIe),m6=["%","/","?",";","#"].concat(jIe),g6=["/","?","#"],WIe=255,y6=/^[+a-z0-9A-Z_-]{0,63}$/,HIe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_6={javascript:!0,"javascript:":!0},b6={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function eO(t,e){if(t&&t instanceof Cv)return t;const n=new Cv;return n.parse(t,e),n}o(eO,"urlParse");Cv.prototype.parse=function(t,e){let n,r,i,s=t;if(s=s.trim(),!e&&t.split("#").length===1){const c=UIe.exec(s);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}let a=FIe.exec(s);if(a&&(a=a[0],n=a.toLowerCase(),this.protocol=a,s=s.substr(a.length)),(e||a||s.match(/^\/\/[^@\/]+@[^@\/]+/))&&(i=s.substr(0,2)==="//",i&&!(a&&_6[a])&&(s=s.substr(2),this.slashes=!0)),!_6[a]&&(i||a&&!b6[a])){let c=-1;for(let m=0;m<g6.length;m++)r=s.indexOf(g6[m]),r!==-1&&(c===-1||r<c)&&(c=r);let f,h;c===-1?h=s.lastIndexOf("@"):h=s.lastIndexOf("@",c),h!==-1&&(f=s.slice(0,h),s=s.slice(h+1),this.auth=f),c=-1;for(let m=0;m<m6.length;m++)r=s.indexOf(m6[m]),r!==-1&&(c===-1||r<c)&&(c=r);c===-1&&(c=s.length),s[c-1]===":"&&c--;const d=s.slice(0,c);s=s.slice(c),this.parseHost(d),this.hostname=this.hostname||"";const p=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!p){const m=this.hostname.split(/\./);for(let y=0,_=m.length;y<_;y++){const b=m[y];if(b&&!b.match(y6)){let S="";for(let v=0,k=b.length;v<k;v++)b.charCodeAt(v)>127?S+="x":S+=b[v];if(!S.match(y6)){const v=m.slice(0,y),k=m.slice(y+1),C=b.match(HIe);C&&(v.push(C[1]),k.unshift(C[2])),k.length&&(s=k.join(".")+s),this.hostname=v.join(".");break}}}}this.hostname.length>WIe&&(this.hostname=""),p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const l=s.indexOf("#");l!==-1&&(this.hash=s.substr(l),s=s.slice(0,l));const u=s.indexOf("?");return u!==-1&&(this.search=s.substr(u),s=s.slice(0,u)),s&&(this.pathname=s),b6[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Cv.prototype.parseHost=function(t){let e=BIe.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const GIe=Object.freeze(Object.defineProperty({__proto__:null,decode:xp,encode:Zy,format:QR,parse:eO},Symbol.toStringTag,{value:"Module"})),hH=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,dH=/[\0-\x1F\x7F-\x9F]/,qIe=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,tO=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,pH=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,mH=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,KIe=Object.freeze(Object.defineProperty({__proto__:null,Any:hH,Cc:dH,Cf:qIe,P:tO,S:pH,Z:mH},Symbol.toStringTag,{value:"Module"})),YIe=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),XIe=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(t=>t.charCodeAt(0)));var UT;const JIe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),ZIe=(UT=String.fromCodePoint)!==null&&UT!==void 0?UT:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function QIe(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=JIe.get(t))!==null&&e!==void 0?e:t}o(QIe,"replaceCodePoint");var dr;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(dr||(dr={}));const e3e=32;var Su;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(Su||(Su={}));function jA(t){return t>=dr.ZERO&&t<=dr.NINE}o(jA,"isNumber");function t3e(t){return t>=dr.UPPER_A&&t<=dr.UPPER_F||t>=dr.LOWER_A&&t<=dr.LOWER_F}o(t3e,"isHexadecimalCharacter");function n3e(t){return t>=dr.UPPER_A&&t<=dr.UPPER_Z||t>=dr.LOWER_A&&t<=dr.LOWER_Z||jA(t)}o(n3e,"isAsciiAlphaNumeric");function r3e(t){return t===dr.EQUALS||n3e(t)}o(r3e,"isEntityInAttributeInvalidEnd");var ir;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(ir||(ir={}));var bu;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(bu||(bu={}));class i3e{static{o(this,"EntityDecoder")}constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=ir.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=bu.Strict}startEntity(e){this.decodeMode=e,this.state=ir.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case ir.EntityStart:return e.charCodeAt(n)===dr.NUM?(this.state=ir.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=ir.NamedEntity,this.stateNamedEntity(e,n));case ir.NumericStart:return this.stateNumericStart(e,n);case ir.NumericDecimal:return this.stateNumericDecimal(e,n);case ir.NumericHex:return this.stateNumericHex(e,n);case ir.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|e3e)===dr.LOWER_X?(this.state=ir.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=ir.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(e.substr(n,s),i),this.consumed+=s}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(jA(i)||t3e(i))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(jA(i))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===dr.SEMI)this.consumed+=1;else if(this.decodeMode===bu.Strict)return 0;return this.emitCodePoint(QIe(this.result),this.consumed),this.errors&&(e!==dr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&Su.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const a=e.charCodeAt(n);if(this.treeIndex=s3e(r,i,this.treeIndex+Math.max(1,s),a),this.treeIndex<0)return this.result===0||this.decodeMode===bu.Attribute&&(s===0||r3e(a))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&Su.VALUE_LENGTH)>>14,s!==0){if(a===dr.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==bu.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,i=(r[n]&Su.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[e]&~Su.VALUE_LENGTH:i[e+1],r),n===3&&this.emitCodePoint(i[e+2],r),r}end(){var e;switch(this.state){case ir.NamedEntity:return this.result!==0&&(this.decodeMode!==bu.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ir.NumericDecimal:return this.emitNumericEntity(0,2);case ir.NumericHex:return this.emitNumericEntity(0,3);case ir.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ir.EntityStart:return 0}}}function gH(t){let e="";const n=new i3e(t,r=>e+=ZIe(r));return o(function(i,s){let a=0,l=0;for(;(l=i.indexOf("&",l))>=0;){e+=i.slice(a,l),n.startEntity(s);const c=n.write(i,l+1);if(c<0){a=l+n.end();break}a=l+c,l=c===0?a+1:a}const u=e+i.slice(a);return e="",u},"decodeWithTrie")}o(gH,"getDecoder");function s3e(t,e,n,r){const i=(e&Su.BRANCH_LENGTH)>>7,s=e&Su.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const u=r-s;return u<0||u>=i?-1:t[n+u]-1}let a=n,l=a+i-1;for(;a<=l;){const u=a+l>>>1,c=t[u];if(c<r)a=u+1;else if(c>r)l=u-1;else return t[u+i]}return-1}o(s3e,"determineBranch");const o3e=gH(YIe);gH(XIe);function yH(t,e=bu.Legacy){return o3e(t,e)}o(yH,"decodeHTML");function a3e(t){return Object.prototype.toString.call(t)}o(a3e,"_class$1");function nO(t){return a3e(t)==="[object String]"}o(nO,"isString$1");const l3e=Object.prototype.hasOwnProperty;function u3e(t,e){return l3e.call(t,e)}o(u3e,"has");function Ax(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(r){t[r]=n[r]})}}),t}o(Ax,"assign$1");function _H(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))}o(_H,"arrayReplaceAt");function rO(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534||t>=0&&t<=8||t===11||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}o(rO,"isValidEntityCode");function Iv(t){if(t>65535){t-=65536;const e=55296+(t>>10),n=56320+(t&1023);return String.fromCharCode(e,n)}return String.fromCharCode(t)}o(Iv,"fromCodePoint");const bH=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,c3e=/&([a-z#][a-z0-9]{1,31});/gi,f3e=new RegExp(bH.source+"|"+c3e.source,"gi"),h3e=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function d3e(t,e){if(e.charCodeAt(0)===35&&h3e.test(e)){const r=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return rO(r)?Iv(r):t}const n=yH(t);return n!==t?n:t}o(d3e,"replaceEntityPattern");function p3e(t){return t.indexOf("\\")<0?t:t.replace(bH,"$1")}o(p3e,"unescapeMd");function Tp(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(f3e,function(e,n,r){return n||d3e(e,r)})}o(Tp,"unescapeAll");const m3e=/[&<>"]/,g3e=/[&<>"]/g,y3e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function _3e(t){return y3e[t]}o(_3e,"replaceUnsafeChar");function Qu(t){return m3e.test(t)?t.replace(g3e,_3e):t}o(Qu,"escapeHtml");const b3e=/[.?*+^$[\]\\(){}|-]/g;function w3e(t){return t.replace(b3e,"\\$&")}o(w3e,"escapeRE$1");function Jt(t){switch(t){case 9:case 32:return!0}return!1}o(Jt,"isSpace");function Y0(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}o(Y0,"isWhiteSpace");function X0(t){return tO.test(t)||pH.test(t)}o(X0,"isPunctChar");function J0(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}o(J0,"isMdAsciiPunct");function Cx(t){return t=t.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(t=t.replace(//g,"")),t.toLowerCase().toUpperCase()}o(Cx,"normalizeReference");const v3e={mdurl:GIe,ucmicro:KIe},E3e=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:_H,assign:Ax,escapeHtml:Qu,escapeRE:w3e,fromCodePoint:Iv,has:u3e,isMdAsciiPunct:J0,isPunctChar:X0,isSpace:Jt,isString:nO,isValidEntityCode:rO,isWhiteSpace:Y0,lib:v3e,normalizeReference:Cx,unescapeAll:Tp,unescapeMd:p3e},Symbol.toStringTag,{value:"Module"}));function x3e(t,e,n){let r,i,s,a;const l=t.posMax,u=t.pos;for(t.pos=e+1,r=1;t.pos<l;){if(s=t.src.charCodeAt(t.pos),s===93&&(r--,r===0)){i=!0;break}if(a=t.pos,t.md.inline.skipToken(t),s===91){if(a===t.pos-1)r++;else if(n)return t.pos=u,-1}}let c=-1;return i&&(c=t.pos),t.pos=u,c}o(x3e,"parseLinkLabel");function T3e(t,e,n){let r,i=e;const s={ok:!1,pos:0,str:""};if(t.charCodeAt(i)===60){for(i++;i<n;){if(r=t.charCodeAt(i),r===10||r===60)return s;if(r===62)return s.pos=i+1,s.str=Tp(t.slice(e+1,i)),s.ok=!0,s;if(r===92&&i+1<n){i+=2;continue}i++}return s}let a=0;for(;i<n&&(r=t.charCodeAt(i),!(r===32||r<32||r===127));){if(r===92&&i+1<n){if(t.charCodeAt(i+1)===32)break;i+=2;continue}if(r===40&&(a++,a>32))return s;if(r===41){if(a===0)break;a--}i++}return e===i||a!==0||(s.str=Tp(t.slice(e,i)),s.pos=i,s.ok=!0),s}o(T3e,"parseLinkDestination");function S3e(t,e,n,r){let i,s=e;const a={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(r)a.str=r.str,a.marker=r.marker;else{if(s>=n)return a;let l=t.charCodeAt(s);if(l!==34&&l!==39&&l!==40)return a;e++,s++,l===40&&(l=41),a.marker=l}for(;s<n;){if(i=t.charCodeAt(s),i===a.marker)return a.pos=s+1,a.str+=Tp(t.slice(e,s)),a.ok=!0,a;if(i===40&&a.marker===41)return a;i===92&&s+1<n&&s++,s++}return a.can_continue=!0,a.str+=Tp(t.slice(e,s)),a}o(S3e,"parseLinkTitle");const k3e=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:T3e,parseLinkLabel:x3e,parseLinkTitle:S3e},Symbol.toStringTag,{value:"Module"})),Da={};Da.code_inline=function(t,e,n,r,i){const s=t[e];return"<code"+i.renderAttrs(s)+">"+Qu(s.content)+"</code>"};Da.code_block=function(t,e,n,r,i){const s=t[e];return"<pre"+i.renderAttrs(s)+"><code>"+Qu(t[e].content)+`</code></pre>
`};Da.fence=function(t,e,n,r,i){const s=t[e],a=s.info?Tp(s.info).trim():"";let l="",u="";if(a){const f=a.split(/(\s+)/g);l=f[0],u=f.slice(2).join("")}let c;if(n.highlight?c=n.highlight(s.content,l,u)||Qu(s.content):c=Qu(s.content),c.indexOf("<pre")===0)return c+`
`;if(a){const f=s.attrIndex("class"),h=s.attrs?s.attrs.slice():[];f<0?h.push(["class",n.langPrefix+l]):(h[f]=h[f].slice(),h[f][1]+=" "+n.langPrefix+l);const d={attrs:h};return`<pre><code${i.renderAttrs(d)}>${c}</code></pre>
`}return`<pre><code${i.renderAttrs(s)}>${c}</code></pre>
`};Da.image=function(t,e,n,r,i){const s=t[e];return s.attrs[s.attrIndex("alt")][1]=i.renderInlineAsText(s.children,n,r),i.renderToken(t,e,n)};Da.hardbreak=function(t,e,n){return n.xhtmlOut?`<br />
`:`<br>
`};Da.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};Da.text=function(t,e){return Qu(t[e].content)};Da.html_block=function(t,e){return t[e].content};Da.html_inline=function(t,e){return t[e].content};function nm(){this.rules=Ax({},Da)}o(nm,"Renderer");nm.prototype.renderAttrs=o(function(e){let n,r,i;if(!e.attrs)return"";for(i="",n=0,r=e.attrs.length;n<r;n++)i+=" "+Qu(e.attrs[n][0])+'="'+Qu(e.attrs[n][1])+'"';return i},"renderAttrs");nm.prototype.renderToken=o(function(e,n,r){const i=e[n];let s="";if(i.hidden)return"";i.block&&i.nesting!==-1&&n&&e[n-1].hidden&&(s+=`
`),s+=(i.nesting===-1?"</":"<")+i.tag,s+=this.renderAttrs(i),i.nesting===0&&r.xhtmlOut&&(s+=" /");let a=!1;if(i.block&&(a=!0,i.nesting===1&&n+1<e.length)){const l=e[n+1];(l.type==="inline"||l.hidden||l.nesting===-1&&l.tag===i.tag)&&(a=!1)}return s+=a?`>
`:">",s},"renderToken");nm.prototype.renderInline=function(t,e,n){let r="";const i=this.rules;for(let s=0,a=t.length;s<a;s++){const l=t[s].type;typeof i[l]<"u"?r+=i[l](t,s,e,n,this):r+=this.renderToken(t,s,e)}return r};nm.prototype.renderInlineAsText=function(t,e,n){let r="";for(let i=0,s=t.length;i<s;i++)switch(t[i].type){case"text":r+=t[i].content;break;case"image":r+=this.renderInlineAsText(t[i].children,e,n);break;case"html_inline":case"html_block":r+=t[i].content;break;case"softbreak":case"hardbreak":r+=`
`;break}return r};nm.prototype.render=function(t,e,n){let r="";const i=this.rules;for(let s=0,a=t.length;s<a;s++){const l=t[s].type;l==="inline"?r+=this.renderInline(t[s].children,e,n):typeof i[l]<"u"?r+=i[l](t,s,e,n,this):r+=this.renderToken(t,s,e,n)}return r};function Fi(){this.__rules__=[],this.__cache__=null}o(Fi,"Ruler");Fi.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};Fi.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(r){e.indexOf(r)<0&&e.push(r)})}),t.__cache__={},e.forEach(function(n){t.__cache__[n]=[],t.__rules__.forEach(function(r){r.enabled&&(n&&r.alt.indexOf(n)<0||t.__cache__[n].push(r.fn))})})};Fi.prototype.at=function(t,e,n){const r=this.__find__(t),i=n||{};if(r===-1)throw new Error("Parser rule not found: "+t);this.__rules__[r].fn=e,this.__rules__[r].alt=i.alt||[],this.__cache__=null};Fi.prototype.before=function(t,e,n,r){const i=this.__find__(t),s=r||{};if(i===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i,0,{name:e,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};Fi.prototype.after=function(t,e,n,r){const i=this.__find__(t),s=r||{};if(i===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i+1,0,{name:e,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};Fi.prototype.push=function(t,e,n){const r=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:r.alt||[]}),this.__cache__=null};Fi.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(r){const i=this.__find__(r);if(i<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[i].enabled=!0,n.push(r)},this),this.__cache__=null,n};Fi.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(t,e)};Fi.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(r){const i=this.__find__(r);if(i<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[i].enabled=!1,n.push(r)},this),this.__cache__=null,n};Fi.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};function No(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}o(No,"Token");No.prototype.attrIndex=o(function(e){if(!this.attrs)return-1;const n=this.attrs;for(let r=0,i=n.length;r<i;r++)if(n[r][0]===e)return r;return-1},"attrIndex");No.prototype.attrPush=o(function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},"attrPush");No.prototype.attrSet=o(function(e,n){const r=this.attrIndex(e),i=[e,n];r<0?this.attrPush(i):this.attrs[r]=i},"attrSet");No.prototype.attrGet=o(function(e){const n=this.attrIndex(e);let r=null;return n>=0&&(r=this.attrs[n][1]),r},"attrGet");No.prototype.attrJoin=o(function(e,n){const r=this.attrIndex(e);r<0?this.attrPush([e,n]):this.attrs[r][1]=this.attrs[r][1]+" "+n},"attrJoin");function wH(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}o(wH,"StateCore");wH.prototype.Token=No;const A3e=/\r\n?|\n/g,C3e=/\0/g;function I3e(t){let e;e=t.src.replace(A3e,`
`),e=e.replace(C3e,""),t.src=e}o(I3e,"normalize");function R3e(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}o(R3e,"block$1");function O3e(t){const e=t.tokens;for(let n=0,r=e.length;n<r;n++){const i=e[n];i.type==="inline"&&t.md.inline.parse(i.content,t.md,t.env,i.children)}}o(O3e,"inline$1");function N3e(t){return/^<a[>\s]/i.test(t)}o(N3e,"isLinkOpen$1");function M3e(t){return/^<\/a\s*>/i.test(t)}o(M3e,"isLinkClose$1");function D3e(t){const e=t.tokens;if(t.md.options.linkify)for(let n=0,r=e.length;n<r;n++){if(e[n].type!=="inline"||!t.md.linkify.pretest(e[n].content))continue;let i=e[n].children,s=0;for(let a=i.length-1;a>=0;a--){const l=i[a];if(l.type==="link_close"){for(a--;i[a].level!==l.level&&i[a].type!=="link_open";)a--;continue}if(l.type==="html_inline"&&(N3e(l.content)&&s>0&&s--,M3e(l.content)&&s++),!(s>0)&&l.type==="text"&&t.md.linkify.test(l.content)){const u=l.content;let c=t.md.linkify.match(u);const f=[];let h=l.level,d=0;c.length>0&&c[0].index===0&&a>0&&i[a-1].type==="text_special"&&(c=c.slice(1));for(let p=0;p<c.length;p++){const m=c[p].url,y=t.md.normalizeLink(m);if(!t.md.validateLink(y))continue;let _=c[p].text;c[p].schema?c[p].schema==="mailto:"&&!/^mailto:/i.test(_)?_=t.md.normalizeLinkText("mailto:"+_).replace(/^mailto:/,""):_=t.md.normalizeLinkText(_):_=t.md.normalizeLinkText("http://"+_).replace(/^http:\/\//,"");const b=c[p].index;if(b>d){const C=new t.Token("text","",0);C.content=u.slice(d,b),C.level=h,f.push(C)}const S=new t.Token("link_open","a",1);S.attrs=[["href",y]],S.level=h++,S.markup="linkify",S.info="auto",f.push(S);const v=new t.Token("text","",0);v.content=_,v.level=h,f.push(v);const k=new t.Token("link_close","a",-1);k.level=--h,k.markup="linkify",k.info="auto",f.push(k),d=c[p].lastIndex}if(d<u.length){const p=new t.Token("text","",0);p.content=u.slice(d),p.level=h,f.push(p)}e[n].children=i=_H(i,a,f)}}}}o(D3e,"linkify$1");const vH=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,P3e=/\((c|tm|r)\)/i,$3e=/\((c|tm|r)\)/ig,L3e={c:"",r:"",tm:""};function F3e(t,e){return L3e[e.toLowerCase()]}o(F3e,"replaceFn");function B3e(t){let e=0;for(let n=t.length-1;n>=0;n--){const r=t[n];r.type==="text"&&!e&&(r.content=r.content.replace($3e,F3e)),r.type==="link_open"&&r.info==="auto"&&e--,r.type==="link_close"&&r.info==="auto"&&e++}}o(B3e,"replace_scoped");function U3e(t){let e=0;for(let n=t.length-1;n>=0;n--){const r=t[n];r.type==="text"&&!e&&vH.test(r.content)&&(r.content=r.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),r.type==="link_open"&&r.info==="auto"&&e--,r.type==="link_close"&&r.info==="auto"&&e++}}o(U3e,"replace_rare");function z3e(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)t.tokens[e].type==="inline"&&(P3e.test(t.tokens[e].content)&&B3e(t.tokens[e].children),vH.test(t.tokens[e].content)&&U3e(t.tokens[e].children))}o(z3e,"replace");const V3e=/['"]/,w6=/['"]/g,v6="";function C_(t,e,n){return t.slice(0,e)+n+t.slice(e+1)}o(C_,"replaceAt");function j3e(t,e){let n;const r=[];for(let i=0;i<t.length;i++){const s=t[i],a=t[i].level;for(n=r.length-1;n>=0&&!(r[n].level<=a);n--);if(r.length=n+1,s.type!=="text")continue;let l=s.content,u=0,c=l.length;e:for(;u<c;){w6.lastIndex=u;const f=w6.exec(l);if(!f)break;let h=!0,d=!0;u=f.index+1;const p=f[0]==="'";let m=32;if(f.index-1>=0)m=l.charCodeAt(f.index-1);else for(n=i-1;n>=0&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n--)if(t[n].content){m=t[n].content.charCodeAt(t[n].content.length-1);break}let y=32;if(u<c)y=l.charCodeAt(u);else for(n=i+1;n<t.length&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n++)if(t[n].content){y=t[n].content.charCodeAt(0);break}const _=J0(m)||X0(String.fromCharCode(m)),b=J0(y)||X0(String.fromCharCode(y)),S=Y0(m),v=Y0(y);if(v?h=!1:b&&(S||_||(h=!1)),S?d=!1:_&&(v||b||(d=!1)),y===34&&f[0]==='"'&&m>=48&&m<=57&&(d=h=!1),h&&d&&(h=_,d=b),!h&&!d){p&&(s.content=C_(s.content,f.index,v6));continue}if(d)for(n=r.length-1;n>=0;n--){let k=r[n];if(r[n].level<a)break;if(k.single===p&&r[n].level===a){k=r[n];let C,R;p?(C=e.md.options.quotes[2],R=e.md.options.quotes[3]):(C=e.md.options.quotes[0],R=e.md.options.quotes[1]),s.content=C_(s.content,f.index,R),t[k.token].content=C_(t[k.token].content,k.pos,C),u+=R.length-1,k.token===i&&(u+=C.length-1),l=s.content,c=l.length,r.length=n;continue e}}h?r.push({token:i,pos:f.index,single:p,level:a}):d&&p&&(s.content=C_(s.content,f.index,v6))}}}o(j3e,"process_inlines");function W3e(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)t.tokens[e].type!=="inline"||!V3e.test(t.tokens[e].content)||j3e(t.tokens[e].children,t)}o(W3e,"smartquotes");function H3e(t){let e,n;const r=t.tokens,i=r.length;for(let s=0;s<i;s++){if(r[s].type!=="inline")continue;const a=r[s].children,l=a.length;for(e=0;e<l;e++)a[e].type==="text_special"&&(a[e].type="text");for(e=n=0;e<l;e++)a[e].type==="text"&&e+1<l&&a[e+1].type==="text"?a[e+1].content=a[e].content+a[e+1].content:(e!==n&&(a[n]=a[e]),n++);e!==n&&(a.length=n)}}o(H3e,"text_join");const zT=[["normalize",I3e],["block",R3e],["inline",O3e],["linkify",D3e],["replacements",z3e],["smartquotes",W3e],["text_join",H3e]];function iO(){this.ruler=new Fi;for(let t=0;t<zT.length;t++)this.ruler.push(zT[t][0],zT[t][1])}o(iO,"Core");iO.prototype.process=function(t){const e=this.ruler.getRules("");for(let n=0,r=e.length;n<r;n++)e[n](t)};iO.prototype.State=wH;function Pa(t,e,n,r){this.src=t,this.md=e,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const i=this.src;for(let s=0,a=0,l=0,u=0,c=i.length,f=!1;a<c;a++){const h=i.charCodeAt(a);if(!f)if(Jt(h)){l++,h===9?u+=4-u%4:u++;continue}else f=!0;(h===10||a===c-1)&&(h!==10&&a++,this.bMarks.push(s),this.eMarks.push(a),this.tShift.push(l),this.sCount.push(u),this.bsCount.push(0),f=!1,l=0,u=0,s=a+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}o(Pa,"StateBlock");Pa.prototype.push=function(t,e,n){const r=new No(t,e,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r};Pa.prototype.isEmpty=o(function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},"isEmpty");Pa.prototype.skipEmptyLines=o(function(e){for(let n=this.lineMax;e<n&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},"skipEmptyLines");Pa.prototype.skipSpaces=o(function(e){for(let n=this.src.length;e<n;e++){const r=this.src.charCodeAt(e);if(!Jt(r))break}return e},"skipSpaces");Pa.prototype.skipSpacesBack=o(function(e,n){if(e<=n)return e;for(;e>n;)if(!Jt(this.src.charCodeAt(--e)))return e+1;return e},"skipSpacesBack");Pa.prototype.skipChars=o(function(e,n){for(let r=this.src.length;e<r&&this.src.charCodeAt(e)===n;e++);return e},"skipChars");Pa.prototype.skipCharsBack=o(function(e,n,r){if(e<=r)return e;for(;e>r;)if(n!==this.src.charCodeAt(--e))return e+1;return e},"skipCharsBack");Pa.prototype.getLines=o(function(e,n,r,i){if(e>=n)return"";const s=new Array(n-e);for(let a=0,l=e;l<n;l++,a++){let u=0;const c=this.bMarks[l];let f=c,h;for(l+1<n||i?h=this.eMarks[l]+1:h=this.eMarks[l];f<h&&u<r;){const d=this.src.charCodeAt(f);if(Jt(d))d===9?u+=4-(u+this.bsCount[l])%4:u++;else if(f-c<this.tShift[l])u++;else break;f++}u>r?s[a]=new Array(u-r+1).join(" ")+this.src.slice(f,h):s[a]=this.src.slice(f,h)}return s.join("")},"getLines");Pa.prototype.Token=No;const G3e=65536;function VT(t,e){const n=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];return t.src.slice(n,r)}o(VT,"getLine");function E6(t){const e=[],n=t.length;let r=0,i=t.charCodeAt(r),s=!1,a=0,l="";for(;r<n;)i===124&&(s?(l+=t.substring(a,r-1),a=r):(e.push(l+t.substring(a,r)),l="",a=r+1)),s=i===92,r++,i=t.charCodeAt(r);return e.push(l+t.substring(a)),e}o(E6,"escapedSplit");function q3e(t,e,n,r){if(e+2>n)return!1;let i=e+1;if(t.sCount[i]<t.blkIndent||t.sCount[i]-t.blkIndent>=4)return!1;let s=t.bMarks[i]+t.tShift[i];if(s>=t.eMarks[i])return!1;const a=t.src.charCodeAt(s++);if(a!==124&&a!==45&&a!==58||s>=t.eMarks[i])return!1;const l=t.src.charCodeAt(s++);if(l!==124&&l!==45&&l!==58&&!Jt(l)||a===45&&Jt(l))return!1;for(;s<t.eMarks[i];){const k=t.src.charCodeAt(s);if(k!==124&&k!==45&&k!==58&&!Jt(k))return!1;s++}let u=VT(t,e+1),c=u.split("|");const f=[];for(let k=0;k<c.length;k++){const C=c[k].trim();if(!C){if(k===0||k===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(C))return!1;C.charCodeAt(C.length-1)===58?f.push(C.charCodeAt(0)===58?"center":"right"):C.charCodeAt(0)===58?f.push("left"):f.push("")}if(u=VT(t,e).trim(),u.indexOf("|")===-1||t.sCount[e]-t.blkIndent>=4)return!1;c=E6(u),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop();const h=c.length;if(h===0||h!==f.length)return!1;if(r)return!0;const d=t.parentType;t.parentType="table";const p=t.md.block.ruler.getRules("blockquote"),m=t.push("table_open","table",1),y=[e,0];m.map=y;const _=t.push("thead_open","thead",1);_.map=[e,e+1];const b=t.push("tr_open","tr",1);b.map=[e,e+1];for(let k=0;k<c.length;k++){const C=t.push("th_open","th",1);f[k]&&(C.attrs=[["style","text-align:"+f[k]]]);const R=t.push("inline","",0);R.content=c[k].trim(),R.children=[],t.push("th_close","th",-1)}t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let S,v=0;for(i=e+2;i<n&&!(t.sCount[i]<t.blkIndent);i++){let k=!1;for(let R=0,x=p.length;R<x;R++)if(p[R](t,i,n,!0)){k=!0;break}if(k||(u=VT(t,i).trim(),!u)||t.sCount[i]-t.blkIndent>=4||(c=E6(u),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop(),v+=h-c.length,v>G3e))break;if(i===e+2){const R=t.push("tbody_open","tbody",1);R.map=S=[e+2,0]}const C=t.push("tr_open","tr",1);C.map=[i,i+1];for(let R=0;R<h;R++){const x=t.push("td_open","td",1);f[R]&&(x.attrs=[["style","text-align:"+f[R]]]);const E=t.push("inline","",0);E.content=c[R]?c[R].trim():"",E.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return S&&(t.push("tbody_close","tbody",-1),S[1]=i),t.push("table_close","table",-1),y[1]=i,t.parentType=d,t.line=i,!0}o(q3e,"table");function K3e(t,e,n){if(t.sCount[e]-t.blkIndent<4)return!1;let r=e+1,i=r;for(;r<n;){if(t.isEmpty(r)){r++;continue}if(t.sCount[r]-t.blkIndent>=4){r++,i=r;continue}break}t.line=i;const s=t.push("code_block","code",0);return s.content=t.getLines(e,i,4+t.blkIndent,!1)+`
`,s.map=[e,t.line],!0}o(K3e,"code");function Y3e(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||i+3>s)return!1;const a=t.src.charCodeAt(i);if(a!==126&&a!==96)return!1;let l=i;i=t.skipChars(i,a);let u=i-l;if(u<3)return!1;const c=t.src.slice(l,i),f=t.src.slice(i,s);if(a===96&&f.indexOf(String.fromCharCode(a))>=0)return!1;if(r)return!0;let h=e,d=!1;for(;h++,!(h>=n||(i=l=t.bMarks[h]+t.tShift[h],s=t.eMarks[h],i<s&&t.sCount[h]<t.blkIndent));)if(t.src.charCodeAt(i)===a&&!(t.sCount[h]-t.blkIndent>=4)&&(i=t.skipChars(i,a),!(i-l<u)&&(i=t.skipSpaces(i),!(i<s)))){d=!0;break}u=t.sCount[e],t.line=h+(d?1:0);const p=t.push("fence","code",0);return p.info=f,p.content=t.getLines(e+1,h,u,!0),p.markup=c,p.map=[e,t.line],!0}o(Y3e,"fence");function X3e(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];const a=t.lineMax;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(i)!==62)return!1;if(r)return!0;const l=[],u=[],c=[],f=[],h=t.md.block.ruler.getRules("blockquote"),d=t.parentType;t.parentType="blockquote";let p=!1,m;for(m=e;m<n;m++){const v=t.sCount[m]<t.blkIndent;if(i=t.bMarks[m]+t.tShift[m],s=t.eMarks[m],i>=s)break;if(t.src.charCodeAt(i++)===62&&!v){let C=t.sCount[m]+1,R,x;t.src.charCodeAt(i)===32?(i++,C++,x=!1,R=!0):t.src.charCodeAt(i)===9?(R=!0,(t.bsCount[m]+C)%4===3?(i++,C++,x=!1):x=!0):R=!1;let E=C;for(l.push(t.bMarks[m]),t.bMarks[m]=i;i<s;){const T=t.src.charCodeAt(i);if(Jt(T))T===9?E+=4-(E+t.bsCount[m]+(x?1:0))%4:E++;else break;i++}p=i>=s,u.push(t.bsCount[m]),t.bsCount[m]=t.sCount[m]+1+(R?1:0),c.push(t.sCount[m]),t.sCount[m]=E-C,f.push(t.tShift[m]),t.tShift[m]=i-t.bMarks[m];continue}if(p)break;let k=!1;for(let C=0,R=h.length;C<R;C++)if(h[C](t,m,n,!0)){k=!0;break}if(k){t.lineMax=m,t.blkIndent!==0&&(l.push(t.bMarks[m]),u.push(t.bsCount[m]),f.push(t.tShift[m]),c.push(t.sCount[m]),t.sCount[m]-=t.blkIndent);break}l.push(t.bMarks[m]),u.push(t.bsCount[m]),f.push(t.tShift[m]),c.push(t.sCount[m]),t.sCount[m]=-1}const y=t.blkIndent;t.blkIndent=0;const _=t.push("blockquote_open","blockquote",1);_.markup=">";const b=[e,0];_.map=b,t.md.block.tokenize(t,e,m);const S=t.push("blockquote_close","blockquote",-1);S.markup=">",t.lineMax=a,t.parentType=d,b[1]=t.line;for(let v=0;v<f.length;v++)t.bMarks[v+e]=l[v],t.tShift[v+e]=f[v],t.sCount[v+e]=c[v],t.bsCount[v+e]=u[v];return t.blkIndent=y,!0}o(X3e,"blockquote$1");function J3e(t,e,n,r){const i=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let s=t.bMarks[e]+t.tShift[e];const a=t.src.charCodeAt(s++);if(a!==42&&a!==45&&a!==95)return!1;let l=1;for(;s<i;){const c=t.src.charCodeAt(s++);if(c!==a&&!Jt(c))return!1;c===a&&l++}if(l<3)return!1;if(r)return!0;t.line=e+1;const u=t.push("hr","hr",0);return u.map=[e,t.line],u.markup=Array(l+1).join(String.fromCharCode(a)),!0}o(J3e,"hr$2");function x6(t,e){const n=t.eMarks[e];let r=t.bMarks[e]+t.tShift[e];const i=t.src.charCodeAt(r++);if(i!==42&&i!==45&&i!==43)return-1;if(r<n){const s=t.src.charCodeAt(r);if(!Jt(s))return-1}return r}o(x6,"skipBulletListMarker");function T6(t,e){const n=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];let i=n;if(i+1>=r)return-1;let s=t.src.charCodeAt(i++);if(s<48||s>57)return-1;for(;;){if(i>=r)return-1;if(s=t.src.charCodeAt(i++),s>=48&&s<=57){if(i-n>=10)return-1;continue}if(s===41||s===46)break;return-1}return i<r&&(s=t.src.charCodeAt(i),!Jt(s))?-1:i}o(T6,"skipOrderedListMarker");function Z3e(t,e){const n=t.level+2;for(let r=e+2,i=t.tokens.length-2;r<i;r++)t.tokens[r].level===n&&t.tokens[r].type==="paragraph_open"&&(t.tokens[r+2].hidden=!0,t.tokens[r].hidden=!0,r+=2)}o(Z3e,"markTightParagraphs");function Q3e(t,e,n,r){let i,s,a,l,u=e,c=!0;if(t.sCount[u]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[u]-t.listIndent>=4&&t.sCount[u]<t.blkIndent)return!1;let f=!1;r&&t.parentType==="paragraph"&&t.sCount[u]>=t.blkIndent&&(f=!0);let h,d,p;if((p=T6(t,u))>=0){if(h=!0,a=t.bMarks[u]+t.tShift[u],d=Number(t.src.slice(a,p-1)),f&&d!==1)return!1}else if((p=x6(t,u))>=0)h=!1;else return!1;if(f&&t.skipSpaces(p)>=t.eMarks[u])return!1;if(r)return!0;const m=t.src.charCodeAt(p-1),y=t.tokens.length;h?(l=t.push("ordered_list_open","ol",1),d!==1&&(l.attrs=[["start",d]])):l=t.push("bullet_list_open","ul",1);const _=[u,0];l.map=_,l.markup=String.fromCharCode(m);let b=!1;const S=t.md.block.ruler.getRules("list"),v=t.parentType;for(t.parentType="list";u<n;){s=p,i=t.eMarks[u];const k=t.sCount[u]+p-(t.bMarks[u]+t.tShift[u]);let C=k;for(;s<i;){const j=t.src.charCodeAt(s);if(j===9)C+=4-(C+t.bsCount[u])%4;else if(j===32)C++;else break;s++}const R=s;let x;R>=i?x=1:x=C-k,x>4&&(x=1);const E=k+x;l=t.push("list_item_open","li",1),l.markup=String.fromCharCode(m);const T=[u,0];l.map=T,h&&(l.info=t.src.slice(a,p-1));const O=t.tight,N=t.tShift[u],I=t.sCount[u],M=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=E,t.tight=!0,t.tShift[u]=R-t.bMarks[u],t.sCount[u]=C,R>=i&&t.isEmpty(u+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,u,n,!0),(!t.tight||b)&&(c=!1),b=t.line-u>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=M,t.tShift[u]=N,t.sCount[u]=I,t.tight=O,l=t.push("list_item_close","li",-1),l.markup=String.fromCharCode(m),u=t.line,T[1]=u,u>=n||t.sCount[u]<t.blkIndent||t.sCount[u]-t.blkIndent>=4)break;let V=!1;for(let j=0,H=S.length;j<H;j++)if(S[j](t,u,n,!0)){V=!0;break}if(V)break;if(h){if(p=T6(t,u),p<0)break;a=t.bMarks[u]+t.tShift[u]}else if(p=x6(t,u),p<0)break;if(m!==t.src.charCodeAt(p-1))break}return h?l=t.push("ordered_list_close","ol",-1):l=t.push("bullet_list_close","ul",-1),l.markup=String.fromCharCode(m),_[1]=u,t.line=u,t.parentType=v,c&&Z3e(t,y),!0}o(Q3e,"list$1");function eRe(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e],a=e+1;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(i)!==91)return!1;function l(S){const v=t.lineMax;if(S>=v||t.isEmpty(S))return null;let k=!1;if(t.sCount[S]-t.blkIndent>3&&(k=!0),t.sCount[S]<0&&(k=!0),!k){const x=t.md.block.ruler.getRules("reference"),E=t.parentType;t.parentType="reference";let T=!1;for(let O=0,N=x.length;O<N;O++)if(x[O](t,S,v,!0)){T=!0;break}if(t.parentType=E,T)return null}const C=t.bMarks[S]+t.tShift[S],R=t.eMarks[S];return t.src.slice(C,R+1)}o(l,"getNextLine");let u=t.src.slice(i,s+1);s=u.length;let c=-1;for(i=1;i<s;i++){const S=u.charCodeAt(i);if(S===91)return!1;if(S===93){c=i;break}else if(S===10){const v=l(a);v!==null&&(u+=v,s=u.length,a++)}else if(S===92&&(i++,i<s&&u.charCodeAt(i)===10)){const v=l(a);v!==null&&(u+=v,s=u.length,a++)}}if(c<0||u.charCodeAt(c+1)!==58)return!1;for(i=c+2;i<s;i++){const S=u.charCodeAt(i);if(S===10){const v=l(a);v!==null&&(u+=v,s=u.length,a++)}else if(!Jt(S))break}const f=t.md.helpers.parseLinkDestination(u,i,s);if(!f.ok)return!1;const h=t.md.normalizeLink(f.str);if(!t.md.validateLink(h))return!1;i=f.pos;const d=i,p=a,m=i;for(;i<s;i++){const S=u.charCodeAt(i);if(S===10){const v=l(a);v!==null&&(u+=v,s=u.length,a++)}else if(!Jt(S))break}let y=t.md.helpers.parseLinkTitle(u,i,s);for(;y.can_continue;){const S=l(a);if(S===null)break;u+=S,i=s,s=u.length,a++,y=t.md.helpers.parseLinkTitle(u,i,s,y)}let _;for(i<s&&m!==i&&y.ok?(_=y.str,i=y.pos):(_="",i=d,a=p);i<s;){const S=u.charCodeAt(i);if(!Jt(S))break;i++}if(i<s&&u.charCodeAt(i)!==10&&_)for(_="",i=d,a=p;i<s;){const S=u.charCodeAt(i);if(!Jt(S))break;i++}if(i<s&&u.charCodeAt(i)!==10)return!1;const b=Cx(u.slice(1,c));return b?(r||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[b]>"u"&&(t.env.references[b]={title:_,href:h}),t.line=a),!0):!1}o(eRe,"reference");const tRe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],nRe="[a-zA-Z_:][a-zA-Z0-9:._-]*",rRe="[^\"'=<>`\\x00-\\x20]+",iRe="'[^']*'",sRe='"[^"]*"',oRe="(?:"+rRe+"|"+iRe+"|"+sRe+")",aRe="(?:\\s+"+nRe+"(?:\\s*=\\s*"+oRe+")?)",EH="<[A-Za-z][A-Za-z0-9\\-]*"+aRe+"*\\s*\\/?>",xH="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",lRe="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",uRe="<[?][\\s\\S]*?[?]>",cRe="<![A-Za-z][^>]*>",fRe="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",hRe=new RegExp("^(?:"+EH+"|"+xH+"|"+lRe+"|"+uRe+"|"+cRe+"|"+fRe+")"),dRe=new RegExp("^(?:"+EH+"|"+xH+")"),$h=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+tRe.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(dRe.source+"\\s*$"),/^$/,!1]];function pRe(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(i)!==60)return!1;let a=t.src.slice(i,s),l=0;for(;l<$h.length&&!$h[l][0].test(a);l++);if(l===$h.length)return!1;if(r)return $h[l][2];let u=e+1;if(!$h[l][1].test(a)){for(;u<n&&!(t.sCount[u]<t.blkIndent);u++)if(i=t.bMarks[u]+t.tShift[u],s=t.eMarks[u],a=t.src.slice(i,s),$h[l][1].test(a)){a.length!==0&&u++;break}}t.line=u;const c=t.push("html_block","",0);return c.map=[e,u],c.content=t.getLines(e,u,t.blkIndent,!0),!0}o(pRe,"html_block");function mRe(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let a=t.src.charCodeAt(i);if(a!==35||i>=s)return!1;let l=1;for(a=t.src.charCodeAt(++i);a===35&&i<s&&l<=6;)l++,a=t.src.charCodeAt(++i);if(l>6||i<s&&!Jt(a))return!1;if(r)return!0;s=t.skipSpacesBack(s,i);const u=t.skipCharsBack(s,35,i);u>i&&Jt(t.src.charCodeAt(u-1))&&(s=u),t.line=e+1;const c=t.push("heading_open","h"+String(l),1);c.markup="########".slice(0,l),c.map=[e,t.line];const f=t.push("inline","",0);f.content=t.src.slice(i,s).trim(),f.map=[e,t.line],f.children=[];const h=t.push("heading_close","h"+String(l),-1);return h.markup="########".slice(0,l),!0}o(mRe,"heading$1");function gRe(t,e,n){const r=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const i=t.parentType;t.parentType="paragraph";let s=0,a,l=e+1;for(;l<n&&!t.isEmpty(l);l++){if(t.sCount[l]-t.blkIndent>3)continue;if(t.sCount[l]>=t.blkIndent){let p=t.bMarks[l]+t.tShift[l];const m=t.eMarks[l];if(p<m&&(a=t.src.charCodeAt(p),(a===45||a===61)&&(p=t.skipChars(p,a),p=t.skipSpaces(p),p>=m))){s=a===61?1:2;break}}if(t.sCount[l]<0)continue;let d=!1;for(let p=0,m=r.length;p<m;p++)if(r[p](t,l,n,!0)){d=!0;break}if(d)break}if(!s)return!1;const u=t.getLines(e,l,t.blkIndent,!1).trim();t.line=l+1;const c=t.push("heading_open","h"+String(s),1);c.markup=String.fromCharCode(a),c.map=[e,t.line];const f=t.push("inline","",0);f.content=u,f.map=[e,t.line-1],f.children=[];const h=t.push("heading_close","h"+String(s),-1);return h.markup=String.fromCharCode(a),t.parentType=i,!0}o(gRe,"lheading$1");function yRe(t,e,n){const r=t.md.block.ruler.getRules("paragraph"),i=t.parentType;let s=e+1;for(t.parentType="paragraph";s<n&&!t.isEmpty(s);s++){if(t.sCount[s]-t.blkIndent>3||t.sCount[s]<0)continue;let c=!1;for(let f=0,h=r.length;f<h;f++)if(r[f](t,s,n,!0)){c=!0;break}if(c)break}const a=t.getLines(e,s,t.blkIndent,!1).trim();t.line=s;const l=t.push("paragraph_open","p",1);l.map=[e,t.line];const u=t.push("inline","",0);return u.content=a,u.map=[e,t.line],u.children=[],t.push("paragraph_close","p",-1),t.parentType=i,!0}o(yRe,"paragraph$1");const I_=[["table",q3e,["paragraph","reference"]],["code",K3e],["fence",Y3e,["paragraph","reference","blockquote","list"]],["blockquote",X3e,["paragraph","reference","blockquote","list"]],["hr",J3e,["paragraph","reference","blockquote","list"]],["list",Q3e,["paragraph","reference","blockquote"]],["reference",eRe],["html_block",pRe,["paragraph","reference","blockquote"]],["heading",mRe,["paragraph","reference","blockquote"]],["lheading",gRe],["paragraph",yRe]];function Ix(){this.ruler=new Fi;for(let t=0;t<I_.length;t++)this.ruler.push(I_[t][0],I_[t][1],{alt:(I_[t][2]||[]).slice()})}o(Ix,"ParserBlock");Ix.prototype.tokenize=function(t,e,n){const r=this.ruler.getRules(""),i=r.length,s=t.md.options.maxNesting;let a=e,l=!1;for(;a<n&&(t.line=a=t.skipEmptyLines(a),!(a>=n||t.sCount[a]<t.blkIndent));){if(t.level>=s){t.line=n;break}const u=t.line;let c=!1;for(let f=0;f<i;f++)if(c=r[f](t,a,n,!1),c){if(u>=t.line)throw new Error("block rule didn't increment state.line");break}if(!c)throw new Error("none of the block rules matched");t.tight=!l,t.isEmpty(t.line-1)&&(l=!0),a=t.line,a<n&&t.isEmpty(a)&&(l=!0,a++,t.line=a)}};Ix.prototype.parse=function(t,e,n,r){if(!t)return;const i=new this.State(t,e,n,r);this.tokenize(i,i.line,i.lineMax)};Ix.prototype.State=Pa;function Qy(t,e,n,r){this.src=t,this.env=n,this.md=e,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}o(Qy,"StateInline");Qy.prototype.pushPending=function(){const t=new No("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};Qy.prototype.push=function(t,e,n){this.pending&&this.pushPending();const r=new No(t,e,n);let i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(i),r};Qy.prototype.scanDelims=function(t,e){const n=this.posMax,r=this.src.charCodeAt(t),i=t>0?this.src.charCodeAt(t-1):32;let s=t;for(;s<n&&this.src.charCodeAt(s)===r;)s++;const a=s-t,l=s<n?this.src.charCodeAt(s):32,u=J0(i)||X0(String.fromCharCode(i)),c=J0(l)||X0(String.fromCharCode(l)),f=Y0(i),h=Y0(l),d=!h&&(!c||f||u),p=!f&&(!u||h||c);return{can_open:d&&(e||!p||u),can_close:p&&(e||!d||c),length:a}};Qy.prototype.Token=No;function _Re(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}o(_Re,"isTerminatorChar");function bRe(t,e){let n=t.pos;for(;n<t.posMax&&!_Re(t.src.charCodeAt(n));)n++;return n===t.pos?!1:(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}o(bRe,"text$1");const wRe=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function vRe(t,e){if(!t.md.options.linkify||t.linkLevel>0)return!1;const n=t.pos,r=t.posMax;if(n+3>r||t.src.charCodeAt(n)!==58||t.src.charCodeAt(n+1)!==47||t.src.charCodeAt(n+2)!==47)return!1;const i=t.pending.match(wRe);if(!i)return!1;const s=i[1],a=t.md.linkify.matchAtStart(t.src.slice(n-s.length));if(!a)return!1;let l=a.url;if(l.length<=s.length)return!1;l=l.replace(/\*+$/,"");const u=t.md.normalizeLink(l);if(!t.md.validateLink(u))return!1;if(!e){t.pending=t.pending.slice(0,-s.length);const c=t.push("link_open","a",1);c.attrs=[["href",u]],c.markup="linkify",c.info="auto";const f=t.push("text","",0);f.content=t.md.normalizeLinkText(l);const h=t.push("link_close","a",-1);h.markup="linkify",h.info="auto"}return t.pos+=l.length-s.length,!0}o(vRe,"linkify");function ERe(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==10)return!1;const r=t.pending.length-1,i=t.posMax;if(!e)if(r>=0&&t.pending.charCodeAt(r)===32)if(r>=1&&t.pending.charCodeAt(r-1)===32){let s=r-1;for(;s>=1&&t.pending.charCodeAt(s-1)===32;)s--;t.pending=t.pending.slice(0,s),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(n++;n<i&&Jt(t.src.charCodeAt(n));)n++;return t.pos=n,!0}o(ERe,"newline$1");const sO=[];for(let t=0;t<256;t++)sO.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){sO[t.charCodeAt(0)]=1});function xRe(t,e){let n=t.pos;const r=t.posMax;if(t.src.charCodeAt(n)!==92||(n++,n>=r))return!1;let i=t.src.charCodeAt(n);if(i===10){for(e||t.push("hardbreak","br",0),n++;n<r&&(i=t.src.charCodeAt(n),!!Jt(i));)n++;return t.pos=n,!0}let s=t.src[n];if(i>=55296&&i<=56319&&n+1<r){const l=t.src.charCodeAt(n+1);l>=56320&&l<=57343&&(s+=t.src[n+1],n++)}const a="\\"+s;if(!e){const l=t.push("text_special","",0);i<256&&sO[i]!==0?l.content=s:l.content=a,l.markup=a,l.info="escape"}return t.pos=n+1,!0}o(xRe,"escape$3");function TRe(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==96)return!1;const i=n;n++;const s=t.posMax;for(;n<s&&t.src.charCodeAt(n)===96;)n++;const a=t.src.slice(i,n),l=a.length;if(t.backticksScanned&&(t.backticks[l]||0)<=i)return e||(t.pending+=a),t.pos+=l,!0;let u=n,c;for(;(c=t.src.indexOf("`",u))!==-1;){for(u=c+1;u<s&&t.src.charCodeAt(u)===96;)u++;const f=u-c;if(f===l){if(!e){const h=t.push("code_inline","code",0);h.markup=a,h.content=t.src.slice(n,c).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=u,!0}t.backticks[f]=c}return t.backticksScanned=!0,e||(t.pending+=a),t.pos+=l,!0}o(TRe,"backtick");function SRe(t,e){const n=t.pos,r=t.src.charCodeAt(n);if(e||r!==126)return!1;const i=t.scanDelims(t.pos,!0);let s=i.length;const a=String.fromCharCode(r);if(s<2)return!1;let l;s%2&&(l=t.push("text","",0),l.content=a,s--);for(let u=0;u<s;u+=2)l=t.push("text","",0),l.content=a+a,t.delimiters.push({marker:r,length:0,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0}o(SRe,"strikethrough_tokenize");function S6(t,e){let n;const r=[],i=e.length;for(let s=0;s<i;s++){const a=e[s];if(a.marker!==126||a.end===-1)continue;const l=e[a.end];n=t.tokens[a.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=t.tokens[l.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",t.tokens[l.token-1].type==="text"&&t.tokens[l.token-1].content==="~"&&r.push(l.token-1)}for(;r.length;){const s=r.pop();let a=s+1;for(;a<t.tokens.length&&t.tokens[a].type==="s_close";)a++;a--,s!==a&&(n=t.tokens[a],t.tokens[a]=t.tokens[s],t.tokens[s]=n)}}o(S6,"postProcess$1");function kRe(t){const e=t.tokens_meta,n=t.tokens_meta.length;S6(t,t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&S6(t,e[r].delimiters)}o(kRe,"strikethrough_postProcess");const TH={tokenize:SRe,postProcess:kRe};function ARe(t,e){const n=t.pos,r=t.src.charCodeAt(n);if(e||r!==95&&r!==42)return!1;const i=t.scanDelims(t.pos,r===42);for(let s=0;s<i.length;s++){const a=t.push("text","",0);a.content=String.fromCharCode(r),t.delimiters.push({marker:r,length:i.length,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close})}return t.pos+=i.length,!0}o(ARe,"emphasis_tokenize");function k6(t,e){const n=e.length;for(let r=n-1;r>=0;r--){const i=e[r];if(i.marker!==95&&i.marker!==42||i.end===-1)continue;const s=e[i.end],a=r>0&&e[r-1].end===i.end+1&&e[r-1].marker===i.marker&&e[r-1].token===i.token-1&&e[i.end+1].token===s.token+1,l=String.fromCharCode(i.marker),u=t.tokens[i.token];u.type=a?"strong_open":"em_open",u.tag=a?"strong":"em",u.nesting=1,u.markup=a?l+l:l,u.content="";const c=t.tokens[s.token];c.type=a?"strong_close":"em_close",c.tag=a?"strong":"em",c.nesting=-1,c.markup=a?l+l:l,c.content="",a&&(t.tokens[e[r-1].token].content="",t.tokens[e[i.end+1].token].content="",r--)}}o(k6,"postProcess");function CRe(t){const e=t.tokens_meta,n=t.tokens_meta.length;k6(t,t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&k6(t,e[r].delimiters)}o(CRe,"emphasis_post_process");const SH={tokenize:ARe,postProcess:CRe};function IRe(t,e){let n,r,i,s,a="",l="",u=t.pos,c=!0;if(t.src.charCodeAt(t.pos)!==91)return!1;const f=t.pos,h=t.posMax,d=t.pos+1,p=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(p<0)return!1;let m=p+1;if(m<h&&t.src.charCodeAt(m)===40){for(c=!1,m++;m<h&&(n=t.src.charCodeAt(m),!(!Jt(n)&&n!==10));m++);if(m>=h)return!1;if(u=m,i=t.md.helpers.parseLinkDestination(t.src,m,t.posMax),i.ok){for(a=t.md.normalizeLink(i.str),t.md.validateLink(a)?m=i.pos:a="",u=m;m<h&&(n=t.src.charCodeAt(m),!(!Jt(n)&&n!==10));m++);if(i=t.md.helpers.parseLinkTitle(t.src,m,t.posMax),m<h&&u!==m&&i.ok)for(l=i.str,m=i.pos;m<h&&(n=t.src.charCodeAt(m),!(!Jt(n)&&n!==10));m++);}(m>=h||t.src.charCodeAt(m)!==41)&&(c=!0),m++}if(c){if(typeof t.env.references>"u")return!1;if(m<h&&t.src.charCodeAt(m)===91?(u=m+1,m=t.md.helpers.parseLinkLabel(t,m),m>=0?r=t.src.slice(u,m++):m=p+1):m=p+1,r||(r=t.src.slice(d,p)),s=t.env.references[Cx(r)],!s)return t.pos=f,!1;a=s.href,l=s.title}if(!e){t.pos=d,t.posMax=p;const y=t.push("link_open","a",1),_=[["href",a]];y.attrs=_,l&&_.push(["title",l]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=m,t.posMax=h,!0}o(IRe,"link$1");function RRe(t,e){let n,r,i,s,a,l,u,c,f="";const h=t.pos,d=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91)return!1;const p=t.pos+2,m=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(m<0)return!1;if(s=m+1,s<d&&t.src.charCodeAt(s)===40){for(s++;s<d&&(n=t.src.charCodeAt(s),!(!Jt(n)&&n!==10));s++);if(s>=d)return!1;for(c=s,l=t.md.helpers.parseLinkDestination(t.src,s,t.posMax),l.ok&&(f=t.md.normalizeLink(l.str),t.md.validateLink(f)?s=l.pos:f=""),c=s;s<d&&(n=t.src.charCodeAt(s),!(!Jt(n)&&n!==10));s++);if(l=t.md.helpers.parseLinkTitle(t.src,s,t.posMax),s<d&&c!==s&&l.ok)for(u=l.str,s=l.pos;s<d&&(n=t.src.charCodeAt(s),!(!Jt(n)&&n!==10));s++);else u="";if(s>=d||t.src.charCodeAt(s)!==41)return t.pos=h,!1;s++}else{if(typeof t.env.references>"u")return!1;if(s<d&&t.src.charCodeAt(s)===91?(c=s+1,s=t.md.helpers.parseLinkLabel(t,s),s>=0?i=t.src.slice(c,s++):s=m+1):s=m+1,i||(i=t.src.slice(p,m)),a=t.env.references[Cx(i)],!a)return t.pos=h,!1;f=a.href,u=a.title}if(!e){r=t.src.slice(p,m);const y=[];t.md.inline.parse(r,t.md,t.env,y);const _=t.push("image","img",0),b=[["src",f],["alt",""]];_.attrs=b,_.children=y,_.content=r,u&&b.push(["title",u])}return t.pos=s,t.posMax=d,!0}o(RRe,"image");const ORe=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,NRe=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function MRe(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==60)return!1;const r=t.pos,i=t.posMax;for(;;){if(++n>=i)return!1;const a=t.src.charCodeAt(n);if(a===60)return!1;if(a===62)break}const s=t.src.slice(r+1,n);if(NRe.test(s)){const a=t.md.normalizeLink(s);if(!t.md.validateLink(a))return!1;if(!e){const l=t.push("link_open","a",1);l.attrs=[["href",a]],l.markup="autolink",l.info="auto";const u=t.push("text","",0);u.content=t.md.normalizeLinkText(s);const c=t.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return t.pos+=s.length+2,!0}if(ORe.test(s)){const a=t.md.normalizeLink("mailto:"+s);if(!t.md.validateLink(a))return!1;if(!e){const l=t.push("link_open","a",1);l.attrs=[["href",a]],l.markup="autolink",l.info="auto";const u=t.push("text","",0);u.content=t.md.normalizeLinkText(s);const c=t.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return t.pos+=s.length+2,!0}return!1}o(MRe,"autolink$1");function DRe(t){return/^<a[>\s]/i.test(t)}o(DRe,"isLinkOpen");function PRe(t){return/^<\/a\s*>/i.test(t)}o(PRe,"isLinkClose");function $Re(t){const e=t|32;return e>=97&&e<=122}o($Re,"isLetter");function LRe(t,e){if(!t.md.options.html)return!1;const n=t.posMax,r=t.pos;if(t.src.charCodeAt(r)!==60||r+2>=n)return!1;const i=t.src.charCodeAt(r+1);if(i!==33&&i!==63&&i!==47&&!$Re(i))return!1;const s=t.src.slice(r).match(hRe);if(!s)return!1;if(!e){const a=t.push("html_inline","",0);a.content=s[0],DRe(a.content)&&t.linkLevel++,PRe(a.content)&&t.linkLevel--}return t.pos+=s[0].length,!0}o(LRe,"html_inline");const FRe=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,BRe=/^&([a-z][a-z0-9]{1,31});/i;function URe(t,e){const n=t.pos,r=t.posMax;if(t.src.charCodeAt(n)!==38||n+1>=r)return!1;if(t.src.charCodeAt(n+1)===35){const s=t.src.slice(n).match(FRe);if(s){if(!e){const a=s[1][0].toLowerCase()==="x"?parseInt(s[1].slice(1),16):parseInt(s[1],10),l=t.push("text_special","",0);l.content=rO(a)?Iv(a):Iv(65533),l.markup=s[0],l.info="entity"}return t.pos+=s[0].length,!0}}else{const s=t.src.slice(n).match(BRe);if(s){const a=yH(s[0]);if(a!==s[0]){if(!e){const l=t.push("text_special","",0);l.content=a,l.markup=s[0],l.info="entity"}return t.pos+=s[0].length,!0}}}return!1}o(URe,"entity");function A6(t){const e={},n=t.length;if(!n)return;let r=0,i=-2;const s=[];for(let a=0;a<n;a++){const l=t[a];if(s.push(0),(t[r].marker!==l.marker||i!==l.token-1)&&(r=a),i=l.token,l.length=l.length||0,!l.close)continue;e.hasOwnProperty(l.marker)||(e[l.marker]=[-1,-1,-1,-1,-1,-1]);const u=e[l.marker][(l.open?3:0)+l.length%3];let c=r-s[r]-1,f=c;for(;c>u;c-=s[c]+1){const h=t[c];if(h.marker===l.marker&&h.open&&h.end<0){let d=!1;if((h.close||l.open)&&(h.length+l.length)%3===0&&(h.length%3!==0||l.length%3!==0)&&(d=!0),!d){const p=c>0&&!t[c-1].open?s[c-1]+1:0;s[a]=a-c+p,s[c]=p,l.open=!1,h.end=a,h.close=!1,f=-1,i=-2;break}}}f!==-1&&(e[l.marker][(l.open?3:0)+(l.length||0)%3]=f)}}o(A6,"processDelimiters");function zRe(t){const e=t.tokens_meta,n=t.tokens_meta.length;A6(t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&A6(e[r].delimiters)}o(zRe,"link_pairs");function VRe(t){let e,n,r=0;const i=t.tokens,s=t.tokens.length;for(e=n=0;e<s;e++)i[e].nesting<0&&r--,i[e].level=r,i[e].nesting>0&&r++,i[e].type==="text"&&e+1<s&&i[e+1].type==="text"?i[e+1].content=i[e].content+i[e+1].content:(e!==n&&(i[n]=i[e]),n++);e!==n&&(i.length=n)}o(VRe,"fragments_join");const jT=[["text",bRe],["linkify",vRe],["newline",ERe],["escape",xRe],["backticks",TRe],["strikethrough",TH.tokenize],["emphasis",SH.tokenize],["link",IRe],["image",RRe],["autolink",MRe],["html_inline",LRe],["entity",URe]],WT=[["balance_pairs",zRe],["strikethrough",TH.postProcess],["emphasis",SH.postProcess],["fragments_join",VRe]];function e1(){this.ruler=new Fi;for(let t=0;t<jT.length;t++)this.ruler.push(jT[t][0],jT[t][1]);this.ruler2=new Fi;for(let t=0;t<WT.length;t++)this.ruler2.push(WT[t][0],WT[t][1])}o(e1,"ParserInline");e1.prototype.skipToken=function(t){const e=t.pos,n=this.ruler.getRules(""),r=n.length,i=t.md.options.maxNesting,s=t.cache;if(typeof s[e]<"u"){t.pos=s[e];return}let a=!1;if(t.level<i){for(let l=0;l<r;l++)if(t.level++,a=n[l](t,!0),t.level--,a){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;a||t.pos++,s[e]=t.pos};e1.prototype.tokenize=function(t){const e=this.ruler.getRules(""),n=e.length,r=t.posMax,i=t.md.options.maxNesting;for(;t.pos<r;){const s=t.pos;let a=!1;if(t.level<i){for(let l=0;l<n;l++)if(a=e[l](t,!1),a){if(s>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}if(a){if(t.pos>=r)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};e1.prototype.parse=function(t,e,n,r){const i=new this.State(t,e,n,r);this.tokenize(i);const s=this.ruler2.getRules(""),a=s.length;for(let l=0;l<a;l++)s[l](i)};e1.prototype.State=Qy;function jRe(t){const e={};t=t||{},e.src_Any=hH.source,e.src_Cc=dH.source,e.src_Z=mH.source,e.src_P=tO.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><]";return e.src_pseudo_letter="(?:(?!"+n+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+n+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}o(jRe,"reFactory");function WA(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(r){t[r]=n[r]})}),t}o(WA,"assign");function Rx(t){return Object.prototype.toString.call(t)}o(Rx,"_class");function WRe(t){return Rx(t)==="[object String]"}o(WRe,"isString");function HRe(t){return Rx(t)==="[object Object]"}o(HRe,"isObject");function GRe(t){return Rx(t)==="[object RegExp]"}o(GRe,"isRegExp");function C6(t){return Rx(t)==="[object Function]"}o(C6,"isFunction");function qRe(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}o(qRe,"escapeRE");const kH={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function KRe(t){return Object.keys(t||{}).reduce(function(e,n){return e||kH.hasOwnProperty(n)},!1)}o(KRe,"isOptionsObj");const YRe={"http:":{validate:o(function(t,e,n){const r=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0},"validate")},"https:":"http:","ftp:":"http:","//":{validate:o(function(t,e,n){const r=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:r.match(n.re.no_http)[0].length:0},"validate")},"mailto:":{validate:o(function(t,e,n){const r=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0},"validate")}},XRe="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",JRe="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function ZRe(t){t.__index__=-1,t.__text_cache__=""}o(ZRe,"resetScanCache");function QRe(t){return function(e,n){const r=e.slice(n);return t.test(r)?r.match(t)[0].length:0}}o(QRe,"createValidator");function I6(){return function(t,e){e.normalize(t)}}o(I6,"createNormalizer");function Rv(t){const e=t.re=jRe(t.__opts__),n=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||n.push(XRe),n.push(e.src_xn),e.src_tlds=n.join("|");function r(l){return l.replace("%TLDS%",e.src_tlds)}o(r,"untpl"),e.email_fuzzy=RegExp(r(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(r(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(r(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(r(e.tpl_host_fuzzy_test),"i");const i=[];t.__compiled__={};function s(l,u){throw new Error('(LinkifyIt) Invalid schema "'+l+'": '+u)}o(s,"schemaError"),Object.keys(t.__schemas__).forEach(function(l){const u=t.__schemas__[l];if(u===null)return;const c={validate:null,link:null};if(t.__compiled__[l]=c,HRe(u)){GRe(u.validate)?c.validate=QRe(u.validate):C6(u.validate)?c.validate=u.validate:s(l,u),C6(u.normalize)?c.normalize=u.normalize:u.normalize?s(l,u):c.normalize=I6();return}if(WRe(u)){i.push(l);return}s(l,u)}),i.forEach(function(l){t.__compiled__[t.__schemas__[l]]&&(t.__compiled__[l].validate=t.__compiled__[t.__schemas__[l]].validate,t.__compiled__[l].normalize=t.__compiled__[t.__schemas__[l]].normalize)}),t.__compiled__[""]={validate:null,normalize:I6()};const a=Object.keys(t.__compiled__).filter(function(l){return l.length>0&&t.__compiled__[l]}).map(qRe).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+a+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+a+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),ZRe(t)}o(Rv,"compile");function eOe(t,e){const n=t.__index__,r=t.__last_index__,i=t.__text_cache__.slice(n,r);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=r+e,this.raw=i,this.text=i,this.url=i}o(eOe,"Match");function HA(t,e){const n=new eOe(t,e);return t.__compiled__[n.schema].normalize(n,t),n}o(HA,"createMatch");function as(t,e){if(!(this instanceof as))return new as(t,e);e||KRe(t)&&(e=t,t={}),this.__opts__=WA({},kH,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=WA({},YRe,t),this.__compiled__={},this.__tlds__=JRe,this.__tlds_replaced__=!1,this.re={},Rv(this)}o(as,"LinkifyIt");as.prototype.add=o(function(e,n){return this.__schemas__[e]=n,Rv(this),this},"add");as.prototype.set=o(function(e){return this.__opts__=WA(this.__opts__,e),this},"set");as.prototype.test=o(function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let n,r,i,s,a,l,u,c,f;if(this.re.schema_test.test(e)){for(u=this.re.schema_search,u.lastIndex=0;(n=u.exec(e))!==null;)if(s=this.testSchemaAt(e,n[2],u.lastIndex),s){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+s;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(a=r.index+r[1].length,(this.__index__<0||a<this.__index__)&&(this.__schema__="",this.__index__=a,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(f=e.indexOf("@"),f>=0&&(i=e.match(this.re.email_fuzzy))!==null&&(a=i.index+i[1].length,l=i.index+i[0].length,(this.__index__<0||a<this.__index__||a===this.__index__&&l>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=a,this.__last_index__=l))),this.__index__>=0},"test");as.prototype.pretest=o(function(e){return this.re.pretest.test(e)},"pretest");as.prototype.testSchemaAt=o(function(e,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(e,r,this):0},"testSchemaAt");as.prototype.match=o(function(e){const n=[];let r=0;this.__index__>=0&&this.__text_cache__===e&&(n.push(HA(this,r)),r=this.__last_index__);let i=r?e.slice(r):e;for(;this.test(i);)n.push(HA(this,r)),i=i.slice(this.__last_index__),r+=this.__last_index__;return n.length?n:null},"match");as.prototype.matchAtStart=o(function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const n=this.re.schema_at_start.exec(e);if(!n)return null;const r=this.testSchemaAt(e,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,HA(this,0)):null},"matchAtStart");as.prototype.tlds=o(function(e,n){return e=Array.isArray(e)?e:[e],n?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(r,i,s){return r!==s[i-1]}).reverse(),Rv(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,Rv(this),this)},"tlds");as.prototype.normalize=o(function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)},"normalize");as.prototype.onCompile=o(function(){},"onCompile");const zd=2147483647,la=36,oO=1,Z0=26,tOe=38,nOe=700,AH=72,CH=128,IH="-",rOe=/^xn--/,iOe=/[^\0-\x7F]/,sOe=/[\x2E\u3002\uFF0E\uFF61]/g,oOe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},HT=la-oO,ua=Math.floor,GT=String.fromCharCode;function uu(t){throw new RangeError(oOe[t])}o(uu,"error");function aOe(t,e){const n=[];let r=t.length;for(;r--;)n[r]=e(t[r]);return n}o(aOe,"map$2");function RH(t,e){const n=t.split("@");let r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(sOe,".");const i=t.split("."),s=aOe(i,e).join(".");return r+s}o(RH,"mapDomain");function OH(t){const e=[];let n=0;const r=t.length;for(;n<r;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}o(OH,"ucs2decode");const lOe=o(t=>String.fromCodePoint(...t),"ucs2encode"),uOe=o(function(t){return t>=48&&t<58?26+(t-48):t>=65&&t<91?t-65:t>=97&&t<123?t-97:la},"basicToDigit"),R6=o(function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},"digitToBasic"),NH=o(function(t,e,n){let r=0;for(t=n?ua(t/nOe):t>>1,t+=ua(t/e);t>HT*Z0>>1;r+=la)t=ua(t/HT);return ua(r+(HT+1)*t/(t+tOe))},"adapt"),MH=o(function(t){const e=[],n=t.length;let r=0,i=CH,s=AH,a=t.lastIndexOf(IH);a<0&&(a=0);for(let l=0;l<a;++l)t.charCodeAt(l)>=128&&uu("not-basic"),e.push(t.charCodeAt(l));for(let l=a>0?a+1:0;l<n;){const u=r;for(let f=1,h=la;;h+=la){l>=n&&uu("invalid-input");const d=uOe(t.charCodeAt(l++));d>=la&&uu("invalid-input"),d>ua((zd-r)/f)&&uu("overflow"),r+=d*f;const p=h<=s?oO:h>=s+Z0?Z0:h-s;if(d<p)break;const m=la-p;f>ua(zd/m)&&uu("overflow"),f*=m}const c=e.length+1;s=NH(r-u,c,u==0),ua(r/c)>zd-i&&uu("overflow"),i+=ua(r/c),r%=c,e.splice(r++,0,i)}return String.fromCodePoint(...e)},"decode"),DH=o(function(t){const e=[];t=OH(t);const n=t.length;let r=CH,i=0,s=AH;for(const u of t)u<128&&e.push(GT(u));const a=e.length;let l=a;for(a&&e.push(IH);l<n;){let u=zd;for(const f of t)f>=r&&f<u&&(u=f);const c=l+1;u-r>ua((zd-i)/c)&&uu("overflow"),i+=(u-r)*c,r=u;for(const f of t)if(f<r&&++i>zd&&uu("overflow"),f===r){let h=i;for(let d=la;;d+=la){const p=d<=s?oO:d>=s+Z0?Z0:d-s;if(h<p)break;const m=h-p,y=la-p;e.push(GT(R6(p+m%y,0))),h=ua(m/y)}e.push(GT(R6(h,0))),s=NH(i,c,l===a),i=0,++l}++i,++r}return e.join("")},"encode$1"),cOe=o(function(t){return RH(t,function(e){return rOe.test(e)?MH(e.slice(4).toLowerCase()):e})},"toUnicode"),fOe=o(function(t){return RH(t,function(e){return iOe.test(e)?"xn--"+DH(e):e})},"toASCII"),PH={version:"2.3.1",ucs2:{decode:OH,encode:lOe},decode:MH,encode:DH,toASCII:fOe,toUnicode:cOe},hOe={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},dOe={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},pOe={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},mOe={default:hOe,zero:dOe,commonmark:pOe},gOe=/^(vbscript|javascript|file|data):/,yOe=/^data:image\/(gif|png|jpeg|webp);/;function _Oe(t){const e=t.trim().toLowerCase();return gOe.test(e)?yOe.test(e):!0}o(_Oe,"validateLink");const $H=["http:","https:","mailto:"];function bOe(t){const e=eO(t,!0);if(e.hostname&&(!e.protocol||$H.indexOf(e.protocol)>=0))try{e.hostname=PH.toASCII(e.hostname)}catch{}return Zy(QR(e))}o(bOe,"normalizeLink");function wOe(t){const e=eO(t,!0);if(e.hostname&&(!e.protocol||$H.indexOf(e.protocol)>=0))try{e.hostname=PH.toUnicode(e.hostname)}catch{}return xp(QR(e),xp.defaultChars+"%")}o(wOe,"normalizeLinkText");function Fs(t,e){if(!(this instanceof Fs))return new Fs(t,e);e||nO(t)||(e=t||{},t="default"),this.inline=new e1,this.block=new Ix,this.core=new iO,this.renderer=new nm,this.linkify=new as,this.validateLink=_Oe,this.normalizeLink=bOe,this.normalizeLinkText=wOe,this.utils=E3e,this.helpers=Ax({},k3e),this.options={},this.configure(t),e&&this.set(e)}o(Fs,"MarkdownIt");Fs.prototype.set=function(t){return Ax(this.options,t),this};Fs.prototype.configure=function(t){const e=this;if(nO(t)){const n=t;if(t=mOe[n],!t)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(n){t.components[n].rules&&e[n].ruler.enableOnly(t.components[n].rules),t.components[n].rules2&&e[n].ruler2.enableOnly(t.components[n].rules2)}),this};Fs.prototype.enable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(i){n=n.concat(this[i].ruler.enable(t,!0))},this),n=n.concat(this.inline.ruler2.enable(t,!0));const r=t.filter(function(i){return n.indexOf(i)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this};Fs.prototype.disable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(i){n=n.concat(this[i].ruler.disable(t,!0))},this),n=n.concat(this.inline.ruler2.disable(t,!0));const r=t.filter(function(i){return n.indexOf(i)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this};Fs.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};Fs.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");const n=new this.core.State(t,this,e);return this.core.process(n),n.tokens};Fs.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};Fs.prototype.parseInline=function(t,e){const n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens};Fs.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};const vOe=new qSe({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM(){return["p",0]}},blockquote:{content:"block+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM(){return["blockquote",0]}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM(){return["div",["hr"]]}},heading:{attrs:{level:{default:1}},content:"(text | image)*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM(t){return["h"+t.attrs.level,0]}},code_block:{content:"text*",group:"block",code:!0,defining:!0,marks:"",attrs:{params:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:o(t=>({params:t.getAttribute("data-params")||""}),"getAttrs")}],toDOM(t){return["pre",t.attrs.params?{"data-params":t.attrs.params}:{},["code",0]]}},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs(t){return{order:t.hasAttribute("start")?+t.getAttribute("start"):1,tight:t.hasAttribute("data-tight")}}}],toDOM(t){return["ol",{start:t.attrs.order==1?null:t.attrs.order,"data-tight":t.attrs.tight?"true":null},0]}},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:o(t=>({tight:t.hasAttribute("data-tight")}),"getAttrs")}],toDOM(t){return["ul",{"data-tight":t.attrs.tight?"true":null},0]}},list_item:{content:"block+",defining:!0,parseDOM:[{tag:"li"}],toDOM(){return["li",0]}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs(t){return{src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt")}}}],toDOM(t){return["img",t.attrs]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return["br"]}}},marks:{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:o(t=>t.type.name=="em","clearMark")}],toDOM(){return["em"]}},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:o(t=>t.style.fontWeight!="normal"&&null,"getAttrs")},{style:"font-weight=400",clearMark:o(t=>t.type.name=="strong","clearMark")},{style:"font-weight",getAttrs:o(t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null,"getAttrs")}],toDOM(){return["strong"]}},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(t){return{href:t.getAttribute("href"),title:t.getAttribute("title")}}}],toDOM(t){return["a",t.attrs]}},code:{parseDOM:[{tag:"code"}],toDOM(){return["code"]}}}});function EOe(t,e){if(t.isText&&e.isText&&Et.sameSet(t.marks,e.marks))return t.withText(t.text+e.text)}o(EOe,"maybeMerge");class xOe{static{o(this,"MarkdownParseState")}constructor(e,n){this.schema=e,this.tokenHandlers=n,this.stack=[{type:e.topNodeType,attrs:null,content:[],marks:Et.none}]}top(){return this.stack[this.stack.length-1]}push(e){this.stack.length&&this.top().content.push(e)}addText(e){if(!e)return;let n=this.top(),r=n.content,i=r[r.length-1],s=this.schema.text(e,n.marks),a;i&&(a=EOe(i,s))?r[r.length-1]=a:r.push(s)}openMark(e){let n=this.top();n.marks=e.addToSet(n.marks)}closeMark(e){let n=this.top();n.marks=e.removeFromSet(n.marks)}parseTokens(e){for(let n=0;n<e.length;n++){let r=e[n],i=this.tokenHandlers[r.type];if(!i)throw new Error("Token type `"+r.type+"` not supported by Markdown parser");i(this,r,e,n)}}addNode(e,n,r){let i=this.top(),s=e.createAndFill(n,r,i?i.marks:[]);return s?(this.push(s),s):null}openNode(e,n){this.stack.push({type:e,attrs:n,content:[],marks:Et.none})}closeNode(){let e=this.stack.pop();return this.addNode(e.type,e.attrs,e.content)}}function $m(t,e,n,r){return t.getAttrs?t.getAttrs(e,n,r):t.attrs instanceof Function?t.attrs(e):t.attrs}o($m,"attrs");function qT(t,e){return t.noCloseToken||e=="code_inline"||e=="code_block"||e=="fence"}o(qT,"noCloseToken");function O6(t){return t[t.length-1]==`
`?t.slice(0,t.length-1):t}o(O6,"withoutTrailingNewline");function KT(){}o(KT,"noOp");function TOe(t,e){let n=Object.create(null);for(let r in e){let i=e[r];if(i.block){let s=t.nodeType(i.block);qT(i,r)?n[r]=(a,l,u,c)=>{a.openNode(s,$m(i,l,u,c)),a.addText(O6(l.content)),a.closeNode()}:(n[r+"_open"]=(a,l,u,c)=>a.openNode(s,$m(i,l,u,c)),n[r+"_close"]=a=>a.closeNode())}else if(i.node){let s=t.nodeType(i.node);n[r]=(a,l,u,c)=>a.addNode(s,$m(i,l,u,c))}else if(i.mark){let s=t.marks[i.mark];qT(i,r)?n[r]=(a,l,u,c)=>{a.openMark(s.create($m(i,l,u,c))),a.addText(O6(l.content)),a.closeMark(s)}:(n[r+"_open"]=(a,l,u,c)=>a.openMark(s.create($m(i,l,u,c))),n[r+"_close"]=a=>a.closeMark(s))}else if(i.ignore)qT(i,r)?n[r]=KT:(n[r+"_open"]=KT,n[r+"_close"]=KT);else throw new RangeError("Unrecognized parsing spec "+JSON.stringify(i))}return n.text=(r,i)=>r.addText(i.content),n.inline=(r,i)=>r.parseTokens(i.children),n.softbreak=n.softbreak||(r=>r.addText(" ")),n}o(TOe,"tokenHandlers");class SOe{static{o(this,"MarkdownParser")}constructor(e,n,r){this.schema=e,this.tokenizer=n,this.tokens=r,this.tokenHandlers=TOe(e,r)}parse(e,n={}){let r=new xOe(this.schema,this.tokenHandlers),i;r.parseTokens(this.tokenizer.parse(e,n));do i=r.closeNode();while(r.stack.length);return i||this.schema.topNodeType.createAndFill()}}function N6(t,e){for(;++e<t.length;)if(t[e].type!="list_item_open")return t[e].hidden;return!1}o(N6,"listIsTight");new SOe(vOe,Fs("commonmark",{html:!1}),{blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list",getAttrs:o((t,e,n)=>({tight:N6(e,n)}),"getAttrs")},ordered_list:{block:"ordered_list",getAttrs:o((t,e,n)=>({order:+t.attrGet("start")||1,tight:N6(e,n)}),"getAttrs")},heading:{block:"heading",getAttrs:o(t=>({level:+t.tag.slice(1)}),"getAttrs")},code_block:{block:"code_block",noCloseToken:!0},fence:{block:"code_block",getAttrs:o(t=>({params:t.info||""}),"getAttrs"),noCloseToken:!0},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:o(t=>({src:t.attrGet("src"),title:t.attrGet("title")||null,alt:t.children[0]&&t.children[0].content||null}),"getAttrs")},hardbreak:{node:"hard_break"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",getAttrs:o(t=>({href:t.attrGet("href"),title:t.attrGet("title")||null}),"getAttrs")},code_inline:{mark:"code",noCloseToken:!0}});const kOe={open:"",close:"",mixable:!0};class AOe{static{o(this,"MarkdownSerializer")}constructor(e,n,r={}){this.nodes=e,this.marks=n,this.options=r}serialize(e,n={}){n=Object.assign({},this.options,n);let r=new IOe(this.nodes,this.marks,n);return r.renderContent(e),r.out}}const h7e=new AOe({blockquote(t,e){t.wrapBlock("> ",null,e,()=>t.renderContent(e))},code_block(t,e){const n=e.textContent.match(/`{3,}/gm),r=n?n.sort().slice(-1)[0]+"`":"```";t.write(r+(e.attrs.params||"")+`
`),t.text(e.textContent,!1),t.write(`
`),t.write(r),t.closeBlock(e)},heading(t,e){t.write(t.repeat("#",e.attrs.level)+" "),t.renderInline(e,!1),t.closeBlock(e)},horizontal_rule(t,e){t.write(e.attrs.markup||"---"),t.closeBlock(e)},bullet_list(t,e){t.renderList(e,"  ",()=>(e.attrs.bullet||"*")+" ")},ordered_list(t,e){let n=e.attrs.order||1,r=String(n+e.childCount-1).length,i=t.repeat(" ",r+2);t.renderList(e,i,s=>{let a=String(n+s);return t.repeat(" ",r-a.length)+a+". "})},list_item(t,e){t.renderContent(e)},paragraph(t,e){t.renderInline(e),t.closeBlock(e)},image(t,e){t.write("!["+t.esc(e.attrs.alt||"")+"]("+e.attrs.src.replace(/[\(\)]/g,"\\$&")+(e.attrs.title?' "'+e.attrs.title.replace(/"/g,'\\"')+'"':"")+")")},hard_break(t,e,n,r){for(let i=r+1;i<n.childCount;i++)if(n.child(i).type!=e.type){t.write(`\\
`);return}},text(t,e){t.text(e.text,!t.inAutolink)}},{em:{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0},link:{open(t,e,n,r){return t.inAutolink=COe(e,n,r),t.inAutolink?"<":"["},close(t,e,n,r){let{inAutolink:i}=t;return t.inAutolink=void 0,i?">":"]("+e.attrs.href.replace(/[\(\)"]/g,"\\$&")+(e.attrs.title?` "${e.attrs.title.replace(/"/g,'\\"')}"`:"")+")"},mixable:!0},code:{open(t,e,n,r){return M6(n.child(r),-1)},close(t,e,n,r){return M6(n.child(r-1),1)},escape:!1}});function M6(t,e){let n=/`+/g,r,i=0;if(t.isText)for(;r=n.exec(t.text);)i=Math.max(i,r[0].length);let s=i>0&&e>0?" `":"`";for(let a=0;a<i;a++)s+="`";return i>0&&e<0&&(s+=" "),s}o(M6,"backticksFor");function COe(t,e,n){if(t.attrs.title||!/^\w+:/.test(t.attrs.href))return!1;let r=e.child(n);return!r.isText||r.text!=t.attrs.href||r.marks[r.marks.length-1]!=t?!1:n==e.childCount-1||!t.isInSet(e.child(n+1).marks)}o(COe,"isPlainURL");let IOe=class{static{o(this,"MarkdownSerializerState")}constructor(e,n,r){this.nodes=e,this.marks=n,this.options=r,this.delim="",this.out="",this.closed=null,this.inAutolink=void 0,this.atBlockStart=!1,this.inTightList=!1,typeof this.options.tightLists>"u"&&(this.options.tightLists=!1),typeof this.options.hardBreakNodeName>"u"&&(this.options.hardBreakNodeName="hard_break")}flushClose(e=2){if(this.closed){if(this.atBlank()||(this.out+=`
`),e>1){let n=this.delim,r=/\s+$/.exec(n);r&&(n=n.slice(0,n.length-r[0].length));for(let i=1;i<e;i++)this.out+=n+`
`}this.closed=null}}getMark(e){let n=this.marks[e];if(!n){if(this.options.strict!==!1)throw new Error(`Mark type \`${e}\` not supported by Markdown renderer`);n=kOe}return n}wrapBlock(e,n,r,i){let s=this.delim;this.write(n??e),this.delim+=e,i(),this.delim=s,this.closeBlock(r)}atBlank(){return/(^|\n)$/.test(this.out)}ensureNewLine(){this.atBlank()||(this.out+=`
`)}write(e){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),e&&(this.out+=e)}closeBlock(e){this.closed=e}text(e,n=!0){let r=e.split(`
`);for(let i=0;i<r.length;i++)this.write(),!n&&r[i][0]=="["&&/(^|[^\\])\!$/.test(this.out)&&(this.out=this.out.slice(0,this.out.length-1)+"\\!"),this.out+=n?this.esc(r[i],this.atBlockStart):r[i],i!=r.length-1&&(this.out+=`
`)}render(e,n,r){if(this.nodes[e.type.name])this.nodes[e.type.name](this,e,n,r);else{if(this.options.strict!==!1)throw new Error("Token type `"+e.type.name+"` not supported by Markdown renderer");e.type.isLeaf||(e.type.inlineContent?this.renderInline(e):this.renderContent(e),e.isBlock&&this.closeBlock(e))}}renderContent(e){e.forEach((n,r,i)=>this.render(n,e,i))}renderInline(e,n=!0){this.atBlockStart=n;let r=[],i="",s=o((a,l,u)=>{let c=a?a.marks:[];a&&a.type.name===this.options.hardBreakNodeName&&(c=c.filter(y=>{if(u+1==e.childCount)return!1;let _=e.child(u+1);return y.isInSet(_.marks)&&(!_.isText||/\S/.test(_.text))}));let f=i;if(i="",a&&a.isText&&c.some(y=>{let _=this.getMark(y.type.name);return _&&_.expelEnclosingWhitespace&&!y.isInSet(r)})){let[y,_,b]=/^(\s*)(.*)$/m.exec(a.text);_&&(f+=_,a=b?a.withText(b):null,a||(c=r))}if(a&&a.isText&&c.some(y=>{let _=this.getMark(y.type.name);return _&&_.expelEnclosingWhitespace&&(u==e.childCount-1||!y.isInSet(e.child(u+1).marks))})){let[y,_,b]=/^(.*?)(\s*)$/m.exec(a.text);b&&(i=b,a=_?a.withText(_):null,a||(c=r))}let h=c.length?c[c.length-1]:null,d=h&&this.getMark(h.type.name).escape===!1,p=c.length-(d?1:0);e:for(let y=0;y<p;y++){let _=c[y];if(!this.getMark(_.type.name).mixable)break;for(let b=0;b<r.length;b++){let S=r[b];if(!this.getMark(S.type.name).mixable)break;if(_.eq(S)){y>b?c=c.slice(0,b).concat(_).concat(c.slice(b,y)).concat(c.slice(y+1,p)):b>y&&(c=c.slice(0,y).concat(c.slice(y+1,b)).concat(_).concat(c.slice(b,p)));continue e}}}let m=0;for(;m<Math.min(r.length,p)&&c[m].eq(r[m]);)++m;for(;m<r.length;)this.text(this.markString(r.pop(),!1,e,u),!1);if(f&&this.text(f),a){for(;r.length<p;){let y=c[r.length];r.push(y),this.text(this.markString(y,!0,e,u),!1),this.atBlockStart=!1}d&&a.isText?this.text(this.markString(h,!0,e,u)+a.text+this.markString(h,!1,e,u+1),!1):this.render(a,e,u),this.atBlockStart=!1}a?.isText&&a.nodeSize>0&&(this.atBlockStart=!1)},"progress");e.forEach(s),s(null,0,e.childCount),this.atBlockStart=!1}renderList(e,n,r){this.closed&&this.closed.type==e.type?this.flushClose(3):this.inTightList&&this.flushClose(1);let i=typeof e.attrs.tight<"u"?e.attrs.tight:this.options.tightLists,s=this.inTightList;this.inTightList=i,e.forEach((a,l,u)=>{u&&i&&this.flushClose(1),this.wrapBlock(n,r(u),e,()=>this.render(a,e,u))}),this.inTightList=s}esc(e,n=!1){return e=e.replace(/[`*\\~\[\]_]/g,(r,i)=>r=="_"&&i>0&&i+1<e.length&&e[i-1].match(/\w/)&&e[i+1].match(/\w/)?r:"\\"+r),n&&(e=e.replace(/^(\+[ ]|[\-*>])/,"\\$&").replace(/^(\s*)(#{1,6})(\s|$)/,"$1\\$2$3").replace(/^(\s*\d+)\.\s/,"$1\\. ")),this.options.escapeExtraCharacters&&(e=e.replace(this.options.escapeExtraCharacters,"\\$&")),e}quote(e){let n=e.indexOf('"')==-1?'""':e.indexOf("'")==-1?"''":"()";return n[0]+e+n[1]}repeat(e,n){let r="";for(let i=0;i<n;i++)r+=e;return r}markString(e,n,r,i){let s=this.getMark(e.type.name),a=n?s.open:s.close;return typeof a=="string"?a:a(this,e,r,i)}getEnclosingWhitespace(e){return{leading:(e.match(/^(\s+)/)||[void 0])[0],trailing:(e.match(/(\s+)$/)||[void 0])[0]}}};var GA=!0,LH=!1,FH=!1,ROe=o(function(t,e){e&&(GA=!e.enabled,LH=!!e.label,FH=!!e.labelAfter),t.core.ruler.after("inline","github-task-lists",function(n){for(var r=n.tokens,i=2;i<r.length;i++)NOe(r,i)&&(MOe(r[i],n.Token),D6(r[i-2],"class","task-list-item"+(GA?"":" enabled")),D6(r[OOe(r,i-2)],"class","contains-task-list"))})},"markdownItTaskLists");function D6(t,e,n){var r=t.attrIndex(e),i=[e,n];r<0?t.attrPush(i):t.attrs[r]=i}o(D6,"attrSet");function OOe(t,e){for(var n=t[e].level-1,r=e-1;r>=0;r--)if(t[r].level===n)return r;return-1}o(OOe,"parentToken");function NOe(t,e){return FOe(t[e])&&BOe(t[e-1])&&UOe(t[e-2])&&zOe(t[e])}o(NOe,"isTodoItem");function MOe(t,e){if(t.children.unshift(DOe(t,e)),t.children[1].content=t.children[1].content.slice(3),t.content=t.content.slice(3),LH)if(FH){t.children.pop();var n="task-item-"+Math.ceil(Math.random()*(1e4*1e3)-1e3);t.children[0].content=t.children[0].content.slice(0,-1)+' id="'+n+'">',t.children.push(LOe(t.content,n,e))}else t.children.unshift(POe(e)),t.children.push($Oe(e))}o(MOe,"todoify");function DOe(t,e){var n=new e("html_inline","",0),r=GA?' disabled="" ':"";return t.content.indexOf("[ ] ")===0?n.content='<input class="task-list-item-checkbox"'+r+'type="checkbox">':(t.content.indexOf("[x] ")===0||t.content.indexOf("[X] ")===0)&&(n.content='<input class="task-list-item-checkbox" checked=""'+r+'type="checkbox">'),n}o(DOe,"makeCheckbox");function POe(t){var e=new t("html_inline","",0);return e.content="<label>",e}o(POe,"beginLabel");function $Oe(t){var e=new t("html_inline","",0);return e.content="</label>",e}o($Oe,"endLabel");function LOe(t,e,n){var r=new n("html_inline","",0);return r.content='<label class="task-list-item-label" for="'+e+'">'+t+"</label>",r.attrs=[{for:e}],r}o(LOe,"afterLabel");function FOe(t){return t.type==="inline"}o(FOe,"isInline");function BOe(t){return t.type==="paragraph_open"}o(BOe,"isParagraph");function UOe(t){return t.type==="list_item_open"}o(UOe,"isListItem");function zOe(t){return t.content.indexOf("[ ] ")===0||t.content.indexOf("[x] ")===0||t.content.indexOf("[X] ")===0}o(zOe,"startsWithTodoMarkdown");const p7e=q3(ROe);function VOe(t){if(Array.isArray(t))return t}o(VOe,"_arrayWithHoles");function jOe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],u=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(u=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}o(jOe,"_iterableToArrayLimit");function qA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}o(qA,"_arrayLikeToArray$2");function BH(t,e){if(t){if(typeof t=="string")return qA(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qA(t,e):void 0}}o(BH,"_unsupportedIterableToArray$2");function WOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}o(WOe,"_nonIterableRest");function UH(t,e){return VOe(t)||jOe(t,e)||BH(t,e)||WOe()}o(UH,"_slicedToArray");var jf={},t1={};Object.defineProperty(t1,"__esModule",{value:!0});t1.bind=void 0;function HOe(t,e){var n=e.type,r=e.listener,i=e.options;return t.addEventListener(n,r,i),o(function(){t.removeEventListener(n,r,i)},"unbind")}o(HOe,"bind");t1.bind=HOe;var Ox={},hd=Bk&&Bk.__assign||function(){return hd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},hd.apply(this,arguments)};Object.defineProperty(Ox,"__esModule",{value:!0});Ox.bindAll=void 0;var GOe=t1;function P6(t){if(!(typeof t>"u"))return typeof t=="boolean"?{capture:t}:t}o(P6,"toOptions");function qOe(t,e){if(e==null)return t;var n=hd(hd({},t),{options:hd(hd({},P6(e)),P6(t.options))});return n}o(qOe,"getBinding");function KOe(t,e,n){var r=e.map(function(i){var s=qOe(i,n);return(0,GOe.bind)(t,s)});return o(function(){r.forEach(function(s){return s()})},"unbindAll")}o(KOe,"bindAll");Ox.bindAll=KOe;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.bindAll=t.bind=void 0;var e=t1;Object.defineProperty(t,"bind",{enumerable:!0,get:o(function(){return e.bind},"get")});var n=Ox;Object.defineProperty(t,"bindAll",{enumerable:!0,get:o(function(){return n.bindAll},"get")})})(jf);var zH="data-pdnd-honey-pot";function VH(t){return t instanceof Element&&t.hasAttribute(zH)}o(VH,"isHoneyPotElement");function jH(t){var e=document.elementsFromPoint(t.x,t.y),n=UH(e,2),r=n[0],i=n[1];return r?VH(r)?i??null:r:null}o(jH,"getElementFromPointWithoutHoneypot");function Q0(t){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q0(t)}o(Q0,"_typeof");function YOe(t,e){if(Q0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Q0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}o(YOe,"toPrimitive");function XOe(t){var e=YOe(t,"string");return Q0(e)=="symbol"?e:e+""}o(XOe,"toPropertyKey");function aO(t,e,n){return(e=XOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}o(aO,"_defineProperty");var WH=2147483647;function $6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}o($6,"ownKeys$2");function L6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$6(Object(n),!0).forEach(function(r){aO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}o(L6,"_objectSpread$2");var ey=2,F6=ey/2;function JOe(t){return{x:Math.floor(t.x),y:Math.floor(t.y)}}o(JOe,"floorToClosestPixel");function ZOe(t){return{x:t.x-F6,y:t.y-F6}}o(ZOe,"pullBackByHalfHoneyPotSize");function QOe(t){return{x:Math.max(t.x,0),y:Math.max(t.y,0)}}o(QOe,"preventGoingBackwardsOffScreen");function eNe(t){return{x:Math.min(t.x,window.innerWidth-ey),y:Math.min(t.y,window.innerHeight-ey)}}o(eNe,"preventGoingForwardsOffScreen");function B6(t){var e=t.client,n=eNe(QOe(ZOe(JOe(e))));return DOMRect.fromRect({x:n.x,y:n.y,width:ey,height:ey})}o(B6,"getHoneyPotRectFor");function U6(t){var e=t.clientRect;return{left:"".concat(e.left,"px"),top:"".concat(e.top,"px"),width:"".concat(e.width,"px"),height:"".concat(e.height,"px")}}o(U6,"getRectStyles");function tNe(t){var e=t.client,n=t.clientRect;return e.x>=n.x&&e.x<=n.x+n.width&&e.y>=n.y&&e.y<=n.y+n.height}o(tNe,"isWithin");function nNe(t){var e=t.initial,n=document.createElement("div");n.setAttribute(zH,"true");var r=B6({client:e});Object.assign(n.style,L6(L6({backgroundColor:"transparent",position:"fixed",padding:0,margin:0,boxSizing:"border-box"},U6({clientRect:r})),{},{pointerEvents:"auto",zIndex:WH})),document.body.appendChild(n);var i=jf.bind(window,{type:"pointermove",listener:o(function(a){var l={x:a.clientX,y:a.clientY};r=B6({client:l}),Object.assign(n.style,U6({clientRect:r}))},"listener"),options:{capture:!0}});return o(function(a){var l=a.current;if(i(),tNe({client:l,clientRect:r})){n.remove();return}function u(){c(),n.remove()}o(u,"cleanup");var c=jf.bindAll(window,[{type:"pointerdown",listener:u},{type:"pointermove",listener:u},{type:"focusin",listener:u},{type:"focusout",listener:u},{type:"dragstart",listener:u},{type:"dragenter",listener:u},{type:"dragover",listener:u}],{capture:!0})},"finish")}o(nNe,"mountHoneyPot");function rNe(){var t=null;function e(){return t=null,jf.bind(window,{type:"pointermove",listener:o(function(i){t={x:i.clientX,y:i.clientY}},"listener"),options:{capture:!0}})}o(e,"bindEvents");function n(){var r=null;return o(function(s){var a=s.eventName,l=s.payload;if(a==="onDragStart"){var u,c=l.location.initial.input,f=(u=t)!==null&&u!==void 0?u:{x:c.clientX,y:c.clientY};r=nNe({initial:f})}if(a==="onDrop"){var h,d=l.location.current.input;(h=r)===null||h===void 0||h({current:{x:d.clientX,y:d.clientY}}),r=null,t=null}},"onPostEvent")}return o(n,"getOnPostDispatch"),{bindEvents:e,getOnPostDispatch:n}}o(rNe,"makeHoneyPotFix");function iNe(t){if(Array.isArray(t))return qA(t)}o(iNe,"_arrayWithoutHoles");function sNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}o(sNe,"_iterableToArray");function oNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}o(oNe,"_nonIterableSpread");function HH(t){return iNe(t)||sNe(t)||BH(t)||oNe()}o(HH,"_toConsumableArray");function lO(t){var e=null;return o(function(){if(!e){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=t.apply(this,i);e={result:a}}return e.result},"wrapped")}o(lO,"once");var aNe=lO(o(function(){return navigator.userAgent.includes("Firefox")},"isFirefox2")),Nx=lO(o(function(){var e=navigator,n=e.userAgent;return n.includes("AppleWebKit")&&!n.includes("Chrome")},"isSafari2")),KA={isLeavingWindow:Symbol("leaving"),isEnteringWindow:Symbol("entering")};function lNe(t){var e=t.dragLeave;return Nx()?e.hasOwnProperty(KA.isLeavingWindow):!1}o(lNe,"isLeavingWindowInSafari");o(function(){if(typeof window>"u"||!Nx())return;function e(){return{enterCount:0,isOverWindow:!1}}o(e,"getInitialState");var n=e();function r(){n=e()}o(r,"resetState"),jf.bindAll(window,[{type:"dragstart",listener:o(function(){n.enterCount=0,n.isOverWindow=!0},"listener")},{type:"drop",listener:r},{type:"dragend",listener:r},{type:"dragenter",listener:o(function(s){!n.isOverWindow&&n.enterCount===0&&(s[KA.isEnteringWindow]=!0),n.isOverWindow=!0,n.enterCount++},"listener")},{type:"dragleave",listener:o(function(s){n.enterCount--,n.isOverWindow&&n.enterCount===0&&(s[KA.isLeavingWindow]=!0,n.isOverWindow=!1)},"listener")}],{capture:!0})},"fixSafari")();function uNe(t){return"nodeName"in t}o(uNe,"isNodeLike");function cNe(t){return uNe(t)&&t.ownerDocument!==document}o(cNe,"isFromAnotherWindow");function fNe(t){var e=t.dragLeave,n=e.type,r=e.relatedTarget;return n!=="dragleave"?!1:Nx()?lNe({dragLeave:e}):r==null?!0:aNe()?cNe(r):r instanceof HTMLIFrameElement}o(fNe,"isLeavingWindow");function hNe(t){var e=t.onDragEnd;return[{type:"pointermove",listener:function(){var n=0;return o(function(){if(n<20){n++;return}e()},"listener")}()},{type:"pointerdown",listener:e}]}o(hNe,"getBindingsForBrokenDrags");function Vg(t){return{altKey:t.altKey,button:t.button,buttons:t.buttons,ctrlKey:t.ctrlKey,metaKey:t.metaKey,shiftKey:t.shiftKey,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}o(Vg,"getInput");var dNe=o(function(e){var n=[],r=null,i=o(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];n=l,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))},"wrapperFn");return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i},"rafSchd"),YT=dNe(function(t){return t()}),R_=function(){var t=null;function e(r){var i=requestAnimationFrame(function(){t=null,r()});t={frameId:i,fn:r}}o(e,"schedule");function n(){t&&(cancelAnimationFrame(t.frameId),t.fn(),t=null)}return o(n,"flush"),{schedule:e,flush:n}}();function pNe(t){var e=t.source,n=t.initial,r=t.dispatchEvent,i={dropTargets:[]};function s(l){r(l),i={dropTargets:l.payload.location.current.dropTargets}}o(s,"safeDispatch");var a={start:o(function(u){var c=u.nativeSetDragImage,f={current:n,previous:i,initial:n};s({eventName:"onGenerateDragPreview",payload:{source:e,location:f,nativeSetDragImage:c}}),R_.schedule(function(){s({eventName:"onDragStart",payload:{source:e,location:f}})})},"start"),dragUpdate:o(function(u){var c=u.current;R_.flush(),YT.cancel(),s({eventName:"onDropTargetChange",payload:{source:e,location:{initial:n,previous:i,current:c}}})},"dragUpdate"),drag:o(function(u){var c=u.current;YT(function(){R_.flush();var f={initial:n,previous:i,current:c};s({eventName:"onDrag",payload:{source:e,location:f}})})},"drag"),drop:o(function(u){var c=u.current,f=u.updatedSourcePayload;R_.flush(),YT.cancel(),s({eventName:"onDrop",payload:{source:f??e,location:{current:c,previous:i,initial:n}}})},"drop")};return a}o(pNe,"makeDispatch");var YA={isActive:!1};function GH(){return!YA.isActive}o(GH,"canStart");function mNe(t){return t.dataTransfer?t.dataTransfer.setDragImage.bind(t.dataTransfer):null}o(mNe,"getNativeSetDragImage");function gNe(t){var e=t.current,n=t.next;if(e.length!==n.length)return!0;for(var r=0;r<e.length;r++)if(e[r].element!==n[r].element)return!0;return!1}o(gNe,"hasHierarchyChanged");function yNe(t){var e=t.event,n=t.dragType,r=t.getDropTargetsOver,i=t.dispatchEvent;if(!GH())return;var s=_Ne({event:e,dragType:n,getDropTargetsOver:r});YA.isActive=!0;var a={current:s};XT({event:e,current:s.dropTargets});var l=pNe({source:n.payload,dispatchEvent:i,initial:s});function u(p){var m=gNe({current:a.current.dropTargets,next:p.dropTargets});a.current=p,m&&l.dragUpdate({current:a.current})}o(u,"updateState");function c(p){var m=Vg(p),y=VH(p.target)?jH({x:m.clientX,y:m.clientY}):p.target,_=r({target:y,input:m,source:n.payload,current:a.current.dropTargets});_.length&&(p.preventDefault(),XT({event:p,current:_})),u({dropTargets:_,input:m})}o(c,"onUpdateEvent");function f(){a.current.dropTargets.length&&u({dropTargets:[],input:a.current.input}),l.drop({current:a.current,updatedSourcePayload:null}),h()}o(f,"cancel");function h(){YA.isActive=!1,d()}o(h,"finish");var d=jf.bindAll(window,[{type:"dragover",listener:o(function(m){c(m),l.drag({current:a.current})},"listener")},{type:"dragenter",listener:c},{type:"dragleave",listener:o(function(m){fNe({dragLeave:m})&&(u({input:a.current.input,dropTargets:[]}),n.startedFrom==="external"&&f())},"listener")},{type:"drop",listener:o(function(m){if(a.current={dropTargets:a.current.dropTargets,input:Vg(m)},!a.current.dropTargets.length){f();return}m.preventDefault(),XT({event:m,current:a.current.dropTargets}),l.drop({current:a.current,updatedSourcePayload:n.type==="external"?n.getDropPayload(m):null}),h()},"listener")},{type:"dragend",listener:o(function(m){a.current={dropTargets:a.current.dropTargets,input:Vg(m)},f()},"listener")}].concat(HH(hNe({onDragEnd:f}))),{capture:!0});l.start({nativeSetDragImage:mNe(e)})}o(yNe,"start");function XT(t){var e,n=t.event,r=t.current,i=(e=r[0])===null||e===void 0?void 0:e.dropEffect;i!=null&&n.dataTransfer&&(n.dataTransfer.dropEffect=i)}o(XT,"setDropEffectOnEvent");function _Ne(t){var e=t.event,n=t.dragType,r=t.getDropTargetsOver,i=Vg(e);if(n.startedFrom==="external")return{input:i,dropTargets:[]};var s=r({input:i,source:n.payload,target:e.target,current:[]});return{input:i,dropTargets:s}}o(_Ne,"getStartLocation");var z6={canStart:GH,start:yNe},XA=new Map;function bNe(t){var e=t.typeKey,n=t.mount,r=XA.get(e);if(r)return r.usageCount++,r;var i={typeKey:e,unmount:n(),usageCount:1};return XA.set(e,i),i}o(bNe,"registerUsage");function wNe(t){var e=bNe(t);return o(function(){e.usageCount--,!(e.usageCount>0)&&(e.unmount(),XA.delete(t.typeKey))},"unregister")}o(wNe,"register$2");function uO(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return o(function(){e.forEach(function(i){return i()})},"cleanup")}o(uO,"combine");function qH(t,e){var n=e.attribute,r=e.value;return t.setAttribute(n,r),function(){return t.removeAttribute(n)}}o(qH,"addAttribute");function V6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}o(V6,"ownKeys$1");function Zl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V6(Object(n),!0).forEach(function(r){aO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}o(Zl,"_objectSpread$1");function JT(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=vNe(t))||e){n&&(t=n);var r=0,i=o(function(){},"F2");return{s:i,n:o(function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},"n"),e:o(function(c){throw c},"e2"),f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,a=!0,l=!1;return{s:o(function(){n=n.call(t)},"s"),n:o(function(){var c=n.next();return a=c.done,c},"n"),e:o(function(c){l=!0,s=c},"e2"),f:o(function(){try{a||n.return==null||n.return()}finally{if(l)throw s}},"f")}}o(JT,"_createForOfIteratorHelper$1");function vNe(t,e){if(t){if(typeof t=="string")return j6(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j6(t,e):void 0}}o(vNe,"_unsupportedIterableToArray$1");function j6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}o(j6,"_arrayLikeToArray$1");function ZT(t){return t.slice(0).reverse()}o(ZT,"copyReverse");function ENe(t){var e=t.typeKey,n=t.defaultDropEffect,r=new WeakMap,i="data-drop-target-for-".concat(e),s="[".concat(i,"]");function a(p){return r.set(p.element,p),function(){return r.delete(p.element)}}o(a,"addToRegistry");function l(p){return uO(qH(p.element,{attribute:i,value:"true"}),a(p))}o(l,"dropTargetForConsumers");function u(p){var m,y,_,b,S=p.source,v=p.target,k=p.input,C=p.result,R=C===void 0?[]:C;if(v==null)return R;if(!(v instanceof Element))return v instanceof Node?u({source:S,target:v.parentElement,input:k,result:R}):R;var x=v.closest(s);if(x==null)return R;var E=r.get(x);if(E==null)return R;var T={input:k,source:S,element:E.element};if(E.canDrop&&!E.canDrop(T))return u({source:S,target:E.element.parentElement,input:k,result:R});var O=(m=(y=E.getData)===null||y===void 0?void 0:y.call(E,T))!==null&&m!==void 0?m:{},N=(_=(b=E.getDropEffect)===null||b===void 0?void 0:b.call(E,T))!==null&&_!==void 0?_:n,I={data:O,element:E.element,dropEffect:N,isActiveDueToStickiness:!1};return u({source:S,target:E.element.parentElement,input:k,result:[].concat(HH(R),[I])})}o(u,"getActualDropTargets");function c(p){var m=p.eventName,y=p.payload,_=JT(y.location.current.dropTargets),b;try{for(_.s();!(b=_.n()).done;){var S,v=b.value,k=r.get(v.element),C=Zl(Zl({},y),{},{self:v});k==null||(S=k[m])===null||S===void 0||S.call(k,C)}}catch(R){_.e(R)}finally{_.f()}}o(c,"notifyCurrent");var f={onGenerateDragPreview:c,onDrag:c,onDragStart:c,onDrop:c,onDropTargetChange:o(function(m){var y=m.payload,_=new Set(y.location.current.dropTargets.map(function(q){return q.element})),b=new Set,S=JT(y.location.previous.dropTargets),v;try{for(S.s();!(v=S.n()).done;){var k,C=v.value;b.add(C.element);var R=r.get(C.element),x=_.has(C.element),E=Zl(Zl({},y),{},{self:C});if(R==null||(k=R.onDropTargetChange)===null||k===void 0||k.call(R,E),!x){var T;R==null||(T=R.onDragLeave)===null||T===void 0||T.call(R,E)}}}catch(q){S.e(q)}finally{S.f()}var O=JT(y.location.current.dropTargets),N;try{for(O.s();!(N=O.n()).done;){var I,M,V=N.value;if(!b.has(V.element)){var j=Zl(Zl({},y),{},{self:V}),H=r.get(V.element);H==null||(I=H.onDropTargetChange)===null||I===void 0||I.call(H,j),H==null||(M=H.onDragEnter)===null||M===void 0||M.call(H,j)}}}catch(q){O.e(q)}finally{O.f()}},"onDropTargetChange")};function h(p){f[p.eventName](p)}o(h,"dispatchEvent");function d(p){var m=p.source,y=p.target,_=p.input,b=p.current,S=u({source:m,target:y,input:_});if(S.length>=b.length)return S;for(var v=ZT(b),k=ZT(S),C=[],R=0;R<v.length;R++){var x,E=v[R],T=k[R];if(T!=null){C.push(T);continue}var O=C[R-1],N=v[R-1];if(O?.element!==N?.element)break;var I=r.get(E.element);if(!I)break;var M={input:_,source:m,element:I.element};if(I.canDrop&&!I.canDrop(M)||!((x=I.getIsSticky)!==null&&x!==void 0&&x.call(I,M)))break;C.push(Zl(Zl({},E),{},{isActiveDueToStickiness:!0}))}return ZT(C)}return o(d,"getIsOver"),{dropTargetForConsumers:l,getIsOver:d,dispatchEvent:h}}o(ENe,"makeDropTarget");function xNe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=TNe(t))||e){n&&(t=n);var r=0,i=o(function(){},"F");return{s:i,n:o(function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},"n"),e:o(function(c){throw c},"e"),f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,a=!0,l=!1;return{s:o(function(){n=n.call(t)},"s"),n:o(function(){var c=n.next();return a=c.done,c},"n"),e:o(function(c){l=!0,s=c},"e"),f:o(function(){try{a||n.return==null||n.return()}finally{if(l)throw s}},"f")}}o(xNe,"_createForOfIteratorHelper");function TNe(t,e){if(t){if(typeof t=="string")return W6(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W6(t,e):void 0}}o(TNe,"_unsupportedIterableToArray");function W6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}o(W6,"_arrayLikeToArray");function H6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}o(H6,"ownKeys");function SNe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H6(Object(n),!0).forEach(function(r){aO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}o(SNe,"_objectSpread");function kNe(){var t=new Set,e=null;function n(s){e&&(!s.canMonitor||s.canMonitor(e.canMonitorArgs))&&e.active.add(s)}o(n,"tryAddToActive");function r(s){var a=SNe({},s);return t.add(a),n(a),o(function(){t.delete(a),e&&e.active.delete(a)},"cleanup")}o(r,"monitorForConsumers");function i(s){var a=s.eventName,l=s.payload;if(a==="onGenerateDragPreview"){e={canMonitorArgs:{initial:l.location.initial,source:l.source},active:new Set};var u=xNe(t),c;try{for(u.s();!(c=u.n()).done;){var f=c.value;n(f)}}catch(_){u.e(_)}finally{u.f()}}if(e){for(var h=Array.from(e.active),d=0,p=h;d<p.length;d++){var m=p[d];if(e.active.has(m)){var y;(y=m[a])===null||y===void 0||y.call(m,l)}}a==="onDrop"&&(e.active.clear(),e=null)}}return o(i,"dispatchEvent"),{dispatchEvent:i,monitorForConsumers:r}}o(kNe,"makeMonitor");function ANe(t){var e=t.typeKey,n=t.mount,r=t.dispatchEventToSource,i=t.onPostDispatch,s=t.defaultDropEffect,a=kNe(),l=ENe({typeKey:e,defaultDropEffect:s});function u(h){r?.(h),l.dispatchEvent(h),a.dispatchEvent(h),i?.(h)}o(u,"dispatchEvent");function c(h){var d=h.event,p=h.dragType;z6.start({event:d,dragType:p,getDropTargetsOver:l.getIsOver,dispatchEvent:u})}o(c,"start");function f(){function h(){var d={canStart:z6.canStart,start:c};return n(d)}return o(h,"mountAdapter"),wNe({typeKey:e,mount:h})}return o(f,"registerUsage"),{registerUsage:f,dropTarget:l.dropTargetForConsumers,monitor:a.monitorForConsumers}}o(ANe,"makeAdapter");var CNe=lO(o(function(){return navigator.userAgent.toLocaleLowerCase().includes("android")},"isAndroid")),INe="pdnd:android-fallback",G6="text/plain",RNe="text/uri-list",ONe="application/vnd.pdnd",Ov=new WeakMap;function NNe(t){return Ov.set(t.element,t),o(function(){Ov.delete(t.element)},"cleanup")}o(NNe,"addToRegistry");var q6=rNe(),cO=ANe({typeKey:"element",defaultDropEffect:"move",mount:o(function(e){return uO(q6.bindEvents(),jf.bind(document,{type:"dragstart",listener:o(function(r){var i,s,a,l,u,c;if(e.canStart(r)&&!r.defaultPrevented&&r.dataTransfer){var f=r.target;if(!(f instanceof HTMLElement))return null;var h=Ov.get(f);if(!h)return null;var d=Vg(r),p={element:h.element,dragHandle:(i=h.dragHandle)!==null&&i!==void 0?i:null,input:d};if(h.canDrag&&!h.canDrag(p))return r.preventDefault(),null;if(h.dragHandle){var m=jH({x:d.clientX,y:d.clientY});if(!h.dragHandle.contains(m))return r.preventDefault(),null}var y=(s=(a=h.getInitialDataForExternal)===null||a===void 0?void 0:a.call(h,p))!==null&&s!==void 0?s:null;if(y)for(var _=0,b=Object.entries(y);_<b.length;_++){var S=UH(b[_],2),v=S[0],k=S[1];r.dataTransfer.setData(v,k??"")}CNe()&&!r.dataTransfer.types.includes(G6)&&!r.dataTransfer.types.includes(RNe)&&r.dataTransfer.setData(G6,INe),r.dataTransfer.setData(ONe,"");var C={element:h.element,dragHandle:(l=h.dragHandle)!==null&&l!==void 0?l:null,data:(u=(c=h.getInitialData)===null||c===void 0?void 0:c.call(h,p))!==null&&u!==void 0?u:{}},R={type:"element",payload:C,startedFrom:"internal"};e.start({event:r,dragType:R})}},"listener")}))},"mount"),dispatchEventToSource:o(function(e){var n,r,i=e.eventName,s=e.payload;(n=Ov.get(s.source.element))===null||n===void 0||(r=n[i])===null||r===void 0||r.call(n,s)},"dispatchEventToSource"),onPostDispatch:q6.getOnPostDispatch()}),m7e=cO.dropTarget,MNe=cO.monitor;function g7e(t){return uO(cO.registerUsage(),NNe(t),qH(t.element,{attribute:"draggable",value:"true"}))}o(g7e,"draggable");function DNe(){return{x:0,y:0}}o(DNe,"defaultOffset");function y7e(t){var e=t.render,n=t.nativeSetDragImage,r=t.getOffset,i=r===void 0?DNe:r,s=document.createElement("div");Object.assign(s.style,{position:"fixed",top:0,left:0,zIndex:WH,pointerEvents:"none"}),document.body.append(s);var a=e({container:s});queueMicrotask(function(){var c=i({container:s});if(Nx()){var f=s.getBoundingClientRect();if(f.width===0)return;s.style.left="-".concat(f.width-1e-4,"px")}n?.(s,c.x,c.y)});function l(){u(),a?.(),document.body.removeChild(s)}o(l,"cleanup");var u=MNe({onDragStart:l,onDrop:l})}o(y7e,"setCustomNativeDragPreview");var PNe=(t=>(t.PENDING="pending",t.IN_PROGRESS="in_progress",t.COMPLETED="completed",t.PAUSED="paused",t.ERROR="error",t.CANCELLED="cancelled",t))(PNe||{});/*! @license DOMPurify 3.2.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.5/LICENSE */const{entries:KH,setPrototypeOf:K6,isFrozen:$Ne,getPrototypeOf:LNe,getOwnPropertyDescriptor:FNe}=Object;let{freeze:Ei,seal:Bs,create:YH}=Object,{apply:JA,construct:ZA}=typeof Reflect<"u"&&Reflect;Ei||(Ei=o(function(e){return e},"freeze"));Bs||(Bs=o(function(e){return e},"seal"));JA||(JA=o(function(e,n,r){return e.apply(n,r)},"apply"));ZA||(ZA=o(function(e,n){return new e(...n)},"construct"));const O_=xi(Array.prototype.forEach),BNe=xi(Array.prototype.lastIndexOf),Y6=xi(Array.prototype.pop),Lm=xi(Array.prototype.push),UNe=xi(Array.prototype.splice),vb=xi(String.prototype.toLowerCase),QT=xi(String.prototype.toString),X6=xi(String.prototype.match),Fm=xi(String.prototype.replace),zNe=xi(String.prototype.indexOf),VNe=xi(String.prototype.trim),Gs=xi(Object.prototype.hasOwnProperty),Qr=xi(RegExp.prototype.test),Bm=jNe(TypeError);function xi(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return JA(t,e,r)}}o(xi,"unapply");function jNe(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return ZA(t,n)}}o(jNe,"unconstruct");function st(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:vb;K6&&K6(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const s=n(i);s!==i&&($Ne(e)||(e[r]=s),i=s)}t[i]=!0}return t}o(st,"addToSet");function WNe(t){for(let e=0;e<t.length;e++)Gs(t,e)||(t[e]=null);return t}o(WNe,"cleanArray");function $c(t){const e=YH(null);for(const[n,r]of KH(t))Gs(t,n)&&(Array.isArray(r)?e[n]=WNe(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=$c(r):e[n]=r);return e}o($c,"clone$2");function Um(t,e){for(;t!==null;){const r=FNe(t,e);if(r){if(r.get)return xi(r.get);if(typeof r.value=="function")return xi(r.value)}t=LNe(t)}function n(){return null}return o(n,"fallbackValue"),n}o(Um,"lookupGetter");const J6=Ei(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),eS=Ei(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),tS=Ei(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),HNe=Ei(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),nS=Ei(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),GNe=Ei(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Z6=Ei(["#text"]),Q6=Ei(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),rS=Ei(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),eF=Ei(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),N_=Ei(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),qNe=Bs(/\{\{[\w\W]*|[\w\W]*\}\}/gm),KNe=Bs(/<%[\w\W]*|[\w\W]*%>/gm),YNe=Bs(/\$\{[\w\W]*/gm),XNe=Bs(/^data-[\-\w.\u00B7-\uFFFF]+$/),JNe=Bs(/^aria-[\-\w]+$/),XH=Bs(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ZNe=Bs(/^(?:\w+script|data):/i),QNe=Bs(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),JH=Bs(/^html$/i),eMe=Bs(/^[a-z][.\w]*(-[.\w]+)+$/i);var tF=Object.freeze({__proto__:null,ARIA_ATTR:JNe,ATTR_WHITESPACE:QNe,CUSTOM_ELEMENT:eMe,DATA_ATTR:XNe,DOCTYPE_NAME:JH,ERB_EXPR:KNe,IS_ALLOWED_URI:XH,IS_SCRIPT_OR_DATA:ZNe,MUSTACHE_EXPR:qNe,TMPLIT_EXPR:YNe});const zm={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},tMe=o(function(){return typeof window>"u"?null:window},"getGlobal"),nMe=o(function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},"_createTrustedTypesPolicy"),nF=o(function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},"_createHooksMap");function ZH(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:tMe();const e=o(Ne=>ZH(Ne),"DOMPurify");if(e.version="3.2.5",e.removed=[],!t||!t.document||t.document.nodeType!==zm.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:l,Element:u,NodeFilter:c,NamedNodeMap:f=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:d,trustedTypes:p}=t,m=u.prototype,y=Um(m,"cloneNode"),_=Um(m,"remove"),b=Um(m,"nextSibling"),S=Um(m,"childNodes"),v=Um(m,"parentNode");if(typeof a=="function"){const Ne=n.createElement("template");Ne.content&&Ne.content.ownerDocument&&(n=Ne.content.ownerDocument)}let k,C="";const{implementation:R,createNodeIterator:x,createDocumentFragment:E,getElementsByTagName:T}=n,{importNode:O}=r;let N=nF();e.isSupported=typeof KH=="function"&&typeof v=="function"&&R&&R.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:I,ERB_EXPR:M,TMPLIT_EXPR:V,DATA_ATTR:j,ARIA_ATTR:H,IS_SCRIPT_OR_DATA:q,ATTR_WHITESPACE:te,CUSTOM_ELEMENT:Z}=tF;let{IS_ALLOWED_URI:ue}=tF,ce=null;const ge=st({},[...J6,...eS,...tS,...nS,...Z6]);let Te=null;const Ct=st({},[...Q6,...rS,...eF,...N_]);let Oe=Object.seal(YH(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ge=null,Dt=null,Jr=!0,Ci=!0,Fn=!1,Zr=!0,er=!1,L=!0,U=!1,B=!1,K=!1,J=!1,Q=!1,ie=!1,D=!0,$=!1;const F="user-content-";let re=!0,ae=!1,he={},_e=null;const Ie=st({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let mt=null;const ft=st({},["audio","video","img","source","image","track"]);let Bn=null;const Nn=st({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),vn="http://www.w3.org/1998/Math/MathML",Mn="http://www.w3.org/2000/svg",tr="http://www.w3.org/1999/xhtml";let Vi=tr,Hn=!1,Or=null;const zl=st({},[vn,Mn,tr],QT);let bc=st({},["mi","mo","mn","ms","mtext"]),xh=st({},["annotation-xml"]);const wc=st({},["title","style","font","a","script"]);let La=null;const cm=["application/xhtml+xml","text/html"],Vl="text/html";let Dn=null,Do=null;const v1=n.createElement("form"),jl=o(function(z){return z instanceof RegExp||z instanceof Function},"isRegexOrFunction"),Th=o(function(){let z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Do&&Do===z)){if((!z||typeof z!="object")&&(z={}),z=$c(z),La=cm.indexOf(z.PARSER_MEDIA_TYPE)===-1?Vl:z.PARSER_MEDIA_TYPE,Dn=La==="application/xhtml+xml"?QT:vb,ce=Gs(z,"ALLOWED_TAGS")?st({},z.ALLOWED_TAGS,Dn):ge,Te=Gs(z,"ALLOWED_ATTR")?st({},z.ALLOWED_ATTR,Dn):Ct,Or=Gs(z,"ALLOWED_NAMESPACES")?st({},z.ALLOWED_NAMESPACES,QT):zl,Bn=Gs(z,"ADD_URI_SAFE_ATTR")?st($c(Nn),z.ADD_URI_SAFE_ATTR,Dn):Nn,mt=Gs(z,"ADD_DATA_URI_TAGS")?st($c(ft),z.ADD_DATA_URI_TAGS,Dn):ft,_e=Gs(z,"FORBID_CONTENTS")?st({},z.FORBID_CONTENTS,Dn):Ie,Ge=Gs(z,"FORBID_TAGS")?st({},z.FORBID_TAGS,Dn):{},Dt=Gs(z,"FORBID_ATTR")?st({},z.FORBID_ATTR,Dn):{},he=Gs(z,"USE_PROFILES")?z.USE_PROFILES:!1,Jr=z.ALLOW_ARIA_ATTR!==!1,Ci=z.ALLOW_DATA_ATTR!==!1,Fn=z.ALLOW_UNKNOWN_PROTOCOLS||!1,Zr=z.ALLOW_SELF_CLOSE_IN_ATTR!==!1,er=z.SAFE_FOR_TEMPLATES||!1,L=z.SAFE_FOR_XML!==!1,U=z.WHOLE_DOCUMENT||!1,J=z.RETURN_DOM||!1,Q=z.RETURN_DOM_FRAGMENT||!1,ie=z.RETURN_TRUSTED_TYPE||!1,K=z.FORCE_BODY||!1,D=z.SANITIZE_DOM!==!1,$=z.SANITIZE_NAMED_PROPS||!1,re=z.KEEP_CONTENT!==!1,ae=z.IN_PLACE||!1,ue=z.ALLOWED_URI_REGEXP||XH,Vi=z.NAMESPACE||tr,bc=z.MATHML_TEXT_INTEGRATION_POINTS||bc,xh=z.HTML_INTEGRATION_POINTS||xh,Oe=z.CUSTOM_ELEMENT_HANDLING||{},z.CUSTOM_ELEMENT_HANDLING&&jl(z.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Oe.tagNameCheck=z.CUSTOM_ELEMENT_HANDLING.tagNameCheck),z.CUSTOM_ELEMENT_HANDLING&&jl(z.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Oe.attributeNameCheck=z.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),z.CUSTOM_ELEMENT_HANDLING&&typeof z.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Oe.allowCustomizedBuiltInElements=z.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),er&&(Ci=!1),Q&&(J=!0),he&&(ce=st({},Z6),Te=[],he.html===!0&&(st(ce,J6),st(Te,Q6)),he.svg===!0&&(st(ce,eS),st(Te,rS),st(Te,N_)),he.svgFilters===!0&&(st(ce,tS),st(Te,rS),st(Te,N_)),he.mathMl===!0&&(st(ce,nS),st(Te,eF),st(Te,N_))),z.ADD_TAGS&&(ce===ge&&(ce=$c(ce)),st(ce,z.ADD_TAGS,Dn)),z.ADD_ATTR&&(Te===Ct&&(Te=$c(Te)),st(Te,z.ADD_ATTR,Dn)),z.ADD_URI_SAFE_ATTR&&st(Bn,z.ADD_URI_SAFE_ATTR,Dn),z.FORBID_CONTENTS&&(_e===Ie&&(_e=$c(_e)),st(_e,z.FORBID_CONTENTS,Dn)),re&&(ce["#text"]=!0),U&&st(ce,["html","head","body"]),ce.table&&(st(ce,["tbody"]),delete Ge.tbody),z.TRUSTED_TYPES_POLICY){if(typeof z.TRUSTED_TYPES_POLICY.createHTML!="function")throw Bm('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof z.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Bm('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=z.TRUSTED_TYPES_POLICY,C=k.createHTML("")}else k===void 0&&(k=nMe(p,i)),k!==null&&typeof C=="string"&&(C=k.createHTML(""));Ei&&Ei(z),Do=z}},"_parseConfig"),nr=st({},[...eS,...tS,...HNe]),fm=st({},[...nS,...GNe]),vc=o(function(z){let de=v(z);(!de||!de.tagName)&&(de={namespaceURI:Vi,tagName:"template"});const Ae=vb(z.tagName),zt=vb(de.tagName);return Or[z.namespaceURI]?z.namespaceURI===Mn?de.namespaceURI===tr?Ae==="svg":de.namespaceURI===vn?Ae==="svg"&&(zt==="annotation-xml"||bc[zt]):!!nr[Ae]:z.namespaceURI===vn?de.namespaceURI===tr?Ae==="math":de.namespaceURI===Mn?Ae==="math"&&xh[zt]:!!fm[Ae]:z.namespaceURI===tr?de.namespaceURI===Mn&&!xh[zt]||de.namespaceURI===vn&&!bc[zt]?!1:!fm[Ae]&&(wc[Ae]||!nr[Ae]):!!(La==="application/xhtml+xml"&&Or[z.namespaceURI]):!1},"_checkValidNamespace"),Nr=o(function(z){Lm(e.removed,{element:z});try{v(z).removeChild(z)}catch{_(z)}},"_forceRemove"),Sh=o(function(z,de){try{Lm(e.removed,{attribute:de.getAttributeNode(z),from:de})}catch{Lm(e.removed,{attribute:null,from:de})}if(de.removeAttribute(z),z==="is")if(J||Q)try{Nr(de)}catch{}else try{de.setAttribute(z,"")}catch{}},"_removeAttribute"),E1=o(function(z){let de=null,Ae=null;if(K)z="<remove></remove>"+z;else{const En=X6(z,/^[\r\n\t ]+/);Ae=En&&En[0]}La==="application/xhtml+xml"&&Vi===tr&&(z='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+z+"</body></html>");const zt=k?k.createHTML(z):z;if(Vi===tr)try{de=new d().parseFromString(zt,La)}catch{}if(!de||!de.documentElement){de=R.createDocument(Vi,"template",null);try{de.documentElement.innerHTML=Hn?C:zt}catch{}}const rr=de.body||de.documentElement;return z&&Ae&&rr.insertBefore(n.createTextNode(Ae),rr.childNodes[0]||null),Vi===tr?T.call(de,U?"html":"body")[0]:U?de.documentElement:rr},"_initDocument"),Fa=o(function(z){return x.call(z.ownerDocument||z,z,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},"_createNodeIterator"),hm=o(function(z){return z instanceof h&&(typeof z.nodeName!="string"||typeof z.textContent!="string"||typeof z.removeChild!="function"||!(z.attributes instanceof f)||typeof z.removeAttribute!="function"||typeof z.setAttribute!="function"||typeof z.namespaceURI!="string"||typeof z.insertBefore!="function"||typeof z.hasChildNodes!="function")},"_isClobbered"),x1=o(function(z){return typeof l=="function"&&z instanceof l},"_isNode");function ji(Ne,z,de){O_(Ne,Ae=>{Ae.call(e,z,de,Do)})}o(ji,"_executeHooks");const T1=o(function(z){let de=null;if(ji(N.beforeSanitizeElements,z,null),hm(z))return Nr(z),!0;const Ae=Dn(z.nodeName);if(ji(N.uponSanitizeElement,z,{tagName:Ae,allowedTags:ce}),z.hasChildNodes()&&!x1(z.firstElementChild)&&Qr(/<[/\w!]/g,z.innerHTML)&&Qr(/<[/\w!]/g,z.textContent)||z.nodeType===zm.progressingInstruction||L&&z.nodeType===zm.comment&&Qr(/<[/\w]/g,z.data))return Nr(z),!0;if(!ce[Ae]||Ge[Ae]){if(!Ge[Ae]&&Ec(Ae)&&(Oe.tagNameCheck instanceof RegExp&&Qr(Oe.tagNameCheck,Ae)||Oe.tagNameCheck instanceof Function&&Oe.tagNameCheck(Ae)))return!1;if(re&&!_e[Ae]){const zt=v(z)||z.parentNode,rr=S(z)||z.childNodes;if(rr&&zt){const En=rr.length;for(let _r=En-1;_r>=0;--_r){const Ii=y(rr[_r],!0);Ii.__removalCount=(z.__removalCount||0)+1,zt.insertBefore(Ii,b(z))}}}return Nr(z),!0}return z instanceof u&&!vc(z)||(Ae==="noscript"||Ae==="noembed"||Ae==="noframes")&&Qr(/<\/no(script|embed|frames)/i,z.innerHTML)?(Nr(z),!0):(er&&z.nodeType===zm.text&&(de=z.textContent,O_([I,M,V],zt=>{de=Fm(de,zt," ")}),z.textContent!==de&&(Lm(e.removed,{element:z.cloneNode()}),z.textContent=de)),ji(N.afterSanitizeElements,z,null),!1)},"_sanitizeElements"),kh=o(function(z,de,Ae){if(D&&(de==="id"||de==="name")&&(Ae in n||Ae in v1))return!1;if(!(Ci&&!Dt[de]&&Qr(j,de))){if(!(Jr&&Qr(H,de))){if(!Te[de]||Dt[de]){if(!(Ec(z)&&(Oe.tagNameCheck instanceof RegExp&&Qr(Oe.tagNameCheck,z)||Oe.tagNameCheck instanceof Function&&Oe.tagNameCheck(z))&&(Oe.attributeNameCheck instanceof RegExp&&Qr(Oe.attributeNameCheck,de)||Oe.attributeNameCheck instanceof Function&&Oe.attributeNameCheck(de))||de==="is"&&Oe.allowCustomizedBuiltInElements&&(Oe.tagNameCheck instanceof RegExp&&Qr(Oe.tagNameCheck,Ae)||Oe.tagNameCheck instanceof Function&&Oe.tagNameCheck(Ae))))return!1}else if(!Bn[de]){if(!Qr(ue,Fm(Ae,te,""))){if(!((de==="src"||de==="xlink:href"||de==="href")&&z!=="script"&&zNe(Ae,"data:")===0&&mt[z])){if(!(Fn&&!Qr(q,Fm(Ae,te,"")))){if(Ae)return!1}}}}}}return!0},"_isValidAttribute"),Ec=o(function(z){return z!=="annotation-xml"&&X6(z,Z)},"_isBasicCustomElement"),Vs=o(function(z){ji(N.beforeSanitizeAttributes,z,null);const{attributes:de}=z;if(!de||hm(z))return;const Ae={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Te,forceKeepAttr:void 0};let zt=de.length;for(;zt--;){const rr=de[zt],{name:En,namespaceURI:_r,value:Ii}=rr,js=Dn(En);let pn=En==="value"?Ii:VNe(Ii);if(Ae.attrName=js,Ae.attrValue=pn,Ae.keepAttr=!0,Ae.forceKeepAttr=void 0,ji(N.uponSanitizeAttribute,z,Ae),pn=Ae.attrValue,$&&(js==="id"||js==="name")&&(Sh(En,z),pn=F+pn),L&&Qr(/((--!?|])>)|<\/(style|title)/i,pn)){Sh(En,z);continue}if(Ae.forceKeepAttr||(Sh(En,z),!Ae.keepAttr))continue;if(!Zr&&Qr(/\/>/i,pn)){Sh(En,z);continue}er&&O_([I,M,V],k1=>{pn=Fm(pn,k1," ")});const Ah=Dn(z.nodeName);if(kh(Ah,js,pn)){if(k&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!_r)switch(p.getAttributeType(Ah,js)){case"TrustedHTML":{pn=k.createHTML(pn);break}case"TrustedScriptURL":{pn=k.createScriptURL(pn);break}}try{_r?z.setAttributeNS(_r,En,pn):z.setAttribute(En,pn),hm(z)?Nr(z):Y6(e.removed)}catch{}}}ji(N.afterSanitizeAttributes,z,null)},"_sanitizeAttributes"),S1=o(function Ne(z){let de=null;const Ae=Fa(z);for(ji(N.beforeSanitizeShadowDOM,z,null);de=Ae.nextNode();)ji(N.uponSanitizeShadowNode,de,null),T1(de),Vs(de),de.content instanceof s&&Ne(de.content);ji(N.afterSanitizeShadowDOM,z,null)},"_sanitizeShadowDOM");return e.sanitize=function(Ne){let z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},de=null,Ae=null,zt=null,rr=null;if(Hn=!Ne,Hn&&(Ne="<!-->"),typeof Ne!="string"&&!x1(Ne))if(typeof Ne.toString=="function"){if(Ne=Ne.toString(),typeof Ne!="string")throw Bm("dirty is not a string, aborting")}else throw Bm("toString is not a function");if(!e.isSupported)return Ne;if(B||Th(z),e.removed=[],typeof Ne=="string"&&(ae=!1),ae){if(Ne.nodeName){const Ii=Dn(Ne.nodeName);if(!ce[Ii]||Ge[Ii])throw Bm("root node is forbidden and cannot be sanitized in-place")}}else if(Ne instanceof l)de=E1("<!---->"),Ae=de.ownerDocument.importNode(Ne,!0),Ae.nodeType===zm.element&&Ae.nodeName==="BODY"||Ae.nodeName==="HTML"?de=Ae:de.appendChild(Ae);else{if(!J&&!er&&!U&&Ne.indexOf("<")===-1)return k&&ie?k.createHTML(Ne):Ne;if(de=E1(Ne),!de)return J?null:ie?C:""}de&&K&&Nr(de.firstChild);const En=Fa(ae?Ne:de);for(;zt=En.nextNode();)T1(zt),Vs(zt),zt.content instanceof s&&S1(zt.content);if(ae)return Ne;if(J){if(Q)for(rr=E.call(de.ownerDocument);de.firstChild;)rr.appendChild(de.firstChild);else rr=de;return(Te.shadowroot||Te.shadowrootmode)&&(rr=O.call(r,rr,!0)),rr}let _r=U?de.outerHTML:de.innerHTML;return U&&ce["!doctype"]&&de.ownerDocument&&de.ownerDocument.doctype&&de.ownerDocument.doctype.name&&Qr(JH,de.ownerDocument.doctype.name)&&(_r="<!DOCTYPE "+de.ownerDocument.doctype.name+`>
`+_r),er&&O_([I,M,V],Ii=>{_r=Fm(_r,Ii," ")}),k&&ie?k.createHTML(_r):_r},e.setConfig=function(){let Ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Th(Ne),B=!0},e.clearConfig=function(){Do=null,B=!1},e.isValidAttribute=function(Ne,z,de){Do||Th({});const Ae=Dn(Ne),zt=Dn(z);return kh(Ae,zt,de)},e.addHook=function(Ne,z){typeof z=="function"&&Lm(N[Ne],z)},e.removeHook=function(Ne,z){if(z!==void 0){const de=BNe(N[Ne],z);return de===-1?void 0:UNe(N[Ne],de,1)[0]}return Y6(N[Ne])},e.removeHooks=function(Ne){N[Ne]=[]},e.removeAllHooks=function(){N=nF()},e}o(ZH,"createDOMPurify");var _7e=ZH();function fO(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}o(fO,"_getDefaults");let uh=fO();function QH(t){uh=t}o(QH,"changeDefaults");const jg={exec:o(()=>null,"exec")};function Nt(t,e=""){let n=typeof t=="string"?t:t.source;const r={replace:o((i,s)=>{let a=typeof s=="string"?s:s.source;return a=a.replace(di.caret,"$1"),n=n.replace(i,a),r},"replace"),getRegex:o(()=>new RegExp(n,e),"getRegex")};return r}o(Nt,"edit");const di={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:o(t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),"listItemRegex"),nextBulletRegex:o(t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),"nextBulletRegex"),hrRegex:o(t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),"hrRegex"),fencesBeginRegex:o(t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),"fencesBeginRegex"),headingBeginRegex:o(t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),"headingBeginRegex"),htmlBeginRegex:o(t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i"),"htmlBeginRegex")},rMe=/^(?:[ \t]*(?:\n|$))+/,iMe=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,sMe=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,n1=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,oMe=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hO=/(?:[*+-]|\d{1,9}[.)])/,eG=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,tG=Nt(eG).replace(/bull/g,hO).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),aMe=Nt(eG).replace(/bull/g,hO).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),dO=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,lMe=/^[^\n]+/,pO=/(?!\s*\])(?:\\.|[^\[\]\\])+/,uMe=Nt(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",pO).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),cMe=Nt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,hO).getRegex(),Mx="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",mO=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,fMe=Nt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",mO).replace("tag",Mx).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),nG=Nt(dO).replace("hr",n1).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Mx).getRegex(),hMe=Nt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",nG).getRegex(),gO={blockquote:hMe,code:iMe,def:uMe,fences:sMe,heading:oMe,hr:n1,html:fMe,lheading:tG,list:cMe,newline:rMe,paragraph:nG,table:jg,text:lMe},rF=Nt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",n1).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Mx).getRegex(),dMe={...gO,lheading:aMe,table:rF,paragraph:Nt(dO).replace("hr",n1).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",rF).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Mx).getRegex()},pMe={...gO,html:Nt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",mO).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:jg,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Nt(dO).replace("hr",n1).replace("heading",` *#{1,6} *[^
]`).replace("lheading",tG).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},mMe=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,gMe=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,rG=/^( {2,}|\\)\n(?!\s*$)/,yMe=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Dx=/[\p{P}\p{S}]/u,yO=/[\s\p{P}\p{S}]/u,iG=/[^\s\p{P}\p{S}]/u,_Me=Nt(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,yO).getRegex(),sG=/(?!~)[\p{P}\p{S}]/u,bMe=/(?!~)[\s\p{P}\p{S}]/u,wMe=/(?:[^\s\p{P}\p{S}]|~)/u,vMe=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,oG=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,EMe=Nt(oG,"u").replace(/punct/g,Dx).getRegex(),xMe=Nt(oG,"u").replace(/punct/g,sG).getRegex(),aG="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",TMe=Nt(aG,"gu").replace(/notPunctSpace/g,iG).replace(/punctSpace/g,yO).replace(/punct/g,Dx).getRegex(),SMe=Nt(aG,"gu").replace(/notPunctSpace/g,wMe).replace(/punctSpace/g,bMe).replace(/punct/g,sG).getRegex(),kMe=Nt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,iG).replace(/punctSpace/g,yO).replace(/punct/g,Dx).getRegex(),AMe=Nt(/\\(punct)/,"gu").replace(/punct/g,Dx).getRegex(),CMe=Nt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),IMe=Nt(mO).replace("(?:-->|$)","-->").getRegex(),RMe=Nt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",IMe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Nv=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,OMe=Nt(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Nv).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),lG=Nt(/^!?\[(label)\]\[(ref)\]/).replace("label",Nv).replace("ref",pO).getRegex(),uG=Nt(/^!?\[(ref)\](?:\[\])?/).replace("ref",pO).getRegex(),NMe=Nt("reflink|nolink(?!\\()","g").replace("reflink",lG).replace("nolink",uG).getRegex(),_O={_backpedal:jg,anyPunctuation:AMe,autolink:CMe,blockSkip:vMe,br:rG,code:gMe,del:jg,emStrongLDelim:EMe,emStrongRDelimAst:TMe,emStrongRDelimUnd:kMe,escape:mMe,link:OMe,nolink:uG,punctuation:_Me,reflink:lG,reflinkSearch:NMe,tag:RMe,text:yMe,url:jg},MMe={..._O,link:Nt(/^!?\[(label)\]\((.*?)\)/).replace("label",Nv).getRegex(),reflink:Nt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Nv).getRegex()},QA={..._O,emStrongRDelimAst:SMe,emStrongLDelim:xMe,url:Nt(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},DMe={...QA,br:Nt(rG).replace("{2,}","*").getRegex(),text:Nt(QA.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},M_={normal:gO,gfm:dMe,pedantic:pMe},Vm={normal:_O,gfm:QA,breaks:DMe,pedantic:MMe},PMe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},iF=o(t=>PMe[t],"getEscapeReplacement");function zo(t,e){if(e){if(di.escapeTest.test(t))return t.replace(di.escapeReplace,iF)}else if(di.escapeTestNoEncode.test(t))return t.replace(di.escapeReplaceNoEncode,iF);return t}o(zo,"escape$2");function sF(t){try{t=encodeURI(t).replace(di.percentDecode,"%")}catch{return null}return t}o(sF,"cleanUrl");function oF(t,e){const n=t.replace(di.findPipe,(s,a,l)=>{let u=!1,c=a;for(;--c>=0&&l[c]==="\\";)u=!u;return u?"|":" |"}),r=n.split(di.splitPipe);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(di.slashPipe,"|");return r}o(oF,"splitCells");function jm(t,e,n){const r=t.length;if(r===0)return"";let i=0;for(;i<r&&t.charAt(r-i-1)===e;)i++;return t.slice(0,r-i)}o(jm,"rtrim");function $Me(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}o($Me,"findClosingBracket");function aF(t,e,n,r,i){const s=e.href,a=e.title||null,l=t[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;const u={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:a,text:l,tokens:r.inlineTokens(l)};return r.state.inLink=!1,u}o(aF,"outputLink");function LMe(t,e,n){const r=t.match(n.other.indentCodeCompensation);if(r===null)return e;const i=r[1];return e.split(`
`).map(s=>{const a=s.match(n.other.beginningSpace);if(a===null)return s;const[l]=a;return l.length>=i.length?s.slice(i.length):s}).join(`
`)}o(LMe,"indentCodeCompensation");class Mv{static{o(this,"_Tokenizer")}options;rules;lexer;constructor(e){this.options=e||uh}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const r=n[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:jm(r,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const r=n[0],i=LMe(r,n[3]||"",this.rules);return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:i}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(this.rules.other.endingHash.test(r)){const i=jm(r,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:jm(n[0],`
`)}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){let r=jm(n[0],`
`).split(`
`),i="",s="";const a=[];for(;r.length>0;){let l=!1;const u=[];let c;for(c=0;c<r.length;c++)if(this.rules.other.blockquoteStart.test(r[c]))u.push(r[c]),l=!0;else if(!l)u.push(r[c]);else break;r=r.slice(c);const f=u.join(`
`),h=f.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${f}`:f,s=s?`${s}
${h}`:h;const d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,a,!0),this.lexer.state.top=d,r.length===0)break;const p=a.at(-1);if(p?.type==="code")break;if(p?.type==="blockquote"){const m=p,y=m.raw+`
`+r.join(`
`),_=this.blockquote(y);a[a.length-1]=_,i=i.substring(0,i.length-m.raw.length)+_.raw,s=s.substring(0,s.length-m.text.length)+_.text;break}else if(p?.type==="list"){const m=p,y=m.raw+`
`+r.join(`
`),_=this.list(y);a[a.length-1]=_,i=i.substring(0,i.length-p.raw.length)+_.raw,s=s.substring(0,s.length-m.raw.length)+_.raw,r=y.substring(a.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:a,text:s}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r=n[1].trim();const i=r.length>1,s={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");const a=this.rules.other.listItemRegex(r);let l=!1;for(;e;){let c=!1,f="",h="";if(!(n=a.exec(e))||this.rules.block.hr.test(e))break;f=n[0],e=e.substring(f.length);let d=n[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,S=>" ".repeat(3*S.length)),p=e.split(`
`,1)[0],m=!d.trim(),y=0;if(this.options.pedantic?(y=2,h=d.trimStart()):m?y=n[1].length+1:(y=n[2].search(this.rules.other.nonSpaceChar),y=y>4?1:y,h=d.slice(y),y+=n[1].length),m&&this.rules.other.blankLine.test(p)&&(f+=p+`
`,e=e.substring(p.length+1),c=!0),!c){const S=this.rules.other.nextBulletRegex(y),v=this.rules.other.hrRegex(y),k=this.rules.other.fencesBeginRegex(y),C=this.rules.other.headingBeginRegex(y),R=this.rules.other.htmlBeginRegex(y);for(;e;){const x=e.split(`
`,1)[0];let E;if(p=x,this.options.pedantic?(p=p.replace(this.rules.other.listReplaceNesting,"  "),E=p):E=p.replace(this.rules.other.tabCharGlobal,"    "),k.test(p)||C.test(p)||R.test(p)||S.test(p)||v.test(p))break;if(E.search(this.rules.other.nonSpaceChar)>=y||!p.trim())h+=`
`+E.slice(y);else{if(m||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||k.test(d)||C.test(d)||v.test(d))break;h+=`
`+p}!m&&!p.trim()&&(m=!0),f+=x+`
`,e=e.substring(x.length+1),d=E.slice(y)}}s.loose||(l?s.loose=!0:this.rules.other.doubleBlankLine.test(f)&&(l=!0));let _=null,b;this.options.gfm&&(_=this.rules.other.listIsTask.exec(h),_&&(b=_[0]!=="[ ] ",h=h.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:f,task:!!_,checked:b,loose:!1,text:h,tokens:[]}),s.raw+=f}const u=s.items.at(-1);if(u)u.raw=u.raw.trimEnd(),u.text=u.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let c=0;c<s.items.length;c++)if(this.lexer.state.top=!1,s.items[c].tokens=this.lexer.blockTokens(s.items[c].text,[]),!s.loose){const f=s.items[c].tokens.filter(d=>d.type==="space"),h=f.length>0&&f.some(d=>this.rules.other.anyLine.test(d.raw));s.loose=h}if(s.loose)for(let c=0;c<s.items.length;c++)s.items[c].loose=!0;return s}}html(e){const n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){const n=this.rules.block.def.exec(e);if(n){const r=n[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=n[2]?n[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:s}}}table(e){const n=this.rules.block.table.exec(e);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;const r=oF(n[1]),i=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=n[3]?.trim()?n[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],a={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===i.length){for(const l of i)this.rules.other.tableAlignRight.test(l)?a.align.push("right"):this.rules.other.tableAlignCenter.test(l)?a.align.push("center"):this.rules.other.tableAlignLeft.test(l)?a.align.push("left"):a.align.push(null);for(let l=0;l<r.length;l++)a.header.push({text:r[l],tokens:this.lexer.inline(r[l]),header:!0,align:a.align[l]});for(const l of s)a.rows.push(oF(l,a.header.length).map((u,c)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:a.align[c]})));return a}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:n[1]}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&this.rules.other.startATag.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const r=n[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;const a=jm(r.slice(0,-1),"\\");if((r.length-a.length)%2===0)return}else{const a=$Me(n[2],"()");if(a===-2)return;if(a>-1){const u=(n[0].indexOf("!")===0?5:4)+n[1].length+a;n[2]=n[2].substring(0,a),n[0]=n[0].substring(0,u).trim(),n[3]=""}}let i=n[2],s="";if(this.options.pedantic){const a=this.rules.other.pedanticHrefTitle.exec(i);a&&(i=a[1],s=a[3])}else s=n[3]?n[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?i=i.slice(1):i=i.slice(1,-1)),aF(n,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer,this.rules)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const i=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=n[i.toLowerCase()];if(!s){const a=r[0].charAt(0);return{type:"text",raw:a,text:a}}return aF(r,s,r[0],this.lexer,this.rules)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!i||i[3]&&r.match(this.rules.other.unicodeAlphaNumeric))return;if(!(i[1]||i[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const a=[...i[0]].length-1;let l,u,c=a,f=0;const h=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,n=n.slice(-1*e.length+a);(i=h.exec(n))!=null;){if(l=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!l)continue;if(u=[...l].length,i[3]||i[4]){c+=u;continue}else if((i[5]||i[6])&&a%3&&!((a+u)%3)){f+=u;continue}if(c-=u,c>0)continue;u=Math.min(u,u+c+f);const d=[...i[0]][0].length,p=e.slice(0,a+i.index+d+u);if(Math.min(a,u)%2){const y=p.slice(1,-1);return{type:"em",raw:p,text:y,tokens:this.lexer.inlineTokens(y)}}const m=p.slice(2,-2);return{type:"strong",raw:p,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(this.rules.other.newLineCharGlobal," ");const i=this.rules.other.nonSpaceChar.test(r),s=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return i&&s&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:n[0],text:r}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){const n=this.rules.inline.autolink.exec(e);if(n){let r,i;return n[2]==="@"?(r=n[1],i="mailto:"+r):(r=n[1],i=r),{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(e){let n;if(n=this.rules.inline.url.exec(e)){let r,i;if(n[2]==="@")r=n[0],i="mailto:"+r;else{let s;do s=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])?.[0]??"";while(s!==n[0]);r=n[0],n[1]==="www."?i="http://"+n[0]:i=n[0]}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){const n=this.rules.inline.text.exec(e);if(n){const r=this.lexer.state.inRawBlock;return{type:"text",raw:n[0],text:n[0],escaped:r}}}}class Cs{static{o(this,"_Lexer")}tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||uh,this.options.tokenizer=this.options.tokenizer||new Mv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={other:di,block:M_.normal,inline:Vm.normal};this.options.pedantic?(n.block=M_.pedantic,n.inline=Vm.pedantic):this.options.gfm&&(n.block=M_.gfm,this.options.breaks?n.inline=Vm.breaks:n.inline=Vm.gfm),this.tokenizer.rules=n}static get rules(){return{block:M_,inline:Vm}}static lex(e,n){return new Cs(n).lex(e)}static lexInline(e,n){return new Cs(n).inlineTokens(e)}lex(e){e=e.replace(di.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){for(this.options.pedantic&&(e=e.replace(di.tabCharGlobal,"    ").replace(di.spaceLine,""));e;){let i;if(this.options.extensions?.block?.some(a=>(i=a.call({lexer:this},e,n))?(e=e.substring(i.raw.length),n.push(i),!0):!1))continue;if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length);const a=n.at(-1);i.raw.length===1&&a!==void 0?a.raw+=`
`:n.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length);const a=n.at(-1);a?.type==="paragraph"||a?.type==="text"?(a.raw+=`
`+i.raw,a.text+=`
`+i.text,this.inlineQueue.at(-1).src=a.text):n.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length);const a=n.at(-1);a?.type==="paragraph"||a?.type==="text"?(a.raw+=`
`+i.raw,a.text+=`
`+i.raw,this.inlineQueue.at(-1).src=a.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),n.push(i);continue}let s=e;if(this.options.extensions?.startBlock){let a=1/0;const l=e.slice(1);let u;this.options.extensions.startBlock.forEach(c=>{u=c.call({lexer:this},l),typeof u=="number"&&u>=0&&(a=Math.min(a,u))}),a<1/0&&a>=0&&(s=e.substring(0,a+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s))){const a=n.at(-1);r&&a?.type==="paragraph"?(a.raw+=`
`+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):n.push(i),r=s.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length);const a=n.at(-1);a?.type==="text"?(a.raw+=`
`+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):n.push(i);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r=e,i=null;if(this.tokens.links){const l=Object.keys(this.tokens.links);if(l.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)l.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let s=!1,a="";for(;e;){s||(a=""),s=!1;let l;if(this.options.extensions?.inline?.some(c=>(l=c.call({lexer:this},e,n))?(e=e.substring(l.raw.length),n.push(l),!0):!1))continue;if(l=this.tokenizer.escape(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.tag(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.link(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(l.raw.length);const c=n.at(-1);l.type==="text"&&c?.type==="text"?(c.raw+=l.raw,c.text+=l.text):n.push(l);continue}if(l=this.tokenizer.emStrong(e,r,a)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.codespan(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.br(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.del(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.autolink(e)){e=e.substring(l.raw.length),n.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(e))){e=e.substring(l.raw.length),n.push(l);continue}let u=e;if(this.options.extensions?.startInline){let c=1/0;const f=e.slice(1);let h;this.options.extensions.startInline.forEach(d=>{h=d.call({lexer:this},f),typeof h=="number"&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(u=e.substring(0,c+1))}if(l=this.tokenizer.inlineText(u)){e=e.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(a=l.raw.slice(-1)),s=!0;const c=n.at(-1);c?.type==="text"?(c.raw+=l.raw,c.text+=l.text):n.push(l);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return n}}class Dv{static{o(this,"_Renderer")}options;parser;constructor(e){this.options=e||uh}space(e){return""}code({text:e,lang:n,escaped:r}){const i=(n||"").match(di.notSpaceStart)?.[0],s=e.replace(di.endingNewline,"")+`
`;return i?'<pre><code class="language-'+zo(i)+'">'+(r?s:zo(s,!0))+`</code></pre>
`:"<pre><code>"+(r?s:zo(s,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:n}){return`<h${n}>${this.parser.parseInline(e)}</h${n}>
`}hr(e){return`<hr>
`}list(e){const n=e.ordered,r=e.start;let i="";for(let l=0;l<e.items.length;l++){const u=e.items[l];i+=this.listitem(u)}const s=n?"ol":"ul",a=n&&r!==1?' start="'+r+'"':"";return"<"+s+a+`>
`+i+"</"+s+`>
`}listitem(e){let n="";if(e.task){const r=this.checkbox({checked:!!e.checked});e.loose?e.tokens[0]?.type==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+zo(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):n+=r+" "}return n+=this.parser.parse(e.tokens,!!e.loose),`<li>${n}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let n="",r="";for(let s=0;s<e.header.length;s++)r+=this.tablecell(e.header[s]);n+=this.tablerow({text:r});let i="";for(let s=0;s<e.rows.length;s++){const a=e.rows[s];r="";for(let l=0;l<a.length;l++)r+=this.tablecell(a[l]);i+=this.tablerow({text:r})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const n=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+n+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${zo(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:n,tokens:r}){const i=this.parser.parseInline(r),s=sF(e);if(s===null)return i;e=s;let a='<a href="'+e+'"';return n&&(a+=' title="'+zo(n)+'"'),a+=">"+i+"</a>",a}image({href:e,title:n,text:r,tokens:i}){i&&(r=this.parser.parseInline(i,this.parser.textRenderer));const s=sF(e);if(s===null)return zo(r);e=s;let a=`<img src="${e}" alt="${r}"`;return n&&(a+=` title="${zo(n)}"`),a+=">",a}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:zo(e.text)}}class bO{static{o(this,"_TextRenderer")}strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class Is{static{o(this,"_Parser")}options;renderer;textRenderer;constructor(e){this.options=e||uh,this.options.renderer=this.options.renderer||new Dv,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new bO}static parse(e,n){return new Is(n).parse(e)}static parseInline(e,n){return new Is(n).parseInline(e)}parse(e,n=!0){let r="";for(let i=0;i<e.length;i++){const s=e[i];if(this.options.extensions?.renderers?.[s.type]){const l=s,u=this.options.extensions.renderers[l.type].call({parser:this},l);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(l.type)){r+=u||"";continue}}const a=s;switch(a.type){case"space":{r+=this.renderer.space(a);continue}case"hr":{r+=this.renderer.hr(a);continue}case"heading":{r+=this.renderer.heading(a);continue}case"code":{r+=this.renderer.code(a);continue}case"table":{r+=this.renderer.table(a);continue}case"blockquote":{r+=this.renderer.blockquote(a);continue}case"list":{r+=this.renderer.list(a);continue}case"html":{r+=this.renderer.html(a);continue}case"paragraph":{r+=this.renderer.paragraph(a);continue}case"text":{let l=a,u=this.renderer.text(l);for(;i+1<e.length&&e[i+1].type==="text";)l=e[++i],u+=`
`+this.renderer.text(l);n?r+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):r+=u;continue}default:{const l='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return r}parseInline(e,n=this.renderer){let r="";for(let i=0;i<e.length;i++){const s=e[i];if(this.options.extensions?.renderers?.[s.type]){const l=this.options.extensions.renderers[s.type].call({parser:this},s);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){r+=l||"";continue}}const a=s;switch(a.type){case"escape":{r+=n.text(a);break}case"html":{r+=n.html(a);break}case"link":{r+=n.link(a);break}case"image":{r+=n.image(a);break}case"strong":{r+=n.strong(a);break}case"em":{r+=n.em(a);break}case"codespan":{r+=n.codespan(a);break}case"br":{r+=n.br(a);break}case"del":{r+=n.del(a);break}case"text":{r+=n.text(a);break}default:{const l='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return r}}class Eb{static{o(this,"_Hooks")}options;block;constructor(e){this.options=e||uh}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?Cs.lex:Cs.lexInline}provideParser(){return this.block?Is.parse:Is.parseInline}}class FMe{static{o(this,"Marked")}defaults=fO();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Is;Renderer=Dv;TextRenderer=bO;Lexer=Cs;Tokenizer=Mv;Hooks=Eb;constructor(...e){this.use(...e)}walkTokens(e,n){let r=[];for(const i of e)switch(r=r.concat(n.call(this,i)),i.type){case"table":{const s=i;for(const a of s.header)r=r.concat(this.walkTokens(a.tokens,n));for(const a of s.rows)for(const l of a)r=r.concat(this.walkTokens(l.tokens,n));break}case"list":{const s=i;r=r.concat(this.walkTokens(s.items,n));break}default:{const s=i;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(a=>{const l=s[a].flat(1/0);r=r.concat(this.walkTokens(l,n))}):s.tokens&&(r=r.concat(this.walkTokens(s.tokens,n)))}}return r}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const a=n.renderers[s.name];a?n.renderers[s.name]=function(...l){let u=s.renderer.apply(this,l);return u===!1&&(u=a.apply(this,l)),u}:n.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const a=n[s.level];a?a.unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),i.extensions=n),r.renderer){const s=this.defaults.renderer||new Dv(this.defaults);for(const a in r.renderer){if(!(a in s))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;const l=a,u=r.renderer[l],c=s[l];s[l]=(...f)=>{let h=u.apply(s,f);return h===!1&&(h=c.apply(s,f)),h||""}}i.renderer=s}if(r.tokenizer){const s=this.defaults.tokenizer||new Mv(this.defaults);for(const a in r.tokenizer){if(!(a in s))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;const l=a,u=r.tokenizer[l],c=s[l];s[l]=(...f)=>{let h=u.apply(s,f);return h===!1&&(h=c.apply(s,f)),h}}i.tokenizer=s}if(r.hooks){const s=this.defaults.hooks||new Eb;for(const a in r.hooks){if(!(a in s))throw new Error(`hook '${a}' does not exist`);if(["options","block"].includes(a))continue;const l=a,u=r.hooks[l],c=s[l];Eb.passThroughHooks.has(a)?s[l]=f=>{if(this.defaults.async)return Promise.resolve(u.call(s,f)).then(d=>c.call(s,d));const h=u.call(s,f);return c.call(s,h)}:s[l]=(...f)=>{let h=u.apply(s,f);return h===!1&&(h=c.apply(s,f)),h}}i.hooks=s}if(r.walkTokens){const s=this.defaults.walkTokens,a=r.walkTokens;i.walkTokens=function(l){let u=[];return u.push(a.call(this,l)),s&&(u=u.concat(s.call(this,l))),u}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return Cs.lex(e,n??this.defaults)}parser(e,n){return Is.parse(e,n??this.defaults)}parseMarkdown(e){return o((r,i)=>{const s={...i},a={...this.defaults,...s},l=this.onError(!!a.silent,!!a.async);if(this.defaults.async===!0&&s.async===!1)return l(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));a.hooks&&(a.hooks.options=a,a.hooks.block=e);const u=a.hooks?a.hooks.provideLexer():e?Cs.lex:Cs.lexInline,c=a.hooks?a.hooks.provideParser():e?Is.parse:Is.parseInline;if(a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(r):r).then(f=>u(f,a)).then(f=>a.hooks?a.hooks.processAllTokens(f):f).then(f=>a.walkTokens?Promise.all(this.walkTokens(f,a.walkTokens)).then(()=>f):f).then(f=>c(f,a)).then(f=>a.hooks?a.hooks.postprocess(f):f).catch(l);try{a.hooks&&(r=a.hooks.preprocess(r));let f=u(r,a);a.hooks&&(f=a.hooks.processAllTokens(f)),a.walkTokens&&this.walkTokens(f,a.walkTokens);let h=c(f,a);return a.hooks&&(h=a.hooks.postprocess(h)),h}catch(f){return l(f)}},"parse")}onError(e,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+zo(r.message+"",!0)+"</pre>";return n?Promise.resolve(i):i}if(n)return Promise.reject(r);throw r}}}const Wf=new FMe;function Bt(t,e){return Wf.parse(t,e)}o(Bt,"marked");Bt.options=Bt.setOptions=function(t){return Wf.setOptions(t),Bt.defaults=Wf.defaults,QH(Bt.defaults),Bt};Bt.getDefaults=fO;Bt.defaults=uh;Bt.use=function(...t){return Wf.use(...t),Bt.defaults=Wf.defaults,QH(Bt.defaults),Bt};Bt.walkTokens=function(t,e){return Wf.walkTokens(t,e)};Bt.parseInline=Wf.parseInline;Bt.Parser=Is;Bt.parser=Is.parse;Bt.Renderer=Dv;Bt.TextRenderer=bO;Bt.Lexer=Cs;Bt.lexer=Cs.lex;Bt.Tokenizer=Mv;Bt.Hooks=Eb;Bt.parse=Bt;Bt.options;Bt.setOptions;Bt.use;Bt.walkTokens;Bt.parseInline;Is.parse;Cs.lex;class BMe{static{o(this,"QuickLRU")}constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof e.maxAge=="number"&&e.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=e.maxSize,this.maxAge=e.maxAge||1/0,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(e){if(typeof this.onEviction=="function")for(const[n,r]of e)this.onEviction(n,r.value)}_deleteIfExpired(e,n){return typeof n.expiry=="number"&&n.expiry<=Date.now()?(typeof this.onEviction=="function"&&this.onEviction(e,n.value),this.delete(e)):!1}_getOrDeleteIfExpired(e,n){if(this._deleteIfExpired(e,n)===!1)return n.value}_getItemValue(e,n){return n.expiry?this._getOrDeleteIfExpired(e,n):n.value}_peek(e,n){const r=n.get(e);return this._getItemValue(e,r)}_set(e,n){this.cache.set(e,n),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(e,n){this.oldCache.delete(e),this._set(e,n)}*_entriesAscending(){for(const e of this.oldCache){const[n,r]=e;this.cache.has(n)||this._deleteIfExpired(n,r)===!1&&(yield e)}for(const e of this.cache){const[n,r]=e;this._deleteIfExpired(n,r)===!1&&(yield e)}}get(e){if(this.cache.has(e)){const n=this.cache.get(e);return this._getItemValue(e,n)}if(this.oldCache.has(e)){const n=this.oldCache.get(e);if(this._deleteIfExpired(e,n)===!1)return this._moveToRecent(e,n),n.value}}set(e,n,{maxAge:r=this.maxAge===1/0?void 0:Date.now()+this.maxAge}={}){this.cache.has(e)?this.cache.set(e,{value:n,maxAge:r}):this._set(e,{value:n,expiry:r})}has(e){return this.cache.has(e)?!this._deleteIfExpired(e,this.cache.get(e)):this.oldCache.has(e)?!this._deleteIfExpired(e,this.oldCache.get(e)):!1}peek(e){if(this.cache.has(e))return this._peek(e,this.cache);if(this.oldCache.has(e))return this._peek(e,this.oldCache)}delete(e){const n=this.cache.delete(e);return n&&this._size--,this.oldCache.delete(e)||n}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");const n=[...this._entriesAscending()],r=n.length-e;r<0?(this.cache=new Map(n),this.oldCache=new Map,this._size=n.length):(r>0&&this._emitEvictions(n.slice(0,r)),this.oldCache=new Map(n.slice(r)),this.cache=new Map,this._size=0),this.maxSize=e}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache){const[n,r]=e;this._deleteIfExpired(n,r)===!1&&(yield[n,r.value])}for(const e of this.oldCache){const[n,r]=e;this.cache.has(n)||this._deleteIfExpired(n,r)===!1&&(yield[n,r.value])}}*entriesDescending(){let e=[...this.cache];for(let n=e.length-1;n>=0;--n){const r=e[n],[i,s]=r;this._deleteIfExpired(i,s)===!1&&(yield[i,s.value])}e=[...this.oldCache];for(let n=e.length-1;n>=0;--n){const r=e[n],[i,s]=r;this.cache.has(i)||this._deleteIfExpired(i,s)===!1&&(yield[i,s.value])}}*entriesAscending(){for(const[e,n]of this._entriesAscending())yield[e,n.value]}get size(){if(!this._size)return this.oldCache.size;let e=0;for(const n of this.oldCache.keys())this.cache.has(n)||e++;return Math.min(this._size+e,this.maxSize)}}var UMe=BMe;const b7e=q3(UMe);var ch="0.8.2",W=Symbol(`typegpu:${ch}:$internal`),$t=Symbol(`typegpu:${ch}:$gpuValueOf`),In=Symbol(`typegpu:${ch}:$getNameForward`),Xc=Symbol(`typegpu:${ch}:$providing`),Bi=Symbol(`typegpu:${ch}:$ownSnippet`),qe=Symbol(`typegpu:${ch}:$resolve`),rm=Symbol(`typegpu:${ch}:$repr`);function Mt(t){return!!t?.[W]}o(Mt,"u");var Di={[W]:!0,type:"void",toString(){return"void"}},zMe=["bool","f32","f16","i32","u32","u16","vec2f","vec2h","vec2i","vec2u","vec2<bool>","vec3f","vec3h","vec3i","vec3u","vec3<bool>","vec4f","vec4h","vec4i","vec4u","vec4<bool>","mat2x2f","mat3x3f","mat4x4f","struct","array","ptr","atomic","decorated","abstractInt","abstractFloat","void","texture_1d","texture_storage_1d","texture_2d","texture_storage_2d","texture_multisampled_2d","texture_depth_2d","texture_depth_multisampled_2d","texture_2d_array","texture_storage_2d_array","texture_depth_2d_array","texture_cube","texture_depth_cube","texture_cube_array","texture_depth_cube_array","texture_3d","texture_storage_3d","texture_external","sampler","sampler_comparison"];function fn(t){let e=t;return Mt(e)&&typeof e.kind=="string"&&e.kind.startsWith("vec")}o(fn,"Ee$1");function eC(t){let e=t;return Mt(e)&&typeof e.type=="string"&&e.type.startsWith("vec2")}o(eC,"Ct$1");function tC(t){let e=t;return Mt(e)&&typeof e.type=="string"&&e.type.startsWith("vec3")}o(tC,"Ot$1");function cG(t){let e=t;return Mt(e)&&typeof e.type=="string"&&e.type.startsWith("vec4")}o(cG,"Mt$1");function Cl(t){return eC(t)||tC(t)||cG(t)}o(Cl,"ae$1");function Qo(t){let e=t;return Mt(e)&&typeof e.kind?.startsWith=="function"&&e.kind.startsWith("mat")}o(Qo,"Xe$2");function fG(t){return Mt(t)&&t?.type==="mat2x2f"}o(fG,"Lt");function hG(t){return Mt(t)&&t?.type==="mat3x3f"}o(hG,"jt$1");function VMe(t){return Mt(t)&&t?.type==="mat4x4f"}o(VMe,"Gt$1");function ty(t){return fG(t)||hG(t)||VMe(t)}o(ty,"Ue$1");function lF(t){return fn(t)&&["vec2f","vec3f","vec4f"].includes(t.kind)}o(lF,"Ln$1");function fh(t){return Mt(t)&&zMe.includes(t?.type)}o(fh,"C");function go(t){return Mt(t)&&t?.type==="array"}o(go,"fe$1");function Ti(t){return Mt(t)&&t?.type==="struct"}o(Ti,"we$2");function uF(t){return Mt(t)&&t?.type==="ptr"}o(uF,"jn$1");function jMe(t){return Mt(t)&&t?.type==="atomic"}o(jMe,"Gn$1");function dG(t){return Mt(t)&&t?.type==="@align"}o(dG,"Te$2");function pG(t){return Mt(t)&&t?.type==="@size"}o(pG,"ge$1");function WMe(t){return Mt(t)&&t?.type==="@location"}o(WMe,"Ze$1");function HMe(t){return Mt(t)&&t?.type==="@builtin"}o(HMe,"Ne");function hh(t){return Mt(t)&&t?.type==="decorated"}o(hh,"_$1");function mG(t){return Mt(t)&&t.type==="void"}o(mG,"Yn$2");function Il(t){let e=t?.type;return Mt(t)&&(e==="abstractInt"||e==="abstractFloat"||e==="f32"||e==="f16"||e==="i32"||e==="u32")}o(Il,"Qe$2");function wO(t){let e=t?.type;return Mt(t)&&(e==="f16"||e==="vec2h"||e==="vec3h"||e==="vec4h")}o(wO,"Hn$2");Object.assign(globalThis,{__TYPEGPU_AUTONAME__:o((t,e)=>(Px(t)&&Mt(t)&&!xe(t)&&t.$name(e),t),"__TYPEGPU_AUTONAME__")});var nC=globalThis;function gG(t){return!!t?.[In]}o(gG,"et$2");function xe(t){return gG(t)?xe(t[In]):$x(t)?.name}o(xe,"D");function Ut(t,e){gG(t)&&Ut(t[In],e),GMe(t,{name:e})}o(Ut,"k");function Px(t){return!!t?.$name}o(Px,"Yt$1");function Wg(t){return!!$x(t)?.ast}o(Wg,"tt$2");function $x(t){return nC.__TYPEGPU_META__.get(t)}o($x,"nt$2");function GMe(t,e){nC.__TYPEGPU_META__??=new WeakMap;let n=nC.__TYPEGPU_META__;n.set(t,{...n.get(t),...e})}o(GMe,"Ht$1");var yG=["uint8","uint8x2","uint8x4","sint8","sint8x2","sint8x4","unorm8","unorm8x2","unorm8x4","snorm8","snorm8x2","snorm8x4","uint16","uint16x2","uint16x4","sint16","sint16x2","sint16x4","unorm16","unorm16x2","unorm16x4","snorm16","snorm16x2","snorm16x4","float16","float16x2","float16x4","float32","float32x2","float32x3","float32x4","uint32","uint32x2","uint32x3","uint32x4","sint32","sint32x2","sint32x3","sint32x4","unorm10-10-10-2","unorm8x4-bgra"],qMe={f32:"float32",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",f16:"float16",vec2h:"float16x2",vec4h:"float16x4",u32:"uint32",vec2u:"uint32x2",vec3u:"uint32x3",vec4u:"uint32x4",i32:"sint32",vec2i:"sint32x2",vec3i:"sint32x3",vec4i:"sint32x4"};function ec(t){return t.type==="decorated"||t.type==="loose-decorated"?t.inner:t}o(ec,"S$2");var KMe=["unstruct","disarray","loose-decorated",...yG];function r1(t){return Mt(t)&&KMe.includes(t?.type)}o(r1,"Re$1");function im(t){return Mt(t)&&t?.type==="disarray"}o(im,"ce$1");function _c(t){return Mt(t)&&t?.type==="unstruct"}o(_c,"ye$2");function dh(t){return Mt(t)&&t?.type==="loose-decorated"}o(dh,"I$1");function Hg(t){return t.attribs?.find(dG)?.params[0]}o(Hg,"O$3");function YMe(t){return t.attribs?.find(pG)?.params[0]}o(YMe,"at$1");function tc(t){return t.attribs?.find(WMe)?.params[0]}o(tc,"or$2");function sm(t){return fh(t)||r1(t)}o(sm,"ar$2");var ci={type:"unknown",toString(){return"unknown"}},cF=class{static{o(this,"it")}constructor(e,n,r){this.name=e,this.lhs=n,this.operator=r}},fF=class{static{o(this,"st")}constructor(e){this.matrix=e}},hF=class{static{o(this,"ot")}constructor(e){this.op=e,Ut(this,"consoleLog")}[W]=!0},XMe="Invariant failed";function dl(t,e){if(!t)throw new Error(XMe)}o(dl,"Ve$2");var lg=class rC extends Error{static{o(this,"e")}constructor(e,n){let r=n.map(i=>`- ${Wg(i)?`fn*:${xe(i)}`:i}`);r.length>20&&(r=[...r.slice(0,11),"...",...r.slice(-10)]),super(`Resolution of the following tree failed:
${r.join(`
`)}: ${e&&typeof e=="object"&&"message"in e?e.message:e}`),this.cause=e,this.trace=n,Object.setPrototypeOf(this,rC.prototype)}appendToTrace(e){let n=[e,...this.trace];return new rC(this.cause,n)}},dF=class iC extends Error{static{o(this,"e2")}constructor(e,n){let r=n.map(i=>`- ${i}`);r.length>20&&(r=[...r.slice(0,11),"...",...r.slice(-10)]),super(`Execution of the following tree failed:
${r.join(`
`)}: ${e&&typeof e=="object"&&"message"in e?e.message:e}`),this.cause=e,this.trace=n,Object.setPrototypeOf(this,iC.prototype)}appendToTrace(e){let n=[e,...this.trace];return new iC(this.cause,n)}},JMe=class _G extends Error{static{o(this,"e3")}constructor(e){super(`Missing value for '${e}'`),this.slot=e,Object.setPrototypeOf(this,_G.prototype)}},ZMe=class bG extends Error{static{o(this,"e4")}constructor(e){super(`Buffer '${xe(e)??"<unnamed>"}' is not bindable as a uniform. Use .$usage('uniform') to allow it.`),Object.setPrototypeOf(this,bG.prototype)}},QMe=class wG extends Error{static{o(this,"e5")}constructor(e,n){super(`The function '${e??"<unnamed>"}' is missing links to the following external values: ${n}.`),Object.setPrototypeOf(this,wG.prototype)}},vO=class vG extends Error{static{o(this,"e6")}constructor(e){super(`Missing bind groups for layouts: '${[...e].map(n=>xe(n)??"<unnamed>").join(", ")}'. Please provide it using pipeline.with(bindGroup).(...)`),Object.setPrototypeOf(this,vG.prototype)}},EG=class xG extends Error{static{o(this,"e7")}constructor(e){super(`Missing vertex buffers for layouts: '${[...e].map(n=>xe(n)??"<unnamed>").join(", ")}'. Please provide it using pipeline.with(layout, buffer).(...)`),Object.setPrototypeOf(this,xG.prototype)}},pF=class TG extends Error{static{o(this,"e8")}constructor(e){super(e),Object.setPrototypeOf(this,TG.prototype)}},mF=class SG extends Error{static{o(this,"e9")}constructor(e){super(e),Object.setPrototypeOf(this,SG.prototype)}},ws=class kG extends Error{static{o(this,"e10")}constructor(e){super(e),Object.setPrototypeOf(this,kG.prototype)}};function sC(t){return t?.resourceType==="slot"}o(sC,"wt");function oC(t){return t?.resourceType==="derived"}o(oC,"Tt$1");function aC(t){return t?.[Xc]!==void 0}o(aC,"gt$1");function Lx(t){return t?.resourceType==="accessor"}o(Lx,"dr$1");var AG=class{static{o(this,"ze")}constructor(e,n){this.value=e,this.dataType=n}};function EO(t){return t instanceof AG}o(EO,"Ce$3");function D_(t){return Il(t.dataType)}o(D_,"gr$1");function oe(t,e){return new AG(t,ec(e))}o(oe,"x$1");var CG=class{static{o(this,"Se")}type="normal"},eDe=class{static{o(this,"vt")}type="codegen"},tDe=class{static{o(this,"bt")}constructor(t,e){this.buffers=t,this.vars=e}type="simulate"};function IG(t){return!!t?.[qe]}o(IG,"Jt$1");function xO(t){return t?.[Bi]}o(xO,"Vt$2");function nDe(t){return typeof t=="number"||typeof t=="boolean"||typeof t=="string"||IG(t)||fh(t)||sC(t)||oC(t)||aC(t)}o(nDe,"_r$2");function lC(t){return!!t&&typeof t=="object"&&"getMappedRange"in t&&"mapAsync"in t}o(lC,"Ar$1");var xb=!1;function rDe(t){if(xb)return t();try{return xb=!0,t()}finally{xb=!1}}o(rDe,"Fr$2");function Pv(){return xb}o(Pv,"Pr$2");var wu;function RG(t,e){if(dl(wu===void 0||wu===t),wu===t)return e();wu=t;try{return e()}finally{wu=void 0}}o(RG,"Br$2");function Hf(){return wu}o(Hf,"zt$2");var OG=new CG;function $v(){return wu?.mode??OG}o($v,"Er$2");function $a(){return wu?.mode.type==="codegen"}o($a,"Oe$1");function ee(t,...e){let n=Hf();function r(s){return EO(s)?n.resolve(s.value,s.dataType).value:s}o(r,"r");let i="";for(let s=0;s<t.length;++s){i+=t[s];let a=e[s];Array.isArray(a)?i+=a.filter(l=>l!==void 0).map(r).join(", "):a&&(i+=r(a))}return i}o(ee,"d$2");function Sp(t,e){throw new Error(`Failed to handle ${t} at ${e}`)}o(Sp,"St");var TO={rank:Number.POSITIVE_INFINITY,action:"none"};function Lv(t,e){let n=ec(t),r=ec(e);if(n.type===r.type)return{rank:0,action:"none"};if(n.type==="abstractFloat"){if(r.type==="f32")return{rank:1,action:"none"};if(r.type==="f16")return{rank:2,action:"none"}}if(n.type==="abstractInt"){if(r.type==="i32")return{rank:3,action:"none"};if(r.type==="u32")return{rank:4,action:"none"};if(r.type==="abstractFloat")return{rank:5,action:"none"};if(r.type==="f32")return{rank:6,action:"none"};if(r.type==="f16")return{rank:7,action:"none"}}return Cl(n)&&Cl(r)?Lv(n.primitive,r.primitive):ty(n)&&ty(r)?{rank:0,action:"none"}:TO}o(Lv,"_e$2");function iDe(t,e){let n=ec(t),r=ec(e);if(n.type==="ptr"&&Lv(n.inner,r).rank<Number.POSITIVE_INFINITY)return{rank:0,action:"deref"};if(r.type==="ptr"&&Lv(n,r.inner).rank<Number.POSITIVE_INFINITY)return{rank:1,action:"ref"};let i={f32:0,f16:1,i32:2,u32:3,bool:4};if(n.type in i&&r.type in i){let s=n.type,a=r.type;if(s!==a){let l=i[s];return{rank:i[a]<l?10:20,action:"cast",targetType:r}}}if(n.type==="abstractFloat"){if(r.type==="u32")return{rank:2,action:"cast",targetType:r};if(r.type==="i32")return{rank:1,action:"cast",targetType:r}}return TO}o(iDe,"Zt$1");function sDe(t,e,n){let r=Lv(t,e);return r.rank<Number.POSITIVE_INFINITY?r:n?iDe(t,e):TO}o(sDe,"Qt$1");function gF(t,e,n){let r;for(let s of e){let a=[],l=0;for(let u of t){let c=sDe(u,s,n);if(l+=c.rank,c.rank===Number.POSITIVE_INFINITY)break;a.push(c)}l<(r?.sum??Number.POSITIVE_INFINITY)&&(r={type:s,details:a,sum:l})}if(!r)return;let i=r.details.map((s,a)=>({sourceIndex:a,action:s.action,...s.action==="cast"&&{targetType:s.targetType}}));return{targetType:r.type,actions:i,hasImplicitConversions:i.some(s=>s.action==="cast")}}o(gF,"It");function SO(t,e){if(t.length===0)return;let n=[...new Set((e||t).map(ec))],r=gF(t,n,!1);if(r)return r;let i=gF(t,n,!0);if(i)return i}o(SO,"_t$2");function oDe(t,e,n){if(e.action==="none")return oe(t.value,n);switch(e.action){case"ref":return oe(ee`&${t}`,n);case"deref":return oe(ee`*${t}`,n);case"cast":return n(t);default:Sp(e.action,"applyActionToSnippet")}}o(oDe,"en$2");function ki(t,e){if(t.some(r=>r.type==="unknown"))return;let n=SO(t,e);if(n)return t.map(()=>n.targetType)}o(ki,"Hr$1");function Gg(t,e,n=!0){let r=t.map(s=>s.dataType);if(r.some(s=>s.type==="unknown"))return;let i=SO(r,e);if(i)return t.map((s,a)=>{let l=i.actions[a];return dl(l),oDe(s,l,i.targetType)})}o(Gg,"At");function uC(t,e,n=!0){if(e===t.dataType)return oe(t.value,e);if(t.dataType.type==="unknown")return oe(ee`${oe(t.value,e)}`,e);let r=Gg([t],[e],n);if(!r)throw new ws(`Cannot convert value of type '${t.dataType.type}' to type '${e.type}'`);return r[0]}o(uC,"Dt$1");function aDe(t,e){return Object.keys(t.propTypes).map(n=>{let r=e[n];if(!r)throw new Error(`Missing property ${n}`);let i=t.propTypes[n];return Gg([r],[i])?.[0]??r})}o(aDe,"qr$1");function lDe(t){return typeof t!="string"&&xO(t)===void 0}o(lDe,"tn$2");function gr(t,e,n,r="keep"){let i=o((...s)=>$a()?e(...s):t(...s),"i");return Ut(i,n),i.toString=()=>n,Object.defineProperty(i,W,{value:{jsImpl:t,gpuImpl:e,argConversionHint:r}}),i}o(gr,"$t");var ls=class extends Error{static{o(this,"Ae")}constructor(e){super(e),this.name=this.constructor.name}};function me(t){let e=o((...r)=>{let{argTypes:i,returnType:s}=typeof t.signature=="function"?t.signature(...r.map(l=>l.dataType)):t.signature,a=r.map((l,u)=>uC(l,i[u],!t.ignoreImplicitCastWarning));if(a.every(l=>lDe(l.value))&&typeof t.normalImpl=="function")try{return oe(t.normalImpl(...a.map(l=>l.value)),s)}catch(l){if(!(l instanceof ls))throw l}return oe(t.codegenImpl(...a),s)},"t"),n=o((...r)=>{if($a())return e(...r);if(typeof t.normalImpl=="string")throw new ls(t.normalImpl);return t.normalImpl(...r)},"n");return Ut(n,t.name),n.toString=()=>t.name,Object.defineProperty(n,W,{value:{jsImpl:t.normalImpl,gpuImpl:e,argConversionHint:"keep"}}),n}o(me,"P");var Fx={[W]:!0,type:"abstractInt",toString(){return"abstractInt"}},ko={[W]:!0,type:"abstractFloat",toString(){return"abstractFloat"}},uDe=me({name:"bool",signature:o(t=>({argTypes:t?[t]:[],returnType:bn}),"signature"),normalImpl(t){return t===void 0?!1:typeof t=="boolean"?t:!!t},codegenImpl:o(t=>t.dataType.type==="bool"?ee`${t}`:ee`bool(${t})`,"codegenImpl")}),bn=Object.assign(uDe,{type:"bool"}),cDe=me({name:"u32",signature:o(t=>({argTypes:t?[t]:[],returnType:Me}),"signature"),normalImpl(t){return t===void 0?0:typeof t=="boolean"?t?1:0:(t&4294967295)>>>0},codegenImpl:o(t=>t.dataType.type==="u32"?ee`${t}`:ee`u32(${t})`,"codegenImpl")}),Me=Object.assign(cDe,{type:"u32"}),fDe=me({name:"i32",signature:o(t=>({argTypes:t?[t]:[],returnType:Lt}),"signature"),normalImpl(t){return t===void 0?0:typeof t=="boolean"?t?1:0:t|0},codegenImpl:o(t=>t.dataType.type==="i32"?ee`${t}`:ee`i32(${t})`,"codegenImpl")}),Lt=Object.assign(fDe,{type:"i32"}),hDe=me({name:"f32",signature:o(t=>({argTypes:t?[t]:[],returnType:ne}),"signature"),normalImpl(t){return t===void 0?0:typeof t=="boolean"?t?1:0:Math.fround(t)},codegenImpl:o(t=>t.dataType.type==="f32"?ee`${t}`:ee`f32(${t})`,"codegenImpl")}),ne=Object.assign(hDe,{type:"f32"}),NG=new ArrayBuffer(4),dDe=new Float32Array(NG),pDe=new Uint32Array(NG);function mDe(t){dDe[0]=t;let e=pDe[0],n=e>>>31&1,r=e>>>23&255,i=e&8388607;return r===255?n<<15|31744|(i?512:0):(r=r-127+15,r<=0?r<-10?n<<15:(i=(i|8388608)>>1-r,i=i+4096>>13,n<<15|i):r>=31||(i=i+4096,i&8388608&&(i=0,++r,r>=31))?n<<15|31744:n<<15|r<<10|i>>13)}o(mDe,"cn$1");function gDe(t){let e=t&32768?-1:1,n=t>>10&31,r=t&1023;return n===0?r?e*r*2**-24:e*0:n===31?r?Number.NaN:e===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e*(1+r/1024)*2**(n-15)}o(gDe,"yn");function yDe(t){return gDe(mDe(t))}o(yDe,"ln$1");var _De=me({name:"f16",signature:o(t=>({argTypes:t?[t]:[],returnType:jn}),"signature"),normalImpl(t){return t===void 0?0:typeof t=="boolean"?t?1:0:yDe(t)},codegenImpl:o(t=>t.dataType.type==="f16"?ee`${t}`:ee`f16(${t})`,"codegenImpl")}),jn=Object.assign(_De,{type:"f16"}),kO=class extends Array{static{o(this,"le")}castElement(){return this[W].elementSchema[W].jsImpl}[qe](){let e=this[W].elementSchema;return this.every(n=>!n)?oe(`${this.kind}()`,e):this.every(n=>this[0]===n)?oe(`${this.kind}(${this[0]})`,e):oe(`${this.kind}(${this.join(", ")})`,e)}toString(){return this[qe]().value}get xx(){return new this._Vec2(this[0],this[0])}get xy(){return new this._Vec2(this[0],this[1])}get xz(){return new this._Vec2(this[0],this[2])}get xw(){return new this._Vec2(this[0],this[3])}get yx(){return new this._Vec2(this[1],this[0])}get yy(){return new this._Vec2(this[1],this[1])}get yz(){return new this._Vec2(this[1],this[2])}get yw(){return new this._Vec2(this[1],this[3])}get zx(){return new this._Vec2(this[2],this[0])}get zy(){return new this._Vec2(this[2],this[1])}get zz(){return new this._Vec2(this[2],this[2])}get zw(){return new this._Vec2(this[2],this[3])}get wx(){return new this._Vec2(this[3],this[0])}get wy(){return new this._Vec2(this[3],this[1])}get wz(){return new this._Vec2(this[3],this[2])}get ww(){return new this._Vec2(this[3],this[3])}get xxx(){return new this._Vec3(this[0],this[0],this[0])}get xxy(){return new this._Vec3(this[0],this[0],this[1])}get xxz(){return new this._Vec3(this[0],this[0],this[2])}get xxw(){return new this._Vec3(this[0],this[0],this[3])}get xyx(){return new this._Vec3(this[0],this[1],this[0])}get xyy(){return new this._Vec3(this[0],this[1],this[1])}get xyz(){return new this._Vec3(this[0],this[1],this[2])}get xyw(){return new this._Vec3(this[0],this[1],this[3])}get xzx(){return new this._Vec3(this[0],this[2],this[0])}get xzy(){return new this._Vec3(this[0],this[2],this[1])}get xzz(){return new this._Vec3(this[0],this[2],this[2])}get xzw(){return new this._Vec3(this[0],this[2],this[3])}get xwx(){return new this._Vec3(this[0],this[3],this[0])}get xwy(){return new this._Vec3(this[0],this[3],this[1])}get xwz(){return new this._Vec3(this[0],this[3],this[2])}get xww(){return new this._Vec3(this[0],this[3],this[3])}get yxx(){return new this._Vec3(this[1],this[0],this[0])}get yxy(){return new this._Vec3(this[1],this[0],this[1])}get yxz(){return new this._Vec3(this[1],this[0],this[2])}get yxw(){return new this._Vec3(this[1],this[0],this[3])}get yyx(){return new this._Vec3(this[1],this[1],this[0])}get yyy(){return new this._Vec3(this[1],this[1],this[1])}get yyz(){return new this._Vec3(this[1],this[1],this[2])}get yyw(){return new this._Vec3(this[1],this[1],this[3])}get yzx(){return new this._Vec3(this[1],this[2],this[0])}get yzy(){return new this._Vec3(this[1],this[2],this[1])}get yzz(){return new this._Vec3(this[1],this[2],this[2])}get yzw(){return new this._Vec3(this[1],this[2],this[3])}get ywx(){return new this._Vec3(this[1],this[3],this[0])}get ywy(){return new this._Vec3(this[1],this[3],this[1])}get ywz(){return new this._Vec3(this[1],this[3],this[2])}get yww(){return new this._Vec3(this[1],this[3],this[3])}get zxx(){return new this._Vec3(this[2],this[0],this[0])}get zxy(){return new this._Vec3(this[2],this[0],this[1])}get zxz(){return new this._Vec3(this[2],this[0],this[2])}get zxw(){return new this._Vec3(this[2],this[0],this[3])}get zyx(){return new this._Vec3(this[2],this[1],this[0])}get zyy(){return new this._Vec3(this[2],this[1],this[1])}get zyz(){return new this._Vec3(this[2],this[1],this[2])}get zyw(){return new this._Vec3(this[2],this[1],this[3])}get zzx(){return new this._Vec3(this[2],this[2],this[0])}get zzy(){return new this._Vec3(this[2],this[2],this[1])}get zzz(){return new this._Vec3(this[2],this[2],this[2])}get zzw(){return new this._Vec3(this[2],this[2],this[3])}get zwx(){return new this._Vec3(this[2],this[3],this[0])}get zwy(){return new this._Vec3(this[2],this[3],this[1])}get zwz(){return new this._Vec3(this[2],this[3],this[2])}get zww(){return new this._Vec3(this[2],this[3],this[3])}get wxx(){return new this._Vec3(this[3],this[0],this[0])}get wxy(){return new this._Vec3(this[3],this[0],this[1])}get wxz(){return new this._Vec3(this[3],this[0],this[2])}get wxw(){return new this._Vec3(this[3],this[0],this[3])}get wyx(){return new this._Vec3(this[3],this[1],this[0])}get wyy(){return new this._Vec3(this[3],this[1],this[1])}get wyz(){return new this._Vec3(this[3],this[1],this[2])}get wyw(){return new this._Vec3(this[3],this[1],this[3])}get wzx(){return new this._Vec3(this[3],this[2],this[0])}get wzy(){return new this._Vec3(this[3],this[2],this[1])}get wzz(){return new this._Vec3(this[3],this[2],this[2])}get wzw(){return new this._Vec3(this[3],this[2],this[3])}get wwx(){return new this._Vec3(this[3],this[3],this[0])}get wwy(){return new this._Vec3(this[3],this[3],this[1])}get wwz(){return new this._Vec3(this[3],this[3],this[2])}get www(){return new this._Vec3(this[3],this[3],this[3])}get xxxx(){return new this._Vec4(this[0],this[0],this[0],this[0])}get xxxy(){return new this._Vec4(this[0],this[0],this[0],this[1])}get xxxz(){return new this._Vec4(this[0],this[0],this[0],this[2])}get xxxw(){return new this._Vec4(this[0],this[0],this[0],this[3])}get xxyx(){return new this._Vec4(this[0],this[0],this[1],this[0])}get xxyy(){return new this._Vec4(this[0],this[0],this[1],this[1])}get xxyz(){return new this._Vec4(this[0],this[0],this[1],this[2])}get xxyw(){return new this._Vec4(this[0],this[0],this[1],this[3])}get xxzx(){return new this._Vec4(this[0],this[0],this[2],this[0])}get xxzy(){return new this._Vec4(this[0],this[0],this[2],this[1])}get xxzz(){return new this._Vec4(this[0],this[0],this[2],this[2])}get xxzw(){return new this._Vec4(this[0],this[0],this[2],this[3])}get xxwx(){return new this._Vec4(this[0],this[0],this[3],this[0])}get xxwy(){return new this._Vec4(this[0],this[0],this[3],this[1])}get xxwz(){return new this._Vec4(this[0],this[0],this[3],this[2])}get xxww(){return new this._Vec4(this[0],this[0],this[3],this[3])}get xyxx(){return new this._Vec4(this[0],this[1],this[0],this[0])}get xyxy(){return new this._Vec4(this[0],this[1],this[0],this[1])}get xyxz(){return new this._Vec4(this[0],this[1],this[0],this[2])}get xyxw(){return new this._Vec4(this[0],this[1],this[0],this[3])}get xyyx(){return new this._Vec4(this[0],this[1],this[1],this[0])}get xyyy(){return new this._Vec4(this[0],this[1],this[1],this[1])}get xyyz(){return new this._Vec4(this[0],this[1],this[1],this[2])}get xyyw(){return new this._Vec4(this[0],this[1],this[1],this[3])}get xyzx(){return new this._Vec4(this[0],this[1],this[2],this[0])}get xyzy(){return new this._Vec4(this[0],this[1],this[2],this[1])}get xyzz(){return new this._Vec4(this[0],this[1],this[2],this[2])}get xyzw(){return new this._Vec4(this[0],this[1],this[2],this[3])}get xywx(){return new this._Vec4(this[0],this[1],this[3],this[0])}get xywy(){return new this._Vec4(this[0],this[1],this[3],this[1])}get xywz(){return new this._Vec4(this[0],this[1],this[3],this[2])}get xyww(){return new this._Vec4(this[0],this[1],this[3],this[3])}get xzxx(){return new this._Vec4(this[0],this[2],this[0],this[0])}get xzxy(){return new this._Vec4(this[0],this[2],this[0],this[1])}get xzxz(){return new this._Vec4(this[0],this[2],this[0],this[2])}get xzxw(){return new this._Vec4(this[0],this[2],this[0],this[3])}get xzyx(){return new this._Vec4(this[0],this[2],this[1],this[0])}get xzyy(){return new this._Vec4(this[0],this[2],this[1],this[1])}get xzyz(){return new this._Vec4(this[0],this[2],this[1],this[2])}get xzyw(){return new this._Vec4(this[0],this[2],this[1],this[3])}get xzzx(){return new this._Vec4(this[0],this[2],this[2],this[0])}get xzzy(){return new this._Vec4(this[0],this[2],this[2],this[1])}get xzzz(){return new this._Vec4(this[0],this[2],this[2],this[2])}get xzzw(){return new this._Vec4(this[0],this[2],this[2],this[3])}get xzwx(){return new this._Vec4(this[0],this[2],this[3],this[0])}get xzwy(){return new this._Vec4(this[0],this[2],this[3],this[1])}get xzwz(){return new this._Vec4(this[0],this[2],this[3],this[2])}get xzww(){return new this._Vec4(this[0],this[2],this[3],this[3])}get xwxx(){return new this._Vec4(this[0],this[3],this[0],this[0])}get xwxy(){return new this._Vec4(this[0],this[3],this[0],this[1])}get xwxz(){return new this._Vec4(this[0],this[3],this[0],this[2])}get xwxw(){return new this._Vec4(this[0],this[3],this[0],this[3])}get xwyx(){return new this._Vec4(this[0],this[3],this[1],this[0])}get xwyy(){return new this._Vec4(this[0],this[3],this[1],this[1])}get xwyz(){return new this._Vec4(this[0],this[3],this[1],this[2])}get xwyw(){return new this._Vec4(this[0],this[3],this[1],this[3])}get xwzx(){return new this._Vec4(this[0],this[3],this[2],this[0])}get xwzy(){return new this._Vec4(this[0],this[3],this[2],this[1])}get xwzz(){return new this._Vec4(this[0],this[3],this[2],this[2])}get xwzw(){return new this._Vec4(this[0],this[3],this[2],this[3])}get xwwx(){return new this._Vec4(this[0],this[3],this[3],this[0])}get xwwy(){return new this._Vec4(this[0],this[3],this[3],this[1])}get xwwz(){return new this._Vec4(this[0],this[3],this[3],this[2])}get xwww(){return new this._Vec4(this[0],this[3],this[3],this[3])}get yxxx(){return new this._Vec4(this[1],this[0],this[0],this[0])}get yxxy(){return new this._Vec4(this[1],this[0],this[0],this[1])}get yxxz(){return new this._Vec4(this[1],this[0],this[0],this[2])}get yxxw(){return new this._Vec4(this[1],this[0],this[0],this[3])}get yxyx(){return new this._Vec4(this[1],this[0],this[1],this[0])}get yxyy(){return new this._Vec4(this[1],this[0],this[1],this[1])}get yxyz(){return new this._Vec4(this[1],this[0],this[1],this[2])}get yxyw(){return new this._Vec4(this[1],this[0],this[1],this[3])}get yxzx(){return new this._Vec4(this[1],this[0],this[2],this[0])}get yxzy(){return new this._Vec4(this[1],this[0],this[2],this[1])}get yxzz(){return new this._Vec4(this[1],this[0],this[2],this[2])}get yxzw(){return new this._Vec4(this[1],this[0],this[2],this[3])}get yxwx(){return new this._Vec4(this[1],this[0],this[3],this[0])}get yxwy(){return new this._Vec4(this[1],this[0],this[3],this[1])}get yxwz(){return new this._Vec4(this[1],this[0],this[3],this[2])}get yxww(){return new this._Vec4(this[1],this[0],this[3],this[3])}get yyxx(){return new this._Vec4(this[1],this[1],this[0],this[0])}get yyxy(){return new this._Vec4(this[1],this[1],this[0],this[1])}get yyxz(){return new this._Vec4(this[1],this[1],this[0],this[2])}get yyxw(){return new this._Vec4(this[1],this[1],this[0],this[3])}get yyyx(){return new this._Vec4(this[1],this[1],this[1],this[0])}get yyyy(){return new this._Vec4(this[1],this[1],this[1],this[1])}get yyyz(){return new this._Vec4(this[1],this[1],this[1],this[2])}get yyyw(){return new this._Vec4(this[1],this[1],this[1],this[3])}get yyzx(){return new this._Vec4(this[1],this[1],this[2],this[0])}get yyzy(){return new this._Vec4(this[1],this[1],this[2],this[1])}get yyzz(){return new this._Vec4(this[1],this[1],this[2],this[2])}get yyzw(){return new this._Vec4(this[1],this[1],this[2],this[3])}get yywx(){return new this._Vec4(this[1],this[1],this[3],this[0])}get yywy(){return new this._Vec4(this[1],this[1],this[3],this[1])}get yywz(){return new this._Vec4(this[1],this[1],this[3],this[2])}get yyww(){return new this._Vec4(this[1],this[1],this[3],this[3])}get yzxx(){return new this._Vec4(this[1],this[2],this[0],this[0])}get yzxy(){return new this._Vec4(this[1],this[2],this[0],this[1])}get yzxz(){return new this._Vec4(this[1],this[2],this[0],this[2])}get yzxw(){return new this._Vec4(this[1],this[2],this[0],this[3])}get yzyx(){return new this._Vec4(this[1],this[2],this[1],this[0])}get yzyy(){return new this._Vec4(this[1],this[2],this[1],this[1])}get yzyz(){return new this._Vec4(this[1],this[2],this[1],this[2])}get yzyw(){return new this._Vec4(this[1],this[2],this[1],this[3])}get yzzx(){return new this._Vec4(this[1],this[2],this[2],this[0])}get yzzy(){return new this._Vec4(this[1],this[2],this[2],this[1])}get yzzz(){return new this._Vec4(this[1],this[2],this[2],this[2])}get yzzw(){return new this._Vec4(this[1],this[2],this[2],this[3])}get yzwx(){return new this._Vec4(this[1],this[2],this[3],this[0])}get yzwy(){return new this._Vec4(this[1],this[2],this[3],this[1])}get yzwz(){return new this._Vec4(this[1],this[2],this[3],this[2])}get yzww(){return new this._Vec4(this[1],this[2],this[3],this[3])}get ywxx(){return new this._Vec4(this[1],this[3],this[0],this[0])}get ywxy(){return new this._Vec4(this[1],this[3],this[0],this[1])}get ywxz(){return new this._Vec4(this[1],this[3],this[0],this[2])}get ywxw(){return new this._Vec4(this[1],this[3],this[0],this[3])}get ywyx(){return new this._Vec4(this[1],this[3],this[1],this[0])}get ywyy(){return new this._Vec4(this[1],this[3],this[1],this[1])}get ywyz(){return new this._Vec4(this[1],this[3],this[1],this[2])}get ywyw(){return new this._Vec4(this[1],this[3],this[1],this[3])}get ywzx(){return new this._Vec4(this[1],this[3],this[2],this[0])}get ywzy(){return new this._Vec4(this[1],this[3],this[2],this[1])}get ywzz(){return new this._Vec4(this[1],this[3],this[2],this[2])}get ywzw(){return new this._Vec4(this[1],this[3],this[2],this[3])}get ywwx(){return new this._Vec4(this[1],this[3],this[3],this[0])}get ywwy(){return new this._Vec4(this[1],this[3],this[3],this[1])}get ywwz(){return new this._Vec4(this[1],this[3],this[3],this[2])}get ywww(){return new this._Vec4(this[1],this[3],this[3],this[3])}get zxxx(){return new this._Vec4(this[2],this[0],this[0],this[0])}get zxxy(){return new this._Vec4(this[2],this[0],this[0],this[1])}get zxxz(){return new this._Vec4(this[2],this[0],this[0],this[2])}get zxxw(){return new this._Vec4(this[2],this[0],this[0],this[3])}get zxyx(){return new this._Vec4(this[2],this[0],this[1],this[0])}get zxyy(){return new this._Vec4(this[2],this[0],this[1],this[1])}get zxyz(){return new this._Vec4(this[2],this[0],this[1],this[2])}get zxyw(){return new this._Vec4(this[2],this[0],this[1],this[3])}get zxzx(){return new this._Vec4(this[2],this[0],this[2],this[0])}get zxzy(){return new this._Vec4(this[2],this[0],this[2],this[1])}get zxzz(){return new this._Vec4(this[2],this[0],this[2],this[2])}get zxzw(){return new this._Vec4(this[2],this[0],this[2],this[3])}get zxwx(){return new this._Vec4(this[2],this[0],this[3],this[0])}get zxwy(){return new this._Vec4(this[2],this[0],this[3],this[1])}get zxwz(){return new this._Vec4(this[2],this[0],this[3],this[2])}get zxww(){return new this._Vec4(this[2],this[0],this[3],this[3])}get zyxx(){return new this._Vec4(this[2],this[1],this[0],this[0])}get zyxy(){return new this._Vec4(this[2],this[1],this[0],this[1])}get zyxz(){return new this._Vec4(this[2],this[1],this[0],this[2])}get zyxw(){return new this._Vec4(this[2],this[1],this[0],this[3])}get zyyx(){return new this._Vec4(this[2],this[1],this[1],this[0])}get zyyy(){return new this._Vec4(this[2],this[1],this[1],this[1])}get zyyz(){return new this._Vec4(this[2],this[1],this[1],this[2])}get zyyw(){return new this._Vec4(this[2],this[1],this[1],this[3])}get zyzx(){return new this._Vec4(this[2],this[1],this[2],this[0])}get zyzy(){return new this._Vec4(this[2],this[1],this[2],this[1])}get zyzz(){return new this._Vec4(this[2],this[1],this[2],this[2])}get zyzw(){return new this._Vec4(this[2],this[1],this[2],this[3])}get zywx(){return new this._Vec4(this[2],this[1],this[3],this[0])}get zywy(){return new this._Vec4(this[2],this[1],this[3],this[1])}get zywz(){return new this._Vec4(this[2],this[1],this[3],this[2])}get zyww(){return new this._Vec4(this[2],this[1],this[3],this[3])}get zzxx(){return new this._Vec4(this[2],this[2],this[0],this[0])}get zzxy(){return new this._Vec4(this[2],this[2],this[0],this[1])}get zzxz(){return new this._Vec4(this[2],this[2],this[0],this[2])}get zzxw(){return new this._Vec4(this[2],this[2],this[0],this[3])}get zzyx(){return new this._Vec4(this[2],this[2],this[1],this[0])}get zzyy(){return new this._Vec4(this[2],this[2],this[1],this[1])}get zzyz(){return new this._Vec4(this[2],this[2],this[1],this[2])}get zzyw(){return new this._Vec4(this[2],this[2],this[1],this[3])}get zzzx(){return new this._Vec4(this[2],this[2],this[2],this[0])}get zzzy(){return new this._Vec4(this[2],this[2],this[2],this[1])}get zzzz(){return new this._Vec4(this[2],this[2],this[2],this[2])}get zzzw(){return new this._Vec4(this[2],this[2],this[2],this[3])}get zzwx(){return new this._Vec4(this[2],this[2],this[3],this[0])}get zzwy(){return new this._Vec4(this[2],this[2],this[3],this[1])}get zzwz(){return new this._Vec4(this[2],this[2],this[3],this[2])}get zzww(){return new this._Vec4(this[2],this[2],this[3],this[3])}get zwxx(){return new this._Vec4(this[2],this[3],this[0],this[0])}get zwxy(){return new this._Vec4(this[2],this[3],this[0],this[1])}get zwxz(){return new this._Vec4(this[2],this[3],this[0],this[2])}get zwxw(){return new this._Vec4(this[2],this[3],this[0],this[3])}get zwyx(){return new this._Vec4(this[2],this[3],this[1],this[0])}get zwyy(){return new this._Vec4(this[2],this[3],this[1],this[1])}get zwyz(){return new this._Vec4(this[2],this[3],this[1],this[2])}get zwyw(){return new this._Vec4(this[2],this[3],this[1],this[3])}get zwzx(){return new this._Vec4(this[2],this[3],this[2],this[0])}get zwzy(){return new this._Vec4(this[2],this[3],this[2],this[1])}get zwzz(){return new this._Vec4(this[2],this[3],this[2],this[2])}get zwzw(){return new this._Vec4(this[2],this[3],this[2],this[3])}get zwwx(){return new this._Vec4(this[2],this[3],this[3],this[0])}get zwwy(){return new this._Vec4(this[2],this[3],this[3],this[1])}get zwwz(){return new this._Vec4(this[2],this[3],this[3],this[2])}get zwww(){return new this._Vec4(this[2],this[3],this[3],this[3])}get wxxx(){return new this._Vec4(this[3],this[0],this[0],this[0])}get wxxy(){return new this._Vec4(this[3],this[0],this[0],this[1])}get wxxz(){return new this._Vec4(this[3],this[0],this[0],this[2])}get wxxw(){return new this._Vec4(this[3],this[0],this[0],this[3])}get wxyx(){return new this._Vec4(this[3],this[0],this[1],this[0])}get wxyy(){return new this._Vec4(this[3],this[0],this[1],this[1])}get wxyz(){return new this._Vec4(this[3],this[0],this[1],this[2])}get wxyw(){return new this._Vec4(this[3],this[0],this[1],this[3])}get wxzx(){return new this._Vec4(this[3],this[0],this[2],this[0])}get wxzy(){return new this._Vec4(this[3],this[0],this[2],this[1])}get wxzz(){return new this._Vec4(this[3],this[0],this[2],this[2])}get wxzw(){return new this._Vec4(this[3],this[0],this[2],this[3])}get wxwx(){return new this._Vec4(this[3],this[0],this[3],this[0])}get wxwy(){return new this._Vec4(this[3],this[0],this[3],this[1])}get wxwz(){return new this._Vec4(this[3],this[0],this[3],this[2])}get wxww(){return new this._Vec4(this[3],this[0],this[3],this[3])}get wyxx(){return new this._Vec4(this[3],this[1],this[0],this[0])}get wyxy(){return new this._Vec4(this[3],this[1],this[0],this[1])}get wyxz(){return new this._Vec4(this[3],this[1],this[0],this[2])}get wyxw(){return new this._Vec4(this[3],this[1],this[0],this[3])}get wyyx(){return new this._Vec4(this[3],this[1],this[1],this[0])}get wyyy(){return new this._Vec4(this[3],this[1],this[1],this[1])}get wyyz(){return new this._Vec4(this[3],this[1],this[1],this[2])}get wyyw(){return new this._Vec4(this[3],this[1],this[1],this[3])}get wyzx(){return new this._Vec4(this[3],this[1],this[2],this[0])}get wyzy(){return new this._Vec4(this[3],this[1],this[2],this[1])}get wyzz(){return new this._Vec4(this[3],this[1],this[2],this[2])}get wyzw(){return new this._Vec4(this[3],this[1],this[2],this[3])}get wywx(){return new this._Vec4(this[3],this[1],this[3],this[0])}get wywy(){return new this._Vec4(this[3],this[1],this[3],this[1])}get wywz(){return new this._Vec4(this[3],this[1],this[3],this[2])}get wyww(){return new this._Vec4(this[3],this[1],this[3],this[3])}get wzxx(){return new this._Vec4(this[3],this[2],this[0],this[0])}get wzxy(){return new this._Vec4(this[3],this[2],this[0],this[1])}get wzxz(){return new this._Vec4(this[3],this[2],this[0],this[2])}get wzxw(){return new this._Vec4(this[3],this[2],this[0],this[3])}get wzyx(){return new this._Vec4(this[3],this[2],this[1],this[0])}get wzyy(){return new this._Vec4(this[3],this[2],this[1],this[1])}get wzyz(){return new this._Vec4(this[3],this[2],this[1],this[2])}get wzyw(){return new this._Vec4(this[3],this[2],this[1],this[3])}get wzzx(){return new this._Vec4(this[3],this[2],this[2],this[0])}get wzzy(){return new this._Vec4(this[3],this[2],this[2],this[1])}get wzzz(){return new this._Vec4(this[3],this[2],this[2],this[2])}get wzzw(){return new this._Vec4(this[3],this[2],this[2],this[3])}get wzwx(){return new this._Vec4(this[3],this[2],this[3],this[0])}get wzwy(){return new this._Vec4(this[3],this[2],this[3],this[1])}get wzwz(){return new this._Vec4(this[3],this[2],this[3],this[2])}get wzww(){return new this._Vec4(this[3],this[2],this[3],this[3])}get wwxx(){return new this._Vec4(this[3],this[3],this[0],this[0])}get wwxy(){return new this._Vec4(this[3],this[3],this[0],this[1])}get wwxz(){return new this._Vec4(this[3],this[3],this[0],this[2])}get wwxw(){return new this._Vec4(this[3],this[3],this[0],this[3])}get wwyx(){return new this._Vec4(this[3],this[3],this[1],this[0])}get wwyy(){return new this._Vec4(this[3],this[3],this[1],this[1])}get wwyz(){return new this._Vec4(this[3],this[3],this[1],this[2])}get wwyw(){return new this._Vec4(this[3],this[3],this[1],this[3])}get wwzx(){return new this._Vec4(this[3],this[3],this[2],this[0])}get wwzy(){return new this._Vec4(this[3],this[3],this[2],this[1])}get wwzz(){return new this._Vec4(this[3],this[3],this[2],this[2])}get wwzw(){return new this._Vec4(this[3],this[3],this[2],this[3])}get wwwx(){return new this._Vec4(this[3],this[3],this[3],this[0])}get wwwy(){return new this._Vec4(this[3],this[3],this[3],this[1])}get wwwz(){return new this._Vec4(this[3],this[3],this[3],this[2])}get wwww(){return new this._Vec4(this[3],this[3],this[3],this[3])}},i1=class extends kO{static{o(this,"U")}e0;e1;constructor(e,n){super(2),this.e0=this.castElement()(e),this.e1=this.castElement()(n??e)}get 0(){return this.e0}get 1(){return this.e1}set 0(e){this.e0=this.castElement()(e)}set 1(e){this.e1=this.castElement()(e)}get x(){return this[0]}get y(){return this[1]}set x(e){this[0]=this.castElement()(e)}set y(e){this[1]=this.castElement()(e)}},s1=class extends kO{static{o(this,"N")}e0;e1;e2;constructor(e,n,r){super(3),this.e0=this.castElement()(e),this.e1=this.castElement()(n??e),this.e2=this.castElement()(r??e)}get 0(){return this.e0}get 1(){return this.e1}get 2(){return this.e2}set 0(e){this.e0=this.castElement()(e)}set 1(e){this.e1=this.castElement()(e)}set 2(e){this.e2=this.castElement()(e)}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=this.castElement()(e)}set y(e){this[1]=this.castElement()(e)}set z(e){this[2]=this.castElement()(e)}},o1=class extends kO{static{o(this,"R")}e0;e1;e2;e3;constructor(e,n,r,i){super(4),this.e0=this.castElement()(e),this.e1=this.castElement()(n??e),this.e2=this.castElement()(r??e),this.e3=this.castElement()(i??e)}get 0(){return this.e0}get 1(){return this.e1}get 2(){return this.e2}get 3(){return this.e3}set 0(e){this.e0=this.castElement()(e)}set 1(e){this.e1=this.castElement()(e)}set 2(e){this.e2=this.castElement()(e)}set 3(e){this.e3=this.castElement()(e)}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set w(e){this[3]=e}},AO=class MG extends i1{static{o(this,"e11")}get[W](){return{elementSchema:ne}}get kind(){return"vec2f"}get _Vec2(){return MG}get _Vec3(){return NO}get _Vec4(){return LO}},CO=class DG extends i1{static{o(this,"e12")}get[W](){return{elementSchema:jn}}get kind(){return"vec2h"}get _Vec2(){return DG}get _Vec3(){return MO}get _Vec4(){return FO}},IO=class PG extends i1{static{o(this,"e13")}get[W](){return{elementSchema:Lt}}get kind(){return"vec2i"}get _Vec2(){return PG}get _Vec3(){return DO}get _Vec4(){return BO}},RO=class $G extends i1{static{o(this,"e14")}get[W](){return{elementSchema:Me}}get kind(){return"vec2u"}get _Vec2(){return $G}get _Vec3(){return PO}get _Vec4(){return UO}},OO=class LG extends i1{static{o(this,"e15")}get[W](){return{elementSchema:bn}}get kind(){return"vec2<bool>"}get _Vec2(){return LG}get _Vec3(){return $O}get _Vec4(){return zO}},NO=class FG extends s1{static{o(this,"e16")}get[W](){return{elementSchema:ne}}get kind(){return"vec3f"}get _Vec2(){return AO}get _Vec3(){return FG}get _Vec4(){return LO}},MO=class BG extends s1{static{o(this,"e17")}get[W](){return{elementSchema:jn}}get kind(){return"vec3h"}get _Vec2(){return CO}get _Vec3(){return BG}get _Vec4(){return FO}},DO=class UG extends s1{static{o(this,"e18")}get[W](){return{elementSchema:Lt}}get kind(){return"vec3i"}get _Vec2(){return IO}get _Vec3(){return UG}get _Vec4(){return BO}},PO=class zG extends s1{static{o(this,"e19")}get[W](){return{elementSchema:Me}}get kind(){return"vec3u"}get _Vec2(){return RO}get _Vec3(){return zG}get _Vec4(){return UO}},$O=class VG extends s1{static{o(this,"e20")}get[W](){return{elementSchema:bn}}get kind(){return"vec3<bool>"}get _Vec2(){return OO}get _Vec3(){return VG}get _Vec4(){return zO}},LO=class jG extends o1{static{o(this,"e21")}get[W](){return{elementSchema:ne}}get kind(){return"vec4f"}get _Vec2(){return AO}get _Vec3(){return NO}get _Vec4(){return jG}},FO=class WG extends o1{static{o(this,"e22")}get[W](){return{elementSchema:jn}}get kind(){return"vec4h"}get _Vec2(){return CO}get _Vec3(){return MO}get _Vec4(){return WG}},BO=class HG extends o1{static{o(this,"e23")}get[W](){return{elementSchema:Lt}}get kind(){return"vec4i"}get _Vec2(){return IO}get _Vec3(){return DO}get _Vec4(){return HG}},UO=class GG extends o1{static{o(this,"e24")}get[W](){return{elementSchema:Me}}get kind(){return"vec4u"}get _Vec2(){return RO}get _Vec3(){return PO}get _Vec4(){return GG}},zO=class qG extends o1{static{o(this,"e25")}get[W](){return{elementSchema:bn}}get kind(){return"vec4<bool>"}get _Vec2(){return OO}get _Vec3(){return $O}get _Vec4(){return qG}},Ht=Ai(AO,ne),xa=Ai(CO,jn),kr=Ai(IO,Lt),Zi=Ai(RO,Me),ph=Ai(OO,bn),Rr=Ai(NO,ne),Ta=Ai(MO,jn),us=Ai(DO,Lt),Vn=Ai(PO,Me),mh=Ai($O,bn),se=Ai(LO,ne),Sa=Ai(FO,jn),Yt=Ai(BO,Lt),un=Ai(UO,Me),gh=Ai(zO,bn),Fv={vec2f:Ht,vec2h:xa,vec2i:kr,vec2u:Zi,"vec2<bool>":ph,vec3f:Rr,vec3h:Ta,vec3i:us,vec3u:Vn,"vec3<bool>":mh,vec4f:se,vec4h:Sa,vec4i:Yt,vec4u:un,"vec4<bool>":gh};function Ai(t,e){let{kind:n,length:r}=new t,i=me({name:n,signature:o((...a)=>({argTypes:a.map(l=>{let u=ec(l);return Cl(u)?u:e}),returnType:s}),"signature"),normalImpl:o((...a)=>{let l=new Array(a.length),u=0;for(let c of a)if(typeof c=="number"||typeof c=="boolean")l[u++]=c;else for(let f=0;f<c.length;++f)l[u++]=c[f];if(l.length<=1||l.length===r)return new t(...l);throw new Error(`'${n}' constructor called with invalid number of arguments.`)},"normalImpl"),ignoreImplicitCastWarning:!0,codegenImpl:o((...a)=>ee`${n}(${a})`,"codegenImpl")}),s=Object.assign(i,{type:n,primitive:e,[rm]:void 0});return s}o(Ai,"f$1");var nc={uint8:Me,uint8x2:Zi,uint8x4:un,sint8:Lt,sint8x2:kr,sint8x4:Yt,unorm8:ne,unorm8x2:Ht,unorm8x4:se,snorm8:ne,snorm8x2:Ht,snorm8x4:se,uint16:Me,uint16x2:Zi,uint16x4:un,sint16:Lt,sint16x2:kr,sint16x4:Yt,unorm16:ne,unorm16x2:Ht,unorm16x4:se,snorm16:ne,snorm16x2:Ht,snorm16x4:se,float16:ne,float16x2:Ht,float16x4:se,float32:ne,float32x2:Ht,float32x3:Rr,float32x4:se,uint32:Me,uint32x2:Zi,uint32x3:Vn,uint32x4:un,sint32:Lt,sint32x2:kr,sint32x3:us,sint32x4:Yt,"unorm10-10-10-2":se,"unorm8x4-bgra":se},KG=new Set(Object.keys(nc));function bDe(t){return Mt(t)&&KG.has(t?.type)}o(bDe,"ds");function ny(t){let e=String(t);if(e!=="[object Object]")return e;try{return JSON.stringify(t)}catch(n){return console.error("Error parsing JSON:",n),"<invalid json>"}}o(ny,"Pt$1");function cC(t){return fn(t)||Qo(t)?t.toString():Array.isArray(t)?`[${t.map(cC).join(", ")}]`:t&&typeof t=="object"?`{ ${Object.entries(t).map(([e,n])=>`${e}: ${cC(n)}`).join(", ")} }`:String(t)}o(cC,"Ft$1");var wDe={f32:4,f16:2,i32:4,u32:4,bool:4,u16:2,vec2f:8,vec2h:4,vec2i:8,vec2u:8,vec2b:8,vec3f:16,vec3h:8,vec3i:16,vec3u:16,vec3b:16,vec4f:16,vec4h:8,vec4i:16,vec4u:16,vec4b:16,mat2x2f:8,mat3x3f:16,mat4x4f:16,atomic:4};function vDe(t){let e=t?.type,n=wDe[e];if(n!==void 0)return n;if(Ti(t))return Object.values(t.propTypes).map(Cn).reduce((r,i)=>r>i?r:i);if(go(t))return Cn(t.elementType);if(_c(t)){let r=Object.values(t.propTypes)[0];return r?Hg(r)??1:1}if(im(t))return Hg(t.elementType)??1;if(hh(t)||dh(t))return Hg(t)??Cn(t.inner);if(KG.has(e))return 1;throw new Error(`Cannot determine alignment of data: ${ny(t)}`)}o(vDe,"gn$1");function EDe(t){if(_c(t)){let e=Object.values(t.propTypes)[0];return e?Ms(e):1}return im(t)?Ms(t.elementType):dh(t)?Hg(t)??Ms(t.inner):Hg(t)??1}o(EDe,"vn$1");var yF=new WeakMap,_F=new WeakMap;function Cn(t){let e=yF.get(t);return e===void 0&&(e=vDe(t),yF.set(t,e)),e}o(Cn,"V");function Ms(t){let e=_F.get(t);return e===void 0&&(e=EDe(t),_F.set(t,e)),e}o(Ms,"re$1");var is=o((t,e)=>{let n=e-1,r=~n;return t&n?(t&r)+e:t},"ie$2"),xDe={bool:4,f32:4,f16:2,i32:4,u32:4,u16:2,vec2f:8,vec2h:4,vec2i:8,vec2u:8,"vec2<bool>":8,vec3f:12,vec3h:6,vec3i:12,vec3u:12,"vec3<bool>":12,vec4f:16,vec4h:8,vec4i:16,vec4u:16,"vec4<bool>":16,mat2x2f:16,mat3x3f:48,mat4x4f:64,uint8:1,uint8x2:2,uint8x4:4,sint8:1,sint8x2:2,sint8x4:4,unorm8:1,unorm8x2:2,unorm8x4:4,snorm8:1,snorm8x2:2,snorm8x4:4,uint16:2,uint16x2:4,uint16x4:8,sint16:2,sint16x2:4,sint16x4:8,unorm16:2,unorm16x2:4,unorm16x4:8,snorm16:2,snorm16x2:4,snorm16x4:8,float16:2,float16x2:4,float16x4:8,float32:4,float32x2:8,float32x3:12,float32x4:16,uint32:4,uint32x2:8,uint32x3:12,uint32x4:16,sint32:4,sint32x2:8,sint32x3:12,sint32x4:16,"unorm10-10-10-2":4,"unorm8x4-bgra":4,atomic:4};function TDe(t){let e=0,n=t.propTypes;for(let r of Object.values(n)){if(Number.isNaN(e))throw new Error("Only the last property of a struct can be unbounded");if(e=is(e,Cn(r)),e+=dt(r),Number.isNaN(e)&&r.type!=="array")throw new Error("Cannot nest unbounded struct within another struct")}return is(e,Cn(t))}o(TDe,"Vn$1");function SDe(t){let e=0,n=t.propTypes;for(let r of Object.values(n)){let i=Ms(r);e=is(e,i),e+=dt(r)}return e}o(SDe,"zn$1");function kDe(t){let e=xDe[t?.type];if(e!==void 0)return e;if(Ti(t))return TDe(t);if(_c(t))return SDe(t);if(go(t)){if(t.elementCount===0)return Number.NaN;let n=Cn(t.elementType);return is(dt(t.elementType),n)*t.elementCount}if(im(t)){let n=Ms(t.elementType);return is(dt(t.elementType),n)*t.elementCount}if(hh(t)||dh(t))return YMe(t)??dt(t.inner);throw new Error(`Cannot determine size of data: ${t}`)}o(kDe,"Sn$1");var bF=new WeakMap;function dt(t){let e=bF.get(t);return e===void 0&&(e=kDe(t),bF.set(t,e)),e}o(dt,"z");function O7e(t){return dt(t)}o(O7e,"$s");function YG(t,e){return hh(t)?new wF(t.inner,[e,...t.attribs]):dh(t)?new vF(t.inner,[e,...t.attribs]):r1(t)?new vF(t,[e]):new wF(t,[e])}o(YG,"W");function fC(t,e){return YG(e,{[W]:!0,type:"@location",params:[t]})}o(fC,"Ws");function a1(t){return(hh(t)||dh(t))&&t.attribs.find(HMe)!==void 0}o(a1,"In$1");function VO(t){return!hh(t)&&!dh(t)?"":t.attribs.map(e=>e.params.length===0?`${e.type} `:`${e.type}(${e.params.join(", ")}) `).join("")}o(VO,"Ms$1");var XG=class{static{o(this,"$e")}constructor(e,n){this.inner=e,this.attribs=n;let r=n.find(dG)?.params[0],i=n.find(pG)?.params[0];if(r!==void 0){if(r<=0)throw new Error(`Custom data alignment must be a positive number, got: ${r}.`);if(Math.log2(r)%1!==0)throw new Error(`Alignment has to be a power of 2, got: ${r}.`);if(fh(this.inner)&&r%Cn(this.inner)!==0)throw new Error(`Custom alignment has to be a multiple of the standard data alignment. Got: ${r}, expected multiple of: ${Cn(this.inner)}.`)}if(i!==void 0){if(i<dt(this.inner))throw new Error(`Custom data size cannot be smaller then the standard data size. Got: ${i}, expected at least: ${dt(this.inner)}.`);if(i<=0)throw new Error(`Custom data size must be a positive number. Got: ${i}.`)}}[W]=!0},wF=class extends XG{static{o(this,"ke")}[W]=!0;type="decorated"},vF=class extends XG{static{o(this,"Fe")}[W]=!0;type="loose-decorated"};function ry(t,e){let n=t?.type,r=n in nc?nc[n]:t;return typeof r!="function"?e:e===void 0?r():r(e)}o(ry,"Pe$2");function JG(t){return ZG(t,!1)}o(JG,"qs");function ar(t){return ZG(t,!0)}o(ar,"Js");function ZG(t,e){let n=o(r=>Object.fromEntries(Object.entries(t).map(([i,s])=>[i,ry(s,r?.[i])])),"n");return Object.setPrototypeOf(n,ADe),n.propTypes=t,Object.defineProperty(n,W,{value:{isAbstruct:e}}),n}o(ZG,"Nt$1");var ADe={type:"struct",$name(t){return Ut(this,t),this},toString(){return`struct:${xe(this)??"<unnamed>"}`}},iy=gr((t,e)=>e===void 0?n=>iS(t,n):iS(t,e),(t,e)=>{if(e?.value===void 0){let n=o(r=>iy[W].gpuImpl(t,r),"n");return n[W]=!0,oe(n,ci)}if(typeof e.value!="number")throw new Error(`Cannot create array schema with count unknown at compile-time: '${e.value}'`);return oe(iS(t.value,e.value),t.value)},"arrayOf");function iS(t,e){let n=o(r=>{if(r&&r.length!==e)throw new Error(`Array schema of ${e} elements of type ${t.type} called with ${r.length} argument(s).`);return Array.from({length:e},(i,s)=>ry(t,r?.[s]))},"n");if(Object.setPrototypeOf(n,CDe),Number.isNaN(dt(t)))throw new Error("Cannot nest runtime sized arrays.");if(n.elementType=t,!Number.isInteger(e)||e<0)throw new Error(`Cannot create array schema with invalid element count: ${e}.`);return n.elementCount=e,n}o(iS,"Ke$1");var CDe={[W]:!0,type:"array",toString(){return`arrayOf(${this.elementType}, ${this.elementCount})`}};function ei(t,e){return YG(t,{[W]:!0,type:"@builtin",params:[e]})}o(ei,"w$1");var IDe={vertexIndex:ei(Me,"vertex_index"),instanceIndex:ei(Me,"instance_index"),position:ei(se,"position"),clipDistances:ei(iy(Me,8),"clip_distances"),frontFacing:ei(bn,"front_facing"),fragDepth:ei(ne,"frag_depth"),sampleIndex:ei(Me,"sample_index"),sampleMask:ei(Me,"sample_mask"),localInvocationId:ei(Vn,"local_invocation_id"),localInvocationIndex:ei(Me,"local_invocation_index"),globalInvocationId:ei(Vn,"global_invocation_id"),workgroupId:ei(Vn,"workgroup_id"),numWorkgroups:ei(Vn,"num_workgroups"),subgroupInvocationId:ei(Me,"subgroup_invocation_id"),subgroupSize:ei(Me,"subgroup_size")},RDe={block:0,binaryExpr:1,assignmentExpr:2,logicalExpr:3,unaryExpr:4,numericLiteral:5,call:6,memberAccess:7,indexAccess:8,return:10,if:11,let:12,const:13,for:14,while:15,continue:16,break:17,arrayExpr:100,preUpdate:101,postUpdate:102,stringLiteral:103,objectExpr:104},hC={identifier:"i",destructuredObject:"d"},ODe=1;const NDe=Object.freeze(Object.defineProperty({__proto__:null,FORMAT_VERSION:ODe,FuncParameterType:hC,NodeTypeCatalog:RDe},Symbol.toStringTag,{value:"Module"}));function qg(t,e){for(let[n,r]of Object.entries(e))t[n]=r,r&&(typeof r=="object"||typeof r=="function")&&xe(r)===void 0&&Ut(r,n)}o(qg,"S$1");function MDe(t,e,n){let r=[...t.matchAll(/:\s*(?<arg>.*?)\s*[,)]/g)].map(i=>i?i[1]:void 0);n(Object.fromEntries(e.flatMap((i,s)=>{let a=r?r[s]:void 0;return Ti(i)&&a!==void 0?[[a,i]]:[]})))}o(MDe,"Se");function QG(t,e,n){let r=t.match(/->\s(?<output>[\w\d_]+)\s{/),i=r?r[1]?.trim():void 0;Ti(e)&&i&&!/\s/g.test(i)&&n({[i]:e})}o(QG,"$e$1");function DDe(t){return new RegExp(`(?<![\\w\\$_.])${t.replaceAll(".","\\.").replaceAll("$","\\$")}(?![\\w\\$_])`,"g")}o(DDe,"ue");function Bx(t,e,n){return Object.entries(e).reduce((r,[i,s])=>{let a=DDe(i);if(n&&i!=="Out"&&i!=="In"&&!a.test(n)&&console.warn(`The external '${i}' wasn't used in the resolved template.`),nDe(s)||r1(s)||Wg(s))return r.replaceAll(a,t.resolve(s).value);if(s!==null&&typeof s=="object"){let l=[...n.matchAll(new RegExp(`${i.replaceAll(".","\\.").replaceAll("$","\\$")}\\.(?<prop>.*?)(?![\\w\\$_])`,"g"))].map(u=>u[1]);return[...new Set(l)].reduce((u,c)=>c&&c in s?Bx(t,{[`${i}.${c}`]:s[c]},u):u,r)}return console.warn(`During resolution, the external '${i}' has been omitted. Only primitives, TGPU resources and plain JS objects can be used as externals.`),r},n)}o(Bx,"R");function PDe(t){let{strippedCode:e,argRange:n}=$De(t),r=new eq(e);r.consume("(");let i=[];for(;!r.isAt(")");){let a=[];for(;r.isAt("@");)r.parseUntil(EF,xF),r.consume(")"),a.push(r.lastParsed);r.parseUntil(FDe);let l=r.lastParsed,u;r.isAt(":")&&(r.consume(":"),r.parseUntil(BDe,zDe),u=r.lastParsed),i.push({identifier:l,attributes:a,type:u}),r.isAt(",")&&r.consume(",")}r.consume(")");let s;if(r.isAt("->")){r.consume("->");let a=[];for(;r.isAt("@");)r.parseUntil(EF,xF),r.consume(")"),a.push(r.lastParsed);s={type:r.str.slice(r.pos),attributes:a}}return{args:i,ret:s,range:{begin:n[0],end:n[1]}}}o(PDe,"Y$1");function $De(t){let e=new eq(t),n="",r;for(;!e.isFinished();){if(e.isAt(LDe)){e.advanceBy(1);continue}if(e.isAt("//")){e.consume("//"),e.parseUntil(tq),e.advanceBy(1);continue}if(e.isAt("/*")){e.parseUntil(UDe,VDe),e.consume("*/");continue}if(e.isAt("{"))return{strippedCode:n,argRange:[r,e.pos]};e.isAt("(")&&r===void 0&&(r=e.pos),r!==void 0&&(n+=e.str[e.pos]),e.advanceBy(1)}throw new Error("Invalid wgsl code!")}o($De,"pe$1");var eq=class{static{o(this,"$")}constructor(e){this.str=e,this.#t=0}#e;#t;get pos(){return this.#t}get lastParsed(){if(this.#e===void 0)throw new Error("Parse was not called yet!");return this.str.slice(this.#e,this.pos)}isFinished(){return this.#t>=this.str.length}isAt(e){if(typeof e=="string"){for(let n=0;n<e.length;n++)if(this.str[this.#t+n]!==e[n])return!1;return!0}for(let n of e)if(this.isAt(n))return!0;return!1}parseUntil(e,n){this.#e=this.#t;let r=0;for(;this.#t<this.str.length;){if(n&&this.isAt(n[0])&&(r+=1),n&&this.isAt(n[1])&&(r-=1),r===0&&this.isAt(e))return this.#t;this.#t+=1}throw new Error("Reached the end of the string without finding a match!")}advanceBy(e){this.#t+=e}consume(e){if(!this.isAt(e))throw new Error(`Expected '${e}' at position ${this.#t}, but found '${this.str.slice(this.#t,this.#t+e.length)}'`);this.advanceBy(e.length)}},tq=new Set([`
`,"\v","\f","\r","","\u2028","\u2029"]),LDe=new Set([...tq," ","	","",""]),EF=new Set([")"]),FDe=new Set([":",",",")"]),BDe=new Set([",",")"]),UDe=new Set(["*/"]),xF=["(",")"],zDe=["<",">"],VDe=["/*","*/"];function l1(t,e=""){let n=[],r={applyExternals(s){n.push(s)},resolve(s,a,l){let u={};for(let v of n)qg(u,v);let c=s.getUniqueName(this);if(typeof t=="string"){if(!l)throw new Error("Explicit return type is required for string implementation");let v=Bx(s,u,t),k="",C="";if(e!==""){let R=Ti(a[0])?`(in: ${s.resolve(a[0]).value})`:"()",x=fh(l)?VO(l):"",E=l!==Di?Ti(l)?`-> ${s.resolve(l).value}`:`-> ${x!==""?x:"@location(0)"} ${s.resolve(l).value}`:"";k=`${R} ${E} `,C=v}else{let R=PDe(v);if(R.args.length!==a.length)throw new Error(`WGSL implementation has ${R.args.length} arguments, while the shell has ${a.length} arguments.`);let x=R.args.map((T,O)=>`${T.identifier}: ${TF(s,`parameter ${T.identifier}`,T.type,a[O])}`).join(", "),E=l===Di?"":`-> ${TF(s,"return type",R.ret?.type,l)}`;k=`(${x}) ${E}`,C=v.slice(R.range.end)}return s.addDeclaration(`${e}fn ${c}${k}${C}`),oe(c,l)}let f=$x(t);if(f?.externals){let v=Object.fromEntries(Object.entries(f.externals).filter(([k])=>!(k in u)));qg(u,v)}let h=f?.ast;if(!h)throw new Error("Missing metadata for tgpu.fn function body (either missing 'use gpu' directive, or misconfigured `unplugin-typegpu`)");let d=h.externalNames.filter(v=>!(v in u));if(d.length>0)throw new QMe(xe(this),d);let p=h.params[1];p&&p.type==="i"&&e!==""&&qg(u,{[p.name]:ec(l)});let m=[],y=[];for(let[v,k]of a.entries()){let C=h.params[v];switch(C?.type){case hC.identifier:{let R=C.name,x=oe(s.makeNameValid(R),k);m.push(x),x.value!==R&&y.push([R,x]);break}case hC.destructuredObject:{m.push(oe(`_arg_${v}`,k)),y.push(...C.props.map(({name:R,alias:x})=>[x,oe(`_arg_${v}.${R}`,a[v].propTypes[R])]));break}case void 0:m.push(oe(`_arg_${v}`,k))}}let{head:_,body:b,returnType:S}=s.fnToWgsl({args:m,argAliases:Object.fromEntries(y),returnType:l,body:h.body,externalMap:u});return s.addDeclaration(`${e}fn ${c}${s.resolve(_).value}${s.resolve(b).value}`),oe(c,S)}},i=xe(t);return i!==void 0&&Ut(r,i),r}o(l1,"ne$1");function TF(t,e,n,r){let i=t.resolve(r).value.replace(/\s/g,"");if(!n)return i;let s=n.replace(/\s/g,"");if(s!==i)throw new Error(`Type mismatch between TGPU shell and WGSL code string: ${e}, JS type "${i}", WGSL type "${s}".`);return n}o(TF,"te$1");function jDe(t,e={}){let n=0,r=new Set;return Object.fromEntries(Object.entries(t??{}).map(([i,s])=>{let a=tc(s);if(a!==void 0){if(r.has(a))throw new Error("Duplicate custom location attributes found");r.add(a)}return[i,s]}).map(([i,s])=>{if(a1(s))return[i,s];if(tc(s)!==void 0)return[i,s];if(e[i])return[i,fC(e[i],s)];for(;r.has(n);)n++;return[i,fC(n++,s)]}))}o(jDe,"xe$1");function u1(t,e={}){return sm(t)?mG(t)||tc(t)!==void 0?t:fC(0,t):JG(jDe(t,e))}o(u1,"F");function Ux(t,...e){return WDe(t)?HDe(t,...e):t}o(Ux,"re");function WDe(t){return Array.isArray(t)&&"raw"in t&&Array.isArray(t.raw)&&t.raw.every(e=>typeof e=="string")}o(WDe,"ye$1");function HDe(t,...e){return t.slice(1).reduce((n,r,i)=>`${n}${e[i]}${r}`,t[0])}o(HDe,"he$2");function GDe(t){if(Object.keys(t.out).length===0)throw new Error("A vertexFn output cannot be empty since it must include the 'position' builtin.");let e={in:t.in,out:t.out,argTypes:t.in&&Object.keys(t.in).length!==0?[u1(t.in)]:[],isEntry:!0},n=o((r,...i)=>qDe(e,Ux(r,...i)),"r");return Object.assign(Object.assign(n,e),{does:n})}o(GDe,"Qe$1");function qDe(t,e){let n=l1(e,"@vertex "),r=t.argTypes[0];return{shell:t,$uses(i){return n.applyExternals(i),this},[W]:!0,[In]:n,$name(i){return Ut(n,i),Px(r)&&r.$name(`${i}_Input`),this},[qe](i){let s=u1(t.out,i.varyingLocations).$name(`${xe(this)??""}_Output`);return typeof e=="string"&&(r&&n.applyExternals({In:r}),n.applyExternals({Out:s})),n.resolve(i,t.argTypes,s)},toString(){return`vertexFn:${xe(n)??"<unnamed>"}`}}}o(qDe,"Ie$1");var jO=class{static{o(this,"Qe")}};function WO(t){let e=gr((...r)=>{let i=[];for(let s of r)if(typeof s=="number")i.push(s);else for(let a=0;a<s.length;++a)i.push(s[a]);if(i.length!==0&&i.length!==t.columns*t.rows)throw new Error(`'${t.type}' constructor called with invalid number of arguments.`);for(let s=i.length;s<t.columns*t.rows;++s)i.push(0);return new t.MatImpl(...i)},(...r)=>oe(ee`${t.type}(${r})`,n),t.type),n=Object.assign(e,{type:t.type,identity:r4e[t.columns],translation:t.columns===4?i4e:void 0,scaling:t.columns===4?s4e:void 0,rotationX:t.columns===4?o4e:void 0,rotationY:t.columns===4?a4e:void 0,rotationZ:t.columns===4?l4e:void 0});return n}o(WO,"Wt$1");var KDe=class extends jO{static{o(this,"zt")}[W]=!0;columns;length=4;constructor(...e){super(),this.columns=[this.makeColumn(e[0],e[1]),this.makeColumn(e[2],e[3])]}get 0(){return this.columns[0].x}get 1(){return this.columns[0].y}get 2(){return this.columns[1].x}get 3(){return this.columns[1].y}set 0(e){this.columns[0].x=e}set 1(e){this.columns[0].y=e}set 2(e){this.columns[1].x=e}set 3(e){this.columns[1].y=e}*[Symbol.iterator](){yield this[0],yield this[1],yield this[2],yield this[3]}[qe](){return oe(`${this.kind}(${Array.from({length:this.length}).map((e,n)=>this[n]).join(", ")})`,ka)}toString(){return this[qe]().value}},YDe=class extends KDe{static{o(this,"Vt")}kind="mat2x2f";makeColumn(e,n){return Ht(e,n)}},XDe=class extends jO{static{o(this,"Ft")}[W]=!0;columns;length=12;constructor(...t){super(),this.columns=[this.makeColumn(t[0],t[1],t[2]),this.makeColumn(t[3],t[4],t[5]),this.makeColumn(t[6],t[7],t[8])]}get 0(){return this.columns[0].x}get 1(){return this.columns[0].y}get 2(){return this.columns[0].z}get 3(){return 0}get 4(){return this.columns[1].x}get 5(){return this.columns[1].y}get 6(){return this.columns[1].z}get 7(){return 0}get 8(){return this.columns[2].x}get 9(){return this.columns[2].y}get 10(){return this.columns[2].z}get 11(){return 0}set 0(t){this.columns[0].x=t}set 1(t){this.columns[0].y=t}set 2(t){this.columns[0].z=t}set 3(t){}set 4(t){this.columns[1].x=t}set 5(t){this.columns[1].y=t}set 6(t){this.columns[1].z=t}set 7(t){}set 8(t){this.columns[2].x=t}set 9(t){this.columns[2].y=t}set 10(t){this.columns[2].z=t}set 11(t){}*[Symbol.iterator](){for(let t=0;t<12;t++)yield this[t]}[qe](){return oe(`${this.kind}(${this[0]}, ${this[1]}, ${this[2]}, ${this[4]}, ${this[5]}, ${this[6]}, ${this[8]}, ${this[9]}, ${this[10]})`,Aa)}toString(){return this[qe]().value}},JDe=class extends XDe{static{o(this,"Ct")}kind="mat3x3f";makeColumn(t,e,n){return Rr(t,e,n)}},ZDe=class extends jO{static{o(this,"Pt")}[W]=!0;columns;constructor(...t){super(),this.columns=[this.makeColumn(t[0],t[1],t[2],t[3]),this.makeColumn(t[4],t[5],t[6],t[7]),this.makeColumn(t[8],t[9],t[10],t[11]),this.makeColumn(t[12],t[13],t[14],t[15])]}length=16;get 0(){return this.columns[0].x}get 1(){return this.columns[0].y}get 2(){return this.columns[0].z}get 3(){return this.columns[0].w}get 4(){return this.columns[1].x}get 5(){return this.columns[1].y}get 6(){return this.columns[1].z}get 7(){return this.columns[1].w}get 8(){return this.columns[2].x}get 9(){return this.columns[2].y}get 10(){return this.columns[2].z}get 11(){return this.columns[2].w}get 12(){return this.columns[3].x}get 13(){return this.columns[3].y}get 14(){return this.columns[3].z}get 15(){return this.columns[3].w}set 0(t){this.columns[0].x=t}set 1(t){this.columns[0].y=t}set 2(t){this.columns[0].z=t}set 3(t){this.columns[0].w=t}set 4(t){this.columns[1].x=t}set 5(t){this.columns[1].y=t}set 6(t){this.columns[1].z=t}set 7(t){this.columns[1].w=t}set 8(t){this.columns[2].x=t}set 9(t){this.columns[2].y=t}set 10(t){this.columns[2].z=t}set 11(t){this.columns[2].w=t}set 12(t){this.columns[3].x=t}set 13(t){this.columns[3].y=t}set 14(t){this.columns[3].z=t}set 15(t){this.columns[3].w=t}*[Symbol.iterator](){for(let t=0;t<16;t++)yield this[t]}[qe](){return oe(`${this.kind}(${Array.from({length:this.length}).map((t,e)=>this[e]).join(", ")})`,Wn)}toString(){return this[qe]().value}},QDe=class extends ZDe{static{o(this,"kt")}kind="mat4x4f";makeColumn(e,n,r,i){return se(e,n,r,i)}},e4e=gr(()=>ka(1,0,0,1),()=>oe("mat2x2f(1, 0, 0, 1)",ka),"identity2"),t4e=gr(()=>Aa(1,0,0,0,1,0,0,0,1),()=>oe("mat3x3f(1, 0, 0, 0, 1, 0, 0, 0, 1)",Aa),"identity3"),n4e=gr(()=>Wn(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),()=>oe("mat4x4f(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)",Wn),"identity4"),r4e={2:e4e,3:t4e,4:n4e},i4e=gr(t=>Wn(1,0,0,0,0,1,0,0,0,0,1,0,t.x,t.y,t.z,1),t=>oe(ee`mat4x4f(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ${t}.x, ${t}.y, ${t}.z, 1)`,Wn),"translation4"),s4e=gr(t=>Wn(t.x,0,0,0,0,t.y,0,0,0,0,t.z,0,0,0,0,1),t=>oe(ee`mat4x4f(${t}.x, 0, 0, 0, 0, ${t}.y, 0, 0, 0, 0, ${t}.z, 0, 0, 0, 0, 1)`,Wn),"scaling4"),o4e=gr(t=>Wn(1,0,0,0,0,Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1),t=>oe(ee`mat4x4f(1, 0, 0, 0, 0, cos(${t}), sin(${t}), 0, 0, -sin(${t}), cos(${t}), 0, 0, 0, 0, 1)`,Wn),"rotationX4"),a4e=gr(t=>Wn(Math.cos(t),0,-Math.sin(t),0,0,1,0,0,Math.sin(t),0,Math.cos(t),0,0,0,0,1),t=>oe(ee`mat4x4f(cos(${t}), 0, -sin(${t}), 0, 0, 1, 0, 0, sin(${t}), 0, cos(${t}), 0, 0, 0, 0, 1)`,Wn),"rotationY4"),l4e=gr(t=>Wn(Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1,0,0,0,0,1),t=>oe(ee`mat4x4f(cos(${t}), sin(${t}), 0, 0, -sin(${t}), cos(${t}), 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)`,Wn),"rotationZ4"),ka=WO({type:"mat2x2f",rows:2,columns:2,MatImpl:YDe}),Aa=WO({type:"mat3x3f",rows:3,columns:3,MatImpl:JDe}),Wn=WO({type:"mat4x4f",rows:4,columns:4,MatImpl:QDe});function u4e(t){return t?.[$t]}o(u4e,"en$1");var c4e={f:{1:ne,2:Ht,3:Rr,4:se},h:{1:jn,2:xa,3:Ta,4:Sa},i:{1:Lt,2:kr,3:us,4:Yt},u:{1:Me,2:Zi,3:Vn,4:un},b:{1:bn,2:ph,3:mh,4:gh}},f4e={vec2f:Ht,vec2h:xa,vec2i:kr,vec2u:Zi,"vec2<bool>":ph,vec3f:Rr,vec3h:Ta,vec3i:us,vec3u:Vn,"vec3<bool>":mh,vec4f:se,vec4h:Sa,vec4i:Yt,vec4u:un,"vec4<bool>":gh,mat2x2f:ka,mat3x3f:Aa,mat4x4f:Wn};function dC(t,e){if(Ti(t)||_c(t))return t.propTypes[e]??ci;if(t===bn||Il(t))return ci;let n=e.length;if(Cl(t)&&n>=1&&n<=4){let r=t.type.includes("bool")?"b":t.type[4],i=c4e[r][n];if(i)return i}return ci}o(dC,"Xe$1");var SF={mat2x2f:Ht,mat3x3f:Rr,mat4x4f:se};function sS(t){return go(t)||im(t)?t.elementType:Cl(t)?t.primitive:t.type in SF?SF[t.type]:ci}o(sS,"mt");function Bv(t){return t>=2**63||t<-(2**63)?oe(t,ko):Number.isInteger(t)?(Number.isSafeInteger(t)||console.warn(`The integer ${t} exceeds the safe integer range and may have lost precision.`),oe(t,Fx)):oe(t,ko)}o(Bv,"pt$1");function sy(t){return t.type==="abstractFloat"?ne:t.type==="abstractInt"?Lt:t}o(sy,"yt");function h4e(t){return t.map(e=>oe(e.value,sy(e.dataType)))}o(h4e,"os$1");function Tb(t){return EO(t)?t:xO(t)||(fn(t)||Qo(t)?oe(t,f4e[t.kind]):typeof t=="string"||typeof t=="function"||typeof t=="object"||typeof t=="symbol"||typeof t>"u"||t===null?oe(t,ci):typeof t=="number"?Bv(t):typeof t=="boolean"?oe(t,bn):oe(t,ci))}o(Tb,"Tt");var Mo={get(t,e){if(e in t)return Reflect.get(t,e);if(e==="toString"||e===Symbol.toStringTag||e===Symbol.toPrimitive)return()=>t.toString();if(typeof e=="symbol")return;let n=xO(t).dataType,r=dC(n,String(e));if(r.type!=="unknown")return new Proxy({[W]:!0,[qe]:i=>oe(`${i.resolve(t).value}.${String(e)}`,r),get[Bi](){return oe(this,r)},toString:o(()=>`${String(t)}.${e}`,"toString")},Mo)}};function zx(t){let e=t;for(;;){let n=u4e(e);if(!n)break;e=n}return e}o(zx,"ys");function pC(t,e){return new d4e(t,e)}o(pC,"nn$1");var d4e=class{static{o(this,"Ut")}constructor(t,e){this.dataType=t,this.#e=e}[W]={};#e;$name(t){return Ut(this,t),this}[qe](t){let e=t.getUniqueName(this),n=t.resolve(this.dataType).value,r=t.resolve(this.#e,this.dataType).value;return t.addDeclaration(`const ${e}: ${n} = ${r};`),oe(e,this.dataType)}toString(){return`const:${xe(this)??"<unnamed>"}`}get[$t](){let t=this.dataType;return new Proxy({[W]:!0,get[Bi](){return oe(this,t)},[qe]:e=>e.resolve(this),toString:o(()=>`const:${xe(this)??"<unnamed>"}.$`,"toString")},Mo)}get value(){return $a()?this[$t]:this.#e}get $(){return this.value}};function nq(){return{[W]:!0,type:"sampler",[rm]:void 0}}o(nq,"ws");function rq(){return{[W]:!0,type:"sampler_comparison",[rm]:void 0}}o(rq,"Ss");function p4e(t){return!!t[W]&&t.type==="sampler"}o(p4e,"Ms");function m4e(t){return!!t[W]&&t.type==="sampler_comparison"}o(m4e,"Is");function mC(t){if("multisampled"in t){if(t.multisampled){if(t.dimension==="2d")return _4e(t.sampleType);throw new Error(`Multisampled textures only support '2d' dimension, got '${t.dimension}'`)}switch(t.dimension){case"1d":return g4e(t.sampleType);case"2d":return y4e(t.sampleType);case"2d-array":return b4e(t.sampleType);case"3d":return E4e(t.sampleType);case"cube":return w4e(t.sampleType);case"cube-array":return v4e(t.sampleType);default:throw new Error(`Unsupported texture dimension: '${t.dimension}'`)}}if(!("access"in t))throw new Error("Descriptor is neither a sampled nor a storage texture");switch(t.dimension){case"1d":return x4e(t.format,t.access);case"2d":return T4e(t.format,t.access);case"2d-array":return S4e(t.format,t.access);case"3d":return k4e(t.format,t.access);default:throw new Error(`Unsupported storage texture dimension: '${t.dimension}'`)}}o(mC,"Vs");function yh(t,e){let n=t.startsWith("texture_depth")?["depth","float","unfilterable-float"]:e.sampleType.type==="i32"?["sint"]:e.sampleType.type==="u32"?["uint"]:["float","unfilterable-float"];return{[W]:!0,[rm]:void 0,type:t,bindingSampleType:n,...e}}o(yh,"L$1");function Vx(t,e){return{[W]:!0,[rm]:void 0,type:t,...e}}o(Vx,"xt");var kF=new Map,c1={"write-only":"write","read-only":"read","read-write":"read_write"};function zs(t,e){let n=kF.get(t);return n||(n=e(),kF.set(t,n)),n}o(zs,"$$1");function g4e(t){let e=t||ne,n=`texture_1d<${e.type}>`;return zs(n,()=>yh("texture_1d",{dimension:"1d",sampleType:e,multisampled:!1}))}o(g4e,"In");function y4e(t){let e=t||ne,n=`texture_2d<${e.type}>`;return zs(n,()=>yh("texture_2d",{dimension:"2d",sampleType:e,multisampled:!1}))}o(y4e,"An");function _4e(t){let e=t||ne,n=`texture_multisampled_2d<${e.type}>`;return zs(n,()=>yh("texture_multisampled_2d",{dimension:"2d",sampleType:e,multisampled:!0}))}o(_4e,"$n");function b4e(t){let e=t||ne,n=`texture_2d_array<${e.type}>`;return zs(n,()=>yh("texture_2d_array",{dimension:"2d-array",sampleType:e,multisampled:!1}))}o(b4e,"zn");function w4e(t){let e=t||ne,n=`texture_cube<${e.type}>`;return zs(n,()=>yh("texture_cube",{dimension:"cube",sampleType:e,multisampled:!1}))}o(w4e,"Vn");function v4e(t){let e=t||ne,n=`texture_cube_array<${e.type}>`;return zs(n,()=>yh("texture_cube_array",{dimension:"cube-array",sampleType:e,multisampled:!1}))}o(v4e,"Fn");function E4e(t){let e=t||ne,n=`texture_3d<${e.type}>`;return zs(n,()=>yh("texture_3d",{dimension:"3d",sampleType:e,multisampled:!1}))}o(E4e,"Cn");function x4e(t,e){let n=e||"write-only",r=`texture_storage_1d<${t}, ${c1[n]}>`;return zs(r,()=>Vx("texture_storage_1d",{dimension:"1d",format:t,access:n}))}o(x4e,"Pn");function T4e(t,e){let n=e||"write-only",r=`texture_storage_2d<${t}, ${c1[n]}>`;return zs(r,()=>Vx("texture_storage_2d",{dimension:"2d",format:t,access:n}))}o(T4e,"kn");function S4e(t,e){let n=e||"write-only",r=`texture_storage_2d_array<${t}, ${c1[n]}>`;return zs(r,()=>Vx("texture_storage_2d_array",{dimension:"2d-array",format:t,access:n}))}o(S4e,"Wn");function k4e(t,e){let n=e||"write-only",r=`texture_storage_3d<${t}, ${c1[n]}>`;return zs(r,()=>Vx("texture_storage_3d",{dimension:"3d",format:t,access:n}))}o(k4e,"_n");function A4e(){return zs("texture_external",()=>({[W]:!0,[rm]:void 0,type:"texture_external",dimension:"2d"}))}o(A4e,"_s");function C4e(t){return!!t[W]&&typeof t.multisampled=="boolean"}o(C4e,"Us");function gC(t){return!!t[W]&&typeof t.format=="string"&&typeof t.access=="string"}o(gC,"Ds");function I4e(t){return new R4e(t)}o(I4e,"Gs");var R4e=class{static{o(this,"Dt")}constructor(t){this.inner=t}[W]=!0;type="atomic"},Lc=o((t,e,n)=>{if(t===e)return 0;let r=ot((n-t)/(e-t),0,1);return r*r*(3-2*r)},"me$1"),ot=o((t,e,n)=>Math.min(Math.max(e,t),n),"y"),Lh=o((t,e)=>e===0?t:Math.trunc(t/e),"he$1");function Vo(t){let e=new DataView(new ArrayBuffer(4));return e.setUint32(0,t,!0),e.getFloat32(0,!0)}o(Vo,"Y");function jo(t){let e=new DataView(new ArrayBuffer(4));return e.setUint32(0,t,!0),e.getInt32(0,!0)}o(jo,"J");var ds=ph[W].jsImpl,_s=Ht[W].jsImpl,il=xa[W].jsImpl,dd=kr[W].jsImpl,Kg=Zi[W].jsImpl,ps=mh[W].jsImpl,Gi=Rr[W].jsImpl,Xo=Ta[W].jsImpl,pd=us[W].jsImpl,Yg=Vn[W].jsImpl,ms=gh[W].jsImpl,bs=se[W].jsImpl,sl=Sa[W].jsImpl,md=Yt[W].jsImpl,Xg=un[W].jsImpl,Fh=o(t=>Math.sqrt(t.x**2+t.y**2),"Me"),Bh=o(t=>Math.sqrt(t.x**2+t.y**2+t.z**2),"Ie"),Uh=o(t=>Math.sqrt(t.x**2+t.y**2+t.z**2+t.w**2),"Ae$1"),P_=o((t,e)=>t.x*e.x+t.y*e.y,"ft"),$_=o((t,e)=>t.x*e.x+t.y*e.y+t.z*e.z,"gt"),L_=o((t,e)=>t.x*e.x+t.y*e.y+t.z*e.z+t.w*e.w,"ht"),nn=o(t=>e=>_s(t(e.x),t(e.y)),"h"),mn=o(t=>e=>il(t(e.x),t(e.y)),"b$1"),zh=o(t=>e=>dd(t(e.x),t(e.y)),"$e"),Wm=o(t=>e=>Kg(t(e.x),t(e.y)),"Ye$1"),qt=o(t=>e=>Gi(t(e.x),t(e.y),t(e.z)),"f"),gn=o(t=>e=>Xo(t(e.x),t(e.y),t(e.z)),"w"),Vh=o(t=>e=>pd(t(e.x),t(e.y),t(e.z)),"ze"),Hm=o(t=>e=>Yg(t(e.x),t(e.y),t(e.z)),"Je$1"),jt=o(t=>e=>bs(t(e.x),t(e.y),t(e.z),t(e.w)),"x"),yn=o(t=>e=>sl(t(e.x),t(e.y),t(e.z),t(e.w)),"S"),jh=o(t=>e=>md(t(e.x),t(e.y),t(e.z),t(e.w)),"Ve$1"),Gm=o(t=>e=>Xg(t(e.x),t(e.y),t(e.z),t(e.w)),"et$1"),AF=o(t=>e=>{let n=e.columns;return ka(nn(t)(n[0]),nn(t)(n[1]))},"sn$1"),CF=o(t=>e=>{let n=e.columns;return Aa(qt(t)(n[0]),qt(t)(n[1]),qt(t)(n[2]))},"an$1"),IF=o(t=>e=>{let n=e.columns;return Wn(jt(t)(n[0]),jt(t)(n[1]),jt(t)(n[2]),jt(t)(n[3]))},"on$2"),tl=o(t=>(e,n)=>_s(t(e.x,n.x),t(e.y,n.y)),"pe"),Rc=o(t=>(e,n)=>il(t(e.x,n.x),t(e.y,n.y)),"ve"),Wh=o(t=>(e,n)=>dd(t(e.x,n.x),t(e.y,n.y)),"Fe"),Hh=o(t=>(e,n)=>Kg(t(e.x,n.x),t(e.y,n.y)),"Ce$2"),Jo=o(t=>(e,n)=>Gi(t(e.x,n.x),t(e.y,n.y),t(e.z,n.z)),"te"),Oc=o(t=>(e,n)=>Xo(t(e.x,n.x),t(e.y,n.y),t(e.z,n.z)),"be$1"),Gh=o(t=>(e,n)=>pd(t(e.x,n.x),t(e.y,n.y),t(e.z,n.z)),"Pe$1"),qh=o(t=>(e,n)=>Yg(t(e.x,n.x),t(e.y,n.y),t(e.z,n.z)),"ke"),qs=o(t=>(e,n)=>bs(t(e.x,n.x),t(e.y,n.y),t(e.z,n.z),t(e.w,n.w)),"X"),Nc=o(t=>(e,n)=>sl(t(e.x,n.x),t(e.y,n.y),t(e.z,n.z),t(e.w,n.w)),"we$1"),Kh=o(t=>(e,n)=>md(t(e.x,n.x),t(e.y,n.y),t(e.z,n.z),t(e.w,n.w)),"We$1"),Yh=o(t=>(e,n)=>Xg(t(e.x,n.x),t(e.y,n.y),t(e.z,n.z),t(e.w,n.w)),"_e$1"),O4e=o(t=>(e,n)=>{let r=e.columns,i=n.columns;return ka(tl(t)(r[0],i[0]),tl(t)(r[1],i[1]))},"Un"),N4e=o(t=>(e,n)=>{let r=e.columns,i=n.columns;return Aa(Jo(t)(r[0],i[0]),Jo(t)(r[1],i[1]),Jo(t)(r[2],i[2]))},"Dn"),M4e=o(t=>(e,n)=>{let r=e.columns,i=n.columns;return Wn(qs(t)(r[0],i[0]),qs(t)(r[1],i[1]),qs(t)(r[2],i[2]),qs(t)(r[3],i[3]))},"Bn"),D4e=o(t=>(e,n,r)=>_s(t(e.x,n.x,r.x),t(e.y,n.y,r.y)),"Rn"),P4e=o(t=>(e,n,r)=>il(t(e.x,n.x,r.x),t(e.y,n.y,r.y)),"Gn"),$4e=o(t=>(e,n,r)=>Gi(t(e.x,n.x,r.x),t(e.y,n.y,r.y),t(e.z,n.z,r.z)),"En"),L4e=o(t=>(e,n,r)=>Xo(t(e.x,n.x,r.x),t(e.y,n.y,r.y),t(e.z,n.z,r.z)),"Ln"),F4e=o(t=>(e,n,r)=>bs(t(e.x,n.x,r.x),t(e.y,n.y,r.y),t(e.z,n.z,r.z),t(e.w,n.w,r.w)),"Nn"),B4e=o(t=>(e,n,r)=>sl(t(e.x,n.x,r.x),t(e.y,n.y,r.y),t(e.z,n.z,r.z),t(e.w,n.w,r.w)),"On"),Pe={eq:{vec2f:o((t,e)=>ds(t.x===e.x,t.y===e.y),"vec2f"),vec2h:o((t,e)=>ds(t.x===e.x,t.y===e.y),"vec2h"),vec2i:o((t,e)=>ds(t.x===e.x,t.y===e.y),"vec2i"),vec2u:o((t,e)=>ds(t.x===e.x,t.y===e.y),"vec2u"),"vec2<bool>":o((t,e)=>ds(t.x===e.x,t.y===e.y),"vec2<bool>"),vec3f:o((t,e)=>ps(t.x===e.x,t.y===e.y,t.z===e.z),"vec3f"),vec3h:o((t,e)=>ps(t.x===e.x,t.y===e.y,t.z===e.z),"vec3h"),vec3i:o((t,e)=>ps(t.x===e.x,t.y===e.y,t.z===e.z),"vec3i"),vec3u:o((t,e)=>ps(t.x===e.x,t.y===e.y,t.z===e.z),"vec3u"),"vec3<bool>":o((t,e)=>ps(t.x===e.x,t.y===e.y,t.z===e.z),"vec3<bool>"),vec4f:o((t,e)=>ms(t.x===e.x,t.y===e.y,t.z===e.z,t.w===e.w),"vec4f"),vec4h:o((t,e)=>ms(t.x===e.x,t.y===e.y,t.z===e.z,t.w===e.w),"vec4h"),vec4i:o((t,e)=>ms(t.x===e.x,t.y===e.y,t.z===e.z,t.w===e.w),"vec4i"),vec4u:o((t,e)=>ms(t.x===e.x,t.y===e.y,t.z===e.z,t.w===e.w),"vec4u"),"vec4<bool>":o((t,e)=>ms(t.x===e.x,t.y===e.y,t.z===e.z,t.w===e.w),"vec4<bool>")},lt:{vec2f:o((t,e)=>ds(t.x<e.x,t.y<e.y),"vec2f"),vec2h:o((t,e)=>ds(t.x<e.x,t.y<e.y),"vec2h"),vec2i:o((t,e)=>ds(t.x<e.x,t.y<e.y),"vec2i"),vec2u:o((t,e)=>ds(t.x<e.x,t.y<e.y),"vec2u"),vec3f:o((t,e)=>ps(t.x<e.x,t.y<e.y,t.z<e.z),"vec3f"),vec3h:o((t,e)=>ps(t.x<e.x,t.y<e.y,t.z<e.z),"vec3h"),vec3i:o((t,e)=>ps(t.x<e.x,t.y<e.y,t.z<e.z),"vec3i"),vec3u:o((t,e)=>ps(t.x<e.x,t.y<e.y,t.z<e.z),"vec3u"),vec4f:o((t,e)=>ms(t.x<e.x,t.y<e.y,t.z<e.z,t.w<e.w),"vec4f"),vec4h:o((t,e)=>ms(t.x<e.x,t.y<e.y,t.z<e.z,t.w<e.w),"vec4h"),vec4i:o((t,e)=>ms(t.x<e.x,t.y<e.y,t.z<e.z,t.w<e.w),"vec4i"),vec4u:o((t,e)=>ms(t.x<e.x,t.y<e.y,t.z<e.z,t.w<e.w),"vec4u")},or:{"vec2<bool>":o((t,e)=>ds(t.x||e.x,t.y||e.y),"vec2<bool>"),"vec3<bool>":o((t,e)=>ps(t.x||e.x,t.y||e.y,t.z||e.z),"vec3<bool>"),"vec4<bool>":o((t,e)=>ms(t.x||e.x,t.y||e.y,t.z||e.z,t.w||e.w),"vec4<bool>")},all:{"vec2<bool>":o(t=>t.x&&t.y,"vec2<bool>"),"vec3<bool>":o(t=>t.x&&t.y&&t.z,"vec3<bool>"),"vec4<bool>":o(t=>t.x&&t.y&&t.z&&t.w,"vec4<bool>")},abs:{vec2f:nn(Math.abs),vec2h:mn(Math.abs),vec2i:zh(Math.abs),vec2u:Wm(Math.abs),vec3f:qt(Math.abs),vec3h:gn(Math.abs),vec3i:Vh(Math.abs),vec3u:Hm(Math.abs),vec4f:jt(Math.abs),vec4h:yn(Math.abs),vec4i:jh(Math.abs),vec4u:Gm(Math.abs)},atan2:{vec2f:tl(Math.atan2),vec2h:Rc(Math.atan2),vec3f:Jo(Math.atan2),vec3h:Oc(Math.atan2),vec4f:qs(Math.atan2),vec4h:Nc(Math.atan2)},acos:{vec2f:nn(Math.acos),vec2h:mn(Math.acos),vec2i:zh(Math.acos),vec2u:Wm(Math.acos),vec3f:qt(Math.acos),vec3h:gn(Math.acos),vec3i:Vh(Math.acos),vec3u:Hm(Math.acos),vec4f:jt(Math.acos),vec4h:yn(Math.acos),vec4i:jh(Math.acos),vec4u:Gm(Math.acos)},acosh:{vec2f:nn(Math.acosh),vec2h:mn(Math.acosh),vec3f:qt(Math.acosh),vec3h:gn(Math.acosh),vec4f:jt(Math.acosh),vec4h:yn(Math.acosh)},asin:{vec2f:nn(Math.asin),vec2h:mn(Math.asin),vec3f:qt(Math.asin),vec3h:gn(Math.asin),vec4f:jt(Math.asin),vec4h:yn(Math.asin)},asinh:{vec2f:nn(Math.asinh),vec2h:mn(Math.asinh),vec3f:qt(Math.asinh),vec3h:gn(Math.asinh),vec4f:jt(Math.asinh),vec4h:yn(Math.asinh)},atan:{vec2f:nn(Math.atan),vec2h:mn(Math.atan),vec3f:qt(Math.atan),vec3h:gn(Math.atan),vec4f:jt(Math.atan),vec4h:yn(Math.atan)},atanh:{vec2f:nn(Math.atanh),vec2h:mn(Math.atanh),vec3f:qt(Math.atanh),vec3h:gn(Math.atanh),vec4f:jt(Math.atanh),vec4h:yn(Math.atanh)},ceil:{vec2f:nn(Math.ceil),vec2h:mn(Math.ceil),vec3f:qt(Math.ceil),vec3h:gn(Math.ceil),vec4f:jt(Math.ceil),vec4h:yn(Math.ceil)},clamp:{vec2f:o((t,e,n)=>_s(ot(t.x,e.x,n.x),ot(t.y,e.y,n.y)),"vec2f"),vec2h:o((t,e,n)=>il(ot(t.x,e.x,n.x),ot(t.y,e.y,n.y)),"vec2h"),vec2i:o((t,e,n)=>dd(ot(t.x,e.x,n.x),ot(t.y,e.y,n.y)),"vec2i"),vec2u:o((t,e,n)=>Kg(ot(t.x,e.x,n.x),ot(t.y,e.y,n.y)),"vec2u"),vec3f:o((t,e,n)=>Gi(ot(t.x,e.x,n.x),ot(t.y,e.y,n.y),ot(t.z,e.z,n.z)),"vec3f"),vec3h:o((t,e,n)=>Xo(ot(t.x,e.x,n.x),ot(t.y,e.y,n.y),ot(t.z,e.z,n.z)),"vec3h"),vec3i:o((t,e,n)=>pd(ot(t.x,e.x,n.x),ot(t.y,e.y,n.y),ot(t.z,e.z,n.z)),"vec3i"),vec3u:o((t,e,n)=>Yg(ot(t.x,e.x,n.x),ot(t.y,e.y,n.y),ot(t.z,e.z,n.z)),"vec3u"),vec4f:o((t,e,n)=>bs(ot(t.x,e.x,n.x),ot(t.y,e.y,n.y),ot(t.z,e.z,n.z),ot(t.w,e.w,n.w)),"vec4f"),vec4h:o((t,e,n)=>sl(ot(t.x,e.x,n.x),ot(t.y,e.y,n.y),ot(t.z,e.z,n.z),ot(t.w,e.w,n.w)),"vec4h"),vec4i:o((t,e,n)=>md(ot(t.x,e.x,n.x),ot(t.y,e.y,n.y),ot(t.z,e.z,n.z),ot(t.w,e.w,n.w)),"vec4i"),vec4u:o((t,e,n)=>Xg(ot(t.x,e.x,n.x),ot(t.y,e.y,n.y),ot(t.z,e.z,n.z),ot(t.w,e.w,n.w)),"vec4u")},length:{vec2f:Fh,vec2h:Fh,vec3f:Bh,vec3h:Bh,vec4f:Uh,vec4h:Uh},add:{vec2f:tl((t,e)=>t+e),vec2h:Rc((t,e)=>t+e),vec2i:Wh((t,e)=>t+e),vec2u:Hh((t,e)=>t+e),vec3f:Jo((t,e)=>t+e),vec3h:Oc((t,e)=>t+e),vec3i:Gh((t,e)=>t+e),vec3u:qh((t,e)=>t+e),vec4f:qs((t,e)=>t+e),vec4h:Nc((t,e)=>t+e),vec4i:Kh((t,e)=>t+e),vec4u:Yh((t,e)=>t+e),mat2x2f:O4e((t,e)=>t+e),mat3x3f:N4e((t,e)=>t+e),mat4x4f:M4e((t,e)=>t+e)},smoothstep:{vec2f:D4e(Lc),vec2h:P4e(Lc),vec3f:$4e(Lc),vec3h:L4e(Lc),vec4f:F4e(Lc),vec4h:B4e(Lc)},addMixed:{vec2f:o((t,e)=>nn(n=>n+e)(t),"vec2f"),vec2h:o((t,e)=>mn(n=>n+e)(t),"vec2h"),vec2i:o((t,e)=>zh(n=>n+e)(t),"vec2i"),vec2u:o((t,e)=>Wm(n=>n+e)(t),"vec2u"),vec3f:o((t,e)=>qt(n=>n+e)(t),"vec3f"),vec3h:o((t,e)=>gn(n=>n+e)(t),"vec3h"),vec3i:o((t,e)=>Vh(n=>n+e)(t),"vec3i"),vec3u:o((t,e)=>Hm(n=>n+e)(t),"vec3u"),vec4f:o((t,e)=>jt(n=>n+e)(t),"vec4f"),vec4h:o((t,e)=>yn(n=>n+e)(t),"vec4h"),vec4i:o((t,e)=>jh(n=>n+e)(t),"vec4i"),vec4u:o((t,e)=>Gm(n=>n+e)(t),"vec4u"),mat2x2f:o((t,e)=>AF(n=>n+e)(t),"mat2x2f"),mat3x3f:o((t,e)=>CF(n=>n+e)(t),"mat3x3f"),mat4x4f:o((t,e)=>IF(n=>n+e)(t),"mat4x4f")},mulSxV:{vec2f:o((t,e)=>nn(n=>t*n)(e),"vec2f"),vec2h:o((t,e)=>mn(n=>t*n)(e),"vec2h"),vec2i:o((t,e)=>zh(n=>t*n)(e),"vec2i"),vec2u:o((t,e)=>Wm(n=>t*n)(e),"vec2u"),vec3f:o((t,e)=>qt(n=>t*n)(e),"vec3f"),vec3h:o((t,e)=>gn(n=>t*n)(e),"vec3h"),vec3i:o((t,e)=>Vh(n=>t*n)(e),"vec3i"),vec3u:o((t,e)=>Hm(n=>t*n)(e),"vec3u"),vec4f:o((t,e)=>jt(n=>t*n)(e),"vec4f"),vec4h:o((t,e)=>yn(n=>t*n)(e),"vec4h"),vec4i:o((t,e)=>jh(n=>t*n)(e),"vec4i"),vec4u:o((t,e)=>Gm(n=>t*n)(e),"vec4u"),mat2x2f:o((t,e)=>AF(n=>t*n)(e),"mat2x2f"),mat3x3f:o((t,e)=>CF(n=>t*n)(e),"mat3x3f"),mat4x4f:o((t,e)=>IF(n=>t*n)(e),"mat4x4f")},mulVxV:{vec2f:tl((t,e)=>t*e),vec2h:Rc((t,e)=>t*e),vec2i:Wh((t,e)=>t*e),vec2u:Hh((t,e)=>t*e),vec3f:Jo((t,e)=>t*e),vec3h:Oc((t,e)=>t*e),vec3i:Gh((t,e)=>t*e),vec3u:qh((t,e)=>t*e),vec4f:qs((t,e)=>t*e),vec4h:Nc((t,e)=>t*e),vec4i:Kh((t,e)=>t*e),vec4u:Yh((t,e)=>t*e),mat2x2f:o((t,e)=>{let n=t.columns,r=e.columns;return ka(n[0].x*r[0].x+n[1].x*r[0].y,n[0].y*r[0].x+n[1].y*r[0].y,n[0].x*r[1].x+n[1].x*r[1].y,n[0].y*r[1].x+n[1].y*r[1].y)},"mat2x2f"),mat3x3f:o((t,e)=>{let n=t.columns,r=e.columns;return Aa(n[0].x*r[0].x+n[1].x*r[0].y+n[2].x*r[0].z,n[0].y*r[0].x+n[1].y*r[0].y+n[2].y*r[0].z,n[0].z*r[0].x+n[1].z*r[0].y+n[2].z*r[0].z,n[0].x*r[1].x+n[1].x*r[1].y+n[2].x*r[1].z,n[0].y*r[1].x+n[1].y*r[1].y+n[2].y*r[1].z,n[0].z*r[1].x+n[1].z*r[1].y+n[2].z*r[1].z,n[0].x*r[2].x+n[1].x*r[2].y+n[2].x*r[2].z,n[0].y*r[2].x+n[1].y*r[2].y+n[2].y*r[2].z,n[0].z*r[2].x+n[1].z*r[2].y+n[2].z*r[2].z)},"mat3x3f"),mat4x4f:o((t,e)=>{let n=t.columns,r=e.columns;return Wn(n[0].x*r[0].x+n[1].x*r[0].y+n[2].x*r[0].z+n[3].x*r[0].w,n[0].y*r[0].x+n[1].y*r[0].y+n[2].y*r[0].z+n[3].y*r[0].w,n[0].z*r[0].x+n[1].z*r[0].y+n[2].z*r[0].z+n[3].z*r[0].w,n[0].w*r[0].x+n[1].w*r[0].y+n[2].w*r[0].z+n[3].w*r[0].w,n[0].x*r[1].x+n[1].x*r[1].y+n[2].x*r[1].z+n[3].x*r[1].w,n[0].y*r[1].x+n[1].y*r[1].y+n[2].y*r[1].z+n[3].y*r[1].w,n[0].z*r[1].x+n[1].z*r[1].y+n[2].z*r[1].z+n[3].z*r[1].w,n[0].w*r[1].x+n[1].w*r[1].y+n[2].w*r[1].z+n[3].w*r[1].w,n[0].x*r[2].x+n[1].x*r[2].y+n[2].x*r[2].z+n[3].x*r[2].w,n[0].y*r[2].x+n[1].y*r[2].y+n[2].y*r[2].z+n[3].y*r[2].w,n[0].z*r[2].x+n[1].z*r[2].y+n[2].z*r[2].z+n[3].z*r[2].w,n[0].w*r[2].x+n[1].w*r[2].y+n[2].w*r[2].z+n[3].w*r[2].w,n[0].x*r[3].x+n[1].x*r[3].y+n[2].x*r[3].z+n[3].x*r[3].w,n[0].y*r[3].x+n[1].y*r[3].y+n[2].y*r[3].z+n[3].y*r[3].w,n[0].z*r[3].x+n[1].z*r[3].y+n[2].z*r[3].z+n[3].z*r[3].w,n[0].w*r[3].x+n[1].w*r[3].y+n[2].w*r[3].z+n[3].w*r[3].w)},"mat4x4f")},mulMxV:{mat2x2f:o((t,e)=>{let n=t.columns;return _s(n[0].x*e.x+n[1].x*e.y,n[0].y*e.x+n[1].y*e.y)},"mat2x2f"),mat3x3f:o((t,e)=>{let n=t.columns;return Gi(n[0].x*e.x+n[1].x*e.y+n[2].x*e.z,n[0].y*e.x+n[1].y*e.y+n[2].y*e.z,n[0].z*e.x+n[1].z*e.y+n[2].z*e.z)},"mat3x3f"),mat4x4f:o((t,e)=>{let n=t.columns;return bs(n[0].x*e.x+n[1].x*e.y+n[2].x*e.z+n[3].x*e.w,n[0].y*e.x+n[1].y*e.y+n[2].y*e.z+n[3].y*e.w,n[0].z*e.x+n[1].z*e.y+n[2].z*e.z+n[3].z*e.w,n[0].w*e.x+n[1].w*e.y+n[2].w*e.z+n[3].w*e.w)},"mat4x4f")},mulVxM:{mat2x2f:o((t,e)=>{let n=e.columns;return _s(t.x*n[0].x+t.y*n[0].y,t.x*n[1].x+t.y*n[1].y)},"mat2x2f"),mat3x3f:o((t,e)=>{let n=e.columns;return Gi(t.x*n[0].x+t.y*n[0].y+t.z*n[0].z,t.x*n[1].x+t.y*n[1].y+t.z*n[1].z,t.x*n[2].x+t.y*n[2].y+t.z*n[2].z)},"mat3x3f"),mat4x4f:o((t,e)=>{let n=e.columns;return bs(t.x*n[0].x+t.y*n[0].y+t.z*n[0].z+t.w*n[0].w,t.x*n[1].x+t.y*n[1].y+t.z*n[1].z+t.w*n[1].w,t.x*n[2].x+t.y*n[2].y+t.z*n[2].z+t.w*n[2].w,t.x*n[3].x+t.y*n[3].y+t.z*n[3].z+t.w*n[3].w)},"mat4x4f")},div:{vec2f:tl((t,e)=>t/e),vec2h:Rc((t,e)=>t/e),vec2i:Wh(Lh),vec2u:Hh(Lh),vec3f:Jo((t,e)=>t/e),vec3h:Oc((t,e)=>t/e),vec3i:Gh(Lh),vec3u:qh(Lh),vec4f:qs((t,e)=>t/e),vec4h:Nc((t,e)=>t/e),vec4i:Kh(Lh),vec4u:Yh(Lh)},dot:{vec2f:P_,vec2h:P_,vec2i:P_,vec2u:P_,vec3f:$_,vec3h:$_,vec3i:$_,vec3u:$_,vec4f:L_,vec4h:L_,vec4i:L_,vec4u:L_},normalize:{vec2f:o(t=>{let e=Fh(t);return _s(t.x/e,t.y/e)},"vec2f"),vec2h:o(t=>{let e=Fh(t);return il(t.x/e,t.y/e)},"vec2h"),vec2i:o(t=>{let e=Fh(t);return dd(t.x/e,t.y/e)},"vec2i"),vec2u:o(t=>{let e=Fh(t);return Kg(t.x/e,t.y/e)},"vec2u"),vec3f:o(t=>{let e=Bh(t);return Gi(t.x/e,t.y/e,t.z/e)},"vec3f"),vec3h:o(t=>{let e=Bh(t);return Xo(t.x/e,t.y/e,t.z/e)},"vec3h"),vec3i:o(t=>{let e=Bh(t);return pd(t.x/e,t.y/e,t.z/e)},"vec3i"),vec3u:o(t=>{let e=Bh(t);return Yg(t.x/e,t.y/e,t.z/e)},"vec3u"),vec4f:o(t=>{let e=Uh(t);return bs(t.x/e,t.y/e,t.z/e,t.w/e)},"vec4f"),vec4h:o(t=>{let e=Uh(t);return sl(t.x/e,t.y/e,t.z/e,t.w/e)},"vec4h"),vec4i:o(t=>{let e=Uh(t);return md(t.x/e,t.y/e,t.z/e,t.w/e)},"vec4i"),vec4u:o(t=>{let e=Uh(t);return Xg(t.x/e,t.y/e,t.z/e,t.w/e)},"vec4u")},cross:{vec3f:o((t,e)=>Gi(t.y*e.z-t.z*e.y,t.z*e.x-t.x*e.z,t.x*e.y-t.y*e.x),"vec3f"),vec3h:o((t,e)=>Xo(t.y*e.z-t.z*e.y,t.z*e.x-t.x*e.z,t.x*e.y-t.y*e.x),"vec3h")},mod:{vec2f:tl((t,e)=>t%e),vec2h:Rc((t,e)=>t%e),vec2i:Wh((t,e)=>t%e),vec2u:Hh((t,e)=>t%e),vec3f:Jo((t,e)=>t%e),vec3h:Oc((t,e)=>t%e),vec3i:Gh((t,e)=>t%e),vec3u:qh((t,e)=>t%e),vec4f:qs((t,e)=>t%e),vec4h:Nc((t,e)=>t%e),vec4i:Kh((t,e)=>t%e),vec4u:Yh((t,e)=>t%e)},floor:{vec2f:nn(Math.floor),vec2h:mn(Math.floor),vec3f:qt(Math.floor),vec3h:gn(Math.floor),vec4f:jt(Math.floor),vec4h:yn(Math.floor)},max:{vec2f:tl(Math.max),vec2h:Rc(Math.max),vec2i:Wh(Math.max),vec2u:Hh(Math.max),vec3f:Jo(Math.max),vec3h:Oc(Math.max),vec3i:Gh(Math.max),vec3u:qh(Math.max),vec4f:qs(Math.max),vec4h:Nc(Math.max),vec4i:Kh(Math.max),vec4u:Yh(Math.max)},min:{vec2f:tl(Math.min),vec2h:Rc(Math.min),vec2i:Wh(Math.min),vec2u:Hh(Math.min),vec3f:Jo(Math.min),vec3h:Oc(Math.min),vec3i:Gh(Math.min),vec3u:qh(Math.min),vec4f:qs(Math.min),vec4h:Nc(Math.min),vec4i:Kh(Math.min),vec4u:Yh(Math.min)},pow:{vec2f:o((t,e)=>_s(t.x**e.x,t.y**e.y),"vec2f"),vec2h:o((t,e)=>il(t.x**e.x,t.y**e.y),"vec2h"),vec3f:o((t,e)=>Gi(t.x**e.x,t.y**e.y,t.z**e.z),"vec3f"),vec3h:o((t,e)=>Xo(t.x**e.x,t.y**e.y,t.z**e.z),"vec3h"),vec4f:o((t,e)=>bs(t.x**e.x,t.y**e.y,t.z**e.z,t.w**e.w),"vec4f"),vec4h:o((t,e)=>sl(t.x**e.x,t.y**e.y,t.z**e.z,t.w**e.w),"vec4h")},sign:{vec2f:nn(Math.sign),vec2h:mn(Math.sign),vec2i:zh(Math.sign),vec3f:qt(Math.sign),vec3h:gn(Math.sign),vec3i:Vh(Math.sign),vec4f:jt(Math.sign),vec4h:yn(Math.sign),vec4i:jh(Math.sign)},sqrt:{vec2f:nn(Math.sqrt),vec2h:mn(Math.sqrt),vec3f:qt(Math.sqrt),vec3h:gn(Math.sqrt),vec4f:jt(Math.sqrt),vec4h:yn(Math.sqrt)},mix:{vec2f:o((t,e,n)=>typeof n=="number"?_s(t.x*(1-n)+e.x*n,t.y*(1-n)+e.y*n):_s(t.x*(1-n.x)+e.x*n.x,t.y*(1-n.y)+e.y*n.y),"vec2f"),vec2h:o((t,e,n)=>typeof n=="number"?il(t.x*(1-n)+e.x*n,t.y*(1-n)+e.y*n):il(t.x*(1-n.x)+e.x*n.x,t.y*(1-n.y)+e.y*n.y),"vec2h"),vec3f:o((t,e,n)=>typeof n=="number"?Gi(t.x*(1-n)+e.x*n,t.y*(1-n)+e.y*n,t.z*(1-n)+e.z*n):Gi(t.x*(1-n.x)+e.x*n.x,t.y*(1-n.y)+e.y*n.y,t.z*(1-n.z)+e.z*n.z),"vec3f"),vec3h:o((t,e,n)=>typeof n=="number"?Xo(t.x*(1-n)+e.x*n,t.y*(1-n)+e.y*n,t.z*(1-n)+e.z*n):Xo(t.x*(1-n.x)+e.x*n.x,t.y*(1-n.y)+e.y*n.y,t.z*(1-n.z)+e.z*n.z),"vec3h"),vec4f:o((t,e,n)=>typeof n=="number"?bs(t.x*(1-n)+e.x*n,t.y*(1-n)+e.y*n,t.z*(1-n)+e.z*n,t.w*(1-n)+e.w*n):bs(t.x*(1-n.x)+e.x*n.x,t.y*(1-n.y)+e.y*n.y,t.z*(1-n.z)+e.z*n.z,t.w*(1-n.w)+e.w*n.w),"vec4f"),vec4h:o((t,e,n)=>typeof n=="number"?sl(t.x*(1-n)+e.x*n,t.y*(1-n)+e.y*n,t.z*(1-n)+e.z*n,t.w*(1-n)+e.w*n):sl(t.x*(1-n.x)+e.x*n.x,t.y*(1-n.y)+e.y*n.y,t.z*(1-n.z)+e.z*n.z,t.w*(1-n.w)+e.w*n.w),"vec4h")},sin:{vec2f:nn(Math.sin),vec2h:mn(Math.sin),vec3f:qt(Math.sin),vec3h:gn(Math.sin),vec4f:jt(Math.sin),vec4h:yn(Math.sin)},cos:{vec2f:nn(Math.cos),vec2h:mn(Math.cos),vec3f:qt(Math.cos),vec3h:gn(Math.cos),vec4f:jt(Math.cos),vec4h:yn(Math.cos)},cosh:{vec2f:nn(Math.cosh),vec2h:mn(Math.cosh),vec3f:qt(Math.cosh),vec3h:gn(Math.cosh),vec4f:jt(Math.cosh),vec4h:yn(Math.cosh)},exp:{vec2f:nn(Math.exp),vec2h:mn(Math.exp),vec3f:qt(Math.exp),vec3h:gn(Math.exp),vec4f:jt(Math.exp),vec4h:yn(Math.exp)},exp2:{vec2f:nn(t=>2**t),vec2h:mn(t=>2**t),vec3f:qt(t=>2**t),vec3h:gn(t=>2**t),vec4f:jt(t=>2**t),vec4h:yn(t=>2**t)},log:{vec2f:nn(Math.log),vec2h:mn(Math.log),vec3f:qt(Math.log),vec3h:gn(Math.log),vec4f:jt(Math.log),vec4h:yn(Math.log)},log2:{vec2f:nn(Math.log2),vec2h:mn(Math.log2),vec3f:qt(Math.log2),vec3h:gn(Math.log2),vec4f:jt(Math.log2),vec4h:yn(Math.log2)},fract:{vec2f:nn(t=>t-Math.floor(t)),vec2h:mn(t=>t-Math.floor(t)),vec3f:qt(t=>t-Math.floor(t)),vec3h:gn(t=>t-Math.floor(t)),vec4f:jt(t=>t-Math.floor(t)),vec4h:yn(t=>t-Math.floor(t))},isCloseToZero:{vec2f:o((t,e)=>Math.abs(t.x)<=e&&Math.abs(t.y)<=e,"vec2f"),vec2h:o((t,e)=>Math.abs(t.x)<=e&&Math.abs(t.y)<=e,"vec2h"),vec3f:o((t,e)=>Math.abs(t.x)<=e&&Math.abs(t.y)<=e&&Math.abs(t.z)<=e,"vec3f"),vec3h:o((t,e)=>Math.abs(t.x)<=e&&Math.abs(t.y)<=e&&Math.abs(t.z)<=e,"vec3h"),vec4f:o((t,e)=>Math.abs(t.x)<=e&&Math.abs(t.y)<=e&&Math.abs(t.z)<=e&&Math.abs(t.w)<=e,"vec4f"),vec4h:o((t,e)=>Math.abs(t.x)<=e&&Math.abs(t.y)<=e&&Math.abs(t.z)<=e&&Math.abs(t.w)<=e,"vec4h")},neg:{vec2f:nn(t=>-t),vec2h:mn(t=>-t),vec2i:zh(t=>-t),vec2u:Wm(t=>-t),"vec2<bool>":o(t=>ds(!t.x,!t.y),"vec2<bool>"),vec3f:qt(t=>-t),vec3h:gn(t=>-t),vec3i:Vh(t=>-t),vec3u:Hm(t=>-t),"vec3<bool>":o(t=>ps(!t.x,!t.y,!t.z),"vec3<bool>"),vec4f:jt(t=>-t),vec4h:yn(t=>-t),vec4i:jh(t=>-t),vec4u:Gm(t=>-t),"vec4<bool>":o(t=>ms(!t.x,!t.y,!t.z,!t.w),"vec4<bool>")},select:{vec2f:o((t,e,n)=>_s(n.x?e.x:t.x,n.y?e.y:t.y),"vec2f"),vec2h:o((t,e,n)=>il(n.x?e.x:t.x,n.y?e.y:t.y),"vec2h"),vec2i:o((t,e,n)=>dd(n.x?e.x:t.x,n.y?e.y:t.y),"vec2i"),vec2u:o((t,e,n)=>Kg(n.x?e.x:t.x,n.y?e.y:t.y),"vec2u"),"vec2<bool>":o((t,e,n)=>ds(n.x?e.x:t.x,n.y?e.y:t.y),"vec2<bool>"),vec3f:o((t,e,n)=>Gi(n.x?e.x:t.x,n.y?e.y:t.y,n.z?e.z:t.z),"vec3f"),vec3h:o((t,e,n)=>Xo(n.x?e.x:t.x,n.y?e.y:t.y,n.z?e.z:t.z),"vec3h"),vec3i:o((t,e,n)=>pd(n.x?e.x:t.x,n.y?e.y:t.y,n.z?e.z:t.z),"vec3i"),vec3u:o((t,e,n)=>Yg(n.x?e.x:t.x,n.y?e.y:t.y,n.z?e.z:t.z),"vec3u"),"vec3<bool>":o((t,e,n)=>ps(n.x?e.x:t.x,n.y?e.y:t.y,n.z?e.z:t.z),"vec3<bool>"),vec4f:o((t,e,n)=>bs(n.x?e.x:t.x,n.y?e.y:t.y,n.z?e.z:t.z,n.w?e.w:t.w),"vec4f"),vec4h:o((t,e,n)=>sl(n.x?e.x:t.x,n.y?e.y:t.y,n.z?e.z:t.z,n.w?e.w:t.w),"vec4h"),vec4i:o((t,e,n)=>md(n.x?e.x:t.x,n.y?e.y:t.y,n.z?e.z:t.z,n.w?e.w:t.w),"vec4i"),vec4u:o((t,e,n)=>Xg(n.x?e.x:t.x,n.y?e.y:t.y,n.z?e.z:t.z,n.w?e.w:t.w),"vec4u"),"vec4<bool>":o((t,e,n)=>ms(n.x?e.x:t.x,n.y?e.y:t.y,n.z?e.z:t.z,n.w?e.w:t.w),"vec4<bool>")},tanh:{vec2f:nn(Math.tanh),vec2h:mn(Math.tanh),vec3f:qt(Math.tanh),vec3h:gn(Math.tanh),vec4f:jt(Math.tanh),vec4h:yn(Math.tanh)},bitcastU32toF32:{vec2u:o(t=>_s(Vo(t.x),Vo(t.y)),"vec2u"),vec3u:o(t=>Gi(Vo(t.x),Vo(t.y),Vo(t.z)),"vec3u"),vec4u:o(t=>bs(Vo(t.x),Vo(t.y),Vo(t.z),Vo(t.w)),"vec4u")},bitcastU32toI32:{vec2u:o(t=>dd(jo(t.x),jo(t.y)),"vec2u"),vec3u:o(t=>pd(jo(t.x),jo(t.y),jo(t.z)),"vec3u"),vec4u:o(t=>md(jo(t.x),jo(t.y),jo(t.z),jo(t.w)),"vec4u")}};function iq(t,e){if(typeof t=="number"&&typeof e=="number")return t+e;if(typeof t=="number"&&fn(e))return Pe.addMixed[e.kind](e,t);if(fn(t)&&typeof e=="number")return Pe.addMixed[t.kind](t,e);if(fn(t)&&fn(e)||Qo(t)&&Qo(e))return Pe.add[t.kind](t,e);throw new Error("Add/Sub called with invalid arguments.")}o(iq,"un");var sq=me({name:"add",signature:o((...t)=>{let e=ki(t)??t;return{argTypes:e,returnType:Il(e[0])?e[1]:e[0]}},"signature"),normalImpl:iq,codegenImpl:o((t,e)=>ee`(${t} + ${e})`,"codegenImpl")});function U4e(t,e){return iq(t,oq(-1,e))}o(U4e,"Kn$1");var f1=me({name:"sub",signature:o((...t)=>{let e=ki(t)??t;return{argTypes:e,returnType:Il(e[0])?e[1]:e[0]}},"signature"),normalImpl:U4e,codegenImpl:o((t,e)=>ee`(${t} - ${e})`,"codegenImpl")});function oq(t,e){if(typeof t=="number"&&typeof e=="number")return t*e;if(typeof t=="number"&&(fn(e)||Qo(e)))return Pe.mulSxV[e.kind](t,e);if((fn(t)||Qo(t))&&typeof e=="number")return Pe.mulSxV[t.kind](e,t);if(fn(t)&&fn(e))return Pe.mulVxV[t.kind](t,e);if(lF(t)&&Qo(e))return Pe.mulVxM[e.kind](t,e);if(Qo(t)&&lF(e))return Pe.mulMxV[t.kind](t,e);if(Qo(t)&&Qo(e))return Pe.mulVxV[t.kind](t,e);throw new Error("Mul called with invalid arguments.")}o(oq,"cn");var HO=me({name:"mul",signature:o((...t)=>{let e=ki(t)??t,n=Il(e[0])?e[1]:Il(e[1])||e[0].type.startsWith("vec")?e[0]:e[1].type.startsWith("vec")?e[1]:e[0];return{argTypes:e,returnType:n}},"signature"),normalImpl:oq,codegenImpl:o((t,e)=>ee`(${t} * ${e})`,"codegenImpl")});function z4e(t,e){if(typeof t=="number"&&typeof e=="number")return t/e;if(typeof t=="number"&&fn(e)){let n=Fv[e.kind][W].jsImpl;return Pe.div[e.kind](n(t),e)}if(fn(t)&&typeof e=="number"){let n=Fv[t.kind][W].jsImpl;return Pe.div[t.kind](t,n(e))}if(fn(t)&&fn(e))return Pe.div[t.kind](t,e);throw new Error("Div called with invalid arguments.")}o(z4e,"qn");var aq=me({name:"div",signature:o((...t)=>{let e=ki(t,[ne,jn,ko])??t;return{argTypes:e,returnType:Il(e[0])?e[1]:e[0]}},"signature"),normalImpl:z4e,codegenImpl:o((t,e)=>ee`(${t} / ${e})`,"codegenImpl"),ignoreImplicitCastWarning:!0});me({name:"mod",signature:o((...t)=>{let e=ki(t)??t;return{argTypes:e,returnType:Il(e[0])?e[1]:e[0]}},"signature"),normalImpl(t,e){if(typeof t=="number"&&typeof e=="number")return t%e;if(typeof t=="number"&&fn(e)){let n=Fv[e.kind];return Pe.mod[e.kind](n(t),e)}if(fn(t)&&typeof e=="number"){let n=Fv[t.kind];return Pe.mod[t.kind](t,n(e))}if(fn(t)&&fn(e))return Pe.mod[t.kind](t,e);throw new Error("Mod called with invalid arguments, expected types: number or vector.")},codegenImpl:o((t,e)=>ee`(${t} % ${e})`,"codegenImpl")});function V4e(t){return typeof t=="number"?-t:Pe.neg[t.kind](t)}o(V4e,"jn");me({name:"neg",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:V4e,codegenImpl:o(t=>ee`-(${t})`,"codegenImpl")});function j4e(t){return typeof t=="number"?Math.abs(t):Pe.abs[t.kind](t)}o(j4e,"Zn$1");me({name:"abs",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:j4e,codegenImpl:o(t=>ee`abs(${t})`,"codegenImpl")});function W4e(t){return typeof t=="number"?Math.acos(t):Pe.acos[t.kind](t)}o(W4e,"Hn$1");me({name:"acos",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:W4e,codegenImpl:o(t=>ee`acos(${t})`,"codegenImpl")});function H4e(t){return typeof t=="number"?Math.acosh(t):Pe.acosh[t.kind](t)}o(H4e,"Qn");me({name:"acosh",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:H4e,codegenImpl:o(t=>ee`acosh(${t})`,"codegenImpl")});function G4e(t){return typeof t=="number"?Math.asin(t):Pe.asin[t.kind](t)}o(G4e,"Xn$1");me({name:"asin",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:G4e,codegenImpl:o(t=>ee`asin(${t})`,"codegenImpl")});function q4e(t){return typeof t=="number"?Math.asinh(t):Pe.asinh[t.kind](t)}o(q4e,"Yn$1");me({name:"asinh",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:q4e,codegenImpl:o(t=>ee`asinh(${t})`,"codegenImpl")});function K4e(t){return typeof t=="number"?Math.atan(t):Pe.atan[t.kind](t)}o(K4e,"Jn$1");me({name:"atan",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:K4e,codegenImpl:o(t=>ee`atan(${t})`,"codegenImpl")});function Y4e(t){return typeof t=="number"?Math.atanh(t):Pe.atanh[t.kind](t)}o(Y4e,"er$1");me({name:"atanh",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:Y4e,codegenImpl:o(t=>ee`atanh(${t})`,"codegenImpl")});function X4e(t,e){return typeof t=="number"&&typeof e=="number"?Math.atan2(t,e):Pe.atan2[t.kind](t,e)}o(X4e,"tr$1");me({name:"atan2",signature:o((...t)=>{let e=ki(t,[ne,jn,ko])??t;return{argTypes:e,returnType:e[0]}},"signature"),normalImpl:X4e,codegenImpl:o((t,e)=>ee`atan2(${t}, ${e})`,"codegenImpl")});function J4e(t){return typeof t=="number"?Math.ceil(t):Pe.ceil[t.kind](t)}o(J4e,"nr$1");var Z4e=me({name:"ceil",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:J4e,codegenImpl:o(t=>ee`ceil(${t})`,"codegenImpl")});function Q4e(t,e,n){return typeof t=="number"?Math.min(Math.max(e,t),n):Pe.clamp[t.kind](t,e,n)}o(Q4e,"rr$1");me({name:"clamp",signature:o((...t)=>{let e=ki(t)??t;return{argTypes:e,returnType:e[0]}},"signature"),normalImpl:Q4e,codegenImpl:o((t,e,n)=>ee`clamp(${t}, ${e}, ${n})`,"codegenImpl")});function ePe(t){return typeof t=="number"?Math.cos(t):Pe.cos[t.kind](t)}o(ePe,"sr$1");me({name:"cos",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:ePe,codegenImpl:o(t=>ee`cos(${t})`,"codegenImpl")});function tPe(t){return typeof t=="number"?Math.cosh(t):Pe.cosh[t.kind](t)}o(tPe,"ar$1");me({name:"cosh",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:tPe,codegenImpl:o(t=>ee`cosh(${t})`,"codegenImpl")});me({name:"countLeadingZeros",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:"CPU implementation for countLeadingZeros not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o(t=>ee`countLeadingZeros(${t})`,"codegenImpl")});me({name:"countOneBits",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:"CPU implementation for countOneBits not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o(t=>ee`countOneBits(${t})`,"codegenImpl")});me({name:"countTrailingZeros",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:"CPU implementation for countTrailingZeros not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o(t=>ee`countTrailingZeros(${t})`,"codegenImpl")});me({name:"cross",signature:o((t,e)=>({argTypes:[t,e],returnType:t}),"signature"),normalImpl:o((t,e)=>Pe.cross[t.kind](t,e),"normalImpl"),codegenImpl:o((t,e)=>ee`cross(${t}, ${e})`,"codegenImpl")});function nPe(t){if(typeof t=="number")return t*180/Math.PI;throw new ls("CPU implementation for degrees on vectors not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues")}o(nPe,"or$1");me({name:"degrees",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:nPe,codegenImpl:o(t=>ee`degrees(${t})`,"codegenImpl")});me({name:"determinant",signature:o(t=>({argTypes:[t],returnType:ne}),"signature"),normalImpl:"CPU implementation for determinant not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o(t=>ee`determinant(${t})`,"codegenImpl")});function rPe(t,e){return typeof t=="number"&&typeof e=="number"?Math.abs(t-e):dPe(f1(t,e))}o(rPe,"ur$1");me({name:"distance",signature:o((t,e)=>({argTypes:[t,e],returnType:wO(t)?jn:ne}),"signature"),normalImpl:rPe,codegenImpl:o((t,e)=>ee`distance(${t}, ${e})`,"codegenImpl")});var iPe=me({name:"dot",signature:o((t,e)=>({argTypes:[t,e],returnType:t.primitive}),"signature"),normalImpl:o((t,e)=>Pe.dot[t.kind](t,e),"normalImpl"),codegenImpl:o((t,e)=>ee`dot(${t}, ${e})`,"codegenImpl")});me({name:"dot4U8Packed",signature:o((t,e)=>({argTypes:[Me,Me],returnType:Me}),"signature"),normalImpl:"CPU implementation for dot4U8Packed not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o((t,e)=>ee`dot4U8Packed(${t}, ${e})`,"codegenImpl")});me({name:"dot4I8Packed",signature:o((t,e)=>({argTypes:[Me,Me],returnType:Lt}),"signature"),normalImpl:"CPU implementation for dot4I8Packed not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o((t,e)=>ee`dot4I8Packed(${t}, ${e})`,"codegenImpl")});function sPe(t){return typeof t=="number"?Math.exp(t):Pe.exp[t.kind](t)}o(sPe,"ir$1");me({name:"exp",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:sPe,codegenImpl:o(t=>ee`exp(${t})`,"codegenImpl")});function oPe(t){return typeof t=="number"?2**t:Pe.exp2[t.kind](t)}o(oPe,"lr");me({name:"exp2",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:oPe,codegenImpl:o(t=>ee`exp2(${t})`,"codegenImpl")});me({name:"extractBits",signature:o((t,e,n)=>({argTypes:[t,Me,Me],returnType:t}),"signature"),normalImpl:"CPU implementation for extractBits not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o((t,e,n)=>ee`extractBits(${t}, ${e}, ${n})`,"codegenImpl")});me({name:"faceForward",signature:o((t,e,n)=>({argTypes:[t,e,n],returnType:t}),"signature"),normalImpl:"CPU implementation for faceForward not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o((t,e,n)=>ee`faceForward(${t}, ${e}, ${n})`,"codegenImpl")});me({name:"firstLeadingBit",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:"CPU implementation for firstLeadingBit not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o(t=>ee`firstLeadingBit(${t})`,"codegenImpl")});me({name:"firstTrailingBit",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:"CPU implementation for firstTrailingBit not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o(t=>ee`firstTrailingBit(${t})`,"codegenImpl")});function aPe(t){return typeof t=="number"?Math.floor(t):Pe.floor[t.kind](t)}o(aPe,"mr");me({name:"floor",signature:o((...t)=>({argTypes:t,returnType:t[0]}),"signature"),normalImpl:aPe,codegenImpl:o(t=>ee`floor(${t})`,"codegenImpl")});function lPe(t,e,n){if(typeof t=="number")return t*e+n;throw new ls("CPU implementation for fma on vectors not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues")}o(lPe,"pr$1");me({name:"fma",signature:o((t,e,n)=>({argTypes:[t,e,n],returnType:t}),"signature"),normalImpl:lPe,codegenImpl:o((t,e,n)=>ee`fma(${t}, ${e}, ${n})`,"codegenImpl")});function uPe(t){return typeof t=="number"?t-Math.floor(t):Pe.fract[t.kind](t)}o(uPe,"yr");me({name:"fract",signature:o((...t)=>({argTypes:t,returnType:t[0]}),"signature"),normalImpl:uPe,codegenImpl:o(t=>ee`fract(${t})`,"codegenImpl")});var cPe={f32:ar({fract:ne,exp:Lt}),f16:ar({fract:jn,exp:Lt}),abstractFloat:ar({fract:ko,exp:Fx}),vec2f:ar({fract:Ht,exp:kr}),vec3f:ar({fract:Rr,exp:us}),vec4f:ar({fract:se,exp:Yt}),vec2h:ar({fract:xa,exp:kr}),vec3h:ar({fract:Ta,exp:us}),vec4h:ar({fract:Sa,exp:Yt})};gr(t=>{throw new ls("CPU implementation for frexp not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues")},t=>{let e=cPe[t.dataType.type];if(!e)throw new Error(`Unsupported data type for frexp: ${t.dataType.type}. Supported types are f32, f16, abstractFloat, vec2f, vec3f, vec4f, vec2h, vec3h, vec4h.`);return oe(ee`frexp(${t})`,e)},"frexp");me({name:"insertBits",signature:o((t,e,n,r)=>({argTypes:[t,e,Me,Me],returnType:t}),"signature"),normalImpl:"CPU implementation for insertBits not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o((t,e,n,r)=>ee`insertBits(${t}, ${e}, ${n}, ${r})`,"codegenImpl")});function fPe(t){if(typeof t=="number")return 1/Math.sqrt(t);throw new ls("CPU implementation for inverseSqrt on vectors not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues")}o(fPe,"xr");me({name:"inverseSqrt",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:fPe,codegenImpl:o(t=>ee`inverseSqrt(${t})`,"codegenImpl")});me({name:"ldexp",signature:o((t,e)=>{switch(t.type){case"abstractFloat":return{argTypes:[ko,Fx],returnType:t};case"f32":case"f16":return{argTypes:[t,Lt],returnType:t};case"vec2f":case"vec2h":return{argTypes:[t,kr],returnType:t};case"vec3f":case"vec3h":return{argTypes:[t,us],returnType:t};case"vec4f":case"vec4h":return{argTypes:[t,Yt],returnType:t};default:throw new Error(`Unsupported data type for ldexp: ${t.type}. Supported types are abstractFloat, f32, f16, vec2f, vec2h, vec3f, vec3h, vec4f, vec4h.`)}},"signature"),normalImpl:"CPU implementation for ldexp not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o((t,e)=>ee`ldexp(${t}, ${e})`,"codegenImpl")});function hPe(t){return typeof t=="number"?Math.abs(t):Pe.length[t.kind](t)}o(hPe,"dr");var dPe=me({name:"length",signature:o(t=>({argTypes:[t],returnType:wO(t)?jn:ne}),"signature"),normalImpl:hPe,codegenImpl:o(t=>ee`length(${t})`,"codegenImpl")});function pPe(t){return typeof t=="number"?Math.log(t):Pe.log[t.kind](t)}o(pPe,"gr");me({name:"log",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:pPe,codegenImpl:o(t=>ee`log(${t})`,"codegenImpl")});function mPe(t){return typeof t=="number"?Math.log2(t):Pe.log2[t.kind](t)}o(mPe,"hr");me({name:"log2",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:mPe,codegenImpl:o(t=>ee`log2(${t})`,"codegenImpl")});function gPe(t,e){return typeof t=="number"?Math.max(t,e):Pe.max[t.kind](t,e)}o(gPe,"vr$1");me({name:"max",signature:o((...t)=>{let e=ki(t)??t;return{argTypes:e,returnType:e[0]}},"signature"),normalImpl:gPe,codegenImpl:o((t,e)=>ee`max(${t}, ${e})`,"codegenImpl")});function yPe(t,e){return typeof t=="number"?Math.min(t,e):Pe.min[t.kind](t,e)}o(yPe,"br");me({name:"min",signature:o((...t)=>{let e=ki(t)??t;return{argTypes:e,returnType:e[0]}},"signature"),normalImpl:yPe,codegenImpl:o((t,e)=>ee`min(${t}, ${e})`,"codegenImpl")});function _Pe(t,e,n){if(typeof t=="number"){if(typeof n!="number"||typeof e!="number")throw new Error("When e1 and e2 are numbers, the blend factor must be a number.");return t*(1-n)+e*n}if(typeof t=="number"||typeof e=="number")throw new Error("e1 and e2 need to both be vectors of the same kind.");return Pe.mix[t.kind](t,e,n)}o(_Pe,"wr");me({name:"mix",signature:o((t,e,n)=>({argTypes:[t,e,n],returnType:t}),"signature"),normalImpl:_Pe,codegenImpl:o((t,e,n)=>ee`mix(${t}, ${e}, ${n})`,"codegenImpl")});var bPe={f32:ar({fract:ne,whole:ne}),f16:ar({fract:jn,whole:jn}),abstractFloat:ar({fract:ko,whole:ko}),vec2f:ar({fract:Ht,whole:Ht}),vec3f:ar({fract:Rr,whole:Rr}),vec4f:ar({fract:se,whole:se}),vec2h:ar({fract:xa,whole:xa}),vec3h:ar({fract:Ta,whole:Ta}),vec4h:ar({fract:Sa,whole:Sa})};me({name:"modf",signature:o(t=>{let e=bPe[t.type];if(!e)throw new Error(`Unsupported data type for modf: ${t.type}. Supported types are f32, f16, abstractFloat, vec2f, vec3f, vec4f, vec2h, vec3h, vec4h.`);return{argTypes:[t],returnType:e}},"signature"),normalImpl:"CPU implementation for modf not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o(t=>ee`modf(${t})`,"codegenImpl")});me({name:"normalize",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:o(t=>Pe.normalize[t.kind](t),"normalImpl"),codegenImpl:o(t=>ee`normalize(${t})`,"codegenImpl")});function wPe(t,e){if(typeof t=="number"&&typeof e=="number")return t**e;if(fn(t)&&fn(e))return Pe.pow[t.kind](t,e);throw new Error("Invalid arguments to pow()")}o(wPe,"Mr$1");var vPe=me({name:"pow",signature:o((...t)=>{let e=ki(t,[ne,jn,ko])??t;return{argTypes:e,returnType:Il(e[0])?e[1]:e[0]}},"signature"),normalImpl:wPe,codegenImpl:o((t,e)=>ee`pow(${t}, ${e})`,"codegenImpl")});me({name:"quantizeToF16",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:"CPU implementation for quantizeToF16 not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o(t=>ee`quantizeToF16(${t})`,"codegenImpl")});function EPe(t){if(typeof t=="number")return t*Math.PI/180;throw new ls("CPU implementation for radians on vectors not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues")}o(EPe,"Ir$1");me({name:"radians",signature:o((...t)=>{let e=ki(t,[ne,jn,ko])??t;return{argTypes:e,returnType:e[0]}},"signature"),normalImpl:EPe,codegenImpl:o(t=>ee`radians(${t})`,"codegenImpl")});me({name:"reflect",signature:o((t,e)=>({argTypes:[t,e],returnType:t}),"signature"),normalImpl:o((t,e)=>f1(t,HO(2*iPe(e,t),e)),"normalImpl"),codegenImpl:o((t,e)=>ee`reflect(${t}, ${e})`,"codegenImpl")});gr((t,e,n)=>{throw new ls("CPU implementation for refract not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues")},(t,e,n)=>oe(ee`refract(${t}, ${e}, ${n})`,t.dataType),"refract",(t,e,n)=>[t.dataType,e.dataType,wO(t)?jn:ne]);me({name:"reverseBits",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:"CPU implementation for reverseBits not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o(t=>ee`reverseBits(${t})`,"codegenImpl")});function xPe(t){if(typeof t=="number")return Math.round(t);throw new ls("CPU implementation for round on vectors not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues")}o(xPe,"Ar");me({name:"round",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:xPe,codegenImpl:o(t=>ee`round(${t})`,"codegenImpl")});function TPe(t){if(typeof t=="number")return Math.max(0,Math.min(1,t));throw new ls("CPU implementation for saturate on vectors not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues")}o(TPe,"$r$1");me({name:"saturate",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:TPe,codegenImpl:o(t=>ee`saturate(${t})`,"codegenImpl")});function SPe(t){return typeof t=="number"?Math.sign(t):Pe.sign[t.kind](t)}o(SPe,"zr$1");me({name:"sign",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:SPe,codegenImpl:o(t=>ee`sign(${t})`,"codegenImpl")});function kPe(t){return typeof t=="number"?Math.sin(t):Pe.sin[t.kind](t)}o(kPe,"Vr$1");me({name:"sin",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:kPe,codegenImpl:o(t=>ee`sin(${t})`,"codegenImpl")});function APe(t){if(typeof t=="number")return Math.sinh(t);throw new ls("CPU implementation for sinh on vectors not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues")}o(APe,"Fr$1");me({name:"sinh",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:APe,codegenImpl:o(t=>ee`sinh(${t})`,"codegenImpl")});function CPe(t,e,n){return typeof n=="number"?Lc(t,e,n):Pe.smoothstep[n.kind](t,e,n)}o(CPe,"Cr$1");me({name:"smoothstep",signature:o((t,e,n)=>({argTypes:[t,e,n],returnType:n}),"signature"),normalImpl:CPe,codegenImpl:o((t,e,n)=>ee`smoothstep(${t}, ${e}, ${n})`,"codegenImpl")});function IPe(t){return typeof t=="number"?Math.sqrt(t):Pe.sqrt[t.kind](t)}o(IPe,"Pr$1");me({name:"sqrt",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:IPe,codegenImpl:o(t=>ee`sqrt(${t})`,"codegenImpl")});function RPe(t,e){if(typeof t=="number")return t<=e?1:0;throw new ls("CPU implementation for step on vectors not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues")}o(RPe,"kr$1");me({name:"step",signature:o((...t)=>{let e=ki(t,[ne,jn,ko])??t;return{argTypes:e,returnType:e[0]}},"signature"),normalImpl:RPe,codegenImpl:o((t,e)=>ee`step(${t}, ${e})`,"codegenImpl")});function OPe(t){if(typeof t=="number")return Math.tan(t);throw new ls("CPU implementation for tan on vectors not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues")}o(OPe,"Wr$1");me({name:"tan",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:OPe,codegenImpl:o(t=>ee`tan(${t})`,"codegenImpl")});function NPe(t){return typeof t=="number"?Math.tanh(t):Pe.tanh[t.kind](t)}o(NPe,"_r$1");me({name:"tanh",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:NPe,codegenImpl:o(t=>ee`tanh(${t})`,"codegenImpl")});me({name:"transpose",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:"CPU implementation for transpose not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o(t=>ee`transpose(${t})`,"codegenImpl")});me({name:"trunc",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:"CPU implementation for trunc not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o(t=>ee`trunc(${t})`,"codegenImpl")});var{NodeTypeCatalog:Gt}=NDe,MPe=["==","!=","<","<=",">",">=","<<",">>","+","-","*","/","%","|","^","&","&&","||"],DPe=["&&","||","==","!=","<","<=",">",">="],PPe=["vec2f","vec3f","vec4f","vec2h","vec3h","vec4h","vec2i","vec3i","vec4i","vec2u","vec3u","vec4u","mat2x2f","mat3x3f","mat4x4f"],RF={add:sq,sub:f1,mul:HO,div:aq};function OF(t,e,n){return n?DPe.includes(e)?bn:e==="="?n:t:e==="!"||e==="~"?bn:t}o(OF,"pn");var $Pe={"+":sq[W].gpuImpl,"-":f1[W].gpuImpl,"*":HO[W].gpuImpl,"/":aq[W].gpuImpl,"**":vPe[W].gpuImpl},LPe=class{static{o(this,"Gt")}#e=void 0;initGenerator(t){this.#e=t}get ctx(){if(!this.#e)throw new Error("WGSL Generator has not yet been initialized. Please call initialize(ctx) before using the generator.");return this.#e}block([t,e]){this.ctx.pushBlockScope();try{this.ctx.indent();let n=e.map(r=>this.statement(r)).join(`
`);return this.ctx.dedent(),`{
${n}
${this.ctx.pre}}`}finally{this.ctx.popBlockScope()}}blockVariable(t,e){let n=oe(this.ctx.makeNameValid(t),e);return this.ctx.defineVariable(t,n),n}identifier(t){if(!t)throw new Error("Cannot resolve an empty identifier");let e=this.ctx.getById(t);if(!e)throw new Error(`Identifier ${t} not found`);return e}typedExpression(t,e){let n=this.ctx.expectedType;this.ctx.expectedType=e;try{let r=this.expression(t);return uC(r,e)}finally{this.ctx.expectedType=n}}expression(t){if(typeof t=="string")return this.identifier(t);if(typeof t=="boolean")return oe(t,bn);if(t[0]===Gt.logicalExpr||t[0]===Gt.binaryExpr||t[0]===Gt.assignmentExpr){let[e,n,r,i]=t,s=this.expression(n),a=this.expression(i),l=$Pe[r];if(l)return l(s,a);let u=t[0]===Gt.assignmentExpr?s.dataType.type==="ptr"?[s.dataType.inner]:[s.dataType]:void 0,[c,f]=Gg([s,a],u)??[s,a],h=this.ctx.resolve(c.value,c.dataType).value,d=this.ctx.resolve(f.value,f.dataType).value,p=OF(c.dataType,r,f.dataType);return oe(MPe.includes(r)?`(${h} ${r} ${d})`:`${h} ${r} ${d}`,p)}if(t[0]===Gt.postUpdate){let[e,n,r]=t,i=this.expression(r),s=this.ctx.resolve(i.value,i.dataType).value;return oe(`${s}${n}`,i.dataType)}if(t[0]===Gt.unaryExpr){let[e,n,r]=t,i=this.expression(r),s=this.ctx.resolve(i.value,i.dataType).value,a=OF(i.dataType,n);return oe(`${n}${s}`,a)}if(t[0]===Gt.memberAccess){let[e,n,r]=t,i=this.expression(n);if(i.value===console)return oe(new hF(r),ci);if(PPe.includes(i.dataType.type)&&r in RF)return{value:new cF(r,i,RF[r][W].gpuImpl),dataType:ci};if(i.dataType.type==="unknown"){let s=i.value[r];return Tb(s)}return uF(i.dataType)?oe(`(*${this.ctx.resolve(i.value).value}).${r}`,dC(i.dataType.inner,r)):go(i.dataType)&&r==="length"?i.dataType.elementCount===0?oe(`arrayLength(&${this.ctx.resolve(i.value).value})`,Me):oe(String(i.dataType.elementCount),Fx):ty(i.dataType)&&r==="columns"?oe(new fF(i),ci):Cl(i.dataType)&&fn(i.value)?Tb(i.value[r]):oe(`${this.ctx.resolve(i.value).value}.${r}`,dC(i.dataType,r))}if(t[0]===Gt.indexAccess){let[e,n,r]=t,i=this.expression(n),s=this.expression(r),a=this.ctx.resolve(s.value,s.dataType).value;if(i.value instanceof fF)return oe(ee`${i.value.matrix}[${a}]`,sS(i.value.matrix.dataType));let l=this.ctx.resolve(i.value,i.dataType).value;if(i.dataType.type==="unknown"){if(Array.isArray(r)&&r[0]===Gt.numericLiteral)return Tb(i.value[r[1]]);throw new Error(`Unable to index a value of unknown type with index ${a}. If the value is an array, to address this, consider one of the following approaches: (1) declare the array using 'tgpu.const', (2) store the array in a buffer, or (3) define the array within the GPU function scope.`)}if(ty(i.dataType))throw new Error("The only way of accessing matrix elements in TGSL is through the 'columns' property.");return uF(i.dataType)?oe(`(*${l})[${a}]`,sS(i.dataType.inner)):oe(`${l}[${a}]`,sm(i.dataType)?sS(i.dataType):ci)}if(t[0]===Gt.numericLiteral){let e=typeof t[1]=="string"?Bv(BPe(t[1])):Bv(t[1]);if(!e)throw new Error(`Invalid numeric literal ${t[1]}`);return e}if(t[0]===Gt.call){let[e,n,r]=t,i=this.expression(n);if(Ti(i.value)||go(i.value)){if(r.length>1)throw new ws("Array and struct schemas should always be called with at most 1 argument");if(!r[0])return oe(`${this.ctx.resolve(i.value).value}()`,i.value);let a=this.typedExpression(r[0],i.value);return oe(this.ctx.resolve(a.value,i.value).value,i.value)}if(i.value===pC)throw new Error("Constants cannot be defined within TypeGPU function scope. To address this, move the constant definition outside the function scope.");if(i.value instanceof cF){if(!r[0])throw new ws(`An infix operator '${i.value.name}' was called without any arguments`);let a=this.expression(r[0]);return i.value.operator(i.value.lhs,a)}if(!Mt(i.value)){let a=r.map(u=>this.expression(u)),l=this.ctx.shelllessRepo.get(i.value,a);if(l)return this.ctx.withResetIndentLevel(()=>{let u=this.ctx.resolve(l);return oe(ee`${u.value}(${a})`,u.dataType)});throw new Error(`Function '${xe(i.value)??String(i.value)}' is not marked with the 'use gpu' directive and cannot be used in a shader`)}let s=i.value[W]?.argConversionHint??"keep";try{let a;if(Array.isArray(s))a=r.map((u,c)=>{let f=s[c];if(!f)throw new ws(`Function '${xe(i.value)}' was called with too many arguments`);return this.typedExpression(u,f)});else{let u=r.map(c=>this.expression(c));s==="keep"?a=u:s==="unify"?a=Gg(u)??u:a=s(...u).map((c,f)=>[c,u[f]]).map(([c,f])=>uC(f,c))}if(i.value instanceof hF)return this.ctx.generateLog(i.value.op,a);let l=i.value(...a);if(!EO(l))throw new Error("Functions running in codegen mode must return snippets");return l}catch(a){throw new lg(a,[{toString:o(()=>xe(i.value),"toString")}])}}if(t[0]===Gt.objectExpr){let e=t[1],n=this.ctx.expectedType;if(!n||!Ti(n))throw new ws(`No target type could be inferred for object with keys [${Object.keys(e).join(", ")}], please wrap the object in the corresponding schema.`);let r=Object.fromEntries(Object.entries(n.propTypes).map(([s,a])=>{let l=e[s];if(l===void 0)throw new ws(`Missing property ${s} in object literal for struct ${n}`);let u=this.typedExpression(l,a);return[s,u]})),i=aDe(n,r);return oe(ee`${this.ctx.resolve(n).value}(${i})`,n)}if(t[0]===Gt.arrayExpr){let[e,n]=t,r=this.ctx.expectedType,i,s;if(go(r)){if(i=r.elementType,s=n.map(l=>this.typedExpression(l,i)),s.length!==r.elementCount)throw new ws(`Cannot create value of type '${r}' from an array of length: ${s.length}`)}else{let l=n.map(c=>this.expression(c));if(l.length===0)throw new ws("Cannot infer the type of an empty array literal.");let u=Gg(l);if(!u)throw new ws("The given values cannot be automatically converted to a common type. Consider wrapping the array in an appropriate schema");s=u,i=sy(s[0]?.dataType)}let a=`array<${this.ctx.resolve(i).value}, ${s.length}>`;return oe(ee`${a}(${s})`,iy[W].jsImpl(i,s.length))}if(t[0]===Gt.stringLiteral)return oe(t[1],ci);if(t[0]===Gt.preUpdate)throw new Error("Cannot use pre-updates in TGSL.");FPe(t)}functionDefinition(t){return this.block(t)}statement(t){if(typeof t=="string")return`${this.ctx.pre}${this.ctx.resolve(this.identifier(t).value).value};`;if(typeof t=="boolean")return`${this.ctx.pre}${t?"true":"false"};`;if(t[0]===Gt.return){let e=t[1];if(e!==void 0){let n=this.ctx.topFunctionReturnType,r=n?this.typedExpression(e,n):this.expression(e);return dl(r.dataType.type!=="unknown"),this.ctx.reportReturnType(r.dataType),ee`${this.ctx.pre}return ${r};`}return`${this.ctx.pre}return;`}if(t[0]===Gt.if){let[e,n,r,i]=t,s=this.typedExpression(n,bn),a=s.value===!1?void 0:this.block(F_(r)),l=s.value===!0||!i?void 0:this.block(F_(i));return s.value===!0?`${this.ctx.pre}${a}`:s.value===!1?l?`${this.ctx.pre}${l}`:"":l?ee`\
${this.ctx.pre}if (${s}) ${a}
${this.ctx.pre}else ${l}`:ee`${this.ctx.pre}if (${s}) ${a}`}if(t[0]===Gt.let||t[0]===Gt.const){let[e,n,r]=t,i=r!==void 0?this.expression(r):void 0;if(!i)throw new Error(`Cannot create variable '${n}' without an initial value.`);if(r1(i.dataType))throw new Error(`Cannot create variable '${n}' with loose data type.`);let s=this.blockVariable(n,sy(i.dataType));return ee`${this.ctx.pre}var ${s.value} = ${i};`}if(t[0]===Gt.block)return this.block(t);if(t[0]===Gt.for){let[e,n,r,i,s]=t,[a,l,u]=this.ctx.withResetIndentLevel(()=>[n?this.statement(n):void 0,r?this.typedExpression(r,bn):void 0,i?this.statement(i):void 0]),c=a?a.slice(0,-1):"",f=u?u.slice(0,-1):"",h=this.block(F_(s));return ee`${this.ctx.pre}for (${c}; ${l}; ${f}) ${h}`}if(t[0]===Gt.while){let[e,n,r]=t,i=this.typedExpression(n,bn),s=this.ctx.resolve(i.value).value,a=this.block(F_(r));return`${this.ctx.pre}while (${s}) ${a}`}return t[0]===Gt.continue?`${this.ctx.pre}continue;`:t[0]===Gt.break?`${this.ctx.pre}break;`:`${this.ctx.pre}${this.ctx.resolve(this.expression(t).value).value};`}};function FPe(t){throw new Error(`'${ny(t)}' was not handled by the WGSL generator.`)}o(FPe,"Er$1");function BPe(t){return/^0x[0-9a-f]+$/i.test(t)?Number.parseInt(t):/^0b[01]+$/i.test(t)?Number.parseInt(t.slice(2),2):Number.parseFloat(t)}o(BPe,"Lr$1");function F_(t){return typeof t!="object"||t[0]!==Gt.block?[Gt.block,[t]]:t}o(F_,"vt");var UPe=new LPe,lq=UPe,uq=Object.defineProperty,zPe=o((t,e,n)=>e in t?uq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,"__defNormalProp"),VPe=o((t,e)=>{for(var n in e)uq(t,n,{get:e[n],enumerable:!0})},"__export"),ut=o((t,e,n)=>zPe(t,typeof e!="symbol"?e+"":e,n),"__publicField"),jPe={};VPe(jPe,{BufferReader:o(()=>$u,"BufferReader"),BufferWriter:o(()=>_h,"BufferWriter"),MaxValue:o(()=>Ln,"MaxValue"),Measurer:o(()=>wn,"Measurer"),UnresolvedReferenceError:o(()=>zc,"UnresolvedReferenceError"),ValidationError:o(()=>jx,"ValidationError"),arrayOf:o(()=>KPe,"arrayOf"),bool:o(()=>XPe,"bool"),byte:o(()=>n$e,"byte"),chars:o(()=>g$e,"chars"),concat:o(()=>w$e,"concat"),dynamicArrayOf:o(()=>E$e,"dynamicArrayOf"),f16:o(()=>h$e,"f16"),f32:o(()=>p$e,"f32"),f32Array:o(()=>F$e,"f32Array"),f64Array:o(()=>B$e,"f64Array"),generic:o(()=>_$e,"generic"),genericEnum:o(()=>b$e,"genericEnum"),i16:o(()=>i$e,"i16"),i16Array:o(()=>$$e,"i16Array"),i32:o(()=>l$e,"i32"),i32Array:o(()=>L$e,"i32Array"),i8:o(()=>e$e,"i8"),i8Array:o(()=>P$e,"i8Array"),keyed:o(()=>S$e,"keyed"),object:o(()=>y$e,"object"),optional:o(()=>A$e,"optional"),string:o(()=>ZPe,"string"),tupleOf:o(()=>R$e,"tupleOf"),u16:o(()=>o$e,"u16"),u16Array:o(()=>M$e,"u16Array"),u32:o(()=>c$e,"u32"),u32Array:o(()=>D$e,"u32Array"),u8:o(()=>pq,"u8"),u8Array:o(()=>O$e,"u8Array"),u8ClampedArray:o(()=>N$e,"u8ClampedArray")});var zc=class cq extends Error{static{o(this,"_UnresolvedReferenceError")}constructor(e){super(e),Object.setPrototypeOf(this,cq.prototype)}},jx=class fq extends Error{static{o(this,"_ValidationError")}constructor(e){super(e),Object.setPrototypeOf(this,fq.prototype)}},WPe=class{static{o(this,"UnboundedMeasurer")}constructor(){ut(this,"size",Number.NaN),ut(this,"unbounded",this),ut(this,"isUnbounded",!0)}add(){return this}fork(){return this}},HPe=new WPe,wn=class hq{static{o(this,"_Measurer")}constructor(){ut(this,"size",0),ut(this,"unbounded",HPe),ut(this,"isUnbounded",!1)}add(e){return this.size+=e,this}fork(){const e=new hq;return e.size=this.size,e}},Ln=Symbol("The biggest (in amount of bytes needed) value a schema can represent"),yr=class{static{o(this,"Schema")}constructor(){ut(this,"__unwrapped")}resolveReferences(t){}seekProperty(t,e){return null}},GPe=class{static{o(this,"Ref")}constructor(t){this.key=t}},Jg={STRING:"string",ENUM:"enum"},qPe=class extends yr{static{o(this,"ArraySchema")}constructor(t,e){super(),this._unstableElementSchema=t,this.length=e,ut(this,"elementSchema"),this.elementSchema=t}resolveReferences(t){this.elementSchema=t.resolve(this._unstableElementSchema)}write(t,e){if(e.length!==this.length)throw new jx(`Expected array of length ${this.length}, got ${e.length}`);for(const n of e)this.elementSchema.write(t,n)}read(t){const e=[];for(let n=0;n<this.length;++n)e.push(this.elementSchema.read(t));return e}get maxSize(){return this.elementSchema.measure(Ln).size*this.length}measure(t,e=new wn){for(let n=0;n<this.length;++n)this.elementSchema.measure(t===Ln?Ln:t[n],e);return e}};function KPe(t,e){return new qPe(t,e)}o(KPe,"arrayOf");var YPe=class extends yr{static{o(this,"BoolSchema")}constructor(){super(...arguments),ut(this,"maxSize",1)}read(t){return t.readBool()}write(t,e){t.writeBool(e)}measure(t,e=new wn){return e.add(1)}},XPe=new YPe,dq=class ug extends yr{static{o(this,"_StringSchema")}static get _encoder(){return ug._cachedEncoder||(ug._cachedEncoder=new TextEncoder),ug._cachedEncoder}read(e){return e.readString()}write(e,n){e.writeString(n)}measure(e,n=new wn){if(e===Ln)return n.unbounded;const r=ug._encoder.encode(e);return n.add(r.byteLength+1)}};ut(dq,"_cachedEncoder");var JPe=dq,ZPe=new JPe,QPe=class extends yr{static{o(this,"Int8Schema")}constructor(){super(...arguments),ut(this,"maxSize",1)}read(t){return t.readInt8()}write(t,e){t.writeInt8(e)}measure(t,e=new wn){return e.add(1)}},e$e=new QPe,t$e=class extends yr{static{o(this,"Uint8Schema")}constructor(){super(...arguments),ut(this,"maxSize",1)}read(t){return t.readUint8()}write(t,e){t.writeUint8(e)}measure(t,e=new wn){return e.add(1)}},pq=new t$e,n$e=pq,r$e=class extends yr{static{o(this,"Int16Schema")}constructor(){super(...arguments),ut(this,"maxSize",2)}read(t){return t.readInt16()}write(t,e){t.writeInt16(e)}measure(t,e=new wn){return e.add(2)}},i$e=new r$e,s$e=class extends yr{static{o(this,"Uint16Schema")}constructor(){super(...arguments),ut(this,"maxSize",2)}read(t){return t.readUint16()}write(t,e){t.writeUint16(e)}measure(t,e=new wn){return e.add(2)}},o$e=new s$e,a$e=class extends yr{static{o(this,"Int32Schema")}constructor(){super(...arguments),ut(this,"maxSize",4)}read(t){return t.readInt32()}write(t,e){t.writeInt32(e)}measure(t,e=new wn){return e.add(4)}},l$e=new a$e,u$e=class extends yr{static{o(this,"Uint32Schema")}constructor(){super(...arguments),ut(this,"maxSize",4)}read(t){return t.readUint32()}write(t,e){t.writeUint32(e)}measure(t,e=new wn){return e.add(4)}},c$e=new u$e,f$e=class extends yr{static{o(this,"Float16Schema")}constructor(){super(...arguments),ut(this,"maxSize",2)}read(t){return t.readFloat16()}write(t,e){t.writeFloat16(e)}measure(t,e=new wn){return e.add(2)}},h$e=new f$e,d$e=class extends yr{static{o(this,"Float32Schema")}constructor(){super(...arguments),ut(this,"maxSize",4)}read(t){return t.readFloat32()}write(t,e){t.writeFloat32(e)}measure(t,e=new wn){return e.add(4)}},p$e=new d$e,m$e=class extends yr{static{o(this,"CharsSchema")}constructor(t){super(),this.length=t}write(t,e){if(e.length!==this.length)throw new jx(`Expected char-string of length ${this.length}, got ${e.length}`);for(let n=0;n<e.length;++n)t.writeUint8(e.charCodeAt(n))}read(t){let e="";for(let n=0;n<this.length;++n)e+=String.fromCharCode(t.readByte());return e}measure(t,e=new wn){return e.add(this.length)}};function g$e(t){return new m$e(t)}o(g$e,"chars");function ku(t){return Object.entries(t)}o(ku,"exactEntries");function mq(t,e){const n={};for(const[r,i]of ku(e))n[r]=t.resolve(i);return n}o(mq,"resolveMap");var GO=class extends yr{static{o(this,"ObjectSchema")}constructor(t){super(),this._properties=t,ut(this,"properties"),this.properties=t}resolveReferences(t){this.properties=mq(t,this._properties)}write(t,e){for(const[n,r]of ku(this.properties))r.write(t,e[n])}read(t){const e={};for(const[n,r]of ku(this.properties))e[n]=r.read(t);return e}get maxSize(){const t=new wn;for(const e of Object.values(this.properties))e.measure(Ln,t);return t.size}measure(t,e=new wn){for(const[n,r]of ku(this.properties))r.measure(t===Ln?Ln:t[n],e);return e}seekProperty(t,e){let n=0;for(const[r,i]of ku(this.properties)){if(r===e)return{bufferOffset:n,schema:i};n+=i.measure(t).size}return null}};function y$e(t){return new GO(t)}o(y$e,"object");var gq=class extends yr{static{o(this,"GenericObjectSchema")}constructor(t,e,n){super(),this.keyedBy=t,this._subTypeMap=n,ut(this,"_baseObject"),ut(this,"subTypeMap"),this._baseObject=new GO(e),this.subTypeMap=n}resolveReferences(t){this._baseObject.resolveReferences(t),this.subTypeMap=mq(t,this._subTypeMap)}write(t,e){const n=e.type,r=this.subTypeMap[n]||null;if(r===null)throw new Error(`Unknown sub-type '${n.toString()}' in among '${JSON.stringify(Object.keys(this.subTypeMap))}'`);this.keyedBy===Jg.ENUM?t.writeUint8(e.type):t.writeString(e.type),this._baseObject.write(t,e);for(const[i,s]of ku(r.properties))s.write(t,e[i])}read(t){const e=this.keyedBy===Jg.ENUM?t.readByte():t.readString(),n=this.subTypeMap[e]||null;if(n===null)throw new Error(`Unknown sub-type '${e}' in among '${JSON.stringify(Object.keys(this.subTypeMap))}'`);const r=this._baseObject.read(t);if(r.type=e,n!==null)for(const[i,s]of ku(n.properties))r[i]=s.read(t);return r}measure(t,e=new wn){if(this._baseObject.measure(t,e),this.keyedBy===Jg.ENUM)e.add(1);else if(t!==Ln)e.add(t.type.length+1);else return e.unbounded;if(t===Ln){const n=Object.values(this.subTypeMap).map(r=>{const i=e.fork();for(const s of Object.values(r.properties))s.measure(Ln,i);return[r,i.size]}).reduce((r,i)=>r[1]>i[1]?r:i)[0];for(const r of Object.values(n.properties))r.measure(Ln,e)}else{const n=t.type,r=this.subTypeMap[n]||null;if(r===null)throw new Error(`Unknown sub-type '${n.toString()}', expected one of '${JSON.stringify(Object.keys(this.subTypeMap))}'`);for(const[i,s]of ku(r.properties))s.measure(t[i],e)}return e}};function _$e(t,e){return new gq(Jg.STRING,t,e)}o(_$e,"generic");function b$e(t,e){return new gq(Jg.ENUM,t,e)}o(b$e,"genericEnum");function w$e(t){return new GO(Object.fromEntries(t.flatMap(({properties:e})=>Object.entries(e))))}o(w$e,"concat");var v$e=class extends yr{static{o(this,"DynamicArraySchema")}constructor(t){super(),this._unstableElementType=t,ut(this,"elementType"),this.elementType=t}resolveReferences(t){this.elementType=t.resolve(this._unstableElementType)}write(t,e){t.writeUint32(e.length);for(const n of e)this.elementType.write(t,n)}read(t){const e=[],n=t.readUint32();for(let r=0;r<n;++r)e.push(this.elementType.read(t));return e}get maxSize(){return this.measure(Ln).size}measure(t,e=new wn){if(t===Ln)return e.unbounded;e.add(4);for(const n of t)this.elementType.measure(n,e);return e}seekProperty(t,e){if(typeof e=="symbol")return null;const n=Number.parseInt(String(e),10);if(Number.isNaN(n))return null;if(t===Ln)return{bufferOffset:this.elementType.measure(Ln).size*n,schema:this.elementType};if(n>=t.length)return null;const r=new wn;for(let i=0;i<n;++i)this.elementType.measure(t[i],r);return{bufferOffset:r.size,schema:this.elementType}}};function E$e(t){return new v$e(t)}o(E$e,"dynamicArrayOf");var yq=class{static{o(this,"RefSchema")}constructor(t){ut(this,"__unwrapped"),ut(this,"ref"),this.ref=new GPe(t)}resolveReferences(){throw new zc("Tried to resolve a reference directly. Do it through a RefResolver instead.")}read(){throw new zc("Tried to read a reference directly. Resolve it instead.")}write(){throw new zc("Tried to write a reference directly. Resolve it instead.")}measure(){throw new zc("Tried to measure size of a reference directly. Resolve it instead.")}seekProperty(){throw new zc("Tried to seek property of a reference directly. Resolve it instead.")}},x$e=class{static{o(this,"RefResolve")}constructor(){ut(this,"registry",{})}hasKey(t){return this.registry[t]!==void 0}register(t,e){this.registry[t]=e}resolve(t){if(t instanceof yq){const n=t.ref.key;if(this.registry[n]!==void 0)return this.registry[n];throw new zc(`Couldn't resolve reference to ${n}. Unknown key.`)}return t.resolveReferences(this),t}},T$e=class{static{o(this,"KeyedSchema")}constructor(t,e){this.key=t,ut(this,"__unwrapped"),ut(this,"__keyDefinition"),ut(this,"innerType"),this.innerType=e(new yq(t)),this.resolveReferences(new x$e)}resolveReferences(t){t.hasKey(this.key)||(t.register(this.key,this.innerType),this.innerType.resolveReferences(t))}read(t){return this.innerType.read(t)}write(t,e){this.innerType.write(t,e)}get maxSize(){return this.measure(Ln).size}measure(t,e=new wn){return this.innerType.measure(t,e)}seekProperty(t,e){return this.innerType.seekProperty(t,e)}};function S$e(t,e){return new T$e(t,e)}o(S$e,"keyed");var k$e=class extends yr{static{o(this,"OptionalSchema")}constructor(t){super(),this._innerUnstableSchema=t,ut(this,"innerSchema"),this.innerSchema=t}resolveReferences(t){this.innerSchema=t.resolve(this._innerUnstableSchema)}write(t,e){e!=null?(t.writeBool(!0),this.innerSchema.write(t,e)):t.writeBool(!1)}read(t){if(t.readBool())return this.innerSchema.read(t)}get maxSize(){return this.measure(Ln).size}measure(t,e=new wn){return t!==void 0&&this.innerSchema.measure(t,e),e.add(1)}};function A$e(t){return new k$e(t)}o(A$e,"optional");function C$e(t,e){return e.map(n=>t.resolve(n))}o(C$e,"resolveArray");var I$e=class extends yr{static{o(this,"TupleSchema")}constructor(t){super(),this._unstableSchemas=t,ut(this,"schemas"),this.schemas=t}resolveReferences(t){this.schemas=C$e(t,this._unstableSchemas)}write(t,e){if(e.length!==this.schemas.length)throw new jx(`Expected tuple of length ${this.schemas.length}, got ${e.length}`);for(let n=0;n<this.schemas.length;++n)this.schemas[n].write(t,e[n])}read(t){const e=[];for(let n=0;n<this.schemas.length;++n)e.push(this.schemas[n].read(t));return e}get maxSize(){return this.measure(Ln).size}measure(t,e=new wn){for(let n=0;n<this.schemas.length;++n)this.schemas[n].measure(t===Ln?Ln:t[n],e);return e}};function R$e(t){return new I$e(t)}o(R$e,"tupleOf");var Ul=class extends yr{static{o(this,"TypedArraySchema")}constructor(t,e){super(),this.length=t,this._arrayConstructor=e,ut(this,"byteLength"),this.byteLength=t*e.BYTES_PER_ELEMENT}write(t,e){t.writeSlice(e)}read(t){const e=new ArrayBuffer(this.byteLength),n=new this._arrayConstructor(e,0,this.length);return t.readSlice(n,0,this.byteLength),n}measure(t,e=new wn){return e.add(this.byteLength)}},O$e=o(t=>new Ul(t,Uint8Array),"u8Array"),N$e=o(t=>new Ul(t,Uint8ClampedArray),"u8ClampedArray"),M$e=o(t=>new Ul(t,Uint16Array),"u16Array"),D$e=o(t=>new Ul(t,Uint32Array),"u32Array"),P$e=o(t=>new Ul(t,Int8Array),"i8Array"),$$e=o(t=>new Ul(t,Int16Array),"i16Array"),L$e=o(t=>new Ul(t,Int32Array),"i32Array"),F$e=o(t=>new Ul(t,Float32Array),"f32Array"),B$e=o(t=>new Ul(t,Float64Array),"f64Array");function U$e(){const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return e[0]=1,t[0]===0}o(U$e,"isSystemBigEndian");function _q(){return U$e()?"big":"little"}o(_q,"getSystemEndianness");function qO(t){let e=0,n=t;return n&&"buffer"in n&&"byteOffset"in n&&(e+=n.byteOffset,n=n.buffer),{buffer:n,byteOffset:e,byteLength:t.byteLength}}o(qO,"unwrapBuffer");var bq=class{static{o(this,"BufferIOBase")}constructor(t,e){ut(this,"dataView"),ut(this,"littleEndian"),ut(this,"byteOffset",0),ut(this,"endianness");const{byteOffset:n=0,endianness:r="system"}=e??{};this.byteOffset=n;const i=_q();this.endianness=r==="system"?i:r,this.littleEndian=this.endianness==="little";const s=qO(t);this.byteOffset+=s.byteOffset,this.dataView=new DataView(s.buffer)}get currentByteOffset(){return this.byteOffset}seekTo(t){this.byteOffset=t}skipBytes(t){this.byteOffset+=t}};function z$e(t){if(t===0)return 0;if(Number.isNaN(t))return 32256;if(!Number.isFinite(t))return t>0?31744:64512;const e=t<0?1:0,n=Math.abs(t),r=Math.floor(Math.log2(n)),i=n/2**r-1,s=r+15,a=Math.floor(i*1024);return e<<15|s<<10|a}o(z$e,"numberToFloat16");function V$e(t){const e=(t&32768)>>15,n=(t&31744)>>10,r=t&1023;return n===0?e===0?r/1024:-r/1024:n===31?r===0?e===0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:Number.NaN:(e===0?1:-1)*(1+r/1024)*2**(n-15)}o(V$e,"float16ToNumber");var $u=class extends bq{static{o(this,"BufferReader")}constructor(){super(...arguments),ut(this,"_cachedTextDecoder")}get _textDecoder(){return this._cachedTextDecoder||(this._cachedTextDecoder=new TextDecoder(void 0,{fatal:!0})),this._cachedTextDecoder}readBool(){return this.dataView.getUint8(this.byteOffset++)!==0}readByte(){return this.dataView.getUint8(this.byteOffset++)}readInt8(){return this.dataView.getInt8(this.byteOffset++)}readUint8(){return this.dataView.getUint8(this.byteOffset++)}readInt16(){const t=this.dataView.getInt16(this.byteOffset,this.littleEndian);return this.byteOffset+=2,t}readUint16(){const t=this.dataView.getUint16(this.byteOffset,this.littleEndian);return this.byteOffset+=2,t}readInt32(){const t=this.dataView.getInt32(this.byteOffset,this.littleEndian);return this.byteOffset+=4,t}readUint32(){const t=this.dataView.getUint32(this.byteOffset,this.littleEndian);return this.byteOffset+=4,t}readFloat16(){const t=this.dataView.getUint16(this.byteOffset,this.littleEndian);return this.byteOffset+=2,V$e(t)}readFloat32(){const t=this.dataView.getFloat32(this.byteOffset,this.littleEndian);return this.byteOffset+=4,t}readString(){let t=0;for(;this.byteOffset+t<this.dataView.byteLength&&this.dataView.getUint8(this.byteOffset+t++)!==0;);const e=this._textDecoder.decode(new Uint8Array(this.dataView.buffer,this.byteOffset,t-1));return this.byteOffset+=t,e}readSlice(t,e,n){const r=qO(t),i=new Uint8Array(r.buffer,r.byteOffset+e);for(let s=0;s<n;++s)i[s]=this.dataView.getUint8(this.byteOffset++)}},_h=class extends bq{static{o(this,"BufferWriter")}constructor(){super(...arguments),ut(this,"_cachedTextEncoder")}get _textEncoder(){return this._cachedTextEncoder||(this._cachedTextEncoder=new TextEncoder),this._cachedTextEncoder}writeBool(t){this.dataView.setUint8(this.byteOffset++,t?1:0)}writeByte(t){this.dataView.setUint8(this.byteOffset++,t)}writeInt8(t){this.dataView.setInt8(this.byteOffset++,t)}writeUint8(t){this.dataView.setUint8(this.byteOffset++,t)}writeInt16(t){this.dataView.setInt16(this.byteOffset,t,this.littleEndian),this.byteOffset+=2}writeUint16(t){this.dataView.setUint16(this.byteOffset,t,this.littleEndian),this.byteOffset+=2}writeInt32(t){this.dataView.setInt32(this.byteOffset,t,this.littleEndian),this.byteOffset+=4}writeUint32(t){this.dataView.setUint32(this.byteOffset,t,this.littleEndian),this.byteOffset+=4}writeFloat16(t){this.dataView.setUint16(this.byteOffset,z$e(t),this.littleEndian),this.byteOffset+=2}writeFloat32(t){this.dataView.setFloat32(this.byteOffset,t,this.littleEndian),this.byteOffset+=4}writeString(t){const e=this._textEncoder.encodeInto(t,new Uint8Array(this.dataView.buffer,this.byteOffset));this.byteOffset+=e.written,this.dataView.setUint8(this.byteOffset++,0)}writeSlice(t){const e=qO(t),n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);for(const r of n)this.dataView.setUint8(this.byteOffset++,r)}},j$e=me({name:"bitcastU32toF32",normalImpl:o(t=>typeof t=="number"?Vo(t):Pe.bitcastU32toF32[t.kind](t),"normalImpl"),codegenImpl:o(t=>ee`bitcast<f32>(${t})`,"codegenImpl"),signature:o((...t)=>{let e=ki(t,[Me])??t;return{argTypes:e,returnType:Cl(e[0])?e[0].type==="vec2u"?Ht:e[0].type==="vec3u"?Rr:se:ne}},"signature")}),W$e=me({name:"bitcastU32toI32",normalImpl:o(t=>typeof t=="number"?jo(t):Pe.bitcastU32toI32[t.kind](t),"normalImpl"),codegenImpl:o(t=>ee`bitcast<i32>(${t})`,"codegenImpl"),signature:o((...t)=>{let e=ki(t,[Me])??t;return{argTypes:e,returnType:Cl(e[0])?e[0].type==="vec2u"?kr:e[0].type==="vec3u"?us:Yt:Lt}},"signature")}),H$e=gr(t=>{let e=new ArrayBuffer(4);new _h(e).writeUint32(t);let n=new $u(e);return Ht(n.readFloat16(),n.readFloat16())},t=>oe(ee`unpack2x16float(${t})`,Ht),"unpack2x16float");gr(t=>{let e=new ArrayBuffer(4),n=new _h(e);n.writeFloat16(t.x),n.writeFloat16(t.y);let r=new $u(e);return Me(r.readUint32())},t=>oe(ee`pack2x16float(${t})`,Me),"pack2x16float");gr(t=>{let e=new ArrayBuffer(4);new _h(e).writeUint32(t);let n=new $u(e);return se(n.readUint8()/255,n.readUint8()/255,n.readUint8()/255,n.readUint8()/255)},t=>oe(ee`unpack4x8unorm(${t})`,se),"unpack4x8unorm");gr(t=>{let e=new ArrayBuffer(4),n=new _h(e);n.writeUint8(t.x*255),n.writeUint8(t.y*255),n.writeUint8(t.z*255),n.writeUint8(t.w*255);let r=new $u(e);return Me(r.readUint32())},t=>oe(ee`pack4x8unorm(${t})`,Me),"pack4x8unorm");function om(t){return t.type.includes("2")?ph:t.type.includes("3")?mh:gh}o(om,"T");var G$e=me({name:"allEq",signature:o((...t)=>({argTypes:t,returnType:bn}),"signature"),normalImpl:o((t,e)=>YO(h1(t,e)),"normalImpl"),codegenImpl:o((t,e)=>ee`all(${t} == ${e})`,"codegenImpl")}),h1=o((t,e)=>Pe.eq[t.kind](t,e),"A");me({name:"eq",signature:o((...t)=>({argTypes:t,returnType:om(t[0])}),"signature"),normalImpl:h1,codegenImpl:o((t,e)=>ee`(${t} == ${e})`,"codegenImpl")});me({name:"ne",signature:o((...t)=>({argTypes:t,returnType:om(t[0])}),"signature"),normalImpl:o((t,e)=>bl(h1(t,e)),"normalImpl"),codegenImpl:o((t,e)=>ee`(${t} != ${e})`,"codegenImpl")});var Wx=o((t,e)=>Pe.lt[t.kind](t,e),"M");me({name:"lt",signature:o((...t)=>({argTypes:t,returnType:om(t[0])}),"signature"),normalImpl:Wx,codegenImpl:o((t,e)=>ee`(${t} < ${e})`,"codegenImpl")});me({name:"le",signature:o((...t)=>({argTypes:t,returnType:om(t[0])}),"signature"),normalImpl:o((t,e)=>KO(Wx(t,e),h1(t,e)),"normalImpl"),codegenImpl:o((t,e)=>ee`(${t} <= ${e})`,"codegenImpl")});me({name:"gt",signature:o((...t)=>({argTypes:t,returnType:om(t[0])}),"signature"),normalImpl:o((t,e)=>wq(bl(Wx(t,e)),bl(h1(t,e))),"normalImpl"),codegenImpl:o((t,e)=>ee`(${t} > ${e})`,"codegenImpl")});me({name:"ge",signature:o((...t)=>({argTypes:t,returnType:om(t[0])}),"signature"),normalImpl:o((t,e)=>bl(Wx(t,e)),"normalImpl"),codegenImpl:o((t,e)=>ee`(${t} >= ${e})`,"codegenImpl")});var bl=o(t=>Pe.neg[t.kind](t),"d$1");me({name:"not",signature:o((...t)=>({argTypes:t,returnType:t[0]}),"signature"),normalImpl:bl,codegenImpl:o(t=>ee`!(${t})`,"codegenImpl")});var KO=o((t,e)=>Pe.or[t.kind](t,e),"I");me({name:"or",signature:o((...t)=>({argTypes:t,returnType:t[0]}),"signature"),normalImpl:KO,codegenImpl:o((t,e)=>ee`(${t} | ${e})`,"codegenImpl")});var wq=o((t,e)=>bl(KO(bl(t),bl(e))),"O$1");me({name:"and",signature:o((...t)=>({argTypes:t,returnType:t[0]}),"signature"),normalImpl:wq,codegenImpl:o((t,e)=>ee`(${t} & ${e})`,"codegenImpl")});var YO=o(t=>Pe.all[t.kind](t),"$");me({name:"all",signature:o((...t)=>({argTypes:t,returnType:bn}),"signature"),normalImpl:YO,codegenImpl:o(t=>ee`all(${t})`,"codegenImpl")});me({name:"any",signature:o((...t)=>({argTypes:t,returnType:bn}),"signature"),normalImpl:o(t=>!YO(bl(t)),"normalImpl"),codegenImpl:o(t=>ee`any(${t})`,"codegenImpl")});me({name:"isCloseTo",signature:o((...t)=>({argTypes:t,returnType:bn}),"signature"),normalImpl:o((t,e,n=.01)=>typeof t=="number"&&typeof e=="number"?Math.abs(t-e)<n:fn(t)&&fn(e)?Pe.isCloseToZero[t.kind](f1[W].jsImpl(t,e),n):!1,"normalImpl"),codegenImpl:o((t,e,n=oe(.01,ne))=>D_(t)&&D_(e)?ee`(abs(f32(${t}) - f32(${e})) <= ${n})`:!D_(t)&&!D_(e)?ee`all(abs(${t} - ${e}) <= (${t} - ${t}) + ${n})`:"false","codegenImpl")});function q$e(t,e,n){return typeof n=="boolean"?n?e:t:Pe.select[t.kind](t,e,n)}o(q$e,"j");me({name:"select",signature:o((t,e,n)=>{let[r,i]=ki([t,e])??[t,e];return{argTypes:[r,i,n],returnType:r}},"signature"),normalImpl:q$e,codegenImpl:o((t,e,n)=>ee`select(${t}, ${e}, ${n})`,"codegenImpl")});var d1={r8unorm:{channelType:ne,vectorType:se,texelSize:1,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!0,storageBindings:["write-only","read-only","read-write"]},r8snorm:{channelType:ne,vectorType:se,texelSize:1,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:["write-only","read-only"]},r8uint:{channelType:Me,vectorType:un,texelSize:1,sampleTypes:["uint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only","read-write"]},r8sint:{channelType:Lt,vectorType:Yt,texelSize:1,sampleTypes:["sint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only","read-write"]},rg8unorm:{channelType:ne,vectorType:se,texelSize:2,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!0,storageBindings:["write-only","read-only"]},rg8snorm:{channelType:ne,vectorType:se,texelSize:2,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:["write-only","read-only"]},rg8uint:{channelType:Me,vectorType:un,texelSize:2,sampleTypes:["uint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only"]},rg8sint:{channelType:Lt,vectorType:Yt,texelSize:2,sampleTypes:["sint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only"]},rgba8unorm:{channelType:ne,vectorType:se,texelSize:4,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!0,storageBindings:["write-only","read-only","read-write"]},"rgba8unorm-srgb":{channelType:ne,vectorType:se,texelSize:4,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!0,storageBindings:null},rgba8snorm:{channelType:ne,vectorType:se,texelSize:4,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only"]},rgba8uint:{channelType:Me,vectorType:un,texelSize:4,sampleTypes:["uint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only","read-write"]},rgba8sint:{channelType:Lt,vectorType:Yt,texelSize:4,sampleTypes:["sint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only","read-write"]},bgra8unorm:{channelType:ne,vectorType:se,texelSize:4,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!0,storageBindings:["write-only"]},"bgra8unorm-srgb":{channelType:ne,vectorType:se,texelSize:4,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!0,storageBindings:null},r16unorm:{channelType:ne,vectorType:se,texelSize:2,sampleTypes:["unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only"]},r16snorm:{channelType:ne,vectorType:se,texelSize:2,sampleTypes:["unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only"]},r16uint:{channelType:Me,vectorType:un,texelSize:2,sampleTypes:["uint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only","read-write"]},r16sint:{channelType:Lt,vectorType:Yt,texelSize:2,sampleTypes:["sint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only","read-write"]},r16float:{channelType:ne,vectorType:se,texelSize:2,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!0,storageBindings:["write-only","read-only","read-write"]},rg16unorm:{channelType:ne,vectorType:se,texelSize:4,sampleTypes:["unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only"]},rg16snorm:{channelType:ne,vectorType:se,texelSize:4,sampleTypes:["unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only"]},rg16uint:{channelType:Me,vectorType:un,texelSize:4,sampleTypes:["uint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only"]},rg16sint:{channelType:Lt,vectorType:Yt,texelSize:4,sampleTypes:["sint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only"]},rg16float:{channelType:ne,vectorType:se,texelSize:4,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!0,storageBindings:["write-only","read-only"]},rgba16unorm:{channelType:ne,vectorType:se,texelSize:8,sampleTypes:["unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only"]},rgba16snorm:{channelType:ne,vectorType:se,texelSize:8,sampleTypes:["unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only"]},rgba16uint:{channelType:Me,vectorType:un,texelSize:8,sampleTypes:["uint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only","read-write"]},rgba16sint:{channelType:Lt,vectorType:Yt,texelSize:8,sampleTypes:["sint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only","read-write"]},rgba16float:{channelType:ne,vectorType:se,texelSize:8,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!0,storageBindings:["write-only","read-only","read-write"]},r32uint:{channelType:Me,vectorType:un,texelSize:4,sampleTypes:["uint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:["write-only","read-only","read-write"]},r32sint:{channelType:Lt,vectorType:Yt,texelSize:4,sampleTypes:["sint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:["write-only","read-only","read-write"]},r32float:{channelType:ne,vectorType:se,texelSize:4,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only","read-write"]},rg32uint:{channelType:Me,vectorType:un,texelSize:8,sampleTypes:["uint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:["write-only","read-only"]},rg32sint:{channelType:Lt,vectorType:Yt,texelSize:8,sampleTypes:["sint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:["write-only","read-only"]},rg32float:{channelType:ne,vectorType:se,texelSize:8,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!1,canResolve:!1,storageBindings:["write-only","read-only","read-write"]},rgba32uint:{channelType:Me,vectorType:un,texelSize:16,sampleTypes:["uint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:["write-only","read-only","read-write"]},rgba32sint:{channelType:Lt,vectorType:Yt,texelSize:16,sampleTypes:["sint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:["write-only","read-only","read-write"]},rgba32float:{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!1,canResolve:!1,storageBindings:["write-only","read-only","read-write"]},rgb10a2uint:{channelType:Me,vectorType:un,texelSize:4,sampleTypes:["uint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only"]},rgb10a2unorm:{channelType:ne,vectorType:se,texelSize:4,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!0,storageBindings:["write-only","read-only"]},rg11b10ufloat:{channelType:ne,vectorType:se,texelSize:4,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!0,storageBindings:["write-only","read-only"]},rgb9e5ufloat:{channelType:ne,vectorType:se,texelSize:4,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},stencil8:{channelType:Me,vectorType:un,texelSize:1,sampleTypes:["uint"],aspects:["stencil"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:null},depth16unorm:{channelType:ne,vectorType:se,texelSize:2,sampleTypes:["depth","unfilterable-float"],aspects:["depth"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:null},depth24plus:{channelType:ne,vectorType:se,texelSize:4,sampleTypes:["depth","unfilterable-float"],aspects:["depth"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:null},"depth24plus-stencil8":{channelType:ne,vectorType:se,texelSize:4,sampleTypes:["depth","unfilterable-float"],aspects:["depth","stencil"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:null},depth32float:{channelType:ne,vectorType:se,texelSize:4,sampleTypes:["depth","unfilterable-float"],aspects:["depth"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:null},"depth32float-stencil8":{channelType:ne,vectorType:se,texelSize:4,sampleTypes:["depth","unfilterable-float"],aspects:["depth","stencil"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:null},"bc1-rgba-unorm":{channelType:ne,vectorType:se,texelSize:8,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"bc1-rgba-unorm-srgb":{channelType:ne,vectorType:se,texelSize:8,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"bc2-rgba-unorm":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"bc2-rgba-unorm-srgb":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"bc3-rgba-unorm":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"bc3-rgba-unorm-srgb":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"bc4-r-unorm":{channelType:ne,vectorType:se,texelSize:8,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"bc4-r-snorm":{channelType:ne,vectorType:se,texelSize:8,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"bc5-rg-unorm":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"bc5-rg-snorm":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"bc6h-rgb-ufloat":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"bc6h-rgb-float":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"bc7-rgba-unorm":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"bc7-rgba-unorm-srgb":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"etc2-rgb8unorm":{channelType:ne,vectorType:se,texelSize:8,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"etc2-rgb8unorm-srgb":{channelType:ne,vectorType:se,texelSize:8,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"etc2-rgb8a1unorm":{channelType:ne,vectorType:se,texelSize:8,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"etc2-rgb8a1unorm-srgb":{channelType:ne,vectorType:se,texelSize:8,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"etc2-rgba8unorm":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"etc2-rgba8unorm-srgb":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"eac-r11unorm":{channelType:ne,vectorType:se,texelSize:8,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"eac-r11snorm":{channelType:ne,vectorType:se,texelSize:8,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"eac-rg11unorm":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"eac-rg11snorm":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-4x4-unorm":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-4x4-unorm-srgb":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-5x4-unorm":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-5x4-unorm-srgb":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-5x5-unorm":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-5x5-unorm-srgb":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-6x5-unorm":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-6x5-unorm-srgb":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-6x6-unorm":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-6x6-unorm-srgb":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-8x5-unorm":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-8x5-unorm-srgb":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-8x6-unorm":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-8x6-unorm-srgb":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-8x8-unorm":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-8x8-unorm-srgb":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-10x5-unorm":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-10x5-unorm-srgb":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-10x6-unorm":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-10x6-unorm-srgb":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-10x8-unorm":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-10x8-unorm-srgb":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-10x10-unorm":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-10x10-unorm-srgb":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-12x10-unorm":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-12x10-unorm-srgb":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-12x12-unorm":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-12x12-unorm-srgb":{channelType:ne,vectorType:se,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null}};function vq(t,e){let n=d1[t];if(!n)throw new Error(`Unknown texture format: ${t}`);let r={...n};switch(t){case"r32float":case"rg32float":case"rgba32float":e.features.has("float32-filterable")||(r={...r,sampleTypes:n.sampleTypes.filter(i=>i!=="float")}),e.features.has("float32-blendable")||(r={...r,canBlend:!1});break;case"bgra8unorm":e.features.has("bgra8unorm-storage")||(r={...r,storageBindings:null});break;case"rg11b10ufloat":e.features.has("rg11b10ufloat-renderable")||(r={...r,canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1});break}if(r.storageBindings){let i=e.features.has("texture-formats-tier1"),s=e.features.has("texture-formats-tier2"),a=[...r.storageBindings],l=["r8unorm","r8uint","r8sint","r16uint","r16sint","r16float","rgba8unorm","rgba8uint","rgba8sint","rgba16uint","rgba16sint","rgba16float","r32uint","r32sint","r32float","rgba32uint","rgba32sint","rgba32float"],u=["r8snorm","rg8unorm","rg8snorm","rg8uint","rg8sint","rgba8snorm","r16unorm","r16snorm","rg16unorm","rg16snorm","rg16uint","rg16sint","rg16float","rgba16unorm","rgba16snorm","rgb10a2uint","rgb10a2unorm","rg11b10ufloat"];l.includes(t)&&!s&&(a=a.filter(c=>c!=="read-write")),u.includes(t)&&!i&&(a=a.filter(c=>c!=="write-only"&&c!=="read-only")),r={...r,storageBindings:a.length>0?a:null}}return r}o(vq,"Oe");var Eq=["f16","clip_distances","dual_source_blending","subgroups","primitive_index"],xq={f16:"shader-f16",clip_distances:"clip-distances",dual_source_blending:"dual-source-blending",subgroups:"subgroups",primitive_index:"primitive-index"};function K$e(t){return new Y$e(t)}o(K$e,"Hn");var Y$e=class{static{o(this,"vr")}constructor(t){this.declaration=t}[W]=!0;externalsToApply=[];$uses(t){return this.externalsToApply.push(t),this}[qe](t){let e={};for(let r of this.externalsToApply)qg(e,r);let n=Bx(t,e,this.declaration);return t.addDeclaration(n),oe("",Di)}toString(){return`declare: ${this.declaration}`}};function Tq(t){let e={argTypes:t.in&&Object.keys(t.in).length!==0?[u1(t.in)]:[],returnType:Di,workgroupSize:[t.workgroupSize[0]??1,t.workgroupSize[1]??1,t.workgroupSize[2]??1],isEntry:!0},n=o((r,...i)=>X$e(e,t.workgroupSize,Ux(r,...i)),"r");return Object.assign(Object.assign(n,e),{does:n})}o(Tq,"Et");function X$e(t,e,n){let r=l1(n,`@compute @workgroup_size(${e.join(", ")}) `),i=t.argTypes[0];return{shell:t,$uses(s){return r.applyExternals(s),this},[W]:!0,[In]:r,$name(s){return Ut(r,s),Px(i)&&i.$name(`${s}_Input`),this},[qe](s){return r.resolve(s,t.argTypes,t.returnType)},toString(){return`computeFn:${xe(r)??"<unnamed>"}`}}}o(X$e,"qa");function St(t,e){let n={[W]:!0,argTypes:t,returnType:e??Di,isEntry:!1};return Object.assign((r,...i)=>Z$e(n,Ux(r,...i)),n)}o(St,"U");function Sq(t){return Mt(t)&&t?.resourceType==="function"}o(Sq,"Ke");function J$e([t,e]){return`${xe(t)??"<unnamed>"}=${e}`}o(J$e,"ja");function Z$e(t,e){let n=l1(e,""),r={shell:t,resourceType:"function",$uses(a){return n.applyExternals(a),this},[In]:n,$name(a){return Ut(n,a),this},with(a,l){return kq(s,[[Lx(a)?a.slot:a,l]])},[qe](a){return typeof e=="string"&&(MDe(e,t.argTypes,n.applyExternals),QG(e,t.returnType,n.applyExternals)),n.resolve(a,t.argTypes,t.returnType)}},i=gr((...a)=>rDe(()=>{try{if(typeof e=="string")throw new Error("Cannot execute on the CPU functions constructed with raw WGSL");let l=a.map((c,f)=>ry(t.argTypes[f],c)),u=e(...l);return ry(t.returnType,u)}catch(l){throw l instanceof dF?l.appendToTrace(s):new dF(l,[s])}}),(...a)=>oe(new Aq(s,a),t.returnType),"tgpuFnCall",t.argTypes),s=Object.assign(i,r);return s[W].implementation=e,Object.defineProperty(s,"toString",{value(){return`fn:${xe(n)??"<unnamed>"}`}}),s}o(Z$e,"Qa");function kq(t,e){let n={resourceType:"function",shell:t.shell,[Xc]:{inner:t,pairs:e},$uses(s){return t.$uses(s),this},[In]:t,$name(s){return t.$name(s),this},with(s,a){return kq(i,[...e,[Lx(s)?s.slot:s,a]])}},r=gr((...s)=>t(...s),(...s)=>oe(new Aq(i,s),t.shell.returnType),"tgpuFnCall",t.shell.argTypes),i=Object.assign(r,n);return i[W].implementation=t[W].implementation,Object.defineProperty(i,"toString",{value(){return`fn:${xe(t)??"<unnamed>"}[${e.map(J$e).join(", ")}]`}}),i[W].implementation=t[W].implementation,i}o(kq,"Kn");var Aq=class{static{o(this,"Vt")}[W]=!0;[Bi];[In];#e;#t;constructor(t,e){this.#e=t,this.#t=e,this[In]=t,this[Bi]=oe(this,this.#e.shell.returnType)}[qe](t){return t.withResetIndentLevel(()=>oe(ee`${t.resolve(this.#e).value}(${this.#t})`,this.#e.shell.returnType))}toString(){return`call:${xe(this)??"<unnamed>"}`}};function Q$e(t){let e={in:t.in,out:t.out,returnType:u1(t.out),isEntry:!0},n=o((r,...i)=>eLe(e,Ux(r,...i)),"r");return Object.assign(Object.assign(n,e),{does:n})}o(Q$e,"Yn");function eLe(t,e){let n=l1(e,"@fragment "),r=t.returnType;return typeof e=="string"&&QG(e,r,i=>n.applyExternals(i)),{shell:t,outputType:r,$uses(i){return n.applyExternals(i),this},[W]:!0,[In]:n,$name(i){return Ut(n,i),Px(r)&&r.$name(`${i}_Output`),this},[qe](i){let s=t.in?u1(t.in,i.varyingLocations).$name(`${xe(this)??""}_Input`):void 0;return s&&n.applyExternals({In:s}),n.applyExternals({Out:r}),n.resolve(i,s?[s]:[],t.returnType)},toString(){return`fragmentFn:${xe(n)??"<unnamed>"}`}}}o(eLe,"Ha");var Cq=new Set(["alias","break","case","const","const_assert","continue","continuing","default","diagnostic","discard","else","enable","false","fn","for","if","let","loop","override","requires","return","struct","switch","true","var","while","NULL","Self","abstract","active","alignas","alignof","as","asm","asm_fragment","async","attribute","auto","await","become","cast","catch","class","co_await","co_return","co_yield","coherent","column_major","common","compile","compile_fragment","concept","const_cast","consteval","constexpr","constinit","crate","debugger","decltype","delete","demote","demote_to_helper","do","dynamic_cast","enum","explicit","export","extends","extern","external","fallthrough","filter","final","finally","friend","from","fxgroup","get","goto","groupshared","highp","impl","implements","import","inline","instanceof","interface","layout","lowp","macro","macro_rules","match","mediump","meta","mod","module","move","mut","mutable","namespace","new","nil","noexcept","noinline","nointerpolation","non_coherent","noncoherent","noperspective","null","nullptr","of","operator","package","packoffset","partition","pass","patch","pixelfragment","precise","precision","premerge","priv","protected","pub","public","readonly","ref","regardless","register","reinterpret_cast","require","resource","restrict","self","set","shared","sizeof","smooth","snorm","static","static_assert","static_cast","std","subroutine","super","target","template","this","thread_local","throw","trait","try","type","typedef","typeid","typename","typeof","union","unless","unorm","unsafe","unsized","use","using","varying","virtual","volatile","wgsl","where","with","writeonly","yield"]);function Iq(t){if(t==="_"||t.startsWith("__")||/\s/.test(t))throw new Error(`Invalid identifier '${t}'. Choose an identifier without whitespaces or leading underscores.`);let e=t.split("_")[0];return!Cq.has(e)}o(Iq,"Ir");var Rq=class{static{o(this,"_t")}makeValid(t){return Iq(t)?t:this.makeUnique(t)}},tLe=class extends Rq{static{o(this,"Wt")}lastUniqueId=0;makeUnique(t){let e;return t?(e=t.replaceAll(/\s/g,"_"),e=e.replaceAll(/[^\w\d]/g,"")):e="item",`${e}_${this.lastUniqueId++}`}},nLe=class extends Rq{static{o(this,"Mt")}_usedNames=new Set(Cq);makeUnique(t){if(t===void 0)throw new Error("Unnamed item found when using a strict name registry");let e=0,n=t;for(;this._usedNames.has(n);)e++,n=`${t}_${e}`;return this._usedNames.add(n),n}};function rLe(t,e){let n=l1(e,"");return{[W]:!0,[In]:n,resourceType:"shellless-impl",[qe](r){return n.resolve(r,t,void 0)},toString(){return`fn*:${xe(n)??"<unnamed>"}`}}}o(rLe,"Xn");var iLe=class{static{o(this,"kt")}cache=new Map;get(t,e){let n=$x(t);if(!n?.ast)return;if(!e&&n.ast.params.length>0)throw new Error(`Cannot resolve '${xe(t)}' directly, because it expects arguments. Either call it from another function, or wrap it in a shell`);let r=(e??[]).map(a=>sy(a.dataType)),i=this.cache.get(t);if(i){let a=i.find(l=>l.argTypes.every((u,c)=>u===r[c]));if(a)return a.value}else i=[],this.cache.set(t,i);let s=rLe(r,t);return i.push({argTypes:r,value:s}),s}},sLe=class{static{o(this,"Ur")}[W];constructor(t){this[W]={nameRegistry:t,shelllessRepo:new iLe,memoizedResolves:new WeakMap,memoizedDerived:new WeakMap,listeners:{name:new Set}}}on(t,e){if(t==="name"){let n=this[W].listeners.name;return n.add(e),()=>n.delete(e)}throw new Error(`Unsupported event: ${t}`)}};function oLe(t,e){let n=t.nameRegistry.makeUnique(xe(e));for(let r of t.listeners.name)r({target:e,name:n});return n}o(oLe,"Zn");function p1(t){let{names:e="random"}=t||{};return new sLe(e==="strict"?new nLe:new tLe)}o(p1,"Q");function Hx(t){return typeof t?.format=="string"}o(Hx,"Ye");function aLe(t,e){let n=[];if(sm(t)){if(!Hx(e))throw new Error("Shader expected a single attribute, not a record of attributes to be passed in.");return n.push(e._layout),{usedVertexLayouts:n,bufferDefinitions:[{arrayStride:e._layout.stride,stepMode:e._layout.stepMode,attributes:[{format:e.format,offset:e.offset,shaderLocation:tc(t)??0}]}]}}let r=[],i=new WeakMap,s=0;for(let[a,l]of Object.entries(t)){if(a1(l))continue;let u=e[a];if(!u)throw new Error(`An attribute by the name of '${a}' was not provided to the shader.`);let c=u._layout,f=i.get(c);f||(n.push(c),f=[],r.push({arrayStride:c.stride,stepMode:c.stepMode,attributes:f}),i.set(c,f)),s=tc(l)??s,f.push({format:u.format,offset:u.offset,shaderLocation:s++})}return{usedVertexLayouts:n,bufferDefinitions:r}}o(aLe,"ea");var lLe=["bool","f32","f16","i32","u32","vec2f","vec3f","vec4f","vec2h","vec3h","vec4h","vec2i","vec3i","vec4i","vec2u","vec3u","vec4u","vec2<bool>","vec3<bool>","vec4<bool>","mat2x2f","mat3x3f","mat4x4f","texture_external"];function uLe(t){return lLe.includes(t.type)}o(uLe,"Ya");function yC(t,[e,n]){if(!Iq(e))throw new Error(`Property key '${e}' is a reserved WGSL word. Choose a different name.`);return`  ${VO(n)}${e}: ${t.resolve(n).value},
`}o(yC,"Fr");function cLe(t,e){if(e[W].isAbstruct)throw new Error("Cannot resolve abstract struct types to WGSL.");let n=t.getUniqueName(e);return t.addDeclaration(`struct ${n} {
${Object.entries(e.propTypes).map(r=>yC(t,r)).join("")}}`),n}o(cLe,"Ja");function fLe(t,e){let n=t.getUniqueName(e);return t.addDeclaration(`struct ${n} {
${Object.entries(e.propTypes).map(r=>Hx(r[1])?yC(t,[r[0],nc[r[1].format]]):yC(t,r)).join("")}
}`),n}o(fLe,"Xa");function hLe(t,e){let n=t.resolve(e.elementType).value;return e.elementCount===0?`array<${n}>`:`array<${n}, ${e.elementCount}>`}o(hLe,"Za");function dLe(t,e){let n=t.resolve(Hx(e.elementType)?nc[e.elementType.format]:e.elementType).value;return e.elementCount===0?`array<${n}>`:`array<${n}, ${e.elementCount}>`}o(dLe,"eo");function Oq(t,e){if(r1(e))return e.type==="unstruct"?fLe(t,e):e.type==="disarray"?dLe(t,e):e.type==="loose-decorated"?t.resolve(Hx(e.inner)?nc[e.inner.format]:e.inner).value:t.resolve(nc[e.type]).value;if(uLe(e))return e.type;if(e.type==="struct")return cLe(t,e);if(e.type==="array")return hLe(t,e);if(e.type==="atomic")return`atomic<${Oq(t,e.inner)}>`;if(e.type==="decorated")return t.resolve(e.inner).value;if(e.type==="ptr")return e.addressSpace==="storage"?`ptr<storage, ${t.resolve(e.inner).value}, ${e.access==="read-write"?"read_write":e.access}>`:`ptr<${e.addressSpace}, ${t.resolve(e.inner).value}>`;if(e.type==="abstractInt"||e.type==="abstractFloat"||e.type==="void"||e.type==="u16")throw new Error(`${e.type} has no representation in WGSL`);if(gC(e))return`${e.type}<${e.format}, ${c1[e.access]}>`;if(C4e(e))return e.type.startsWith("texture_depth")?e.type:`${e.type}<${e.sampleType.type}>`;if(m4e(e)||p4e(e))return e.type;Sp(e,"resolveData")}o(Oq,"Pr");var Nq=class _C{static{o(this,"e")}constructor(e){this.bindings=e}with(e,n){return new _C([...this.bindings,[Lx(e)?e.slot:e,n]])}pipe(e){let n=e(this);return new _C([...this.bindings,...n.bindings])}};function*pLe(t){let e=0;for(;;)t.has(e)||(yield e),e++}o(pLe,"ta");function mLe(t,e){let n="size"in t?t.size:t.currentByteOffset,r=e-1,i=n&r;"skipBytes"in t?t.skipBytes(e-i&r):t.add(e-i&r)}o(mLe,"to$1");var Gn=mLe,NF=new WeakMap;function Mq(t){let e=NF.get(t);if(e)return e;let n=new wn,r={},i;for(let s in t.propTypes){let a=t.propTypes[s];if(a===void 0)throw new Error(`Property ${s} is undefined in struct`);let l=n.size;Gn(n,_c(t)?Ms(a):Cn(a)),i&&(i.padding=n.size-l);let u=dt(a);r[s]={offset:n.size,size:u},i=r[s],n.add(u)}return i&&(i.padding=is(dt(t),Cn(t))-n.size),NF.set(t,r),r}o(Mq,"Ot");var gLe=(()=>{try{return new Function("return true"),!0}catch{return!1}})(),oS=new WeakMap,B_={u32:"u32",vec2u:"u32",vec3u:"u32",vec4u:"u32",u16:"u16",i32:"i32",vec2i:"i32",vec3i:"i32",vec4i:"i32",f32:"f32",vec2f:"f32",vec3f:"f32",vec4f:"f32",f16:"f16",vec2h:"f16",vec3h:"f16",vec4h:"f16",mat2x2f:"f32",mat3x3f:"f32",mat4x4f:"f32"},yLe={uint8:"u8",uint8x2:"u8",uint8x4:"u8",sint8:"i8",sint8x2:"i8",sint8x4:"i8",unorm8:"u8",unorm8x2:"u8",unorm8x4:"u8",snorm8:"i8",snorm8x2:"i8",snorm8x4:"i8",uint16:"u16",uint16x2:"u16",uint16x4:"u16",sint16:"i16",sint16x2:"i16",sint16x4:"i16",unorm16:"u16",unorm16x2:"u16",unorm16x4:"u16",snorm16:"i16",snorm16x2:"i16",snorm16x4:"i16",float16:"f16",float16x2:"f16",float16x4:"f16",float32:"f32",float32x2:"f32",float32x3:"f32",float32x4:"f32",uint32:"u32",uint32x2:"u32",uint32x3:"u32",uint32x4:"u32",sint32:"i32",sint32x2:"i32",sint32x3:"i32",sint32x4:"i32"},U_={u32:"setUint32",i32:"setInt32",f32:"setFloat32",u16:"setUint16",i16:"setInt16",f16:"setFloat16",u8:"setUint8",i8:"setInt8"},_Le={unorm8:o(t=>`Math.round(${t} * 255)`,"unorm8"),unorm8x2:o(t=>`Math.round(${t} * 255)`,"unorm8x2"),unorm8x4:o(t=>`Math.round(${t} * 255)`,"unorm8x4"),snorm8:o(t=>`Math.round(${t} * 127)`,"snorm8"),snorm8x2:o(t=>`Math.round(${t} * 127)`,"snorm8x2"),snorm8x4:o(t=>`Math.round(${t} * 127)`,"snorm8x4"),unorm16:o(t=>`Math.round(${t} * 65535)`,"unorm16"),unorm16x2:o(t=>`Math.round(${t} * 65535)`,"unorm16x2"),unorm16x4:o(t=>`Math.round(${t} * 65535)`,"unorm16x4"),snorm16:o(t=>`Math.round(${t} * 32767)`,"snorm16"),snorm16x2:o(t=>`Math.round(${t} * 32767)`,"snorm16x2"),snorm16x4:o(t=>`Math.round(${t} * 32767)`,"snorm16x4")},MF={"unorm10-10-10-2":{writeFunction:"setUint32",generator:o((t,e)=>`output.setUint32(${t}, ((${e}.x*1023&0x3FF)<<22)|((${e}.y*1023&0x3FF)<<12)|((${e}.z*1023&0x3FF)<<2)|(${e}.w*3&3), littleEndian);
`,"generator")},"unorm8x4-bgra":{writeFunction:"setUint8",generator:o((t,e)=>{let n=["z","y","x","w"],r="";for(let i=0;i<4;i++)r+=`output.setUint8((${t} + ${i}), Math.round(${e}.${n[i]} * 255), littleEndian);
`;return r},"generator")}};function Sb(t,e,n,r=0){let i=["i","j","k"][r]||`i${r}`;if(jMe(t)||hh(t))return Sb(t.inner,e,n,r);if(Ti(t)||_c(t)){let a=Mq(t),l="";for(let[u,c]of Object.entries(a)){let f=t.propTypes[u];f&&(l+=Sb(f,`(${e} + ${c.offset})`,`${n}.${u}`,r))}return l}if(go(t)||im(t)){let a=is(dt(t.elementType),Cn(t)),l="";return l+=`for (let ${i} = 0; ${i} < ${t.elementCount}; ${i}++) {
`,l+=Sb(t.elementType,`(${e} + ${i} * ${a})`,`${n}[${i}]`,r+1),l+=`}
`,l}if(Cl(t)){let a=B_[t.type],l="",u=U_[a],c=["x","y","z","w"],f=eC(t)?2:tC(t)?3:4;for(let h=0;h<f;h++)l+=`output.${u}((${e} + ${h*4}), ${n}.${c[h]}, littleEndian);
`;return l}if(ty(t)){let a=B_[t.type],l=U_[a],u=fG(t)?2:hG(t)?3:4,c=u*u,f=is(u*4,8),h="";for(let d=0;d<c;d++){let p=Math.floor(d/u),m=d%u,y=p*f+m*4;h+=`output.${l}((${e} + ${y}), ${n}.columns[${p}].${["x","y","z","w"][m]}, littleEndian);
`}return h}if(bDe(t)){let a=t.type;if(a in MF)return MF[a].generator(e,n);let l=yLe[a],u=U_[l],c=nc[a],f=cG(c)?4:tC(c)?3:eC(c)?2:1,h=l==="u8"||l==="i8"?1:l==="u16"||l==="i16"||l==="f16"?2:4,d=["x","y","z","w"],p=_Le[a],m="";for(let y=0;y<f;y++){let _=f===1?n:`${n}.${d[y]}`,b=p?p(_):_;m+=`output.${u}((${e} + ${y*h}), ${b}, littleEndian);
`}return m}if(!Object.hasOwn(B_,t.type))throw new Error(`Primitive ${t.type} is unsupported by compiled writer`);let s=B_[t.type];return`output.${U_[s]}(${e}, ${n}, littleEndian);
`}o(Sb,"qt");function DF(t){if(!gLe){console.warn("This environment does not allow eval - using default writer as fallback");return}if(oS.has(t))return oS.get(t);try{let e=Sb(t,"offset","value",0),n=new Function("output","offset","value","littleEndian=true",e);return oS.set(t,n),n}catch(e){console.warn(`Failed to compile writer for schema: ${t}
Reason: ${e instanceof Error?e.message:String(e)}
Falling back to default writer`)}}o(DF,"Br");var ad={bool(){throw new Error("Booleans are not host-shareable")},f32(t,e,n){t.writeFloat32(n)},f16(t,e,n){t.writeFloat16(n)},i32(t,e,n){t.writeInt32(n)},u32(t,e,n){t.writeUint32(n)},u16(t,e,n){t.writeUint16(n)},vec2f(t,e,n){t.writeFloat32(n.x),t.writeFloat32(n.y)},vec2h(t,e,n){t.writeFloat16(n.x),t.writeFloat16(n.y)},vec2i(t,e,n){t.writeInt32(n.x),t.writeInt32(n.y)},vec2u(t,e,n){t.writeUint32(n.x),t.writeUint32(n.y)},"vec2<bool>"(){throw new Error("Booleans are not host-shareable")},vec3f(t,e,n){t.writeFloat32(n.x),t.writeFloat32(n.y),t.writeFloat32(n.z)},vec3h(t,e,n){t.writeFloat16(n.x),t.writeFloat16(n.y),t.writeFloat16(n.z)},vec3i(t,e,n){t.writeInt32(n.x),t.writeInt32(n.y),t.writeInt32(n.z)},vec3u(t,e,n){t.writeUint32(n.x),t.writeUint32(n.y),t.writeUint32(n.z)},"vec3<bool>"(){throw new Error("Booleans are not host-shareable")},vec4f(t,e,n){t.writeFloat32(n.x),t.writeFloat32(n.y),t.writeFloat32(n.z),t.writeFloat32(n.w)},vec4h(t,e,n){t.writeFloat16(n.x),t.writeFloat16(n.y),t.writeFloat16(n.z),t.writeFloat16(n.w)},vec4i(t,e,n){t.writeInt32(n.x),t.writeInt32(n.y),t.writeInt32(n.z),t.writeInt32(n.w)},vec4u(t,e,n){t.writeUint32(n.x),t.writeUint32(n.y),t.writeUint32(n.z),t.writeUint32(n.w)},"vec4<bool>"(){throw new Error("Booleans are not host-shareable")},mat2x2f(t,e,n){for(let r=0;r<n.length;++r)t.writeFloat32(n[r])},mat3x3f(t,e,n){for(let r=0;r<n.length;++r)t.writeFloat32(n[r])},mat4x4f(t,e,n){for(let r=0;r<n.length;++r)t.writeFloat32(n[r])},struct(t,e,n){let r=Cn(e);Gn(t,r);for(let[i,s]of Object.entries(e.propTypes))Gn(t,Cn(s)),Uv(t,s,n[i]);Gn(t,r)},array(t,e,n){if(e.elementCount===0)throw new Error("Cannot write using a runtime-sized schema.");let r=Cn(e);Gn(t,r);let i=t.currentByteOffset;for(let s=0;s<Math.min(e.elementCount,n.length);s++)Gn(t,r),Uv(t,e.elementType,n[s]);t.seekTo(i+dt(e))},ptr(){throw new Error("Pointers are not host-shareable")},atomic(t,e,n){ad[e.inner.type]?.(t,e,n)},decorated(t,e,n){let r=Ms(e);Gn(t,r);let i=t.currentByteOffset;ad[e.inner?.type]?.(t,e.inner,n),t.seekTo(i+dt(e))},uint8(t,e,n){t.writeUint8(n)},uint8x2(t,e,n){t.writeUint8(n.x),t.writeUint8(n.y)},uint8x4(t,e,n){t.writeUint8(n.x),t.writeUint8(n.y),t.writeUint8(n.z),t.writeUint8(n.w)},sint8(t,e,n){t.writeInt8(n)},sint8x2(t,e,n){t.writeInt8(n.x),t.writeInt8(n.y)},sint8x4(t,e,n){t.writeInt8(n.x),t.writeInt8(n.y),t.writeInt8(n.z),t.writeInt8(n.w)},unorm8(t,e,n){t.writeUint8(Math.round(n*255))},unorm8x2(t,e,n){t.writeUint8(Math.round(n.x*255)),t.writeUint8(Math.round(n.y*255))},unorm8x4(t,e,n){t.writeUint8(Math.round(n.x*255)),t.writeUint8(Math.round(n.y*255)),t.writeUint8(Math.round(n.z*255)),t.writeUint8(Math.round(n.w*255))},snorm8(t,e,n){t.writeInt8(Math.round(n*127))},snorm8x2(t,e,n){t.writeInt8(Math.round(n.x*127)),t.writeInt8(Math.round(n.y*127))},snorm8x4(t,e,n){t.writeInt8(Math.round(n.x*127)),t.writeInt8(Math.round(n.y*127)),t.writeInt8(Math.round(n.z*127)),t.writeInt8(Math.round(n.w*127))},uint16(t,e,n){t.writeUint16(n)},uint16x2(t,e,n){t.writeUint16(n.x),t.writeUint16(n.y)},uint16x4(t,e,n){t.writeUint16(n.x),t.writeUint16(n.y),t.writeUint16(n.z),t.writeUint16(n.w)},sint16(t,e,n){t.writeInt16(n)},sint16x2(t,e,n){t.writeInt16(n.x),t.writeInt16(n.y)},sint16x4(t,e,n){t.writeInt16(n.x),t.writeInt16(n.y),t.writeInt16(n.z),t.writeInt16(n.w)},unorm16(t,e,n){t.writeUint16(n*65535)},unorm16x2(t,e,n){t.writeUint16(n.x*65535),t.writeUint16(n.y*65535)},unorm16x4(t,e,n){t.writeUint16(n.x*65535),t.writeUint16(n.y*65535),t.writeUint16(n.z*65535),t.writeUint16(n.w*65535)},snorm16(t,e,n){t.writeInt16(Math.round(n*32767))},snorm16x2(t,e,n){t.writeInt16(Math.round(n.x*32767)),t.writeInt16(Math.round(n.y*32767))},snorm16x4(t,e,n){t.writeInt16(Math.round(n.x*32767)),t.writeInt16(Math.round(n.y*32767)),t.writeInt16(Math.round(n.z*32767)),t.writeInt16(Math.round(n.w*32767))},float16(t,e,n){t.writeFloat16(n)},float16x2(t,e,n){t.writeFloat16(n.x),t.writeFloat16(n.y)},float16x4(t,e,n){t.writeFloat16(n.x),t.writeFloat16(n.y),t.writeFloat16(n.z),t.writeFloat16(n.w)},float32(t,e,n){t.writeFloat32(n)},float32x2(t,e,n){t.writeFloat32(n.x),t.writeFloat32(n.y)},float32x3(t,e,n){t.writeFloat32(n.x),t.writeFloat32(n.y),t.writeFloat32(n.z)},float32x4(t,e,n){t.writeFloat32(n.x),t.writeFloat32(n.y),t.writeFloat32(n.z),t.writeFloat32(n.w)},uint32(t,e,n){t.writeUint32(n)},uint32x2(t,e,n){t.writeUint32(n.x),t.writeUint32(n.y)},uint32x3(t,e,n){t.writeUint32(n.x),t.writeUint32(n.y),t.writeUint32(n.z)},uint32x4(t,e,n){t.writeUint32(n.x),t.writeUint32(n.y),t.writeUint32(n.z),t.writeUint32(n.w)},sint32(t,e,n){t.writeInt32(n)},sint32x2(t,e,n){t.writeInt32(n.x),t.writeInt32(n.y)},sint32x3(t,e,n){t.writeInt32(n.x),t.writeInt32(n.y),t.writeInt32(n.z)},sint32x4(t,e,n){t.writeInt32(n.x),t.writeInt32(n.y),t.writeInt32(n.z),t.writeInt32(n.w)},"unorm10-10-10-2"(t,e,n){let r=0;r|=(n.x*1023&1023)<<22,r|=(n.y*1023&1023)<<12,r|=(n.z*1023&1023)<<2,r|=n.w*3&3,t.writeUint32(r)},"unorm8x4-bgra"(t,e,n){t.writeUint8(n.z*255),t.writeUint8(n.y*255),t.writeUint8(n.x*255),t.writeUint8(n.w*255)},disarray(t,e,n){let r=Cn(e);Gn(t,r);let i=t.currentByteOffset;for(let s=0;s<Math.min(e.elementCount,n.length);s++)Gn(t,r),ad[e.elementType?.type]?.(t,e.elementType,n[s]);t.seekTo(i+dt(e))},unstruct(t,e,n){let r=e.propTypes;for(let[i,s]of Object.entries(r))ad[s.type]?.(t,s,n[i])},"loose-decorated"(t,e,n){let r=Ms(e);Gn(t,r);let i=t.currentByteOffset,s=ad[e.inner?.type];return s?.(t,e.inner,n),t.seekTo(i+dt(e)),n}};function Uv(t,e,n){let r=ad[e.type];if(!r)throw new Error(`Cannot write data of type '${e.type}'.`);r(t,e,n)}o(Uv,"Ee");var bLe={bool(){throw new Error("Booleans are not host-shareable")},f32(t){return t.readFloat32()},f16(t){return t.readFloat16()},i32(t){return t.readInt32()},u32(t){return t.readUint32()},u16(t){return t.readUint16()},vec2f(t){return Ht(t.readFloat32(),t.readFloat32())},vec3f(t){return Rr(t.readFloat32(),t.readFloat32(),t.readFloat32())},vec4f(t){return se(t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32())},vec2h(t){return xa(t.readFloat16(),t.readFloat16())},vec3h(t){return Ta(t.readFloat16(),t.readFloat16(),t.readFloat16())},vec4h(t){return Sa(t.readFloat16(),t.readFloat16(),t.readFloat16(),t.readFloat16())},vec2i(t){return kr(t.readInt32(),t.readInt32())},vec3i(t){return us(t.readInt32(),t.readInt32(),t.readInt32())},vec4i(t){return Yt(t.readInt32(),t.readInt32(),t.readInt32(),t.readInt32())},vec2u(t){return Zi(t.readUint32(),t.readUint32())},vec3u(t){return Vn(t.readUint32(),t.readUint32(),t.readUint32())},vec4u(t){return un(t.readUint32(),t.readUint32(),t.readUint32(),t.readUint32())},"vec2<bool>"(){throw new Error("Booleans are not host-shareable")},"vec3<bool>"(){throw new Error("Booleans are not host-shareable")},"vec4<bool>"(){throw new Error("Booleans are not host-shareable")},mat2x2f(t){return ka(t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32())},mat3x3f(t){let e=o(()=>{let n=t.readFloat32();return t.readFloat32(),n},"t");return Aa(t.readFloat32(),t.readFloat32(),e(),t.readFloat32(),t.readFloat32(),e(),t.readFloat32(),t.readFloat32(),e())},mat4x4f(t){return Wn(t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32())},struct(t,e){let n=Cn(e);Gn(t,n);let r={},i=e.propTypes;for(let[s,a]of Object.entries(i))Gn(t,Cn(a)),r[s]=Zo(t,a);return Gn(t,n),r},array(t,e){if(e.elementCount===0)throw new Error("Cannot read using a runtime-sized schema.");let n=Cn(e),r=[];for(let i=0;i<e.elementCount;i++){Gn(t,n);let s=e.elementType,a=Zo(t,s);r.push(a)}return Gn(t,n),r},ptr(){throw new Error("Pointers are not host-shareable")},atomic(t,e){return Zo(t,e.inner)},decorated(t,e){let n=Ms(e);Gn(t,n);let r=t.currentByteOffset,i=Zo(t,e.inner);return t.seekTo(r+dt(e)),i},uint8:o(t=>t.readUint8(),"uint8"),uint8x2:o(t=>Zi(t.readUint8(),t.readUint8()),"uint8x2"),uint8x4:o(t=>un(t.readUint8(),t.readUint8(),t.readUint8(),t.readUint8()),"uint8x4"),sint8:o(t=>t.readInt8(),"sint8"),sint8x2:o(t=>kr(t.readInt8(),t.readInt8()),"sint8x2"),sint8x4:o(t=>Yt(t.readInt8(),t.readInt8(),t.readInt8(),t.readInt8()),"sint8x4"),unorm8:o(t=>t.readUint8()/255,"unorm8"),unorm8x2:o(t=>Ht(t.readUint8()/255,t.readUint8()/255),"unorm8x2"),unorm8x4:o(t=>se(t.readUint8()/255,t.readUint8()/255,t.readUint8()/255,t.readUint8()/255),"unorm8x4"),snorm8:o(t=>t.readInt8()/127,"snorm8"),snorm8x2:o(t=>Ht(t.readInt8()/127,t.readInt8()/127),"snorm8x2"),snorm8x4:o(t=>se(t.readInt8()/127,t.readInt8()/127,t.readInt8()/127,t.readInt8()/127),"snorm8x4"),uint16:o(t=>t.readUint16(),"uint16"),uint16x2:o(t=>Zi(t.readUint16(),t.readUint16()),"uint16x2"),uint16x4:o(t=>un(t.readUint16(),t.readUint16(),t.readUint16(),t.readUint16()),"uint16x4"),sint16:o(t=>t.readInt16(),"sint16"),sint16x2:o(t=>kr(t.readInt16(),t.readInt16()),"sint16x2"),sint16x4:o(t=>Yt(t.readInt16(),t.readInt16(),t.readInt16(),t.readInt16()),"sint16x4"),unorm16:o(t=>t.readUint16()/65535,"unorm16"),unorm16x2:o(t=>Ht(t.readUint16()/65535,t.readUint16()/65535),"unorm16x2"),unorm16x4:o(t=>se(t.readUint16()/65535,t.readUint16()/65535,t.readUint16()/65535,t.readUint16()/65535),"unorm16x4"),snorm16:o(t=>t.readInt16()/32767,"snorm16"),snorm16x2:o(t=>Ht(t.readInt16()/32767,t.readInt16()/32767),"snorm16x2"),snorm16x4:o(t=>se(t.readInt16()/32767,t.readInt16()/32767,t.readInt16()/32767,t.readInt16()/32767),"snorm16x4"),float16(t){return t.readFloat16()},float16x2:o(t=>Ht(t.readFloat16(),t.readFloat16()),"float16x2"),float16x4:o(t=>se(t.readFloat16(),t.readFloat16(),t.readFloat16(),t.readFloat16()),"float16x4"),float32:o(t=>t.readFloat32(),"float32"),float32x2:o(t=>Ht(t.readFloat32(),t.readFloat32()),"float32x2"),float32x3:o(t=>Rr(t.readFloat32(),t.readFloat32(),t.readFloat32()),"float32x3"),float32x4:o(t=>se(t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32()),"float32x4"),uint32:o(t=>t.readUint32(),"uint32"),uint32x2:o(t=>Zi(t.readUint32(),t.readUint32()),"uint32x2"),uint32x3:o(t=>Vn(t.readUint32(),t.readUint32(),t.readUint32()),"uint32x3"),uint32x4:o(t=>un(t.readUint32(),t.readUint32(),t.readUint32(),t.readUint32()),"uint32x4"),sint32:o(t=>t.readInt32(),"sint32"),sint32x2:o(t=>kr(t.readInt32(),t.readInt32()),"sint32x2"),sint32x3:o(t=>us(t.readInt32(),t.readInt32(),t.readInt32()),"sint32x3"),sint32x4:o(t=>Yt(t.readInt32(),t.readInt32(),t.readInt32(),t.readInt32()),"sint32x4"),"unorm10-10-10-2"(t){let e=t.readUint32(),n=(e>>22)/1023,r=(e>>12&1023)/1023,i=(e>>2&1023)/1023,s=(e&3)/3;return se(n,r,i,s)},"unorm8x4-bgra"(t){let e=t.readByte()/255,n=t.readByte()/255,r=t.readByte()/255,i=t.readByte()/255;return se(r,n,e,i)},unstruct(t,e){let n={},r=e.propTypes;for(let[i,s]of Object.entries(r))n[i]=Zo(t,s);return n},disarray(t,e){let n=Cn(e),r=[];for(let i=0;i<e.elementCount;i++)Gn(t,n),r.push(Zo(t,e.elementType));return Gn(t,n),r},"loose-decorated"(t,e){Gn(t,Ms(e));let n=t.currentByteOffset,r=Zo(t,e.inner);return t.seekTo(n+dt(e)),r}};function Zo(t,e){let n=bLe[e.type];if(!n)throw new Error(`Cannot read data of type '${e.type}'.`);return n(t,e)}o(Zo,"O");function wLe(t,e){let n=dt(t);if(n===0||e===void 0||e===null)return[];let r=new ArrayBuffer(n),i=new _h(r),s=[];function a(c,f,h,d){if(f!=null){if(Ti(c)||_c(c)){let p=Mq(c);for(let[m,y]of Object.entries(p)){let _=c.propTypes[m];if(!_)continue;let b=f[m];b!==void 0&&a(_,b,h+y.offset,y.padding??d)}return}if(go(c)||im(c)){let p=c,m=is(dt(p.elementType),Cn(p.elementType));if(!Array.isArray(f))throw new Error("Partial value for array must be an array");let y=f??[];y.sort((_,b)=>_.idx-b.idx);for(let{idx:_,value:b}of y)a(p.elementType,b,h+_*m,m-dt(p.elementType))}else{let p=dt(c);i.seekTo(h),Uv(i,c,f),s.push({start:h,end:h+p,padding:d})}}}if(o(a,"s"),a(t,e,0),s.length===0)return[];let l=[],u=s[0];for(let c=1;c<s.length;c++){let f=s[c];if(!f||!u)throw new Error("Internal error: missing segment");f.start===u.end+(u.padding??0)?(u.end=f.end,u.padding=f.padding):(l.push({data:new Uint8Array(r,u.start,u.end-u.start)}),u=f)}if(!u)throw new Error("Internal error: missing segment");return l.push({data:new Uint8Array(r,u.start,u.end-u.start)}),l}o(wLe,"aa");function zv(t){return!!t?.usableAsStorage}o(zv,"Te");var PF=class Dq extends Error{static{o(this,"e")}constructor(e){super(`Resource '${xe(e)??"<unnamed>"}' cannot be bound as 'storage'. Use .$usage('storage') to allow it.`),Object.setPrototypeOf(this,Dq.prototype)}};function Pq(t){return!!t.usableAsUniform}o(Pq,"jt");var $q={uniform:"uniform",mutable:"storage, read_write",readonly:"storage, read"},XO=class{static{o(this,"Xe")}constructor(t,e){this.usage=t,this.buffer=e,this[W]={dataType:e.dataType},this[In]=e}resourceType="buffer-usage";[W];[In];$name(t){return this.buffer.$name(t),this}[qe](t){let e=this.buffer.dataType,n=t.getUniqueName(this),{group:r,binding:i}=t.allocateFixedEntry(this.usage==="uniform"?{uniform:e}:{storage:e,access:this.usage},this.buffer),s=$q[this.usage];return t.addDeclaration(`@group(${r}) @binding(${i}) var<${s}> ${n}: ${t.resolve(e).value};`),oe(n,e)}toString(){return`${this.usage}:${xe(this)??"<unnamed>"}`}get[$t](){let t=this.buffer.dataType;return new Proxy({[W]:!0,get[Bi](){return oe(this,t)},[qe]:e=>e.resolve(this),toString:o(()=>`${this.usage}:${xe(this)??"<unnamed>"}.$`,"toString")},Mo)}get $(){let t=$v(),e=Pv();if(t.type==="normal")throw new mF(e?`Cannot access ${String(this.buffer)}. TypeGPU functions that depends on GPU resources need to be part of a compute dispatch, draw call or simulation`:".$ and .value are inaccessible during normal JS execution. Try `.read()`");return t.type==="codegen"?this[$t]:t.type==="simulate"?(t.buffers.has(this.buffer)||t.buffers.set(this.buffer,ry(this.buffer.dataType,this.buffer.initial)),t.buffers.get(this.buffer)):Sp(t,"bufferUsage.ts#TgpuFixedBufferImpl/$")}get value(){return this.$}set $(t){let e=$v(),n=Pv();if(e.type==="normal")throw new mF(n?`Cannot access ${String(this.buffer)}. TypeGPU functions that depends on GPU resources need to be part of a compute dispatch, draw call or simulation`:".$ and .value are inaccessible during normal JS execution. Try `.write()`");if(e.type==="codegen")throw new Error("Unreachable bufferUsage.ts#TgpuFixedBufferImpl/$");if(e.type==="simulate"){e.buffers.set(this.buffer,t);return}Sp(e,"bufferUsage.ts#TgpuFixedBufferImpl/$")}set value(t){this.$=t}},$F=class{static{o(this,"Ze")}constructor(t,e,n){this.usage=t,this.dataType=e,this[W]={dataType:e},this.#e=n,Ut(this,n.key)}[W];resourceType="buffer-usage";#e;[qe](t){let e=this.dataType,n=t.getUniqueName(this),r=t.allocateLayoutEntry(this.#e.layout),i=$q[this.usage];return t.addDeclaration(`@group(${r}) @binding(${this.#e.idx}) var<${i}> ${n}: ${t.resolve(e).value};`),oe(n,e)}toString(){return`${this.usage}:${xe(this)??"<unnamed>"}`}get[$t](){let t=this.dataType;return new Proxy({[W]:!0,get[Bi](){return oe(this,t)},[qe]:e=>e.resolve(this),toString:o(()=>`${this.usage}:${xe(this)??"<unnamed>"}.$`,"toString")},Mo)}get $(){if($a())return this[$t];throw new Error("Direct access to buffer values is possible only as part of a compute dispatch or draw call. Try .read() or .write() instead")}get value(){return this.$}},LF=new WeakMap;function vLe(t){if(!zv(t))throw new Error(`Cannot pass ${t} to asMutable, as it is not allowed to be used as storage. To allow it, call .$usage('storage') when creating the buffer.`);let e=LF.get(t);return e||(e=new XO("mutable",t),LF.set(t,e)),e}o(vLe,"pa");var FF=new WeakMap;function ELe(t){if(!zv(t))throw new Error(`Cannot pass ${t} to asReadonly, as it is not allowed to be used as storage. To allow it, call .$usage('storage') when creating the buffer.`);let e=FF.get(t);return e||(e=new XO("readonly",t),FF.set(t,e)),e}o(ELe,"la");var BF=new WeakMap;function xLe(t){if(!Pq(t))throw new Error(`Cannot pass ${t} to asUniform, as it is not allowed to be used as a uniform. To allow it, call .$usage('uniform') when creating the buffer.`);let e=BF.get(t);return e||(e=new XO("uniform",t),BF.set(t,e)),e}o(xLe,"ma");var TLe={uniform:xLe,mutable:vLe,readonly:ELe};function z_(t,e,n){return fh(e)?new UF(t,e,n):new UF(t,e,n,["storage","uniform"])}o(z_,"et");function Zg(t){return t.resourceType==="buffer"}o(Zg,"le");var SLe=_q(),UF=class{static{o(this,"Qt")}constructor(t,e,n,r){this.dataType=e,this.initialOrBuffer=n,this._disallowedUsages=r,this.#e=t.device,lC(n)?(this._ownBuffer=!1,this._buffer=n):(this._ownBuffer=!0,this.initial=n)}[W]=!0;resourceType="buffer";flags=GPUBufferUsage.COPY_DST|GPUBufferUsage.COPY_SRC;#e;_buffer=null;_ownBuffer;_destroyed=!1;_hostBuffer;initial;usableAsUniform=!1;usableAsStorage=!1;usableAsVertex=!1;usableAsIndex=!1;get buffer(){if(this._destroyed)throw new Error("This buffer has been destroyed");return this._buffer||(this._buffer=this.#e.createBuffer({size:dt(this.dataType),usage:this.flags,mappedAtCreation:!!this.initial,label:xe(this)??"<unnamed>"}),this.initial&&(this._writeToTarget(this._buffer.getMappedRange(),this.initial),this._buffer.unmap())),this._buffer}get destroyed(){return this._destroyed}$name(t){return Ut(this,t),this._buffer&&(this._buffer.label=t),this}$usage(...t){for(let e of t){if(this._disallowedUsages?.includes(e))throw new Error(`Buffer of type ${this.dataType.type} cannot be used as ${e}`);this.flags|=e==="uniform"?GPUBufferUsage.UNIFORM:0,this.flags|=e==="storage"?GPUBufferUsage.STORAGE:0,this.flags|=e==="vertex"?GPUBufferUsage.VERTEX:0,this.flags|=e==="index"?GPUBufferUsage.INDEX:0,this.usableAsUniform=this.usableAsUniform||e==="uniform",this.usableAsStorage=this.usableAsStorage||e==="storage",this.usableAsVertex=this.usableAsVertex||e==="vertex",this.usableAsIndex=this.usableAsIndex||e==="index"}return this}$addFlags(t){if(!this._ownBuffer)throw new Error("Cannot add flags to a buffer that is not managed by TypeGPU.");return t&GPUBufferUsage.MAP_READ?(this.flags=GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ,this):t&GPUBufferUsage.MAP_WRITE?(this.flags=GPUBufferUsage.COPY_SRC|GPUBufferUsage.MAP_WRITE,this):(this.flags|=t,this)}compileWriter(){DF(this.dataType)}_writeToTarget(t,e){let n=DF(this.dataType);if(n)try{n(new DataView(t),0,e,SLe==="little");return}catch(r){console.error(`Error when using compiled writer for buffer ${xe(this)??"<unnamed>"} - this is likely a bug, please submit an issue at https://github.com/software-mansion/TypeGPU/issues
Using fallback writer instead.`,r)}Uv(new _h(t),this.dataType,e)}write(t){let e=this.buffer;if(e.mapState==="mapped"){let r=e.getMappedRange();this._writeToTarget(r,t);return}let n=dt(this.dataType);this._hostBuffer||(this._hostBuffer=new ArrayBuffer(n)),this._writeToTarget(this._hostBuffer,t),this.#e.queue.writeBuffer(e,0,this._hostBuffer,0,n)}writePartial(t){let e=this.buffer,n=wLe(this.dataType,t);if(e.mapState==="mapped"){let r=e.getMappedRange(),i=new Uint8Array(r);for(let s of n)i.set(s.data,s.data.byteOffset)}else for(let r of n)this.#e.queue.writeBuffer(e,r.data.byteOffset,r.data,0,r.data.byteLength)}clear(){let t=this.buffer;if(t.mapState==="mapped"){new Uint8Array(t.getMappedRange()).fill(0);return}let e=this.#e.createCommandEncoder();e.clearBuffer(t),this.#e.queue.submit([e.finish()])}copyFrom(t){if(this.buffer.mapState==="mapped")throw new Error("Cannot copy to a mapped buffer.");let e=dt(this.dataType),n=this.#e.createCommandEncoder();n.copyBufferToBuffer(t.buffer,0,this.buffer,0,e),this.#e.queue.submit([n.finish()])}async read(){let t=this.buffer;if(t.mapState==="mapped"){let i=t.getMappedRange();return Zo(new $u(i),this.dataType)}if(t.usage&GPUBufferUsage.MAP_READ){await t.mapAsync(GPUMapMode.READ);let i=t.getMappedRange(),s=Zo(new $u(i),this.dataType);return t.unmap(),s}let e=(globalThis.__TYPEGPU_AUTONAME__??(i=>i))(this.#e.createBuffer({size:dt(this.dataType),usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),"r"),n=this.#e.createCommandEncoder();n.copyBufferToBuffer(t,0,e,0,dt(this.dataType)),this.#e.queue.submit([n.finish()]),await e.mapAsync(GPUMapMode.READ,0,dt(this.dataType));let r=Zo(new $u(e.getMappedRange()),this.dataType);return e.unmap(),e.destroy(),r}as(t){return TLe[t]?.(this)}destroy(){this._destroyed||(this._destroyed=!0,this._ownBuffer&&this._buffer?.destroy())}toString(){return`buffer:${xe(this)??"<unnamed>"}`}};function kLe(t,e){return new Bq(nq(),t,e)}o(kLe,"fa");function ALe(t,e){return new Bq(rq(),t,e)}o(ALe,"da");function Lq(t){let e=t;return e?.resourceType==="sampler"&&!!e[W]}o(Lq,"tt");function Fq(t){let e=t;return e?.resourceType==="sampler-comparison"&&!!e[W]}o(Fq,"rt");var CLe=class{static{o(this,"Ht")}constructor(t,e){this.schema=t,this.#e=e,this.resourceType=t.type==="sampler_comparison"?"sampler-comparison":"sampler",Ut(this,e.key)}[W]={unwrap:void 0};resourceType;#e;[qe](t){let e=t.getUniqueName(this),n=t.allocateLayoutEntry(this.#e.layout);return t.addDeclaration(`@group(${n}) @binding(${this.#e.idx}) var ${e}: ${t.resolve(this.schema).value};`),oe(e,this.schema)}get[$t](){let t=this.schema;return new Proxy({[W]:!0,get[Bi](){return oe(this,t)},[qe]:e=>e.resolve(this),toString:o(()=>`${this.toString()}.$`,"toString")},Mo)}get $(){if($a())return this[$t];throw new Error("Direct access to sampler values is possible only as part of a compute dispatch or draw call.")}get value(){return this.$}toString(){return`${this.resourceType}:${xe(this)??"<unnamed>"}`}},Bq=class{static{o(this,"Kt")}constructor(t,e,n){this.schema=t,this.#n=e,this.#r=n,this.resourceType=t.type==="sampler_comparison"?"sampler-comparison":"sampler",this[W]={unwrap:o(()=>(this.#t||(this.#t=this.#r.device.createSampler({...this.#n,label:xe(this)??"<unnamed>"})),this.#t),"unwrap")},this.#e=e.minFilter==="linear"||e.magFilter==="linear"||e.mipmapFilter==="linear"}[W];resourceType;#e;#t=null;#n;#r;[qe](t){let e=t.getUniqueName(this),{group:n,binding:r}=t.allocateFixedEntry(this.schema.type==="sampler_comparison"?{sampler:"comparison"}:{sampler:this.#e?"filtering":"non-filtering"},this);return t.addDeclaration(`@group(${n}) @binding(${r}) var ${e}: ${t.resolve(this.schema).value};`),oe(e,this.schema)}get[$t](){let t=this.schema;return new Proxy({[W]:!0,get[Bi](){return oe(this,t)},[qe]:e=>e.resolve(this),toString:o(()=>`${this.toString()}.$`,"toString")},Mo)}get $(){if($a())return this[$t];throw new Error("Direct access to sampler values is possible only as part of a compute dispatch or draw call.")}get value(){return this.$}$name(t){return Ut(this,t),this}toString(){return`${this.resourceType}:${xe(this)??"<unnamed>"}`}},ILe=class{static{o(this,"Yt")}constructor(t,e){this.schema=t,this.#e=e,Ut(this,e.key)}resourceType="external-texture";[W]=!0;#e;[qe](t){let e=t.getUniqueName(this),n=t.allocateLayoutEntry(this.#e.layout);return t.addDeclaration(`@group(${n}) @binding(${this.#e.idx}) var ${e}: ${t.resolve(this.schema).value};`),oe(e,A4e())}get[$t](){let t=this.schema;return new Proxy({[W]:!0,get[Bi](){return oe(this,t)},[qe]:e=>e.resolve(this),toString:o(()=>`textureExternal:${xe(this)??"<unnamed>"}.$`,"toString")},Mo)}get $(){if($a())return this[$t];throw new Error("Direct access to texture views values is possible only as part of a compute dispatch or draw call. Try .read() or .write() instead")}get value(){return this.$}toString(){return`textureExternal:${xe(this)??"<unnamed>"}`}};function bC(t){let{videoWidth:e,videoHeight:n}=t;if(e&&n)return{width:e,height:n};let{naturalWidth:r,naturalHeight:i}=t;if(r&&i)return{width:r,height:i};let{codedWidth:s,codedHeight:a}=t;if(s&&a)return{width:s,height:a};let{width:l,height:u}=t||HTMLCanvasElement||OffscreenCanvas||HTMLImageElement||ImageData;if(!l||!u)throw new Error("Cannot determine dimensions of the provided image source.");return{width:l,height:u}}o(bC,"Jt");var wC=new WeakMap;function Uq(t){let e=wC.get(t);return e||(e=new Map,wC.set(t,e)),e}o(Uq,"ca");function RLe(t){let e=wC.get(t);e&&e.clear()}o(RLe,"ga");function OLe(t,e,n=0,r){if(e.dimension!=="2d")throw new Error("Cannot generate mipmaps for non-2D textures: only 2D textures are currently supported.");let i=r??e.mipLevelCount-n,s=vq(e.format,t);if(![...s.sampleTypes].some(a=>a==="float"||a==="unfilterable-float"))throw new Error(`Cannot generate mipmaps for format '${e.format}': only float and unfilterable-float formats are currently supported.`);if(!s.canRenderAttachment)throw new Error(`Cannot generate mipmaps for format '${e.format}': format does not support render attachments.`);for(let a=0;a<e.depthOrArrayLayers;a++)for(let l=n;l<n+i-1;l++){let u=l,c=l+1;DLe(t,e,u,c,a)}}o(OLe,"ya");function NLe(t,e,n,r){if(e.dimension==="3d")throw new Error("Cannot resample to 3D textures: only 2D textures are currently supported.");let i=d1[e.format];if(![...i.sampleTypes].some(s=>s==="float"||s==="unfilterable-float"))throw new Error(`Cannot resample to format '${e.format}': only float and unfilterable-float formats are currently supported.`);if(!i.canRenderAttachment)throw new Error(`Cannot resample to format '${e.format}': format does not support render attachments.`);return MLe(t,e,n,r)}o(NLe,"Ta");function MLe(t,e,n,r=0){let i=[...d1[e.format].sampleTypes].includes("float"),s=`${i?"filterable":"unfilterable"}`,a=Uq(t),l=a.get(s);if(!l){let _=t.createShaderModule({code:`
struct VertexOutput {
  @builtin(position) pos: vec4f,
  @location(0) uv: vec2f,
}

@vertex
fn vs_main(@builtin(vertex_index) vertexIndex: u32) -> VertexOutput {
  let pos = array<vec2f, 3>(vec2f(-1, -1), vec2f(3, -1), vec2f(-1, 3));
  let uv = array<vec2f, 3>(vec2f(0, 1), vec2f(2, 1), vec2f(0, -1));

  var output: VertexOutput;
  output.pos = vec4f(pos[vertexIndex], 0, 1);
  output.uv = uv[vertexIndex];
  return output;
}
      `}),b=(globalThis.__TYPEGPU_AUTONAME__??(C=>C))(t.createSampler({magFilter:i?"linear":"nearest",minFilter:i?"linear":"nearest"}),"R"),S=t.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.FRAGMENT,texture:{sampleType:"float"}},{binding:1,visibility:GPUShaderStage.FRAGMENT,sampler:{type:i?"filtering":"non-filtering"}}]}),v=t.createPipelineLayout({bindGroupLayouts:[S]}),k=t.createShaderModule({code:`
@group(0) @binding(0) var inputTexture: texture_2d<f32>;
@group(0) @binding(1) var inputSampler: sampler;

@fragment
fn fs_main(@location(0) uv: vec2f) -> @location(0) vec4f {
  ${i?"return textureSample(inputTexture, inputSampler, uv);":`let texelCoord = vec2u(uv * vec2f(textureDimensions(inputTexture)));
        return textureLoad(inputTexture, texelCoord, 0);`}
}
      `});l={vertexShader:_,fragmentShader:k,bindGroupLayout:S,pipelineLayout:v,sampler:b},a.set(s,l)}let u=(globalThis.__TYPEGPU_AUTONAME__??(_=>_))(t.createTexture({size:[...Object.values(bC(n))],format:"rgba8unorm",usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_DST}),"l"),{width:c,height:f}=bC(n);t.queue.copyExternalImageToTexture({source:n},{texture:u},[c,f,1]);let h=(globalThis.__TYPEGPU_AUTONAME__??(_=>_))(t.createTexture({size:[e.width,e.height,1],format:e.format,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC}),"f"),d=t.createRenderPipeline({layout:l.pipelineLayout,vertex:{module:l.vertexShader},fragment:{module:l.fragmentShader,targets:[{format:e.format}]},primitive:{topology:"triangle-list"}}),p=t.createBindGroup({layout:l.bindGroupLayout,entries:[{binding:0,resource:u.createView()},{binding:1,resource:l.sampler}]}),m=t.createCommandEncoder(),y=m.beginRenderPass({colorAttachments:[{view:h.createView(),loadOp:"clear",storeOp:"store"}]});y.setPipeline(d),y.setBindGroup(0,p),y.draw(3),y.end(),m.copyTextureToTexture({texture:h},{texture:e,origin:{x:0,y:0,z:r}},{width:e.width,height:e.height,depthOrArrayLayers:1}),t.queue.submit([m.finish()]),u.destroy(),h.destroy()}o(MLe,"co");function DLe(t,e,n,r,i){let s=[...vq(e.format,t).sampleTypes].includes("float"),a=`${s?"filterable":"unfilterable"}`,l=Uq(t),u=l.get(a);if(!u){let y=t.createShaderModule({code:`
struct VertexOutput {
  @builtin(position) pos: vec4f,
  @location(0) uv: vec2f,
}

@vertex
fn vs_main(@builtin(vertex_index) vertexIndex: u32) -> VertexOutput {
  let pos = array<vec2f, 3>(vec2f(-1, -1), vec2f(3, -1), vec2f(-1, 3));
  let uv = array<vec2f, 3>(vec2f(0, 1), vec2f(2, 1), vec2f(0, -1));

  var output: VertexOutput;
  output.pos = vec4f(pos[vertexIndex], 0, 1);
  output.uv = uv[vertexIndex];
  return output;
}
      `}),_=t.createShaderModule({code:`
@group(0) @binding(0) var inputTexture: texture_2d<f32>;
@group(0) @binding(1) var inputSampler: sampler;

@fragment
fn fs_main(@location(0) uv: vec2f) -> @location(0) vec4f {
  return textureSample(inputTexture, inputSampler, uv);
}
      `}),b=(globalThis.__TYPEGPU_AUTONAME__??(k=>k))(t.createSampler({magFilter:s?"linear":"nearest",minFilter:s?"linear":"nearest"}),"R"),S=t.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.FRAGMENT,texture:{sampleType:s?"float":"unfilterable-float"}},{binding:1,visibility:GPUShaderStage.FRAGMENT,sampler:{type:s?"filtering":"non-filtering"}}]}),v=t.createPipelineLayout({bindGroupLayouts:[S]});u={vertexShader:y,fragmentShader:_,bindGroupLayout:S,pipelineLayout:v,sampler:b},l.set(a,u)}let c=t.createRenderPipeline({layout:u.pipelineLayout,vertex:{module:u.vertexShader},fragment:{module:u.fragmentShader,targets:[{format:e.format}]},primitive:{topology:"triangle-list"}}),f=e.createView({baseMipLevel:n,dimension:"2d",mipLevelCount:1,...i!==void 0&&{baseArrayLayer:i,arrayLayerCount:1}}),h=e.createView({baseMipLevel:r,dimension:"2d",mipLevelCount:1,...i!==void 0&&{baseArrayLayer:i,arrayLayerCount:1}}),d=t.createBindGroup({layout:u.bindGroupLayout,entries:[{binding:0,resource:f},{binding:1,resource:u.sampler}]}),p=t.createCommandEncoder(),m=p.beginRenderPass({colorAttachments:[{view:h,loadOp:"clear",storeOp:"store"}]});m.setPipeline(c),m.setBindGroup(0,d),m.draw(3),m.end(),t.queue.submit([p.finish()])}o(DLe,"go");function PLe(t){return{dimension:t.dimension??"2d",sampleType:d1[t.format].channelType,multisampled:(t.sampleCount??1)!==1}}o(PLe,"yo");function $Le(t){return t==="depth24plus-stencil8"||t==="depth32float-stencil8"?["depth","stencil"]:t==="depth16unorm"||t==="depth24plus"||t==="depth32float"?["depth"]:t==="stencil8"?["stencil"]:["color"]}o($Le,"To");function LLe(t,e){return new FLe(t,e)}o(LLe,"ha");function oy(t){return t?.resourceType==="texture"&&!!t[W]}o(oy,"ee");function Vv(t){return t?.resourceType==="texture-view"&&!!t[W]}o(Vv,"he");var FLe=class{static{o(this,"Lr")}constructor(t,e){this.props=t;let n=t.format;this.#s=e,this.#e=d1[n],this.#t=t.size[0]*(t.size[1]??1)*(t.size[2]??1)*this.#e.texelSize,this.aspects=$Le(n),this[W]={unwrap:o(()=>{if(this.#n)throw new Error("This texture has been destroyed");return this.#i||(this.#i=e.device.createTexture({label:xe(this)??"<unnamed>",format:t.format,size:t.size,usage:this.#r,dimension:t.dimension??"2d",viewFormats:t.viewFormats??[],mipLevelCount:t.mipLevelCount??1,sampleCount:t.sampleCount??1})),this.#i},"unwrap")}}[W];resourceType="texture";aspects;usableAsSampled=!1;usableAsStorage=!1;usableAsRender=!1;#e;#t;#n=!1;#r=GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC;#i=null;#s;$name(t){return Ut(this,t),this}$usage(...t){let e=t.includes("storage"),n=t.includes("sampled"),r=t.includes("render");return this.#r|=n?GPUTextureUsage.TEXTURE_BINDING:0,this.#r|=e?GPUTextureUsage.STORAGE_BINDING:0,this.#r|=r?GPUTextureUsage.RENDER_ATTACHMENT:0,this.usableAsStorage||=e,this.usableAsSampled||=n,this.usableAsRender||=r,this}createView(t,e){return new BLe(t??mC(PLe(this.props)),this,e)}#o(t=0){let e=2**t,[n,r,i]=[Math.max(1,Math.floor((this.props.size[0]??1)/e)),Math.max(1,Math.floor((this.props.size[1]??1)/e)),Math.max(1,Math.floor((this.props.size[2]??1)/e))];this.#s.device.queue.writeTexture({texture:this[W].unwrap(),mipLevel:t},new Uint8Array(n*r*i*this.#e.texelSize),{bytesPerRow:this.#e.texelSize*n,rowsPerImage:r},[n,r,i])}clear(t="all"){if(t==="all"){let e=this.props.mipLevelCount??1;for(let n=0;n<e;n++)this.#o(n)}else this.#o(t)}generateMipmaps(t=0,e){if(this.usableAsRender===!1)throw new Error("generateMipmaps called without specifying 'render' usage. Add it via the $usage('render') method.");let n=e??(this.props.mipLevelCount??1)-t;if(n<=1){console.warn(`generateMipmaps is a no-op: would generate ${n} mip levels (base: ${t}, total: ${this.props.mipLevelCount??1})`);return}if(t>=(this.props.mipLevelCount??1))throw new Error(`Base mip level ${t} is out of range. Texture has ${this.props.mipLevelCount??1} mip levels.`);OLe(this.#s.device,this[W].unwrap(),t,n)}write(t,e=0){if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)){this.#l(t,e);return}let n=this.props.dimension??"2d";if(!Array.isArray(t)){this.#a(t,n==="3d"?0:void 0);return}let r=this.props.size[2]??1;t.length>r&&console.warn(`Too many image sources provided. Expected ${r} layers, got ${t.length}. Extra sources will be ignored.`);for(let i=0;i<Math.min(t.length,r);i++){let s=t[i];s&&this.#a(s,i)}}#l(t,e){let n=Math.max(1,this.props.size[0]>>e),r=Math.max(1,(this.props.size[1]??1)>>e),i=Math.max(1,(this.props.size[2]??1)>>e),s=n*r*i*this.#e.texelSize,a=t.byteLength??t.byteLength;if(a!==s)throw new Error(`Buffer size mismatch. Expected ${s} bytes for mip level ${e}, got ${a} bytes.`);this.#s.device.queue.writeTexture({texture:this[W].unwrap(),mipLevel:e},t,{bytesPerRow:this.#e.texelSize*n,rowsPerImage:r},[n,r,i])}#a(t,e){let n=this.props.size[0],r=this.props.size[1]??1,{width:i,height:s}=bC(t);if(i!==n||s!==r){NLe(this.#s.device,this[W].unwrap(),t,e);return}this.#s.device.queue.copyExternalImageToTexture({source:t},{texture:this[W].unwrap(),...e!==void 0&&{origin:{x:0,y:0,z:e}}},e!==void 0?[n,r,1]:this.props.size)}copyFrom(t){if(t.props.format!==this.props.format)throw new Error(`Texture format mismatch. Source texture has format ${t.props.format}, target texture has format ${this.props.format}`);if(t.props.size[0]!==this.props.size[0]||(t.props.size[1]??1)!==(this.props.size[1]??1)||(t.props.size[2]??1)!==(this.props.size[2]??1))throw new Error(`Texture size mismatch. Source texture has size ${t.props.size.join("x")}, target texture has size ${this.props.size.join("x")}`);let e=this.#s.device.createCommandEncoder();e.copyTextureToTexture({texture:t[W].unwrap()},{texture:this[W].unwrap()},t.props.size),this.#s.device.queue.submit([e.finish()])}get destroyed(){return this.#n}destroy(){this.#n||(this.#n=!0,this.#i?.destroy())}},BLe=class{static{o(this,"Rr")}constructor(t,e,n){this.schema=t,this.#e=e,this.#n=n,this[W]={unwrap:o(()=>{if(!this.#t){let r=this.schema,i;gC(r)?i={label:xe(this)??"<unnamed>",format:this.#n?.format??r.format,dimension:r.dimension}:i={label:xe(this)??"<unnamed>",format:this.#n?.format??this.#e.props.format,dimension:r.dimension},this.#n?.mipLevelCount!==void 0&&(i.mipLevelCount=this.#n.mipLevelCount),this.#n?.arrayLayerCount!==void 0&&(i.arrayLayerCount=this.#n.arrayLayerCount),this.#t=this.#e[W].unwrap().createView(i)}return this.#t},"unwrap")}}[W];resourceType="texture-view";#e;#t;#n;$name(t){return Ut(this,t),this.#t&&(this.#t.label=t),this}get[$t](){let t=this.schema;return new Proxy({[W]:!0,get[Bi](){return oe(this,t)},[qe]:e=>e.resolve(this),toString:o(()=>`${this.toString()}.$`,"toString")},Mo)}get $(){if($a())return this[$t];throw new Error("Direct access to texture view values is possible only as part of a compute dispatch or draw call. Try .read() or .write() instead")}get value(){return this.$}toString(){return`textureView:${xe(this)??"<unnamed>"}`}[qe](t){let e=t.getUniqueName(this),{group:n,binding:r}=t.allocateFixedEntry(gC(this.schema)?{storageTexture:this.schema}:{texture:this.schema,sampleType:this.#n?.sampleType??this.schema.bindingSampleType[0]},this);return t.addDeclaration(`@group(${n}) @binding(${r}) var ${e}: ${t.resolve(this.schema).value};`),oe(e,this.schema)}},zF=class{static{o(this,"nt")}constructor(t,e){this.schema=t,this.#e=e,Ut(this,e.key)}[W]={unwrap:void 0};resourceType="texture-view";#e;toString(){return`textureView:${xe(this)??"<unnamed>"}`}[qe](t){let e=t.getUniqueName(this),n=t.allocateLayoutEntry(this.#e.layout);return t.addDeclaration(`@group(${n}) @binding(${this.#e.idx}) var ${e}: ${t.resolve(this.schema).value};`),oe(e,this.schema)}get[$t](){let t=this.schema;return new Proxy({[W]:!0,get[Bi](){return oe(this,t)},[qe]:e=>e.resolve(this),toString:o(()=>`${this.toString()}.$`,"toString")},Mo)}get $(){if($a())return this[$t];throw new Error("Direct access to texture views values is possible only as part of a compute dispatch or draw call. Try .read() or .write() instead")}get value(){return this.$}};function ULe(t){return!!t?.usableAsSampled}o(ULe,"Gr");var zLe=class zq extends Error{static{o(this,"e")}constructor(e){super(`Resource '${xe(e)??"<unnamed>"}' cannot be bound as 'sampled'. Use .$usage('sampled') to allow it.`),Object.setPrototypeOf(this,zq.prototype)}};function VLe(t){let e={};for(let[n,r]of Object.entries(t)){if(r===null){e[n]=null;continue}if("texture"in r&&typeof r.texture=="string"){let i=r.texture;e[n]={...r,texture:mC({dimension:r.viewDimension??"2d",sampleType:i==="sint"?Lt:i==="uint"?Me:ne,multisampled:r.multisampled??!1})}}else if("storageTexture"in r&&typeof r.storageTexture=="string"){let i={readonly:"read-only",writeonly:"write-only",mutable:"read-write"};e[n]={...r,storageTexture:mC({access:i[r.access??"writeonly"],format:r.storageTexture,dimension:r.viewDimension??"2d"})}}else"externalTexture"in r&&Object.keys(r.externalTexture).length===0?e[n]={...r,externalTexture:{type:"texture_external",dimension:"2d"}}:e[n]=r}return e}o(VLe,"xo");function Vq(t){let e=VLe(t);return new WLe(e)}o(Vq,"Zt");function jq(t){return!!t&&t.resourceType==="bind-group-layout"}o(jq,"er");function jv(t){return!!t&&t.resourceType==="bind-group"}o(jv,"xe");var jLe=class Wq extends Error{static{o(this,"e")}constructor(e,n){super(`Bind group '${e??"<unnamed>"}' is missing a required binding '${n}'`),Object.setPrototypeOf(this,Wq.prototype)}},VF=["compute","fragment"],qm=["compute","vertex","fragment"],WLe=class{static{o(this,"Er")}constructor(t){this.entries=t;let e=0;for(let[n,r]of Object.entries(t)){if(r===null){e++;continue}let i={layout:this,key:n,idx:e};if("uniform"in r&&(this.bound[n]=new $F("uniform",r.uniform,i)),"storage"in r){let s="type"in r.storage?r.storage:r.storage(0);this.bound[n]=new $F(r.access??"readonly",s,i)}"texture"in r&&(this.bound[n]=new zF(r.texture,i)),"storageTexture"in r&&(this.bound[n]=new zF(r.storageTexture,i)),"externalTexture"in r&&(this.bound[n]=new ILe(r.externalTexture,i)),"sampler"in r&&(this.bound[n]=new CLe(r.sampler==="comparison"?rq():nq(),i)),Object.defineProperty(this.value,n,{get:o(()=>this.bound[n].value,"get")}),e++}}[W]=!0;_index;resourceType="bind-group-layout";bound={};value={};$=this.value;get[$t](){return this.$}toString(){return`bindGroupLayout:${xe(this)??"<unnamed>"}`}get index(){return this._index}$name(t){return Ut(this,t),this}$idx(t){return this._index=t,this}unwrap(t){return t.device.createBindGroupLayout({label:xe(this)??"<unnamed>",entries:Object.values(this.entries).map((e,n)=>{if(e===null)return null;let r=e.visibility,i={binding:n,visibility:0};if("uniform"in e)r=r??qm,i.buffer={type:"uniform"};else if("storage"in e)r=r??(e.access==="mutable"?VF:qm),i.buffer={type:e.access==="mutable"?"storage":"read-only-storage"};else if("sampler"in e)r=r??qm,i.sampler={type:e.sampler};else if("texture"in e){r=r??qm;let{multisampled:s,dimension:a,bindingSampleType:l}=e.texture;i.texture={sampleType:e.sampleType??l[0],viewDimension:a,multisampled:s}}else if("storageTexture"in e){r=r??VF;let{dimension:s,access:a,format:l}=e.storageTexture;i.storageTexture={access:a,format:l,viewDimension:s}}else"externalTexture"in e&&(r=r??qm,i.externalTexture={});return r?.includes("compute")&&(i.visibility|=GPUShaderStage.COMPUTE),r?.includes("vertex")&&(i.visibility|=GPUShaderStage.VERTEX),r?.includes("fragment")&&(i.visibility|=GPUShaderStage.FRAGMENT),i}).filter(e=>e!==null)})}},Hq=class{static{o(this,"Ve")}constructor(t,e){this.layout=t,this.entries=e;for(let n of Object.keys(t.entries))if(t.entries[n]!==null&&!(n in e))throw new jLe(xe(t),n)}resourceType="bind-group";unwrap(t){return t.device.createBindGroup({label:xe(this.layout)??"<unnamed>",layout:t.unwrap(this.layout),entries:Object.entries(this.layout.entries).map(([e,n],r)=>{if(n===null)return null;let i=this.entries[e];if(i===void 0)throw new Error(`'${e}' is a resource required to populate bind group layout '${xe(this.layout)??"<unnamed>"}'.`);if("uniform"in n){let s;if(Zg(i)){if(!Pq(i))throw new ZMe(i);s={buffer:t.unwrap(i)}}else s={buffer:i};return{binding:r,resource:s}}if("storage"in n){let s;if(Zg(i)){if(!zv(i))throw new PF(i);s={buffer:t.unwrap(i)}}else s={buffer:i};return{binding:r,resource:s}}if("texture"in n){let s;if(oy(i)){if(!ULe(i))throw new zLe(i);s=t.unwrap(i.createView(n.texture))}else Vv(i)?s=t.unwrap(i):s=i;return{binding:r,resource:s}}if("storageTexture"in n){let s;if(oy(i)){if(!zv(i))throw new PF(i);s=t.unwrap(i.createView(n.storageTexture))}else Vv(i)?s=t.unwrap(i):s=i;return{binding:r,resource:s}}if("sampler"in n)return Fq(i)||Lq(i)?{binding:r,resource:t.unwrap(i)}:{binding:r,resource:i};if("externalTexture"in n)return{binding:r,resource:i};throw new Error(`Malformed bind group entry: ${ny(i)}`)}).filter(e=>e!==null)})}};function Wv(t){return new HLe(t)}o(Wv,"we");var HLe=class{static{o(this,"Vr")}constructor(t=void 0){this.defaultValue=t}[W]=!0;resourceType="slot";$name(t){return Ut(this,t),this}areEqual(t,e){return Object.is(t,e)}toString(){return`slot:${xe(this)??"<unnamed>"}`}get[$t](){let t=Hf();if(!t)throw new Error("Cannot access tgpu.slot's value outside of resolution.");return zx(t.unwrap(this))}get value(){return this[$t]}get $(){return this.value}};function Hv(t,e){return new Gq("private",t,e)}o(Hv,"_e");function jF(t){return new Gq("workgroup",t)}o(jF,"_r");var Gq=class{static{o(this,"ot")}[W]={};#e;#t;#n;constructor(t,e,n){this.#e=t,this.#t=e,this.#n=n}[qe](t){let e=t.getUniqueName(this),n=`var<${this.#e}> ${e}: ${t.resolve(this.#t).value}`;return this.#n?t.addDeclaration(`${n} = ${t.resolve(this.#n,this.#t).value};`):t.addDeclaration(`${n};`),oe(e,this.#t)}$name(t){return Ut(this,t),this}toString(){return`var:${xe(this)??"<unnamed>"}`}get[$t](){let t=this.#t;return new Proxy({[W]:!0,get[Bi](){return oe(this,t)},[qe]:e=>e.resolve(this),toString:o(()=>`var:${xe(this)??"<unnamed>"}.$`,"toString")},Mo)}get $(){let t=$v(),e=Pv();if(t.type==="normal")throw new pF(e?`Cannot access variable '${xe(this)??"<unnamed>"}'. TypeGPU functions that depends on GPU resources need to be part of a compute dispatch, draw call or simulation`:"TypeGPU variables are inaccessible during normal JS execution. If you wanted to simulate GPU behavior, try `tgpu.simulate()`");return t.type==="codegen"?this[$t]:t.type==="simulate"?(t.vars[this.#e].has(this)||t.vars[this.#e].set(this,this.#n),t.vars[this.#e].get(this)):Sp(t,"tgpuVariable.ts#TgpuVarImpl/$")}set $(t){let e=$v(),n=Pv();if(e.type==="normal")throw new pF(n?`Cannot access ${String(this)}. TypeGPU functions that depends on GPU resources need to be part of a compute dispatch, draw call or simulation`:"TypeGPU variables are inaccessible during normal JS execution. If you wanted to simulate GPU behavior, try `tgpu.simulate()`");if(e.type==="codegen")throw new Error("Unreachable tgpuVariable.ts#TgpuVarImpl/$");if(e.type==="simulate"){e.vars[this.#e].set(this,t);return}Sp(e,"tgpuVariable.ts#TgpuVarImpl/$")}get value(){return this.$}set value(t){this.$=t}},qq=Hv(Me,0).$name("dataBlockIndex"),Kq=Hv(Me,0).$name("dataByteIndex"),Yq=Wv().$name("dataBuffer"),GLe=St([],Me)`() {
  let i = dataByteIndex;
  dataByteIndex = dataByteIndex + 1u;
  return i;
}`.$uses({dataByteIndex:Kq}).$name("nextByteIndex"),be="dataBuffer[dataBlockIndex].serializedData[nextByteIndex()]",Xq={f32:St([ne])`(n) => {
  ${be} = bitcast<u32>(n);
}`,f16:St([jn])`(n) => {
  ${be} = pack2x16float(vec2f(f32(n), 0.0));
}`,i32:St([Lt])`(n) => {
  ${be} = bitcast<u32>(n);
}`,u32:St([Me])`(n) => {
  ${be} = n;
}`,bool:St([bn])`(b) => {
  ${be} = u32(b);
}`,vec2f:St([Ht])`(v) => {
  ${be} = bitcast<u32>(v.x);
  ${be} = bitcast<u32>(v.y);
}`,vec3f:St([Rr])`(v) => {
  ${be} = bitcast<u32>(v.x);
  ${be} = bitcast<u32>(v.y);
  ${be} = bitcast<u32>(v.z);
}`,vec4f:St([se])`(v) => {
  ${be} = bitcast<u32>(v.x);
  ${be} = bitcast<u32>(v.y);
  ${be} = bitcast<u32>(v.z);
  ${be} = bitcast<u32>(v.w);
}`,vec2h:St([xa])`(v) => {
  ${be} = pack2x16float(vec2f(f32(v.x), f32(v.y)));
}`,vec3h:St([Ta])`(v) => {
  ${be} = pack2x16float(vec2f(f32(v.x), f32(v.y)));
  ${be} = pack2x16float(vec2f(f32(v.z), 0.0));
}`,vec4h:St([Sa])`(v) => {
  ${be} = pack2x16float(vec2f(f32(v.x), f32(v.y)));
  ${be} = pack2x16float(vec2f(f32(v.z), f32(v.w)));
}`,vec2i:St([kr])`(v) => {
  ${be} = bitcast<u32>(v.x);
  ${be} = bitcast<u32>(v.y);
}`,vec3i:St([us])`(v) => {
  ${be} = bitcast<u32>(v.x);
  ${be} = bitcast<u32>(v.y);
  ${be} = bitcast<u32>(v.z);
}`,vec4i:St([Yt])`(v) => {
  ${be} = bitcast<u32>(v.x);
  ${be} = bitcast<u32>(v.y);
  ${be} = bitcast<u32>(v.z);
  ${be} = bitcast<u32>(v.w);
}`,vec2u:St([Zi])`(v) => {
  ${be} = v.x;
  ${be} = v.y;
}`,vec3u:St([Vn])`(v) => {
  ${be} = v.x;
  ${be} = v.y;
  ${be} = v.z;
}`,vec4u:St([un])`(v) => {
  ${be} = v.x;
  ${be} = v.y;
  ${be} = v.z;
  ${be} = v.w;
}`,"vec2<bool>":St([ph])`(v) => {
  ${be} = u32(v.x);
  ${be} = u32(v.y);
}`,"vec3<bool>":St([mh])`(v) => {
  ${be} = u32(v.x);
  ${be} = u32(v.y);
  ${be} = u32(v.z);
}`,"vec4<bool>":St([gh])`(v) => {
  ${be} = u32(v.x);
  ${be} = u32(v.y);
  ${be} = u32(v.z);
  ${be} = u32(v.w);
}`,mat2x2f:St([ka])`(m) => {
  ${be} = bitcast<u32>(m[0][0]);
  ${be} = bitcast<u32>(m[0][1]);
  ${be} = bitcast<u32>(m[1][0]);
  ${be} = bitcast<u32>(m[1][1]);
}`,mat3x3f:St([Aa])`(m) => {
  ${be} = bitcast<u32>(m[0][0]);
  ${be} = bitcast<u32>(m[0][1]);
  ${be} = bitcast<u32>(m[0][2]);
  ${be} = 0u;
  ${be} = bitcast<u32>(m[1][0]);
  ${be} = bitcast<u32>(m[1][1]);
  ${be} = bitcast<u32>(m[1][2]);
  ${be} = 0u;
  ${be} = bitcast<u32>(m[2][0]);
  ${be} = bitcast<u32>(m[2][1]);
  ${be} = bitcast<u32>(m[2][2]);
  ${be} = 0u;
}`,mat4x4f:St([Wn])`(m) => {
  ${be} = bitcast<u32>(m[0][0]);
  ${be} = bitcast<u32>(m[0][1]);
  ${be} = bitcast<u32>(m[0][2]);
  ${be} = bitcast<u32>(m[0][3]);
  ${be} = bitcast<u32>(m[1][0]);
  ${be} = bitcast<u32>(m[1][1]);
  ${be} = bitcast<u32>(m[1][2]);
  ${be} = bitcast<u32>(m[1][3]);
  ${be} = bitcast<u32>(m[2][0]);
  ${be} = bitcast<u32>(m[2][1]);
  ${be} = bitcast<u32>(m[2][2]);
  ${be} = bitcast<u32>(m[2][3]);
  ${be} = bitcast<u32>(m[3][0]);
  ${be} = bitcast<u32>(m[3][1]);
  ${be} = bitcast<u32>(m[3][2]);
  ${be} = bitcast<u32>(m[3][3]);
}`};for(let[t,e]of Object.entries(Xq))e.$name(`serialize${t[0].toLocaleUpperCase()}${t.slice(1)}`).$uses({dataBlockIndex:qq,nextByteIndex:GLe,dataBuffer:Yq});function Jq(t){return`(${t.map((e,n)=>`_arg_${n}`).join(", ")})`}o(Jq,"Ia");function Zq(t,e){let n=Xq[t.type];if(n)return n.with(Yq,e);if(Ti(t)){let r=Object.keys(t.propTypes),i=Object.values(t.propTypes),s=Qq(i,e);return St([t])`(arg) {\n  propsSerializer(${r.map(a=>`arg.${a}`).join(", ")});\n}`.$uses({propsSerializer:s}).$name(`${xe(t)??"struct"}Serializer`)}if(go(t)){let r=t.elementType,i=t.elementCount,s=Zq(r,e);return St([t])`(arg) {\n${Array.from({length:i},(a,l)=>`  elementSerializer(arg[${l}]);`).join(`
`)}\n}`.$uses({elementSerializer:s}).$name("arraySerializer")}throw new Error(`Cannot serialize data of type ${t.type}`)}o(Zq,"Ua");function Qq(t,e){let n={},r=St(t),i=Jq(t),s=t.map((a,l)=>(n[`serializer${l}`]=Zq(a,e),`  serializer${l}(_arg_${l});`)).join(`
`);return r`${i} {\n${s}\n}`.$uses(n).$name("compoundSerializer")}o(Qq,"Fa");function qLe(t,e,n,r,i){let s=e.map(dt).reduce((u,c)=>u+c,0);if(s>i.logSizeLimit)throw new Error(`Logged data needs to fit in ${i.logSizeLimit} bytes (one of the logs requires ${s} bytes). Consider increasing the limit by passing appropriate options to tgpu.init().`);let a=Qq(e,n).$name(`log${t}serializer`),l=Jq(e);return St(e)`${l} {
  dataBlockIndex = atomicAdd(&indexBuffer, 1);
  if (dataBlockIndex >= ${i.logCountLimit}) {
    return;
  }
  dataBuffer[dataBlockIndex].id = ${t};
  dataByteIndex = 0;

  compoundSerializer${l};
}`.$uses({indexBuffer:r,dataBuffer:n,dataBlockIndex:qq,dataByteIndex:Kq,compoundSerializer:a}).$name(`log${t}`)}o(qLe,"Pa");var KLe=["log","debug","info","warn","error","clear"],YLe={logCountLimit:64,logSizeLimit:252,messagePrefix:" GPU "},eK=oe("/* console.log() */",Di),XLe=class{static{o(this,"tr")}get logResources(){}generateLog(){return console.warn("'console.log' is currently only supported in compute pipelines."),eK}},JLe=class{static{o(this,"rr")}#e;#t;#n=1;#r;#i;constructor(t){this.#e={...YLe,...t[W].logOptions},this.#t=new Map;let e=JG({id:Me,serializedData:iy(Me,Math.ceil(this.#e.logSizeLimit/4))}).$name("SerializedLogData");this.#i=t.createMutable(iy(e,this.#e.logCountLimit)).$name("dataBuffer"),this.#r=t.createMutable(I4e(Me)).$name("indexBuffer")}generateLog(t,e,n){if(!KLe.includes(e))return console.warn(`Unsupported log method '${e}' was used in TGSL.`),eK;let r=h4e(n),i=this.#n++,s=r.filter(u=>u.dataType!==ci),a=qLe(i,s.map(u=>u.dataType),this.#i,this.#r,this.#e),l=r.map(u=>u.dataType===ci?u.value:u.dataType);return this.#t.set(i,{op:e,argTypes:l}),oe(ee`${t.resolve(a).value}(${s})`,Di)}get logResources(){return this.#n===1?void 0:{dataBuffer:this.#i,indexBuffer:this.#r,options:this.#e,logIdToMeta:this.#t}}},tK="#CATCHALL#",ZLe=class{static{o(this,"Mr")}_stack=[];_itemDepth=0;get itemDepth(){return this._itemDepth}get topItem(){let t=this._stack[this._stack.length-1];if(!t||t.type!=="item")throw new Error("Internal error, expected item layer to be on top.");return t}get topFunctionScope(){return this._stack.findLast(t=>t.type==="functionScope")}pushItem(){this._itemDepth++,this._stack.push({type:"item",usedSlots:new Set})}popItem(){this.pop("item")}pushSlotBindings(t){this._stack.push({type:"slotBinding",bindingMap:new WeakMap(t)})}popSlotBindings(){this.pop("slotBinding")}pushFunctionScope(t,e,n,r){let i={type:"functionScope",args:t,argAliases:e,returnType:n,externalMap:r,reportedReturnTypes:new Set};return this._stack.push(i),i}popFunctionScope(){this.pop("functionScope")}pushBlockScope(){this._stack.push({type:"blockScope",declarations:new Map})}popBlockScope(){this.pop("blockScope")}pop(t){let e=this._stack[this._stack.length-1];if(!e||t&&e.type!==t)throw new Error(`Internal error, expected a ${t} layer to be on top.`);this._stack.pop(),t==="item"&&this._itemDepth--}readSlot(t){for(let e=this._stack.length-1;e>=0;--e){let n=this._stack[e];if(n?.type==="item")n.usedSlots.add(t);else if(n?.type==="slotBinding"){let r=n.bindingMap.get(t);if(r!==void 0)return r}else if(!(n?.type==="functionScope"||n?.type==="blockScope"))throw new Error("Unknown layer type.")}return t.defaultValue}getSnippetById(t){for(let e=this._stack.length-1;e>=0;--e){let n=this._stack[e];if(n?.type==="functionScope"){let r=n.args.find(s=>s.value===t);if(r!==void 0)return r;if(n.argAliases[t])return n.argAliases[t];let i=n.externalMap[t];return i!=null?Tb(i):void 0}if(n?.type==="blockScope"){let r=n.declarations.get(t);if(r!==void 0)return r}}}defineBlockVariable(t,e){if(e.dataType.type==="unknown")throw Error(`Tried to define variable '${t}' of unknown type`);for(let n=this._stack.length-1;n>=0;--n){let r=this._stack[n];if(r?.type==="blockScope"){r.declarations.set(t,e);return}}throw new Error("No block scope found to define a variable in.")}},kb=["","  ","    ","      ","        ","          ","            ","              ","                "],aS=kb.length-1,QLe=class{static{o(this,"kr")}identLevel=0;get pre(){return kb[this.identLevel]??kb[aS].repeat(this.identLevel/aS)+kb[this.identLevel%aS]}indent(){let t=this.pre;return this.identLevel++,t}dedent(){return this.identLevel--,this.pre}withResetLevel(t){let e=this.identLevel;this.identLevel=0;try{return t()}finally{this.identLevel=e}}},nK=class{static{o(this,"st")}#e;#t;_indentController=new QLe;_itemStateStack=new ZLe;#n=[];_declarations=[];_varyingLocations;#r=new WeakSet;#i;get varyingLocations(){return this._varyingLocations}[W]={itemStateStack:this._itemStateStack};bindGroupLayoutsToPlaceholderMap=new Map;_nextFreeLayoutPlaceholderIdx=0;fixedBindings=[];enableExtensions;expectedType;constructor(t){this.enableExtensions=t.enableExtensions,this.#t=t.shaderGenerator??lq,this.#i=t.root?new JLe(t.root):new XLe,this.#e=t.namespace[W]}getUniqueName(t){return oLe(this.#e,t)}makeNameValid(t){return this.#e.nameRegistry.makeValid(t)}get pre(){return this._indentController.pre}get topFunctionReturnType(){let t=this._itemStateStack.topFunctionScope;return dl(t),t.returnType}get shelllessRepo(){return this.#e.shelllessRepo}indent(){return this._indentController.indent()}dedent(){return this._indentController.dedent()}withResetIndentLevel(t){return this._indentController.withResetLevel(t)}getById(t){let e=this._itemStateStack.getSnippetById(t);return e===void 0?null:e}defineVariable(t,e){this._itemStateStack.defineBlockVariable(t,e)}reportReturnType(t){let e=this._itemStateStack.topFunctionScope;dl(e),e.reportedReturnTypes.add(t)}pushBlockScope(){this._itemStateStack.pushBlockScope()}popBlockScope(){this._itemStateStack.popBlockScope()}generateLog(t,e){return this.#i.generateLog(this,t,e)}get logResources(){return this.#i.logResources}fnToWgsl(t){let e=this._itemStateStack.pushFunctionScope(t.args,t.argAliases,t.returnType,t.externalMap);try{this.#t.initGenerator(this);let n=this.#t.functionDefinition(t.body),r=t.returnType;if(!r){let i=[...e.reportedReturnTypes];if(i.length===0)r=Di;else{let s=SO(i);s&&!s.hasImplicitConversions&&(r=s.targetType)}if(!r)throw new Error(`Expected function to have a single return type, got [${i.join(", ")}]. Cast explicitly to the desired type.`);r=sy(r)}return{head:e6e(this,t.args,r),body:n,returnType:r}}finally{this._itemStateStack.popFunctionScope()}}addDeclaration(t){this._declarations.push(t)}allocateLayoutEntry(t){let e=this.bindGroupLayoutsToPlaceholderMap,n=e.get(t);return n||(n=`#BIND_GROUP_LAYOUT_${this._nextFreeLayoutPlaceholderIdx++}#`,e.set(t,n)),n}allocateFixedEntry(t,e){let n=this.fixedBindings.length;return this.fixedBindings.push({layoutEntry:t,resource:e}),{group:tK,binding:n}}readSlot(t){let e=this._itemStateStack.readSlot(t);if(e===void 0)throw new JMe(t);return e}withSlots(t,e){this._itemStateStack.pushSlotBindings(t);try{return e()}finally{this._itemStateStack.popSlotBindings()}}withVaryingLocations(t,e){this._varyingLocations=t;try{return e()}finally{this._varyingLocations=void 0}}unwrap(t){if(aC(t))return this.withSlots(t[Xc].pairs,()=>this.unwrap(t[Xc].inner));let e=t;for(;;)if(sC(e))e=this.readSlot(e);else if(oC(e))e=this._getOrCompute(e);else break;return e}_getOrCompute(t){let e=this.#e.memoizedDerived.get(t)??[];this._itemStateStack.pushItem();try{for(let i of e)if([...i.slotToValueMap.entries()].every(([s,a])=>s.areEqual(this._itemStateStack.readSlot(s),a)))return i.result;this.pushMode(new CG);let n;try{n=t["~compute"]()}finally{this.popMode("normal")}let r=new Map;for(let i of this._itemStateStack.topItem.usedSlots)r.set(i,this._itemStateStack.readSlot(i));return e.push({slotToValueMap:r,result:n}),this.#e.memoizedDerived.set(t,e),n}catch(n){throw n instanceof lg?n.appendToTrace(t):new lg(n,[t])}finally{this._itemStateStack.popItem()}}_getOrInstantiate(t){let e=this.#e.memoizedResolves.get(t)??[];this._itemStateStack.pushItem();try{for(let i of e)if([...i.slotToValueMap.entries()].every(([s,a])=>s.areEqual(this._itemStateStack.readSlot(s),a)))return i.result;let n;if(sm(t))n=oe(Oq(this,t),Di);else if(oC(t)||sC(t))n=this.resolve(this.unwrap(t));else if(IG(t))n=t[qe](this);else if(Wg(t)){let i=this.#e.shelllessRepo.get(t,void 0);if(!i)throw new Error(`Couldn't resolve ${t.name}. Make sure it's a function that accepts no arguments, or call it from another TypeGPU function.`);return this.withResetIndentLevel(()=>this.resolve(i))}else throw new TypeError(`Unresolvable internal value: ${ny(t)}`);let r=new Map;for(let i of this._itemStateStack.topItem.usedSlots)r.set(i,this._itemStateStack.readSlot(i));return e.push({slotToValueMap:r,result:n}),this.#e.memoizedResolves.set(t,e),n}catch(n){throw n instanceof lg?n.appendToTrace(t):new lg(n,[t])}finally{this._itemStateStack.popItem()}}resolve(t,e){if(Sq(t)||Wg(t)){if(this.#r.has(t)&&!this.#e.memoizedResolves.has(t))throw new Error(`Recursive function ${t} detected. Recursion is not allowed on the GPU.`);this.#r.add(t)}if(aC(t))return this.withSlots(t[Xc].pairs,()=>this.resolve(t[Xc].inner,e));if(Mt(t)||Wg(t)){if(this._itemStateStack.itemDepth===0)try{this.pushMode(new eDe);let n=RG(this,()=>this._getOrInstantiate(t));return oe(`${[...this._declarations].join(`

`)}${n.value}`,Di)}finally{this.popMode("codegen")}return this._getOrInstantiate(t)}if(typeof t=="number"){let n=e??Bv(t).dataType;if(dl(n.type!=="unknown"),n.type==="abstractInt")return oe(`${t}`,n);if(n.type==="u32")return oe(`${t}u`,n);if(n.type==="i32")return oe(`${t}i`,n);let r=t.toExponential(),i=n.type==="abstractFloat"&&Number.isInteger(t)?`${t}.`:`${t}`,s=r.length<i.length?r:i;return n.type==="f32"?oe(`${s}f`,n):n.type==="f16"?oe(`${s}h`,n):oe(s,n)}if(typeof t=="boolean")return oe(t?"true":"false",bn);if(typeof t=="string")return oe(t,Di);if(e&&go(e)){if(!Array.isArray(t))throw new ws(`Cannot coerce ${t} into value of type '${e}'`);if(e.elementCount!==t.length)throw new ws(`Cannot create value of type '${e}' from an array of length: ${t.length}`);let n=this.resolve(e.elementType);return oe(ee`array<${n}, ${e.elementCount}>(${t.map(r=>oe(r,e.elementType))})`,e)}if(Array.isArray(t))return oe(ee`array(${t.map(n=>this.resolve(n))})`,ci);if(e&&Ti(e))return oe(ee`${this.resolve(e)}(${Object.entries(e.propTypes).map(([n,r])=>oe(t[n],r))})`,e);throw new ws(`Value ${t} (as json: ${ny(t)}) is not resolvable${e?` to type ${e.type}`:""}`)}pushMode(t){this.#n.push(t)}popMode(t){let e=this.#n.pop();t!==void 0&&dl(e?.type===t)}get mode(){return this.#n[this.#n.length-1]??OG}};function JO(t,e){let n=new nK(e),r=(e.config?n.withSlots(e.config(new Nq([])).bindings,()=>n.resolve(t)):n.resolve(t)).value,i=n.bindGroupLayoutsToPlaceholderMap,s=[],a=new Set([...i.keys()].map(h=>h.index).filter(h=>h!==void 0)),l=pLe(a),u=n.fixedBindings.map((h,d)=>[String(d),h.layoutEntry]),c=o(()=>{let h=l.next().value,d=Vq(Object.fromEntries(u));return s[h]=d,r=r.replaceAll(tK,String(h)),[h,new Hq(d,Object.fromEntries(n.fixedBindings.map((p,m)=>[String(m),p.resource])))]},"m"),f=u.length>0?c():void 0;for(let[h,d]of i.entries()){let p=h.index??l.next().value;s[p]=h,r=r.replaceAll(d,String(p))}return e.enableExtensions&&e.enableExtensions.length>0&&(r=`${e.enableExtensions.map(h=>`enable ${h};`).join(`
`)}

${r}`),{code:r,usedBindGroupLayouts:s,catchall:f,logResources:n.logResources}}o(JO,"me");function e6e(t,e,n){let r=e.map(i=>`${i.value}: ${t.resolve(i.dataType).value}`).join(", ");return n.type!=="void"?`(${r}) -> ${VO(n)}${t.resolve(n).value} `:`(${r}) `}o(e6e,"vo");function rK(t){let e=t;return e?.resourceType==="compute-pipeline"&&!!e[W]}o(rK,"Or");function iK(t){let e=t;return e?.resourceType==="render-pipeline"&&!!e[W]}o(iK,"zr");function t6e(t){return iK(t)||rK(t)}o(t6e,"$a");function sK(t){let{externals:e,shaderGenerator:n,template:r,names:i="random",config:s,enableExtensions:a}=t,l={};qg(l,e??{});let u={[W]:!0,[qe](f){return oe(Bx(f,l,r??""),Di)},toString:o(()=>"<root>","toString")},c=Object.values(e).filter(t6e);if(c.length>1)throw new Error(`Found ${c.length} pipelines but can only resolve one at a time.`);return JO(u,{namespace:typeof i=="string"?p1({names:i}):i,enableExtensions:a,shaderGenerator:n,config:s,root:c[0]?.[W].branch})}o(sK,"Nr");function n6e(t){return sK(t).code}o(n6e,"La");function r6e(t){let e=Hf()??new nK({namespace:p1(),shaderGenerator:lq}),n=[1,1,1],r=[1,1,1],i=[n[0]*r[0],n[1]*r[1],n[2]*r[2]],s=new Map,a=Array.from({length:n[0]},()=>Array.from({length:n[1]},()=>Array.from({length:n[2]},()=>new Map))),l=Array.from({length:i[0]},()=>Array.from({length:i[1]},()=>Array.from({length:i[2]},()=>new Map))),u=Array.from({length:i[0]},(c,f)=>Array.from({length:i[1]},(h,d)=>Array.from({length:i[2]},(p,m)=>{let y=Math.floor(f/r[0]),_=Math.floor(d/r[1]),b=Math.floor(m/r[2]);return new tDe(s,{private:l[f][d][m],workgroup:a[y][_][b]})})));e.pushMode(u[0][0][0]);try{return{value:RG(e,t),buffers:s,privateVars:l,workgroupVars:a}}finally{e.popMode("simulate")}}o(r6e,"Ra");function i6e(t,e,n,r){return new s6e(t,e,n,r)}o(i6e,"Ga");function ZO(t){let e=t;return e?.resourceType==="query-set"&&!!e[W]}o(ZO,"it");var s6e=class{static{o(this,"qr")}constructor(t,e,n,r){this.type=e,this.count=n,this.rawQuerySet=r,this.#e=t.device,this._ownQuerySet=!r,this._querySet=r||null}resourceType="query-set";#e;_querySet=null;_ownQuerySet;_destroyed=!1;_available=!0;_readBuffer=null;_resolveBuffer=null;get querySet(){if(this._destroyed)throw new Error("This QuerySet has been destroyed.");return this.rawQuerySet?this.rawQuerySet:this._querySet?this._querySet:(this._querySet=this.#e.createQuerySet({type:this.type,count:this.count}),this._querySet)}get destroyed(){return this._destroyed}get available(){return this._available}get[W](){let t=this;return{get readBuffer(){return t._readBuffer||(t._readBuffer=t.#e.createBuffer({size:t.count*BigUint64Array.BYTES_PER_ELEMENT,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ})),t._readBuffer},get resolveBuffer(){return t._resolveBuffer||(t._resolveBuffer=t.#e.createBuffer({size:t.count*BigUint64Array.BYTES_PER_ELEMENT,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC})),t._resolveBuffer}}}$name(t){return Ut(this,t),this._querySet&&(this._querySet.label=t),this}resolve(){if(this._destroyed)throw new Error("This QuerySet has been destroyed.");if(!this._available)throw new Error("This QuerySet is busy resolving or reading.");let t=this.#e.createCommandEncoder();t.resolveQuerySet(this.querySet,0,this.count,this[W].resolveBuffer,0),this.#e.queue.submit([t.finish()])}async read(){if(!this._resolveBuffer)throw new Error("QuerySet must be resolved before reading.");this._available=!1;try{let t=this.#e.createCommandEncoder();t.copyBufferToBuffer(this[W].resolveBuffer,0,this[W].readBuffer,0,this.count*BigUint64Array.BYTES_PER_ELEMENT),this.#e.queue.submit([t.finish()]);let e=this[W].readBuffer;await e.mapAsync(GPUMapMode.READ);let n=new BigUint64Array(e.getMappedRange().slice());return e.unmap(),Array.from(n)}finally{this._available=!0}}destroy(){this._destroyed||(this._destroyed=!0,this._querySet&&this._ownQuerySet&&this._querySet.destroy(),this._readBuffer?.destroy(),this._resolveBuffer?.destroy(),this._readBuffer=this._resolveBuffer=null)}},WF=class{static{o(this,"ut")}constructor(t){this._make=t}_map=new WeakMap;getOrMake(t,...e){if(this._map.has(t))return this._map.get(t);let n=this._make(t,...e);return this._map.set(t,n),n}},lS=class{static{o(this,"be")}constructor(t,e){this.resourceType=t,this.buffer=e,this[In]=e,this.#e=this.buffer.as(this.resourceType)}[W]=!0;[In];#e;$name(t){return Ut(this[In],t),this}write(t){this.buffer.write(t)}writePartial(t){this.buffer.writePartial(t)}read(){return this.buffer.read()}get[$t](){return this.#e.$}get $(){return this.#e.$}get value(){return this.$}[qe](t){return t.resolve(this.#e)}},rt=o(t=>j$e(t??0),"b"),Fo=o(t=>W$e(t??0),"H"),Xh=o(t=>H$e(t??0),"We"),o6e={f32:o(t=>rt(t[0]),"f32"),f16:o(t=>Xh(t[0]).x,"f16"),i32:o(t=>Fo(t[0]),"i32"),u32:o(t=>t[0]??0,"u32"),bool:o(t=>!!t[0],"bool"),vec2f:o(t=>Ht(rt(t[0]),rt(t[1])),"vec2f"),vec3f:o(t=>Rr(rt(t[0]),rt(t[1]),rt(t[2])),"vec3f"),vec4f:o(t=>se(rt(t[0]),rt(t[1]),rt(t[2]),rt(t[3])),"vec4f"),vec2h(t){let e=Xh(t[0]);return xa(e.x,e.y)},vec3h(t){let e=Xh(t[0]),n=Xh(t[1]);return Ta(e.x,e.y,n.x)},vec4h(t){let e=Xh(t[0]),n=Xh(t[1]);return Sa(e.x,e.y,n.x,n.y)},vec2i:o(t=>kr(Fo(t[0]),Fo(t[1])),"vec2i"),vec3i:o(t=>us(Fo(t[0]),Fo(t[1]),Fo(t[2])),"vec3i"),vec4i:o(t=>Yt(Fo(t[0]),Fo(t[1]),Fo(t[2]),Fo(t[3])),"vec4i"),vec2u:o(t=>Zi(t[0]??0,t[1]??0),"vec2u"),vec3u:o(t=>Vn(t[0]??0,t[1]??0,t[2]??0),"vec3u"),vec4u:o(t=>un(t[0]??0,t[1]??0,t[2]??0,t[3]??0),"vec4u"),"vec2<bool>":o(t=>ph(!!t[0],!!t[1]),"vec2<bool>"),"vec3<bool>":o(t=>mh(!!t[0],!!t[1],!!t[2]),"vec3<bool>"),"vec4<bool>":o(t=>gh(!!t[0],!!t[1],!!t[2],!!t[3]),"vec4<bool>"),mat2x2f:o(t=>ka(rt(t[0]),rt(t[1]),rt(t[2]),rt(t[3])),"mat2x2f"),mat3x3f:o(t=>Aa(rt(t[0]),rt(t[1]),rt(t[2]),rt(t[4]),rt(t[5]),rt(t[6]),rt(t[8]),rt(t[9]),rt(t[10])),"mat3x3f"),mat4x4f:o(t=>Wn(rt(t[0]),rt(t[1]),rt(t[2]),rt(t[3]),rt(t[4]),rt(t[5]),rt(t[6]),rt(t[7]),rt(t[8]),rt(t[9]),rt(t[10]),rt(t[11]),rt(t[12]),rt(t[13]),rt(t[14]),rt(t[15])),"mat4x4f")};function a6e(t,e){let n=o6e[e.type];if(n)return n(t);if(Ti(e)){let r=Object.keys(e.propTypes),i=Object.values(e.propTypes),s=vC(t,i);return Object.fromEntries(r.map((a,l)=>[a,s[l]]))}if(go(e)){let r=e.elementType,i=e.elementCount;return vC(t,Array.from({length:i},()=>r))}throw new Error(`Cannot deserialize data of type ${e.type}`)}o(a6e,"Fo");function vC(t,e){let n=0;return e.map(r=>{if(!fh(r))return r;let i=Math.ceil(dt(r)/4),s=a6e(t.subarray(n,n+i),r);return n+=i,s})}o(vC,"jr");function l6e(t,e){return vC(t,e).map(cC)}o(l6e,"Po");function EC(t){let{indexBuffer:e,dataBuffer:n,logIdToMeta:r,options:i}=t;n.read().then(s=>{s.filter(a=>a.id).forEach(({id:a,serializedData:l})=>{let{argTypes:u,op:c}=r.get(a),f=l6e(new Uint32Array(l),u);f.length===0&&f.push(""),console[c](`%c${i.messagePrefix}%c ${f[0]}`,"background: #936ff5; color: white;","color: inherit; background: none",...f.slice(1))})}),e.read().then(s=>{s>i.logCountLimit&&console.warn(`Log count limit per dispatch (${i.logCountLimit}) exceeded by ${s-i.logCountLimit} calls. Consider increasing the limit by passing appropriate options to tgpu.init().`)}),n.buffer.clear(),e.buffer.clear()}o(EC,"pt");function oK(t,e,n){if(!n.enabledFeatures.has("timestamp-query"))throw new Error('Performance callback requires the "timestamp-query" feature to be enabled on GPU device.');return t.timestampWrites?{...t,performanceCallback:e}:{...t,performanceCallback:e,hasAutoQuerySet:!0,timestampWrites:{querySet:(globalThis.__TYPEGPU_AUTONAME__??(r=>r))(n.createQuerySet("timestamp",2),"querySet"),beginningOfPassWriteIndex:0,endOfPassWriteIndex:1}}}o(oK,"ar");function aK(t,e,n){if(!n.enabledFeatures.has("timestamp-query"))throw new Error('Timestamp writes require the "timestamp-query" feature to be enabled on GPU device.');t.hasAutoQuerySet&&t.timestampWrites&&t.timestampWrites.querySet.destroy();let r={querySet:e.querySet};return e.beginningOfPassWriteIndex!==void 0&&(r.beginningOfPassWriteIndex=e.beginningOfPassWriteIndex),e.endOfPassWriteIndex!==void 0&&(r.endOfPassWriteIndex=e.endOfPassWriteIndex),{...t,hasAutoQuerySet:!1,timestampWrites:r}}o(aK,"or");function lK(t,e){if(!t.timestampWrites)return{};let{querySet:n,beginningOfPassWriteIndex:r,endOfPassWriteIndex:i}=t.timestampWrites,s={querySet:ZO(n)?e.unwrap(n):n};return r!==void 0&&(s.beginningOfPassWriteIndex=r),i!==void 0&&(s.endOfPassWriteIndex=i),{timestampWrites:s}}o(lK,"sr");function xC({root:t,priors:e}){let n=e.timestampWrites?.querySet,r=e.performanceCallback;if(!n)throw new Error("Cannot dispatch workgroups with performance callback without a query set.");if(!ZO(n))throw new Error("Performance callback with raw GPUQuerySet is not supported. Use TgpuQuerySet instead.");let i=t.device.createCommandEncoder();i.resolveQuerySet(t.unwrap(n),0,n.count,n[W].resolveBuffer,0),t.device.queue.submit([i.finish()]),t.device.queue.onSubmittedWorkDone().then(async()=>{if(!n.available)return;let s=await n.read(),a=s[e.timestampWrites?.beginningOfPassWriteIndex??0],l=s[e.timestampWrites?.endOfPassWriteIndex??1];if(a===void 0||l===void 0)throw new Error("QuerySet did not return valid timestamps.");await r(a,l)})}o(xC,"lt");function u6e(t,e,n){return new c6e(new f6e(t,e,n),{})}o(u6e,"Ca");var c6e=class cg{static{o(this,"e")}constructor(e,n){this._core=e,this._priors=n,this[W]={get rawPipeline(){return e.unwrap().pipeline},get priors(){return n},get branch(){return e.branch}},this[In]=e}[W];resourceType="compute-pipeline";[In];[qe](e){return e.resolve(this._core)}toString(){return`computePipeline:${xe(this)??"<unnamed>"}`}get rawPipeline(){return this._core.unwrap().pipeline}with(e,n){return jv(e)?new cg(this._core,{...this._priors,bindGroupLayoutMap:new Map([...this._priors.bindGroupLayoutMap??[],[e.layout,e]])}):new cg(this._core,{...this._priors,bindGroupLayoutMap:new Map([...this._priors.bindGroupLayoutMap??[],[e,n]])})}withPerformanceCallback(e){let n=oK(this._priors,e,this._core.branch);return new cg(this._core,n)}withTimestampWrites(e){let n=aK(this._priors,e,this._core.branch);return new cg(this._core,n)}dispatchWorkgroups(e,n,r){let i=this._core.unwrap(),{branch:s}=this._core,a={label:xe(this._core)??"<unnamed>",...lK(this._priors,s)},l=s.device.createCommandEncoder(),u=l.beginComputePass(a);u.setPipeline(i.pipeline);let c=new Set(i.usedBindGroupLayouts);if(i.usedBindGroupLayouts.forEach((f,h)=>{if(i.catchall&&h===i.catchall[0])u.setBindGroup(h,s.unwrap(i.catchall[1])),c.delete(f);else{let d=this._priors.bindGroupLayoutMap?.get(f);d!==void 0&&(c.delete(f),u.setBindGroup(h,s.unwrap(d)))}}),c.size>0)throw new vO(c);u.dispatchWorkgroups(e,n,r),u.end(),s.device.queue.submit([l.finish()]),i.logResources&&EC(i.logResources),this._priors.performanceCallback&&xC({root:s,priors:this._priors})}$name(e){return Ut(this._core,e),this}},f6e=class{static{o(this,"Hr")}constructor(t,e,n){this.branch=t,this._slotBindings=e,this._entryFn=n}[W]=!0;_memo;[qe](t){return t.withSlots(this._slotBindings,()=>(t.resolve(this._entryFn),oe("",Di)))}toString(){return"computePipelineCore"}unwrap(){if(this._memo===void 0){let t=this.branch.device,e=Eq.filter(c=>this.branch.enabledFeatures.has(xq[c])),n,r=p1({names:this.branch.nameRegistrySetting});n=JO(this,{namespace:r,enableExtensions:e,shaderGenerator:this.branch.shaderGenerator,root:this.branch});let{code:i,usedBindGroupLayouts:s,catchall:a,logResources:l}=n;a!==void 0&&s[a[0]]?.$name(`${xe(this)??"<unnamed>"} - Automatic Bind Group & Layout`);let u=t.createShaderModule({label:`${xe(this)??"<unnamed>"} - Shader`,code:i});this._memo={pipeline:t.createComputePipeline({label:xe(this)??"<unnamed>",layout:t.createPipelineLayout({label:`${xe(this)??"<unnamed>"} - Pipeline Layout`,bindGroupLayouts:s.map(c=>this.branch.unwrap(c))}),compute:{module:u}}),usedBindGroupLayouts:s,catchall:a,logResources:l}}return this._memo}};function HF(t,e="vertex"){return new h6e(t,e)}o(HF,"Jr");function uK(t){return t?.resourceType==="vertex-layout"}o(uK,"ur");var TC=Symbol("defaultAttribEntry");function Ab(t,e,n,r,i){if(hh(e)||dh(e)){let s=tc(e);return s!==void 0&&(r[i??TC]=s),Ab(t,e.inner,is(n,Ms(e)),r)}if(Ti(e)){let s=n,a=e.propTypes;return Object.fromEntries(Object.entries(a).map(([l,u])=>{s=is(s,Cn(u));let c=[l,Ab(t,u,s,r,l)];return s+=dt(u),c}))}if(_c(e)){let s=n,a=e.propTypes;return Object.fromEntries(Object.entries(a).map(([l,u])=>{s=is(s,Ms(u));let c=[l,Ab(t,u,s,r,l)];return s+=dt(u),c}))}if("type"in e&&typeof e.type=="string"){if(yG.includes(e.type))return{_layout:t,format:e.type,offset:n};let s=qMe[e.type];if(s)return{_layout:t,format:s,offset:n}}throw new Error(`Unsupported data used in vertex layout: ${String(e)}`)}o(Ab,"ir");var h6e=class{static{o(this,"Yr")}constructor(t,e){this.schemaForCount=t,this.stepMode=e;let n=t(0);this.stride=is(dt(n.elementType),Cn(n)),this.attrib=Ab(this,n.elementType,0,this._customLocationMap)}[W]=!0;resourceType="vertex-layout";stride;attrib;_customLocationMap={};get vertexLayout(){if(this._customLocationMap[TC]!==void 0){if(typeof this.attrib.format!="string"||typeof this.attrib.offset!="number")throw new Error("Single attribute vertex layouts must have a format and offset.");return{arrayStride:this.stride,stepMode:this.stepMode,attributes:[{format:this.attrib.format,offset:this.attrib.offset,shaderLocation:this._customLocationMap[TC]}]}}if(!Object.keys(this.attrib).every(t=>this._customLocationMap[t]!==void 0))throw new Error("All attributes must have custom locations in order to unwrap a vertex layout.");return{arrayStride:this.stride,stepMode:this.stepMode,attributes:[...Object.entries(this.attrib).map(([t,e])=>({format:e.format,offset:e.offset,shaderLocation:this._customLocationMap[t]}))]}}$name(t){return Ut(this,t),this}};function d6e(t){return typeof t?.loadOp=="string"}o(d6e,"Do");function p6e(t,e){if(sm(t)){if(!d6e(e))throw new Error("Expected a single color attachment, not a record.");return[e]}let n=[];for(let r of Object.keys(t)){let i=t[r];if(a1(i))continue;let s=e[r];if(!s)throw new Error(`A color attachment by the name of '${r}' was not provided to the shader.`);n.push(s)}return n}o(p6e,"Ea");function m6e(t){return typeof t?.format=="string"}o(m6e,"Bo");function g6e(t,e){if(sm(t)){if(mG(t))return[];if(!m6e(e))throw new Error("Expected a single color target configuration, not a record.");return[e]}let n=[];for(let r of Object.keys(t)){let i=t[r];if(a1(i))continue;let s=e[r];if(!s)throw new Error(`A color target by the name of '${r}' was not provided to the shader.`);n.push(s)}return n}o(g6e,"Va");function cK(t){return new y6e(new _6e(t),{})}o(cK,"en");var y6e=class Wo{static{o(this,"e")}[W];resourceType="render-pipeline";[In];hasIndexBuffer=!1;constructor(e,n){this[W]={core:e,priors:n,branch:e.options.branch},this[In]=e}[qe](e){return e.resolve(this[W].core)}toString(){return`renderPipeline:${xe(this)??"<unnamed>"}`}$name(e){return Ut(this[W].core,e),this}with(e,n){let r=this[W];if(jv(e))return new Wo(r.core,{...r.priors,bindGroupLayoutMap:new Map([...r.priors.bindGroupLayoutMap??[],[e.layout,e]])});if(jq(e))return new Wo(r.core,{...r.priors,bindGroupLayoutMap:new Map([...r.priors.bindGroupLayoutMap??[],[e,n]])});if(uK(e))return new Wo(r.core,{...r.priors,vertexLayoutMap:new Map([...r.priors.vertexLayoutMap??[],[e,n]])});throw new Error("Unsupported value passed into .with()")}withPerformanceCallback(e){let n=this[W],r=oK(n.priors,e,n.core.options.branch);return new Wo(n.core,r)}withTimestampWrites(e){let n=this[W],r=aK(n.priors,e,n.core.options.branch);return new Wo(n.core,r)}withColorAttachment(e){let n=this[W];return new Wo(n.core,{...n.priors,colorAttachment:e})}withDepthStencilAttachment(e){let n=this[W];return new Wo(n.core,{...n.priors,depthStencilAttachment:e})}withIndexBuffer(e,n,r,i){let s=this[W];if(lC(e)){if(typeof n!="string")throw new Error("If a GPUBuffer is passed, indexFormat must be provided.");return new Wo(s.core,{...s.priors,indexBuffer:{buffer:e,indexFormat:n,offsetBytes:r,sizeBytes:i}})}let a={u32:"uint32",u16:"uint16"},l=e.dataType.elementType;return new Wo(s.core,{...s.priors,indexBuffer:{buffer:e,indexFormat:a[l.type],offsetBytes:n!==void 0?n*dt(l):void 0,sizeBytes:i!==void 0?i*dt(l):void 0}})}setupRenderPass(e){let n=this[W],r=n.core.unwrap(),{branch:i,fragmentFn:s}=n.core.options,a=s?p6e(s.shell.out,n.priors.colorAttachment??{}).map(h=>oy(h.view)?{...h,view:i.unwrap(h.view).createView()}:Vv(h.view)?{...h,view:i.unwrap(h.view)}:h):[null],l={label:xe(n.core)??"<unnamed>",colorAttachments:a,...lK(n.priors,i)};if(n.priors.depthStencilAttachment!==void 0){let h=n.priors.depthStencilAttachment;oy(h.view)?l.depthStencilAttachment={...h,view:i.unwrap(h.view).createView()}:l.depthStencilAttachment=h}let u=e.beginRenderPass(l);u.setPipeline(r.pipeline);let c=new Set(r.usedBindGroupLayouts);r.usedBindGroupLayouts.forEach((h,d)=>{if(r.catchall&&d===r.catchall[0])u.setBindGroup(d,i.unwrap(r.catchall[1])),c.delete(h);else{let p=n.priors.bindGroupLayoutMap?.get(h);p!==void 0&&(c.delete(h),u.setBindGroup(d,i.unwrap(p)))}});let f=new Set(n.core.usedVertexLayouts);if(n.core.usedVertexLayouts.forEach((h,d)=>{let p=n.priors.vertexLayoutMap?.get(h);p&&(f.delete(h),u.setVertexBuffer(d,i.unwrap(p)))}),c.size>0)throw new vO(c);if(f.size>0)throw new EG(f);return u}draw(e,n,r,i){let s=this[W],{branch:a}=s.core.options,{logResources:l}=s.core.unwrap(),u=a.device.createCommandEncoder(),c=this.setupRenderPass(u);c.draw(e,n,r,i),c.end(),a.device.queue.submit([u.finish()]),l&&EC(l),s.priors.performanceCallback&&xC({root:a,priors:s.priors})}drawIndexed(e,n,r,i,s){let a=this[W];if(!a.priors.indexBuffer)throw new Error("No index buffer set for this render pipeline.");let{logResources:l}=a.core.unwrap(),{branch:u}=a.core.options,{buffer:c,indexFormat:f,offsetBytes:h,sizeBytes:d}=a.priors.indexBuffer,p=u.device.createCommandEncoder(),m=this.setupRenderPass(p);lC(c)?m.setIndexBuffer(c,f,h,d):m.setIndexBuffer(u.unwrap(c),f,h,d),m.drawIndexed(e,n,r,i,s),m.end(),u.device.queue.submit([p.finish()]),l&&EC(l),a.priors.performanceCallback&&xC({root:u,priors:a.priors})}},_6e=class{static{o(this,"Zr")}constructor(t){this.options=t;let e=aLe(t.vertexFn.shell.in??{},t.vertexAttribs);this._vertexBufferLayouts=e.bufferDefinitions,this.usedVertexLayouts=e.usedVertexLayouts,this._targets=t.fragmentFn&&t.targets?g6e(t.fragmentFn.shell.out,t.targets):[null]}[W]=!0;usedVertexLayouts;_memo;_vertexBufferLayouts;_targets;[qe](t){let{vertexFn:e,fragmentFn:n,slotBindings:r}=this.options,i=b6e(e.shell.out,n?.shell.in,xe(e)??"<unnamed>",xe(n)??"<unnamed>");return t.withVaryingLocations(i,()=>t.withSlots(r,()=>(t.resolve(e),n&&t.resolve(n),oe("",Di))))}toString(){return"renderPipelineCore"}unwrap(){if(this._memo===void 0){let{branch:t,primitiveState:e,depthStencilState:n,multisampleState:r}=this.options,i=t.device,s=Eq.filter(y=>t.enabledFeatures.has(xq[y])),a,l=p1({names:t.nameRegistrySetting});a=JO(this,{namespace:l,enableExtensions:s,shaderGenerator:t.shaderGenerator,root:t});let{code:u,usedBindGroupLayouts:c,catchall:f,logResources:h}=a;f!==void 0&&c[f[0]]?.$name(`${xe(this)??"<unnamed>"} - Automatic Bind Group & Layout`);let d=i.createShaderModule({label:`${xe(this)??"<unnamed>"} - Shader`,code:u}),p={layout:i.createPipelineLayout({label:`${xe(this)??"<unnamed>"} - Pipeline Layout`,bindGroupLayouts:c.map(y=>t.unwrap(y))}),vertex:{module:d,buffers:this._vertexBufferLayouts}},m=xe(this);m!==void 0&&(p.label=m),this.options.fragmentFn&&(p.fragment={module:d,targets:this._targets}),e&&(fh(e.stripIndexFormat)?p.primitive={...e,stripIndexFormat:{u32:"uint32",u16:"uint16"}[e.stripIndexFormat.type]}:p.primitive=e),n&&(p.depthStencil=n),r&&(p.multisample=r),this._memo={pipeline:i.createRenderPipeline(p),usedBindGroupLayouts:c,catchall:f,logResources:h}}return this._memo}};function b6e(t,e,n,r){let i={},s=new Set;function a(u,c){i[u]=c,s.add(c)}o(a,"s");for(let[u,c]of Object.entries(t)){let f=tc(c);f!==void 0&&a(u,f)}for(let[u,c]of Object.entries(e??{})){let f=tc(c);f!==void 0&&(i[u]===void 0?a(u,f):i[u]!==f&&console.warn(`Mismatched location between vertexFn (${n}) output (${i[u]}) and fragmentFn (${r}) input (${f}) for the key "${u}", using the location set on vertex output.`))}let l=0;for(let u of Object.keys(t??{}))if(!(a1(t[u])||i[u]!==void 0)){for(;s.has(l);)l++;a(u,l)}return i}o(b6e,"Ao");function w6e(t){if(t.includes(0))throw new Error("Size and workgroupSize cannot contain zeroes.");return Vn(t[0]??1,t[1]??1,t[2]??1)}o(w6e,"$o");var v6e=[Vn(1,1,1),Vn(256,1,1),Vn(16,16,1),Vn(8,8,4)],E6e=class fK{static{o(this,"e")}#e;#t;#n;#r;#i;constructor(e,n,r,i){this.#e=e,this.#t=n,this.#n=r,this.#r=i,this.#i=Vn()}with(e){return new fK(this.#e,this.#t.with(e),this.#n,this.#r)}dispatchThreads(...e){let n=w6e(e),r=Z4e(Rr(n).div(Rr(this.#r)));G$e(n,this.#i)||(this.#i=n,this.#n.write(n)),this.#t.dispatchWorkgroups(r.x,r.y,r.z)}get pipeline(){return this.#t}get sizeUniform(){return this.#n}},x6e=class SC{static{o(this,"e")}constructor(e,n){this._getRoot=e,this._slotBindings=n}with(e,n){return new SC(this._getRoot,[...this._slotBindings,[Lx(e)?e.slot:e,n]])}withCompute(e){return new T6e(this._getRoot(),this._slotBindings,e)}createGuardedComputePipeline(e){let n=this._getRoot();if(e.length>=4)throw new Error("Guarded compute callback only supports up to three dimensions.");let r=v6e[e.length],i=St([Me,Me,Me])(e),s=(globalThis.__TYPEGPU_AUTONAME__??(u=>u))(n.createUniform(Vn),"o"),a=Tq({workgroupSize:r,in:{id:IDe.globalInvocationId}})`{
  if (any(in.id >= sizeUniform)) {
    return;
  }
  wrappedCallback(in.id.x, in.id.y, in.id.z);
}`.$uses({sizeUniform:s,wrappedCallback:i}),l=(globalThis.__TYPEGPU_AUTONAME__??(u=>u))(this.withCompute(a).createPipeline(),"i");return new E6e(n,l,s,r)}withVertex(e,n){return new S6e({branch:this._getRoot(),primitiveState:void 0,depthStencilState:void 0,slotBindings:this._slotBindings,vertexFn:e,vertexAttribs:n,multisampleState:void 0})}pipe(e){let n=e(new Nq([]));return new SC(this._getRoot,[...this._slotBindings,...n.bindings])}},T6e=class{static{o(this,"nn")}constructor(t,e,n){this._root=t,this._slotBindings=e,this._entryFn=n}createPipeline(){return u6e(this._root,this._slotBindings,this._entryFn)}},S6e=class Cb{static{o(this,"e")}constructor(e){this._options=e}withFragment(e,n,r){return dl(typeof e!="string"),dl(typeof n!="string"),new k6e({...this._options,fragmentFn:e,targets:n})}withPrimitive(e){return new Cb({...this._options,primitiveState:e})}withDepthStencil(e){return new Cb({...this._options,depthStencilState:e})}withMultisample(e){return new Cb({...this._options,multisampleState:e})}createPipeline(){return cK({...this._options,fragmentFn:null,targets:null})}},k6e=class Ib{static{o(this,"e")}constructor(e){this._options=e}withPrimitive(e){return new Ib({...this._options,primitiveState:e})}withDepthStencil(e){return new Ib({...this._options,depthStencilState:e})}withMultisample(e){return new Ib({...this._options,multisampleState:e})}createPipeline(){return cK(this._options)}},hK=class extends x6e{static{o(this,"pr")}constructor(t,e,n,r,i){super(()=>this,[]),this.device=t,this.nameRegistrySetting=e,this._ownDevice=n,this.shaderGenerator=i,this["~unstable"]=this,this[W]={logOptions:r}}"~unstable";_unwrappedBindGroupLayouts=new WF(t=>t.unwrap(this));_unwrappedBindGroups=new WF(t=>t.unwrap(this));[W];get enabledFeatures(){return new Set(this.device.features)}createBuffer(t,e){return z_(this,t,e)}createUniform(t,e){let n=z_(this,t,e).$usage("uniform");return new lS("uniform",n)}createMutable(t,e){let n=z_(this,t,e).$usage("storage");return new lS("mutable",n)}createReadonly(t,e){let n=z_(this,t,e).$usage("storage");return new lS("readonly",n)}createQuerySet(t,e,n){return i6e(this,t,e,n)}createBindGroup(t,e){return new Hq(t,e)}destroy(){RLe(this.device),this._ownDevice&&this.device.destroy()}createTexture(t){return LLe(t,this)}createSampler(t){return kLe(t,this)}createComparisonSampler(t){return ALe(t,this)}unwrap(t){if(rK(t))return t[W].rawPipeline;if(iK(t))return t[W].core.unwrap().pipeline;if(jq(t))return this._unwrappedBindGroupLayouts.getOrMake(t);if(jv(t))return this._unwrappedBindGroups.getOrMake(t);if(Zg(t))return t.buffer;if(oy(t))return t[W].unwrap();if(Vv(t)){if(!t[W].unwrap)throw new Error("Cannot unwrap laid-out texture view as it has no underlying resource.");return t[W].unwrap()}if(uK(t))return t.vertexLayout;if(Lq(t)||Fq(t)){if(t[W].unwrap)return t[W].unwrap();throw new Error("Cannot unwrap laid-out sampler.")}if(ZO(t))return t.querySet;throw new Error(`Unknown resource type: ${t}`)}beginRenderPass(t,e){let n=this.device.createCommandEncoder(),r=n.beginRenderPass(t),i=new Map,s=new Map,a,l=o(()=>{if(!a)throw new Error("Cannot draw without a call to pass.setPipeline");let{core:u,priors:c}=a[W],f=u.unwrap();r.setPipeline(f.pipeline);let h=new Set(f.usedBindGroupLayouts);f.usedBindGroupLayouts.forEach((p,m)=>{if(f.catchall&&m===f.catchall[0])r.setBindGroup(m,this.unwrap(f.catchall[1])),h.delete(p);else{let y=c.bindGroupLayoutMap?.get(p)??i.get(p);y!==void 0&&(h.delete(p),jv(y)?r.setBindGroup(m,this.unwrap(y)):r.setBindGroup(m,y))}});let d=new Set;if(u.usedVertexLayouts.forEach((p,m)=>{let y=c.vertexLayoutMap?.get(p),_=y?{buffer:y,offset:void 0,size:void 0}:s.get(p);!_||!_.buffer?d.add(p):Zg(_.buffer)?r.setVertexBuffer(m,this.unwrap(_.buffer),_.offset,_.size):r.setVertexBuffer(m,_.buffer,_.offset,_.size)}),h.size>0)throw new vO(h);if(d.size>0)throw new EG(d)},"l");e({setViewport(...u){r.setViewport(...u)},setScissorRect(...u){r.setScissorRect(...u)},setBlendConstant(...u){r.setBlendConstant(...u)},setStencilReference(...u){r.setStencilReference(...u)},beginOcclusionQuery(...u){r.beginOcclusionQuery(...u)},endOcclusionQuery(...u){r.endOcclusionQuery(...u)},executeBundles(...u){r.executeBundles(...u)},setPipeline(u){a=u},setIndexBuffer:o((u,c,f,h)=>{Zg(u)?r.setIndexBuffer(this.unwrap(u),c,f,h):r.setIndexBuffer(u,c,f,h)},"setIndexBuffer"),setVertexBuffer(u,c,f,h){s.set(u,{buffer:c,offset:f,size:h})},setBindGroup(u,c){i.set(u,c)},draw(u,c,f,h){l(),r.draw(u,c,f,h)},drawIndexed(...u){l(),r.drawIndexed(...u)},drawIndirect(...u){l(),r.drawIndirect(...u)},drawIndexedIndirect(...u){l(),r.drawIndexedIndirect(...u)}}),r.end(),this.device.queue.submit([n.finish()])}flush(){console.warn("flush() has been deprecated, and has no effect.")}};async function A6e(t){let{adapter:e,device:n,unstable_names:r="random",unstable_logOptions:i}=t??{};if(!navigator.gpu)throw new Error("WebGPU is not supported by this browser.");let s=await navigator.gpu.requestAdapter(e);if(!s)throw new Error("Could not find a compatible GPU");let a=[];for(let u of n?.requiredFeatures??[]){if(!s.features.has(u))throw new Error(`Requested feature "${u}" is not supported by the adapter.`);a.push(u)}for(let u of n?.optionalFeatures??[])s.features.has(u)?a.push(u):console.warn(`Optional feature "${u}" is not supported by the adapter.`);let l=await s.requestDevice({...n,requiredFeatures:a});return new hK(l,r,!0,i??{},t?.shaderGenerator)}o(A6e,"_a");function C6e(t){let{device:e,unstable_names:n="random",unstable_logOptions:r}=t??{};return new hK(e,n,!1,r??{},t?.shaderGenerator)}o(C6e,"Wa");function I6e(t,e){return new R6e(t,e)}o(I6e,"Ma");var R6e=class{static{o(this,"sn")}constructor(t,e=void 0){this.schema=t,this.defaultValue=e,this.slot=Wv(e),this[In]=this.slot}[W]=!0;[In];resourceType="accessor";slot;get[$t](){return new Proxy({[W]:!0,[Bi]:this.#e(),[qe]:t=>t.resolve(this),toString:o(()=>`accessor:${xe(this)??"<unnamed>"}.$`,"toString")},Mo)}#e(){let t=Hf(),e=zx(t.unwrap(this.slot));return Sq(e)?e[W].gpuImpl():oe(e,this.schema)}$name(t){return this.slot.$name(t),this}toString(){return`accessor:${xe(this)??"<unnamed>"}`}get value(){if($a())return this[$t];throw new Error("`tgpu.accessor` relies on GPU resources and cannot be accessed outside of a compute dispatch or draw call")}get $(){return this.value}[qe](t){let e=this.#e();return oe(t.resolve(e.value,e.dataType).value,e.dataType)}};function O6e(t){return M6e(t)}o(O6e,"ka");function N6e([t,e]){return`${xe(t)??"<unnamed>"}=${e}`}o(N6e,"Ro");function M6e(t){if(Hf())throw new Error("Cannot create tgpu.derived objects at the resolution stage.");return{[W]:!0,resourceType:"derived","~compute":t,get[$t](){let e=Hf();if(!e)throw new Error("Cannot access tgpu.derived's value outside of resolution.");return zx(e.unwrap(this))},get value(){return this[$t]},get $(){return this.value},with(e,n){return dK(this,[[e,n]])},toString(){return"derived"}}}o(M6e,"Go");function dK(t,e){return{[W]:!0,resourceType:"derived","~compute"(){throw new Error("'~compute' should never be read on bound derived items.")},[Xc]:{inner:t,pairs:e},get[$t](){let n=Hf();if(!n)throw new Error("Cannot access tgpu.derived's value outside of resolution.");return zx(n.unwrap(this))},get value(){return this[$t]},get $(){return this.value},with(n,r){return dK(t,[...e,[n,r]])},toString(){return`derived[${e.map(N6e).join(", ")}]`}}}o(dK,"Oa");var D6e={fn:St,bindGroupLayout:Vq,vertexLayout:HF,slot:Wv,init:A6e,initFromDevice:C6e,resolve:n6e,resolveWithContext:sK,privateVar:Hv,workgroupVar:jF,const:pC,"~unstable":{fn:St,fragmentFn:Q$e,vertexFn:GDe,computeFn:Tq,vertexLayout:HF,namespace:p1,derived:O6e,slot:Wv,accessor:I6e,privateVar:Hv,workgroupVar:jF,const:pC,declare:K$e,simulate:r6e}},B7e=D6e;class P6e{static{o(this,"Processor")}constructor(e){this.selfOptions=e||{},this.pipes={}}options(e){return e&&(this.selfOptions=e),this.selfOptions}pipe(e,n){let r=n;if(typeof e=="string"){if(typeof r>"u")return this.pipes[e];this.pipes[e]=r}if(e&&e.name){if(r=e,r.processor===this)return r;this.pipes[r.name]=r}return r.processor=this,r}process(e,n){let r=e;r.options=this.options();let i=n||e.pipe||"default",s;for(;i;)typeof r.nextAfterChildren<"u"&&(r.next=r.nextAfterChildren,r.nextAfterChildren=null),typeof i=="string"&&(i=this.pipe(i)),i.process(r),s=i,i=null,r&&r.next&&(r=r.next,i=r.pipe||s);return r.hasResult?r.result:void 0}}class uS{static{o(this,"Pipe")}constructor(e){this.name=e,this.filters=[]}process(e){if(!this.processor)throw new Error("add this pipe to a processor before using it");const n=this.debug,r=this.filters.length,i=e;for(let s=0;s<r;s++){const a=this.filters[s];if(n&&this.log(`filter: ${a.filterName}`),a(i),typeof i=="object"&&i.exiting){i.exiting=!1;break}}!i.next&&this.resultCheck&&this.resultCheck(i)}log(e){`${this.name}${e}`}append(...e){return this.filters.push(...e),this}prepend(...e){return this.filters.unshift(...e),this}indexOf(e){if(!e)throw new Error("a filter name is required");for(let n=0;n<this.filters.length;n++)if(this.filters[n].filterName===e)return n;throw new Error(`filter not found: ${e}`)}list(){return this.filters.map(e=>e.filterName)}after(e,...n){const r=this.indexOf(e);return this.filters.splice(r+1,0,...n),this}before(e,...n){const r=this.indexOf(e);return this.filters.splice(r,0,...n),this}replace(e,...n){const r=this.indexOf(e);return this.filters.splice(r,1,...n),this}remove(e){const n=this.indexOf(e);return this.filters.splice(n,1),this}clear(){return this.filters.length=0,this}shouldHaveResult(e){if(e===!1){this.resultCheck=null;return}if(!this.resultCheck)return this.resultCheck=n=>{if(!n.hasResult){const r=new Error(`${this.name} failed`);throw r.noResult=!0,r}},this}}class QO{static{o(this,"Context")}setResult(e){return this.result=e,this.hasResult=!0,this}exit(){return this.exiting=!0,this}push(e,n){return e.parent=this,typeof n<"u"&&(e.childName=n),e.root=this.root||this,e.options=e.options||this.options,this.children?(this.children[this.children.length-1].next=e,this.children.push(e)):(this.children=[e],this.nextAfterChildren=this.next||null,this.next=e),e.next=this,this}}function $6e(t){const e=/^\/(.*)\/([gimyu]*)$/.exec(t.toString());return new RegExp(e[1],e[2])}o($6e,"cloneRegExp");function Gv(t){if(typeof t!="object")return t;if(t===null)return null;if(Array.isArray(t))return t.map(Gv);if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return $6e(t);const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Gv(t[n]));return e}o(Gv,"clone$1");class Jc extends QO{static{o(this,"DiffContext")}constructor(e,n){super(),this.left=e,this.right=n,this.pipe="diff"}setResult(e){if(this.options.cloneDiffValues&&typeof e=="object"){const n=typeof this.options.cloneDiffValues=="function"?this.options.cloneDiffValues:Gv;typeof e[0]=="object"&&(e[0]=n(e[0])),typeof e[1]=="object"&&(e[1]=n(e[1]))}return super.setResult(e)}}class eN extends QO{static{o(this,"PatchContext")}constructor(e,n){super(),this.left=e,this.delta=n,this.pipe="patch"}}class tN extends QO{static{o(this,"ReverseContext")}constructor(e){super(),this.delta=e,this.pipe="reverse"}}const pK=o(function(e){if(e.left===e.right){e.setResult(void 0).exit();return}if(typeof e.left>"u"){if(typeof e.right=="function")throw new Error("functions are not supported");e.setResult([e.right]).exit();return}if(typeof e.right>"u"){e.setResult([e.left,0,0]).exit();return}if(typeof e.left=="function"||typeof e.right=="function")throw new Error("functions are not supported");if(e.leftType=e.left===null?"null":typeof e.left,e.rightType=e.right===null?"null":typeof e.right,e.leftType!==e.rightType){e.setResult([e.left,e.right]).exit();return}if(e.leftType==="boolean"||e.leftType==="number"){e.setResult([e.left,e.right]).exit();return}if(e.leftType==="object"&&(e.leftIsArray=Array.isArray(e.left)),e.rightType==="object"&&(e.rightIsArray=Array.isArray(e.right)),e.leftIsArray!==e.rightIsArray){e.setResult([e.left,e.right]).exit();return}e.left instanceof RegExp&&(e.right instanceof RegExp?e.setResult([e.left.toString(),e.right.toString()]).exit():e.setResult([e.left,e.right]).exit())},"trivialMatchesDiffFilter");pK.filterName="trivial";const mK=o(function(e){if(typeof e.delta>"u"){e.setResult(e.left).exit();return}if(e.nested=!Array.isArray(e.delta),e.nested)return;const n=e.delta;if(n.length===1){e.setResult(n[0]).exit();return}if(n.length===2){if(e.left instanceof RegExp){const r=/^\/(.*)\/([gimyu]+)$/.exec(n[1]);if(r){e.setResult(new RegExp(r[1],r[2])).exit();return}}e.setResult(n[1]).exit();return}n.length===3&&n[2]===0&&e.setResult(void 0).exit()},"trivialMatchesPatchFilter");mK.filterName="trivial";const gK=o(function(e){if(typeof e.delta>"u"){e.setResult(e.delta).exit();return}if(e.nested=!Array.isArray(e.delta),e.nested)return;const n=e.delta;if(n.length===1){e.setResult([n[0],0,0]).exit();return}if(n.length===2){e.setResult([n[1],n[0]]).exit();return}n.length===3&&n[2]===0&&e.setResult([n[0]]).exit()},"trivialReferseFilter");gK.filterName="trivial";const yK=o(t=>{if(!t||!t.children)return;const e=t.children.length;let n,r=t.result;for(let i=0;i<e;i++)n=t.children[i],!(typeof n.result>"u")&&(r=r||{},r[n.childName]=n.result);r&&t.leftIsArray&&(r._t="a"),t.setResult(r).exit()},"collectChildrenDiffFilter");yK.filterName="collectChildren";const _K=o(t=>{if(t.leftIsArray||t.leftType!=="object")return;const e=t.left,n=t.right;let r,i;const s=t.options.propertyFilter;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s&&!s(r,t)||(i=new Jc(e[r],n[r]),t.push(i,r)));for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s&&!s(r,t)||typeof e[r]>"u"&&(i=new Jc(void 0,n[r]),t.push(i,r)));if(!t.children||t.children.length===0){t.setResult(void 0).exit();return}t.exit()},"objectsDiffFilter");_K.filterName="objects";const bK=o(function(e){if(!e.nested)return;const n=e.delta;if(n._t)return;const r=n;let i,s;for(i in r)s=new eN(e.left[i],r[i]),e.push(s,i);e.exit()},"nestedPatchFilter");bK.filterName="objects";const wK=o(function(e){if(!e||!e.children||e.delta._t)return;const r=e.left,i=e.children.length;let s;for(let a=0;a<i;a++){s=e.children[a];const l=s.childName;Object.prototype.hasOwnProperty.call(e.left,l)&&s.result===void 0?delete r[l]:r[l]!==s.result&&(r[l]=s.result)}e.setResult(r).exit()},"collectChildrenPatchFilter");wK.filterName="collectChildren";const vK=o(function(e){if(!e.nested||e.delta._t)return;const r=e.delta;let i,s;for(i in r)s=new tN(r[i]),e.push(s,i);e.exit()},"nestedReverseFilter");vK.filterName="objects";const EK=o(t=>{if(!t||!t.children||t.delta._t)return;const n=t.children.length;let r;const i={};for(let s=0;s<n;s++){r=t.children[s];const a=r.childName;i[a]!==r.result&&(i[a]=r.result)}t.setResult(i).exit()},"collectChildrenReverseFilter$1");EK.filterName="collectChildren";const L6e=o(function(t,e,n,r){return t[n]===e[r]},"defaultMatch"),F6e=o(function(t,e,n,r){const i=t.length,s=e.length;let a,l;const u=new Array(i+1);for(a=0;a<i+1;a++)for(u[a]=new Array(s+1),l=0;l<s+1;l++)u[a][l]=0;for(u.match=n,a=1;a<i+1;a++)for(l=1;l<s+1;l++)n(t,e,a-1,l-1,r)?u[a][l]=u[a-1][l-1]+1:u[a][l]=Math.max(u[a-1][l],u[a][l-1]);return u},"lengthMatrix"),B6e=o(function(t,e,n,r){let i=e.length,s=n.length;const a={sequence:[],indices1:[],indices2:[]};for(;i!==0&&s!==0;)if(t.match(e,n,i-1,s-1,r))a.sequence.unshift(e[i-1]),a.indices1.unshift(i-1),a.indices2.unshift(s-1),--i,--s;else{const u=t[i][s-1],c=t[i-1][s];u>c?--s:--i}return a},"backtrack"),U6e=o(function(t,e,n,r){const i=r||{},s=F6e(t,e,n||L6e,i);return B6e(s,t,e,i)},"get"),z6e={get:U6e},kp=3;function V6e(t,e,n,r){for(let i=0;i<n;i++){const s=t[i];for(let a=0;a<r;a++){const l=e[a];if(i!==a&&s===l)return!0}}}o(V6e,"arraysHaveMatchByRef");function V_(t,e,n,r,i){const s=t[n],a=e[r];if(s===a)return!0;if(typeof s!="object"||typeof a!="object")return!1;const l=i.objectHash;if(!l)return i.matchByPosition&&n===r;i.hashCache1=i.hashCache1||[];let u=i.hashCache1[n];if(typeof u>"u"&&(i.hashCache1[n]=u=l(s,n)),typeof u>"u")return!1;i.hashCache2=i.hashCache2||[];let c=i.hashCache2[r];return typeof c>"u"&&(i.hashCache2[r]=c=l(a,r)),typeof c>"u"?!1:u===c}o(V_,"matchItems");const xK=o(function(e){if(!e.leftIsArray)return;const n={objectHash:e.options&&e.options.objectHash,matchByPosition:e.options&&e.options.matchByPosition};let r=0,i=0,s,a,l;const u=e.left,c=e.right,f=u.length,h=c.length;let d;for(f>0&&h>0&&!n.objectHash&&typeof n.matchByPosition!="boolean"&&(n.matchByPosition=!V6e(u,c,f,h));r<f&&r<h&&V_(u,c,r,r,n);)s=r,d=new Jc(u[s],c[s]),e.push(d,s),r++;for(;i+r<f&&i+r<h&&V_(u,c,f-1-i,h-1-i,n);)a=f-1-i,l=h-1-i,d=new Jc(u[a],c[l]),e.push(d,l),i++;let p;if(r+i===f){if(f===h){e.setResult(void 0).exit();return}for(p=p||{_t:"a"},s=r;s<h-i;s++)p[s]=[c[s]];e.setResult(p).exit();return}if(r+i===h){for(p=p||{_t:"a"},s=r;s<f-i;s++)p[`_${s}`]=[u[s],0,0];e.setResult(p).exit();return}delete n.hashCache1,delete n.hashCache2;const m=u.slice(r,f-i),y=c.slice(r,h-i),_=z6e.get(m,y,V_,n),b=[];for(p=p||{_t:"a"},s=r;s<f-i;s++)_.indices1.indexOf(s-r)<0&&(p[`_${s}`]=[u[s],0,0],b.push(s));let S=!0;e.options&&e.options.arrays&&e.options.arrays.detectMove===!1&&(S=!1);let v=!1;e.options&&e.options.arrays&&e.options.arrays.includeValueOnMove&&(v=!0);const k=b.length;for(s=r;s<h-i;s++){const C=_.indices2.indexOf(s-r);if(C<0){let R=!1;if(S&&k>0){for(let x=0;x<k;x++)if(a=b[x],V_(m,y,a-r,s-r,n)){p[`_${a}`].splice(1,2,s,kp),v||(p[`_${a}`][0]=""),l=s,d=new Jc(u[a],c[l]),e.push(d,l),b.splice(x,1),R=!0;break}}R||(p[s]=[c[s]])}else a=_.indices1[C]+r,l=_.indices2[C]+r,d=new Jc(u[a],c[l]),e.push(d,l)}e.setResult(p).exit()},"arraysDiffFilter");xK.filterName="arrays";const GF={numerically(t,e){return t-e},numericallyBy(t){return(e,n)=>e[t]-n[t]}},TK=o(function(e){if(!e.nested)return;const n=e.delta;if(n._t!=="a")return;let r,i;const s=n,a=e.left;let l=[],u=[];const c=[];for(r in s)if(r!=="_t")if(r[0]==="_"){const p=r;if(s[p][2]===0||s[p][2]===kp)l.push(parseInt(r.slice(1),10));else throw new Error(`only removal or move can be applied at original array indices, invalid diff type: ${s[p][2]}`)}else{const p=r;s[p].length===1?u.push({index:parseInt(p,10),value:s[p][0]}):c.push({index:parseInt(p,10),delta:s[p]})}for(l=l.sort(GF.numerically),r=l.length-1;r>=0;r--){i=l[r];const p=s[`_${i}`],m=a.splice(i,1)[0];p[2]===kp&&u.push({index:p[1],value:m})}u=u.sort(GF.numericallyBy("index"));const f=u.length;for(r=0;r<f;r++){const p=u[r];a.splice(p.index,0,p.value)}const h=c.length;let d;if(h>0)for(r=0;r<h;r++){const p=c[r];d=new eN(a[p.index],p.delta),e.push(d,p.index)}if(!e.children){e.setResult(a).exit();return}e.exit()},"nestedPatchFilter");TK.filterName="arrays";const SK=o(function(e){if(!e||!e.children||e.delta._t!=="a")return;const r=e.left,i=e.children.length;let s;for(let a=0;a<i;a++){s=e.children[a];const l=s.childName;r[l]=s.result}e.setResult(r).exit()},"collectChildrenPatchFilter");SK.filterName="arraysCollectChildren";const kK=o(function(e){if(!e.nested){const a=e.delta;if(a[2]===kp){const l=a;e.newName=`_${l[1]}`,e.setResult([l[0],parseInt(e.childName.substring(1),10),kp]).exit()}return}const n=e.delta;if(n._t!=="a")return;const r=n;let i,s;for(i in r)i!=="_t"&&(s=new tN(r[i]),e.push(s,i));e.exit()},"arraysReverseFilter");kK.filterName="arrays";const j6e=o((t,e,n)=>{if(typeof e=="string"&&e[0]==="_")return parseInt(e.substring(1),10);if(Array.isArray(n)&&n[2]===0)return`_${e}`;let r=+e;for(const i in t){const s=t[i];if(Array.isArray(s))if(s[2]===kp){const a=parseInt(i.substring(1),10),l=s[1];if(l===+e)return a;a<=r&&l>r?r++:a>=r&&l<r&&r--}else s[2]===0?parseInt(i.substring(1),10)<=r&&r++:s.length===1&&parseInt(i,10)<=r&&r--}return r},"reverseArrayDeltaIndex"),AK=o(t=>{if(!t||!t.children)return;const e=t.delta;if(e._t!=="a")return;const n=e,r=t.children.length;let i;const s={_t:"a"};for(let a=0;a<r;a++){i=t.children[a];let l=i.newName;typeof l>"u"&&(l=j6e(n,i.childName,i.result)),s[l]!==i.result&&(s[l]=i.result)}t.setResult(s).exit()},"collectChildrenReverseFilter");AK.filterName="arraysCollectChildren";const CK=o(function(e){e.left instanceof Date?(e.right instanceof Date?e.left.getTime()!==e.right.getTime()?e.setResult([e.left,e.right]):e.setResult(void 0):e.setResult([e.left,e.right]),e.exit()):e.right instanceof Date&&e.setResult([e.left,e.right]).exit()},"datesDiffFilter");CK.filterName="dates";const qv=2,W6e=60;let cS=null;function IK(t,e){var n;if(!cS){let r;if(!((n=t?.textDiff)===null||n===void 0)&&n.diffMatchPatch)r=new t.textDiff.diffMatchPatch;else{if(!e)return null;const i=new Error("The diff-match-patch library was not provided. Pass the library in through the options or use the `jsondiffpatch/with-text-diffs` entry-point.");throw i.diff_match_patch_not_found=!0,i}cS={diff:o(function(i,s){return r.patch_toText(r.patch_make(i,s))},"diff"),patch:o(function(i,s){const a=r.patch_apply(r.patch_fromText(s),i);for(let l=0;l<a[1].length;l++)if(!a[1][l]){const u=new Error("text patch failed");u.textPatchFailed=!0}return a[0]},"patch")}}return cS}o(IK,"getDiffMatchPatch");const RK=o(function(e){if(e.leftType!=="string")return;const n=e.left,r=e.right,i=e.options&&e.options.textDiff&&e.options.textDiff.minLength||W6e;if(n.length<i||r.length<i){e.setResult([n,r]).exit();return}const s=IK(e.options);if(!s){e.setResult([n,r]).exit();return}const a=s.diff;e.setResult([a(n,r),0,qv]).exit()},"textsDiffFilter");RK.filterName="texts";const OK=o(function(e){if(e.nested)return;const n=e.delta;if(n[2]!==qv)return;const r=n,i=IK(e.options,!0).patch;e.setResult(i(e.left,r[0])).exit()},"textsPatchFilter");OK.filterName="texts";const H6e=o(function(t){let e,n,r,i,s=null;const a=/^@@ +-(\d+),(\d+) +\+(\d+),(\d+) +@@$/;let l;const u=t.split(`
`);for(e=0,n=u.length;e<n;e++){r=u[e];const c=r.slice(0,1);c==="@"?(s=a.exec(r),l=e,u[l]="@@ -"+s[3]+","+s[4]+" +"+s[1]+","+s[2]+" @@"):c==="+"?(u[e]="-"+u[e].slice(1),u[e-1].slice(0,1)==="+"&&(i=u[e],u[e]=u[e-1],u[e-1]=i)):c==="-"&&(u[e]="+"+u[e].slice(1))}return u.join(`
`)},"textDeltaReverse"),NK=o(function(e){if(e.nested)return;const n=e.delta;if(n[2]!==qv)return;const r=n;e.setResult([H6e(r[0]),0,qv]).exit()},"textsReverseFilter");NK.filterName="texts";class G6e{static{o(this,"DiffPatcher")}constructor(e){this.processor=new P6e(e),this.processor.pipe(new uS("diff").append(yK,pK,CK,RK,_K,xK).shouldHaveResult()),this.processor.pipe(new uS("patch").append(wK,SK,mK,OK,bK,TK).shouldHaveResult()),this.processor.pipe(new uS("reverse").append(EK,AK,gK,NK,vK,kK).shouldHaveResult())}options(e){return this.processor.options(e)}diff(e,n){return this.processor.process(new Jc(e,n))}patch(e,n){return this.processor.process(new eN(e,n))}reverse(e){return this.processor.process(new tN(e))}unpatch(e,n){return this.patch(e,this.reverse(n))}clone(e){return Gv(e)}}let fS;function U7e(t,e){return fS||(fS=new G6e),fS.diff(t,e)}o(U7e,"diff");const wr=[];for(let t=0;t<256;++t)wr.push((t+256).toString(16).slice(1));function q6e(t,e=0){return(wr[t[e+0]]+wr[t[e+1]]+wr[t[e+2]]+wr[t[e+3]]+"-"+wr[t[e+4]]+wr[t[e+5]]+"-"+wr[t[e+6]]+wr[t[e+7]]+"-"+wr[t[e+8]]+wr[t[e+9]]+"-"+wr[t[e+10]]+wr[t[e+11]]+wr[t[e+12]]+wr[t[e+13]]+wr[t[e+14]]+wr[t[e+15]]).toLowerCase()}o(q6e,"unsafeStringify");let hS;const K6e=new Uint8Array(16);function Y6e(){if(!hS){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");hS=crypto.getRandomValues.bind(crypto)}return hS(K6e)}o(Y6e,"rng");const X6e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),qF={randomUUID:X6e};function z7e(t,e,n){if(qF.randomUUID&&!e&&!t)return qF.randomUUID();t=t||{};const r=t.random??t.rng?.()??Y6e();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,q6e(r)}o(z7e,"v4");function J6e(){function t(e){return new Promise(n=>{let r=new XMLHttpRequest;r.open(e.method,e.url,!0),Object.keys(e.headers).forEach(l=>r.setRequestHeader(l,e.headers[l]));let i=o((l,u)=>setTimeout(()=>{r.abort(),n({status:0,content:u,isTimedOut:!0})},l),"i"),s=i(e.connectTimeout,"Connection timeout"),a;r.onreadystatechange=()=>{r.readyState>r.OPENED&&a===void 0&&(clearTimeout(s),a=i(e.responseTimeout,"Socket timeout"))},r.onerror=()=>{r.status===0&&(clearTimeout(s),clearTimeout(a),n({content:r.responseText||"Network request failed",status:r.status,isTimedOut:!1}))},r.onload=()=>{clearTimeout(s),clearTimeout(a),n({content:r.responseText,status:r.status,isTimedOut:!1})},r.send(e.data)})}return o(t,"r"),{send:t}}o(J6e,"m");function Z6e(t){let e;const n=`algolia-client-js-${t.key}`;function r(){return e===void 0&&(e=t.localStorage||window.localStorage),e}o(r,"getStorage");function i(){return JSON.parse(r().getItem(n)||"{}")}o(i,"getNamespace");function s(l){r().setItem(n,JSON.stringify(l))}o(s,"setNamespace");function a(){const l=t.timeToLive?t.timeToLive*1e3:null,u=i(),c=Object.fromEntries(Object.entries(u).filter(([,h])=>h.timestamp!==void 0));if(s(c),!l)return;const f=Object.fromEntries(Object.entries(c).filter(([,h])=>{const d=new Date().getTime();return!(h.timestamp+l<d)}));s(f)}return o(a,"removeOutdatedCacheItems"),{get(l,u,c={miss:o(()=>Promise.resolve(),"miss")}){return Promise.resolve().then(()=>(a(),i()[JSON.stringify(l)])).then(f=>Promise.all([f?f.value:u(),f!==void 0])).then(([f,h])=>Promise.all([f,h||c.miss(f)])).then(([f])=>f)},set(l,u){return Promise.resolve().then(()=>{const c=i();return c[JSON.stringify(l)]={timestamp:new Date().getTime(),value:u},r().setItem(n,JSON.stringify(c)),u})},delete(l){return Promise.resolve().then(()=>{const u=i();delete u[JSON.stringify(l)],r().setItem(n,JSON.stringify(u))})},clear(){return Promise.resolve().then(()=>{r().removeItem(n)})}}}o(Z6e,"createBrowserLocalStorageCache");function Q6e(){return{get(t,e,n={miss:o(()=>Promise.resolve(),"miss")}){return e().then(i=>Promise.all([i,n.miss(i)])).then(([i])=>i)},set(t,e){return Promise.resolve(e)},delete(t){return Promise.resolve()},clear(){return Promise.resolve()}}}o(Q6e,"createNullCache");function fg(t){const e=[...t.caches],n=e.shift();return n===void 0?Q6e():{get(r,i,s={miss:o(()=>Promise.resolve(),"miss")}){return n.get(r,i,s).catch(()=>fg({caches:e}).get(r,i,s))},set(r,i){return n.set(r,i).catch(()=>fg({caches:e}).set(r,i))},delete(r){return n.delete(r).catch(()=>fg({caches:e}).delete(r))},clear(){return n.clear().catch(()=>fg({caches:e}).clear())}}}o(fg,"createFallbackableCache");function dS(t={serializable:!0}){let e={};return{get(n,r,i={miss:o(()=>Promise.resolve(),"miss")}){const s=JSON.stringify(n);if(s in e)return Promise.resolve(t.serializable?JSON.parse(e[s]):e[s]);const a=r();return a.then(l=>i.miss(l)).then(()=>a)},set(n,r){return e[JSON.stringify(n)]=t.serializable?JSON.stringify(r):r,Promise.resolve(r)},delete(n){return delete e[JSON.stringify(n)],Promise.resolve()},clear(){return e={},Promise.resolve()}}}o(dS,"createMemoryCache");function eFe(t){const e={value:`Algolia for JavaScript (${t})`,add(n){const r=`; ${n.segment}${n.version!==void 0?` (${n.version})`:""}`;return e.value.indexOf(r)===-1&&(e.value=`${e.value}${r}`),e}};return e}o(eFe,"createAlgoliaAgent");function tFe(t,e,n="WithinHeaders"){const r={"x-algolia-api-key":e,"x-algolia-application-id":t};return{headers(){return n==="WithinHeaders"?r:{}},queryParameters(){return n==="WithinQueryParameters"?r:{}}}}o(tFe,"createAuth");function nFe({algoliaAgents:t,client:e,version:n}){const r=eFe(n).add({segment:e,version:n});return t.forEach(i=>r.add(i)),r}o(nFe,"getAlgoliaAgent");function rFe(){return{debug(t,e){return Promise.resolve()},info(t,e){return Promise.resolve()},error(t,e){return Promise.resolve()}}}o(rFe,"createNullLogger");var KF=2*60*1e3;function YF(t,e="up"){const n=Date.now();function r(){return e==="up"||Date.now()-n>KF}o(r,"isUp");function i(){return e==="timed out"&&Date.now()-n<=KF}return o(i,"isTimedOut"),{...t,status:e,lastUpdate:n,isUp:r,isTimedOut:i}}o(YF,"createStatefulHost");var MK=class extends Error{static{o(this,"AlgoliaError")}name="AlgoliaError";constructor(t,e){super(t),e&&(this.name=e)}},DK=class extends MK{static{o(this,"ErrorWithStackTrace")}stackTrace;constructor(t,e,n){super(t,n),this.stackTrace=e}},iFe=class extends DK{static{o(this,"RetryError")}constructor(t){super("Unreachable hosts - your application id may be incorrect. If the error persists, please reach out to the Algolia Support team: https://alg.li/support.",t,"RetryError")}},kC=class extends DK{static{o(this,"ApiError")}status;constructor(t,e,n,r="ApiError"){super(t,n,r),this.status=e}},sFe=class extends MK{static{o(this,"DeserializationError")}response;constructor(t,e){super(t,"DeserializationError"),this.response=e}},oFe=class extends kC{static{o(this,"DetailedApiError")}error;constructor(t,e,n,r){super(t,e,r,"DetailedApiError"),this.error=n}};function aFe(t){const e=t;for(let n=t.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1)),i=t[n];e[n]=t[r],e[r]=i}return e}o(aFe,"shuffle");function lFe(t,e,n){const r=uFe(n);let i=`${t.protocol}://${t.url}${t.port?`:${t.port}`:""}/${e.charAt(0)==="/"?e.substring(1):e}`;return r.length&&(i+=`?${r}`),i}o(lFe,"serializeUrl");function uFe(t){return Object.keys(t).filter(e=>t[e]!==void 0).sort().map(e=>`${e}=${encodeURIComponent(Object.prototype.toString.call(t[e])==="[object Array]"?t[e].join(","):t[e]).replace(/\+/g,"%20")}`).join("&")}o(uFe,"serializeQueryParameters");function cFe(t,e){if(t.method==="GET"||t.data===void 0&&e.data===void 0)return;const n=Array.isArray(t.data)?t.data:{...t.data,...e.data};return JSON.stringify(n)}o(cFe,"serializeData");function fFe(t,e,n){const r={Accept:"application/json",...t,...e,...n},i={};return Object.keys(r).forEach(s=>{const a=r[s];i[s.toLowerCase()]=a}),i}o(fFe,"serializeHeaders");function hFe(t){try{return JSON.parse(t.content)}catch(e){throw new sFe(e.message,t)}}o(hFe,"deserializeSuccess");function dFe({content:t,status:e},n){try{const r=JSON.parse(t);return"error"in r?new oFe(r.message,e,r.error,n):new kC(r.message,e,n)}catch{}return new kC(t,e,n)}o(dFe,"deserializeFailure");function pFe({isTimedOut:t,status:e}){return!t&&~~e===0}o(pFe,"isNetworkError");function mFe({isTimedOut:t,status:e}){return t||pFe({isTimedOut:t,status:e})||~~(e/100)!==2&&~~(e/100)!==4}o(mFe,"isRetryable");function gFe({status:t}){return~~(t/100)===2}o(gFe,"isSuccess");function yFe(t){return t.map(e=>PK(e))}o(yFe,"stackTraceWithoutCredentials");function PK(t){const e=t.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return{...t,request:{...t.request,headers:{...t.request.headers,...e}}}}o(PK,"stackFrameWithoutCredentials");function _Fe({hosts:t,hostsCache:e,baseHeaders:n,logger:r,baseQueryParameters:i,algoliaAgent:s,timeouts:a,requester:l,requestsCache:u,responsesCache:c}){async function f(p){const m=await Promise.all(p.map(v=>e.get(v,()=>Promise.resolve(YF(v))))),y=m.filter(v=>v.isUp()),_=m.filter(v=>v.isTimedOut()),b=[...y,..._];return{hosts:b.length>0?b:p,getTimeout(v,k){return(_.length===0&&v===0?1:_.length+3+v)*k}}}o(f,"createRetryableOptions");async function h(p,m,y=!0){const _=[],b=cFe(p,m),S=fFe(n,p.headers,m.headers),v=p.method==="GET"?{...p.data,...m.data}:{},k={...i,...p.queryParameters,...v};if(s.value&&(k["x-algolia-agent"]=s.value),m&&m.queryParameters)for(const T of Object.keys(m.queryParameters))!m.queryParameters[T]||Object.prototype.toString.call(m.queryParameters[T])==="[object Object]"?k[T]=m.queryParameters[T]:k[T]=m.queryParameters[T].toString();let C=0;const R=o(async(T,O)=>{const N=T.pop();if(N===void 0)throw new iFe(yFe(_));const I={...a,...m.timeouts},M={data:b,headers:S,method:p.method,url:lFe(N,p.path,k),connectTimeout:O(C,I.connect),responseTimeout:O(C,y?I.read:I.write)},V=o(H=>{const q={request:M,response:H,host:N,triesLeft:T.length};return _.push(q),q},"pushToStackTrace"),j=await l.send(M);if(mFe(j)){const H=V(j);return j.isTimedOut&&C++,r.info("Retryable failure",PK(H)),await e.set(N,YF(N,j.isTimedOut?"timed out":"down")),R(T,O)}if(gFe(j))return hFe(j);throw V(j),dFe(j,_)},"retry"),x=t.filter(T=>T.accept==="readWrite"||(y?T.accept==="read":T.accept==="write")),E=await f(x);return R([...E.hosts].reverse(),E.getTimeout)}o(h,"retryableRequest");function d(p,m={}){const y=p.useReadTransporter||p.method==="GET";if(!y)return h(p,m,y);const _=o(()=>h(p,m),"createRetryableRequest");if((m.cacheable||p.cacheable)!==!0)return _();const S={request:p,requestOptions:m,transporter:{queryParameters:i,headers:n}};return c.get(S,()=>u.get(S,()=>u.set(S,_()).then(v=>Promise.all([u.delete(S),v]),v=>Promise.all([u.delete(S),Promise.reject(v)])).then(([v,k])=>k)),{miss:o(v=>c.set(S,v),"miss")})}return o(d,"createRequest"),{hostsCache:e,requester:l,timeouts:a,logger:r,algoliaAgent:s,baseHeaders:n,baseQueryParameters:i,hosts:t,request:d,requestsCache:u,responsesCache:c}}o(_Fe,"createTransporter");var $K="5.21.0";function bFe(t){return[{url:`${t}-dsn.algolia.net`,accept:"read",protocol:"https"},{url:`${t}.algolia.net`,accept:"write",protocol:"https"}].concat(aFe([{url:`${t}-1.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${t}-2.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${t}-3.algolianet.com`,accept:"readWrite",protocol:"https"}]))}o(bFe,"getDefaultHosts");function wFe({appId:t,apiKey:e,authMode:n,algoliaAgents:r,...i}){const s=tFe(t,e,n),a=_Fe({hosts:bFe(t),...i,algoliaAgent:nFe({algoliaAgents:r,client:"Lite",version:$K}),baseHeaders:{"content-type":"text/plain",...s.headers(),...i.baseHeaders},baseQueryParameters:{...s.queryParameters(),...i.baseQueryParameters}});return{transporter:a,appId:t,apiKey:e,clearCache(){return Promise.all([a.requestsCache.clear(),a.responsesCache.clear()]).then(()=>{})},get _ua(){return a.algoliaAgent.value},addAlgoliaAgent(l,u){a.algoliaAgent.add({segment:l,version:u})},setClientApiKey({apiKey:l}){!n||n==="WithinHeaders"?a.baseHeaders["x-algolia-api-key"]=l:a.baseQueryParameters["x-algolia-api-key"]=l},searchForHits(l,u){return this.search(l,u)},searchForFacets(l,u){return this.search(l,u)},customPost({path:l,parameters:u,body:c},f){if(!l)throw new Error("Parameter `path` is required when calling `customPost`.");const m={method:"POST",path:"/{path}".replace("{path}",l),queryParameters:u||{},headers:{},data:c||{}};return a.request(m,f)},getRecommendations(l,u){if(l&&Array.isArray(l)&&(l={requests:l}),!l)throw new Error("Parameter `getRecommendationsParams` is required when calling `getRecommendations`.");if(!l.requests)throw new Error("Parameter `getRecommendationsParams.requests` is required when calling `getRecommendations`.");const d={method:"POST",path:"/1/indexes/*/recommendations",queryParameters:{},headers:{},data:l,useReadTransporter:!0,cacheable:!0};return a.request(d,u)},search(l,u){if(l&&Array.isArray(l)&&(l={requests:l.map(({params:m,...y})=>y.type==="facet"?{...y,...m,type:"facet"}:{...y,...m,facet:void 0,maxFacetHits:void 0,facetQuery:void 0})}),!l)throw new Error("Parameter `searchMethodParams` is required when calling `search`.");if(!l.requests)throw new Error("Parameter `searchMethodParams.requests` is required when calling `search`.");const d={method:"POST",path:"/1/indexes/*/queries",queryParameters:{},headers:{},data:l,useReadTransporter:!0,cacheable:!0};return a.request(d,u)}}}o(wFe,"createLiteClient");function V7e(t,e,n){return wFe({appId:t,apiKey:e,timeouts:{connect:1e3,read:2e3,write:3e4},logger:rFe(),requester:J6e(),algoliaAgents:[{segment:"Browser"}],authMode:"WithinQueryParameters",responsesCache:dS(),requestsCache:dS({serializable:!1}),hostsCache:fg({caches:[Z6e({key:`${$K}-${t}`}),dS()]}),...n})}o(V7e,"liteClient");const vFe=o(t=>e=>{const n=t(e);return e.add(n),n},"createAddUniqueNumber"),EFe=o(t=>(e,n)=>(t.set(e,n),n),"createCache"),XF=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,LK=536870912,JF=LK*2,xFe=o((t,e)=>n=>{const r=e.get(n);let i=r===void 0?n.size:r<JF?r+1:0;if(!n.has(i))return t(n,i);if(n.size<LK){for(;n.has(i);)i=Math.floor(Math.random()*JF);return t(n,i)}if(n.size>XF)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;n.has(i);)i=Math.floor(Math.random()*XF);return t(n,i)},"createGenerateUniqueNumber"),FK=new WeakMap,TFe=EFe(FK),nN=xFe(TFe,FK),ZF=vFe(nN),SFe=o(t=>typeof t.start=="function","isMessagePort"),QF=new WeakMap,kFe=o(t=>({...t,connect:o(({call:e})=>async()=>{const{port1:n,port2:r}=new MessageChannel,i=await e("connect",{port:n},[n]);return QF.set(r,i),r},"connect"),disconnect:o(({call:e})=>async n=>{const r=QF.get(n);if(r===void 0)throw new Error("The given port is not connected.");await e("disconnect",{portId:r})},"disconnect"),isSupported:o(({call:e})=>()=>e("isSupported"),"isSupported")}),"extendBrokerImplementation"),pS=new WeakMap,AFe=o(t=>{if(pS.has(t))return pS.get(t);const e=new Map;return pS.set(t,e),e},"createOrGetOngoingRequests"),BK=o(t=>{const e=kFe(t);return n=>{const r=AFe(n);n.addEventListener("message",({data:l})=>{const{id:u}=l;if(u!==null&&r.has(u)){const{reject:c,resolve:f}=r.get(u);r.delete(u),l.error===void 0?f(l.result):c(new Error(l.error.message))}}),SFe(n)&&n.start();const i=o((l,u=null,c=[])=>new Promise((f,h)=>{const d=nN(r);r.set(d,{reject:h,resolve:f}),u===null?n.postMessage({id:d,method:l},c):n.postMessage({id:d,method:l,params:u},c)}),"call"),s=o((l,u,c=[])=>{n.postMessage({id:null,method:l,params:u},c)},"notify");let a={};for(const[l,u]of Object.entries(e))a={...a,[l]:u({call:i,notify:s})};return{...a}}},"createBroker"),mS=new Set,e8=new Set,Km=new WeakMap,CFe=BK({deregister:o(({call:t})=>async e=>{const n=Km.get(e);if(n===void 0)throw new Error("There is no encoder registered with the given port.");const r=await t("deregister",{encoderId:n});return mS.delete(n),Km.delete(e),r},"deregister"),encode:o(({call:t})=>async(e,n)=>{const r=await t("encode",{encoderInstanceId:e,timeslice:n});return e8.delete(e),r},"encode"),instantiate:o(({call:t})=>async(e,n)=>{const r=ZF(e8),i=await t("instantiate",{encoderInstanceId:r,mimeType:e,sampleRate:n});return{encoderInstanceId:r,port:i}},"instantiate"),register:o(({call:t})=>async e=>{if(Km.has(e))throw new Error("");const n=ZF(mS);Km.set(e,n);try{return await t("register",{encoderId:n,port:e},[e])}catch(r){throw mS.delete(n),Km.delete(e),r}},"register")}),IFe=o(t=>{const e=new Worker(t);return CFe(e)},"load$1"),RFe=`(()=>{var e={455:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,s=2*o,a=function(e,t){return function(r){var a=t.get(r),c=void 0===a?r.size:a<s?a+1:0;if(!r.has(c))return e(r,c);if(r.size<o){for(;r.has(c);)c=Math.floor(Math.random()*s);return e(r,c)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(c);)c=Math.floor(Math.random()*n);return e(r,c)}},c=new WeakMap,i=r(c),d=a(i,c),l=t(d);e.addUniqueNumber=l,e.generateUniqueNumber=d}(t)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}(()=>{"use strict";var e=r(455);const t=new WeakMap,n=new WeakMap,o=(r=>{const o=(s=r,{...s,connect:({call:e})=>async()=>{const{port1:r,port2:n}=new MessageChannel,o=await e("connect",{port:r},[r]);return t.set(n,o),n},disconnect:({call:e})=>async r=>{const n=t.get(r);if(void 0===n)throw new Error("The given port is not connected.");await e("disconnect",{portId:n})},isSupported:({call:e})=>()=>e("isSupported")});var s;return t=>{const r=(e=>{if(n.has(e))return n.get(e);const t=new Map;return n.set(e,t),t})(t);t.addEventListener("message",(({data:e})=>{const{id:t}=e;if(null!==t&&r.has(t)){const{reject:n,resolve:o}=r.get(t);r.delete(t),void 0===e.error?o(e.result):n(new Error(e.error.message))}})),(e=>"function"==typeof e.start)(t)&&t.start();const s=(n,o=null,s=[])=>new Promise(((a,c)=>{const i=(0,e.generateUniqueNumber)(r);r.set(i,{reject:c,resolve:a}),null===o?t.postMessage({id:i,method:n},s):t.postMessage({id:i,method:n,params:o},s)})),a=(e,r,n=[])=>{t.postMessage({id:null,method:e,params:r},n)};let c={};for(const[e,t]of Object.entries(o))c={...c,[e]:t({call:s,notify:a})};return{...c}}})({characterize:({call:e})=>()=>e("characterize"),encode:({call:e})=>(t,r)=>e("encode",{recordingId:t,timeslice:r}),record:({call:e})=>async(t,r,n)=>{await e("record",{recordingId:t,sampleRate:r,typedArrays:n},n.map((({buffer:e})=>e)))}}),s=-32603,a=-32602,c=-32601,i=(e,t)=>Object.assign(new Error(e),{status:t}),d=e=>i('The handler of the method called "'.concat(e,'" returned an unexpected result.'),s),l=(e,t)=>async({data:{id:r,method:n,params:o}})=>{const a=t[n];try{if(void 0===a)throw(e=>i('The requested method called "'.concat(e,'" is not supported.'),c))(n);const t=void 0===o?a():a(o);if(void 0===t)throw(e=>i('The handler of the method called "'.concat(e,'" returned no required result.'),s))(n);const l=t instanceof Promise?await t:t;if(null===r){if(void 0!==l.result)throw d(n)}else{if(void 0===l.result)throw d(n);const{result:t,transferables:o=[]}=l;e.postMessage({id:r,result:t},o)}}catch(t){const{message:n,status:o=-32603}=t;e.postMessage({error:{code:o,message:n},id:r})}},u=new Map,h=(t,r,n)=>({...r,connect:({port:n})=>{n.start();const o=t(n,r),s=(0,e.generateUniqueNumber)(u);return u.set(s,(()=>{o(),n.close(),u.delete(s)})),{result:s}},disconnect:({portId:e})=>{const t=u.get(e);if(void 0===t)throw(e=>i('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),a))(e);return t(),{result:null}},isSupported:async()=>{if(await new Promise((e=>{const t=new ArrayBuffer(0),{port1:r,port2:n}=new MessageChannel;r.onmessage=({data:t})=>e(null!==t),n.postMessage(t,[t])}))){const e=n();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),w=(e,t,r=()=>!0)=>{const n=h(w,t,r),o=l(e,n);return e.addEventListener("message",o),()=>e.removeEventListener("message",o)},f=e=>{e.onmessage=null,e.close()},p=new Map,m=new Map,g=((e,t)=>r=>{const n=t.get(r);if(void 0===n)throw new Error("There was no encoder stored with the given id.");e.delete(n),t.delete(r)})(p,m),v=new Map,y=(e=>t=>{const r=e.get(t);if(void 0===r)throw new Error("There was no instance of an encoder stored with the given id.");return r})(v),M=((e,t)=>r=>{const n=t(r);return e.delete(r),n})(v,y),E=((e,t)=>r=>{const[n,o,s,a]=t(r);return s?new Promise((t=>{o.onmessage=({data:s})=>{0===s.length?(e(o),t(n.encode(r,null))):n.record(r,a,s)}})):n.encode(r,null)})(f,M),b=(e=>t=>{for(const[r,n]of Array.from(e.values()))if(r.test(t))return n;throw new Error("There is no encoder registered which could handle the given mimeType.")})(p),T=((e,t,r)=>(n,o,s)=>{if(t.has(n))throw new Error('There is already an encoder instance registered with an id called "'.concat(n,'".'));const a=r(o),{port1:c,port2:i}=new MessageChannel,d=[a,c,!0,s];return t.set(n,d),c.onmessage=({data:t})=>{0===t.length?(e(c),d[2]=!1):a.record(n,s,t.map((e=>"number"==typeof e?new Float32Array(e):e)))},i})(f,v,b),I=((e,t,r)=>async(n,o)=>{const s=r(o),a=await s.characterize(),c=a.toString();if(e.has(c))throw new Error("There is already an encoder stored which handles exactly the same mime types.");if(t.has(n))throw new Error('There is already an encoder registered with an id called "'.concat(n,'".'));return e.set(c,[a,s]),t.set(n,c),a})(p,m,o),A=(e=>(t,r)=>{const[n]=e(t);return n.encode(t,r)})(y);w(self,{deregister:async({encoderId:e})=>(g(e),{result:null}),encode:async({encoderInstanceId:e,timeslice:t})=>{const r=null===t?await E(e):await A(e,t);return{result:r,transferables:r}},instantiate:({encoderInstanceId:e,mimeType:t,sampleRate:r})=>{const n=T(e,t,r);return{result:n,transferables:[n]}},register:async({encoderId:e,port:t})=>({result:await I(e,t)})})})()})();`,OFe=new Blob([RFe],{type:"application/javascript; charset=utf-8"}),UK=URL.createObjectURL(OFe),rN=IFe(UK),Kv=rN.encode,zK=rN.instantiate,NFe=rN.register;URL.revokeObjectURL(UK);const MFe=o(t=>(e,n)=>{if(t===null)throw new Error("A native BlobEvent could not be created.");return new t(e,n)},"createBlobEventFactory"),DFe=o((t,e)=>(n,r,i)=>{const s=[];let a=r,l=0;for(;l<n.byteLength;)if(a===null){const u=e(n,l);if(u===null)break;const{length:c,type:f}=u;a=f,l+=c}else{const u=t(n,l,a,i);if(u===null)break;const{content:c,length:f}=u;a=null,l+=f,c!==null&&s.push(c)}return{contents:s,currentElementType:a,offset:l}},"createDecodeWebMChunk"),PFe=o((t,e)=>class{static{o(this,"EventTarget")}constructor(r=null){this._listeners=new WeakMap,this._nativeEventTarget=r===null?t():r}addEventListener(r,i,s){if(i!==null){let a=this._listeners.get(i);a===void 0&&(a=e(this,i),typeof i=="function"&&this._listeners.set(i,a)),this._nativeEventTarget.addEventListener(r,a,s)}}dispatchEvent(r){return this._nativeEventTarget.dispatchEvent(r)}removeEventListener(r,i,s){const a=i===null?void 0:this._listeners.get(i);this._nativeEventTarget.removeEventListener(r,a===void 0?null:a,s)}},"createEventTargetConstructor$1"),$Fe=o(t=>()=>{if(t===null)throw new Error("A native EventTarget could not be created.");return t.document.createElement("p")},"createEventTargetFactory"),LFe=o((t="")=>{try{return new DOMException(t,"InvalidModificationError")}catch(e){return e.code=13,e.message=t,e.name="InvalidModificationError",e}},"createInvalidModificationError"),FFe=o(()=>{try{return new DOMException("","InvalidStateError")}catch(t){return t.code=11,t.name="InvalidStateError",t}},"createInvalidStateError$1"),BFe=o((t,e,n,r,i,s,a)=>class extends s{static{o(this,"MediaRecorder")}constructor(u,c={}){const{mimeType:f}=c;if(a!==null&&(f===void 0||a.isTypeSupported!==void 0&&a.isTypeSupported(f))){const h=t(a,u,c);super(h),this._internalMediaRecorder=h}else if(f!==void 0&&i.some(h=>h.test(f)))super(),a!==null&&a.isTypeSupported!==void 0&&a.isTypeSupported("audio/webm; codecs=pcm")?this._internalMediaRecorder=r(this,a,u,f):this._internalMediaRecorder=n(this,u,f);else throw a!==null&&t(a,u,c),e();this._ondataavailable=null,this._onerror=null,this._onpause=null,this._onresume=null,this._onstart=null,this._onstop=null}get mimeType(){return this._internalMediaRecorder.mimeType}get ondataavailable(){return this._ondataavailable===null?this._ondataavailable:this._ondataavailable[0]}set ondataavailable(u){if(this._ondataavailable!==null&&this.removeEventListener("dataavailable",this._ondataavailable[1]),typeof u=="function"){const c=u.bind(this);this.addEventListener("dataavailable",c),this._ondataavailable=[u,c]}else this._ondataavailable=null}get onerror(){return this._onerror===null?this._onerror:this._onerror[0]}set onerror(u){if(this._onerror!==null&&this.removeEventListener("error",this._onerror[1]),typeof u=="function"){const c=u.bind(this);this.addEventListener("error",c),this._onerror=[u,c]}else this._onerror=null}get onpause(){return this._onpause===null?this._onpause:this._onpause[0]}set onpause(u){if(this._onpause!==null&&this.removeEventListener("pause",this._onpause[1]),typeof u=="function"){const c=u.bind(this);this.addEventListener("pause",c),this._onpause=[u,c]}else this._onpause=null}get onresume(){return this._onresume===null?this._onresume:this._onresume[0]}set onresume(u){if(this._onresume!==null&&this.removeEventListener("resume",this._onresume[1]),typeof u=="function"){const c=u.bind(this);this.addEventListener("resume",c),this._onresume=[u,c]}else this._onresume=null}get onstart(){return this._onstart===null?this._onstart:this._onstart[0]}set onstart(u){if(this._onstart!==null&&this.removeEventListener("start",this._onstart[1]),typeof u=="function"){const c=u.bind(this);this.addEventListener("start",c),this._onstart=[u,c]}else this._onstart=null}get onstop(){return this._onstop===null?this._onstop:this._onstop[0]}set onstop(u){if(this._onstop!==null&&this.removeEventListener("stop",this._onstop[1]),typeof u=="function"){const c=u.bind(this);this.addEventListener("stop",c),this._onstop=[u,c]}else this._onstop=null}get state(){return this._internalMediaRecorder.state}pause(){return this._internalMediaRecorder.pause()}resume(){return this._internalMediaRecorder.resume()}start(u){return this._internalMediaRecorder.start(u)}stop(){return this._internalMediaRecorder.stop()}static isTypeSupported(u){return a!==null&&a.isTypeSupported!==void 0&&a.isTypeSupported(u)||i.some(c=>c.test(u))}},"createMediaRecorderConstructor"),UFe=o(t=>t!==null&&t.BlobEvent!==void 0?t.BlobEvent:null,"createNativeBlobEventConstructor"),zFe=o(t=>t===null||t.MediaRecorder===void 0?null:t.MediaRecorder,"createNativeMediaRecorderConstructor"),VFe=o(t=>(e,n,r)=>{const i=new Map,s=new WeakMap,a=new WeakMap,l=[],u=new e(n,r),c=new WeakMap;return u.addEventListener("stop",({isTrusted:f})=>{f&&setTimeout(()=>l.shift())}),u.addEventListener=(f=>(h,d,p)=>{let m=d;if(typeof d=="function")if(h==="dataavailable"){const y=[];m=o(_=>{const[[b,S]=[!1,!1]]=l;b&&!S?y.push(_):d.call(u,_)},"patchedEventListener"),i.set(d,y),s.set(d,m)}else h==="error"?(m=o(y=>{y instanceof ErrorEvent?d.call(u,y):d.call(u,new ErrorEvent("error",{error:y.error}))},"patchedEventListener"),a.set(d,m)):h==="stop"&&(m=o(y=>{for(const[_,b]of i.entries())if(b.length>0){const[S]=b;b.length>1&&Object.defineProperty(S,"data",{value:new Blob(b.map(({data:v})=>v),{type:S.data.type})}),b.length=0,_.call(u,S)}d.call(u,y)},"patchedEventListener"),c.set(d,m));return f.call(u,h,m,p)})(u.addEventListener),u.removeEventListener=(f=>(h,d,p)=>{let m=d;if(typeof d=="function"){if(h==="dataavailable"){i.delete(d);const y=s.get(d);y!==void 0&&(m=y)}else if(h==="error"){const y=a.get(d);y!==void 0&&(m=y)}else if(h==="stop"){const y=c.get(d);y!==void 0&&(m=y)}}return f.call(u,h,m,p)})(u.removeEventListener),u.start=(f=>h=>{if(r.mimeType!==void 0&&r.mimeType.startsWith("audio/")&&n.getVideoTracks().length>0)throw t();return u.state==="inactive"&&l.push([h!==void 0,!0]),h===void 0?f.call(u):f.call(u,h)})(u.start),u.stop=(f=>()=>{u.state!=="inactive"&&(l[0][1]=!1),f.call(u)})(u.stop),u},"createNativeMediaRecorderFactory"),AC=o(()=>{try{return new DOMException("","NotSupportedError")}catch(t){return t.code=9,t.name="NotSupportedError",t}},"createNotSupportedError$1"),jFe=o(t=>(e,n,r,i=2)=>{const s=t(e,n);if(s===null)return s;const{length:a,value:l}=s;if(r==="master")return{content:null,length:a};if(n+a+l>e.byteLength)return null;if(r==="binary"){const u=(l/Float32Array.BYTES_PER_ELEMENT-1)/i,c=Array.from({length:i},()=>new Float32Array(u));for(let f=0;f<u;f+=1){const h=f*i+1;for(let d=0;d<i;d+=1)c[d][f]=e.getFloat32(n+a+(h+d)*Float32Array.BYTES_PER_ELEMENT,!0)}return{content:c,length:a+l}}return{content:null,length:a+l}},"createReadElementContent"),WFe=o(t=>(e,n)=>{const r=t(e,n);if(r===null)return r;const{length:i,value:s}=r;return s===35?{length:i,type:"binary"}:s===46||s===97||s===88713574||s===106212971||s===139690087||s===172351395||s===256095861?{length:i,type:"master"}:{length:i,type:"unknown"}},"createReadElementType"),HFe=o(t=>(e,n)=>{const r=t(e,n);if(r===null)return r;const i=n+Math.floor((r-1)/8);if(i+r>e.byteLength)return null;let a=e.getUint8(i)&(1<<8-r%8)-1;for(let l=1;l<r;l+=1)a=(a<<8)+e.getUint8(i+l);return{length:r,value:a}},"createReadVariableSizeInteger"),t8=Symbol.observable||"@@observable";function GFe(t){return Symbol.observable||(typeof t=="function"&&t.prototype&&t.prototype[Symbol.observable]?(t.prototype[t8]=t.prototype[Symbol.observable],delete t.prototype[Symbol.observable]):(t[t8]=t[Symbol.observable],delete t[Symbol.observable])),t}o(GFe,"patch");const j_=o(()=>{},"noop"),n8=o(t=>{throw t},"rethrow");function qFe(t){return t?t.next&&t.error&&t.complete?t:{complete:(t.complete??j_).bind(t),error:(t.error??n8).bind(t),next:(t.next??j_).bind(t)}:{complete:j_,error:n8,next:j_}}o(qFe,"toObserver");const KFe=o(t=>(e,n,r)=>t(i=>{const s=o(a=>i.next(a),"listener");return e.addEventListener(n,s,r),()=>e.removeEventListener(n,s,r)}),"createOn"),YFe=o((t,e)=>{const n=o(()=>{},"emptyFunction"),r=o(i=>typeof i[0]=="function","isNextFunction");return i=>{const s=o((...a)=>{const l=i(r(a)?e({next:a[0]}):e(...a));return l!==void 0?l:n},"subscribe");return s[Symbol.observable]=()=>({subscribe:o((...a)=>({unsubscribe:s(...a)}),"subscribe")}),t(s)}},"createWrapSubscribeFunction"),XFe=YFe(GFe,qFe),VK=KFe(XFe),JFe=o((t,e,n)=>async r=>{const i=new t([n],{type:"application/javascript; charset=utf-8"}),s=e.createObjectURL(i);try{await r(s)}finally{e.revokeObjectURL(s)}},"createAddRecorderAudioWorkletModule"),ZFe=o(t=>({data:e})=>{const{id:n}=e;if(n!==null){const r=t.get(n);if(r!==void 0){const{reject:i,resolve:s}=r;t.delete(n),e.error===void 0?s(e.result):i(new Error(e.error.message))}}},"createListener"),QFe=o(t=>(e,n)=>(r,i=[])=>new Promise((s,a)=>{const l=t(e);e.set(l,{reject:a,resolve:s}),n.postMessage({id:l,...r},i)}),"createPostMessageFactory"),e8e=o((t,e,n,r)=>(i,s,a={})=>{const l=new i(s,"recorder-audio-worklet-processor",{...a,channelCountMode:"explicit",numberOfInputs:1,numberOfOutputs:0}),u=new Map,c=e(u,l.port),f=n(l.port,"message")(t(u));l.port.start();let h="inactive";return Object.defineProperties(l,{pause:{get(){return async()=>(r(["recording"],h),h="paused",c({method:"pause"}))}},port:{get(){throw new Error("The port of a RecorderAudioWorkletNode can't be accessed.")}},record:{get(){return async d=>(r(["inactive"],h),h="recording",c({method:"record",params:{encoderPort:d}},[d]))}},resume:{get(){return async()=>(r(["paused"],h),h="recording",c({method:"resume"}))}},stop:{get(){return async()=>{r(["paused","recording"],h),h="stopped";try{await c({method:"stop"})}finally{f()}}}}}),l},"createRecorderAudioWorkletNodeFactory"),t8e=o((t,e)=>{if(!t.includes(e))throw new Error(`Expected the state to be ${t.map(n=>`"${n}"`).join(" or ")} but it was "${e}".`)},"validateState"),n8e='(()=>{"use strict";class e extends AudioWorkletProcessor{constructor(){super(),this._encoderPort=null,this._numberOfChannels=0,this._state="inactive",this.port.onmessage=({data:e})=>{"pause"===e.method?"active"===this._state||"recording"===this._state?(this._state="paused",this._sendAcknowledgement(e.id)):this._sendUnexpectedStateError(e.id):"record"===e.method?"inactive"===this._state?(this._encoderPort=e.params.encoderPort,this._state="active",this._sendAcknowledgement(e.id)):this._sendUnexpectedStateError(e.id):"resume"===e.method?"paused"===this._state?(this._state="active",this._sendAcknowledgement(e.id)):this._sendUnexpectedStateError(e.id):"stop"===e.method?"active"!==this._state&&"paused"!==this._state&&"recording"!==this._state||null===this._encoderPort?this._sendUnexpectedStateError(e.id):(this._stop(this._encoderPort),this._sendAcknowledgement(e.id)):"number"==typeof e.id&&this.port.postMessage({error:{code:-32601,message:"The requested method is not supported."},id:e.id})}}process([e]){if("inactive"===this._state||"paused"===this._state)return!0;if("active"===this._state){if(void 0===e)throw new Error("No channelData was received for the first input.");if(0===e.length)return!0;this._state="recording"}if("recording"===this._state&&null!==this._encoderPort){if(void 0===e)throw new Error("No channelData was received for the first input.");return 0===e.length?this._encoderPort.postMessage(Array.from({length:this._numberOfChannels},(()=>128))):(this._encoderPort.postMessage(e,e.map((({buffer:e})=>e))),this._numberOfChannels=e.length),!0}return!1}_sendAcknowledgement(e){this.port.postMessage({id:e,result:null})}_sendUnexpectedStateError(e){this.port.postMessage({error:{code:-32603,message:"The internal state does not allow to process the given message."},id:e})}_stop(e){e.postMessage([]),e.close(),this._encoderPort=null,this._state="stopped"}}e.parameterDescriptors=[],registerProcessor("recorder-audio-worklet-processor",e)})();',r8e=JFe(Blob,URL,n8e),i8e=e8e(ZFe,QFe(nN),VK,t8e),r8=o((t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),"createExtendedExponentialRampToValueAutomationEvent"),i8=o((t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),"createExtendedLinearRampToValueAutomationEvent"),CC=o((t,e)=>({startTime:e,type:"setValue",value:t}),"createSetValueAutomationEvent"),jK=o((t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),"createSetValueCurveAutomationEvent"),WK=o((t,e,{startTime:n,target:r,timeConstant:i})=>r+(e-r)*Math.exp((n-t)/i),"getTargetValueAtTime"),gd=o(t=>t.type==="exponentialRampToValue","isExponentialRampToValueAutomationEvent"),Yv=o(t=>t.type==="linearRampToValue","isLinearRampToValueAutomationEvent"),cu=o(t=>gd(t)||Yv(t),"isAnyRampToValueAutomationEvent"),iN=o(t=>t.type==="setValue","isSetValueAutomationEvent"),nl=o(t=>t.type==="setValueCurve","isSetValueCurveAutomationEvent"),Xv=o((t,e,n,r)=>{const i=t[e];return i===void 0?r:cu(i)||iN(i)?i.value:nl(i)?i.values[i.values.length-1]:WK(n,Xv(t,e-1,i.startTime,r),i)},"getValueOfAutomationEventAtIndexAtTime"),s8=o((t,e,n,r,i)=>n===void 0?[r.insertTime,i]:cu(n)?[n.endTime,n.value]:iN(n)?[n.startTime,n.value]:nl(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,Xv(t,e-1,n.startTime,i)],"getEndTimeAndValueOfPreviousAutomationEvent"),IC=o(t=>t.type==="cancelAndHold","isCancelAndHoldAutomationEvent"),RC=o(t=>t.type==="cancelScheduledValues","isCancelScheduledValuesAutomationEvent"),Ql=o(t=>IC(t)||RC(t)?t.cancelTime:gd(t)||Yv(t)?t.endTime:t.startTime,"getEventTime"),o8=o((t,e,n,{endTime:r,value:i})=>n===i?i:0<n&&0<i||n<0&&i<0?n*(i/n)**((t-e)/(r-e)):0,"getExponentialRampValueAtTime"),a8=o((t,e,n,{endTime:r,value:i})=>n+(t-e)/(r-e)*(i-n),"getLinearRampValueAtTime"),s8e=o((t,e)=>{const n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]},"interpolateValue"),o8e=o((t,{duration:e,startTime:n,values:r})=>{const i=(t-n)/e*(r.length-1);return s8e(r,i)},"getValueCurveValueAtTime"),W_=o(t=>t.type==="setTarget","isSetTargetAutomationEvent");class a8e{static{o(this,"AutomationEventList")}constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=Ql(e);if(IC(e)||RC(e)){const r=this._automationEvents.findIndex(s=>RC(e)&&nl(s)?s.startTime+s.duration>=n:Ql(s)>=n),i=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),IC(e)){const s=this._automationEvents[this._automationEvents.length-1];if(i!==void 0&&cu(i)){if(s!==void 0&&W_(s))throw new Error("The internal list is malformed.");const a=s===void 0?i.insertTime:nl(s)?s.startTime+s.duration:Ql(s),l=s===void 0?this._defaultValue:nl(s)?s.values[s.values.length-1]:s.value,u=gd(i)?o8(n,a,l,i):a8(n,a,l,i),c=gd(i)?r8(u,n,this._currenTime):i8(u,n,this._currenTime);this._automationEvents.push(c)}if(s!==void 0&&W_(s)&&this._automationEvents.push(CC(this.getValue(n),n)),s!==void 0&&nl(s)&&s.startTime+s.duration>n){const a=n-s.startTime,l=(s.values.length-1)/s.duration,u=Math.max(2,1+Math.ceil(a*l)),c=a/(u-1)*l,f=s.values.slice(0,u);if(c<1)for(let h=1;h<u;h+=1){const d=c*h%1;f[h]=s.values[h-1]*(1-d)+s.values[h]*d}this._automationEvents[this._automationEvents.length-1]=jK(f,s.startTime,a)}}}else{const r=this._automationEvents.findIndex(a=>Ql(a)>n),i=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(i!==void 0&&nl(i)&&Ql(i)+i.duration>n)return!1;const s=gd(e)?r8(e.value,e.endTime,this._currenTime):Yv(e)?i8(e.value,n,this._currenTime):e;if(r===-1)this._automationEvents.push(s);else{if(nl(e)&&n+e.duration>Ql(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,s)}}return!0}flush(e){const n=this._automationEvents.findIndex(r=>Ql(r)>e);if(n>1){const r=this._automationEvents.slice(n-1),i=r[0];W_(i)&&r.unshift(CC(Xv(this._automationEvents,n-2,i.startTime,this._defaultValue),i.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(a=>Ql(a)>e),r=this._automationEvents[n],i=(n===-1?this._automationEvents.length:n)-1,s=this._automationEvents[i];if(s!==void 0&&W_(s)&&(r===void 0||!cu(r)||r.insertTime>e))return WK(e,Xv(this._automationEvents,i-1,s.startTime,this._defaultValue),s);if(s!==void 0&&iN(s)&&(r===void 0||!cu(r)))return s.value;if(s!==void 0&&nl(s)&&(r===void 0||!cu(r)||s.startTime+s.duration>e))return e<s.startTime+s.duration?o8e(e,s):s.values[s.values.length-1];if(s!==void 0&&cu(s)&&(r===void 0||!cu(r)))return s.value;if(r!==void 0&&gd(r)){const[a,l]=s8(this._automationEvents,i,s,r,this._defaultValue);return o8(e,a,l,r)}if(r!==void 0&&Yv(r)){const[a,l]=s8(this._automationEvents,i,s,r,this._defaultValue);return a8(e,a,l,r)}return this._defaultValue}}const l8e=o(t=>({cancelTime:t,type:"cancelAndHold"}),"createCancelAndHoldAutomationEvent"),u8e=o(t=>({cancelTime:t,type:"cancelScheduledValues"}),"createCancelScheduledValuesAutomationEvent"),c8e=o((t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),"createExponentialRampToValueAutomationEvent"),f8e=o((t,e)=>({endTime:e,type:"linearRampToValue",value:t}),"createLinearRampToValueAutomationEvent"),h8e=o((t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),"createSetTargetAutomationEvent"),d8e=o(()=>new DOMException("","AbortError"),"createAbortError"),p8e=o(t=>(e,n,[r,i,s],a)=>{t(e[i],[n,r,s],l=>l[0]===n&&l[1]===r,a)},"createAddActiveInputConnectionToAudioNode"),m8e=o(t=>(e,n,r)=>{const i=[];for(let s=0;s<r.numberOfInputs;s+=1)i.push(new Set);t.set(e,{activeInputs:i,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},"createAddAudioNodeConnections"),g8e=o(t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},"createAddAudioParamConnections"),Ap=new WeakSet,HK=new WeakMap,GK=new WeakMap,qK=new WeakMap,KK=new WeakMap,YK=new WeakMap,XK=new WeakMap,OC=new WeakMap,NC=new WeakMap,MC=new WeakMap,JK={construct(){return JK}},y8e=o(t=>{try{const e=new Proxy(t,JK);new e}catch{return!1}return!0},"isConstructible"),l8=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,u8=o((t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),i=r.match(l8);for(;i!==null;){const s=i[1].slice(1,-1),a=i[0].replace(/([\s]+)?;?$/,"").replace(s,new URL(s,e).toString());n.push(a),r=r.slice(i[0].length).replace(/^[\s]+/,""),i=r.match(l8)}return[n.join(";"),r]},"splitImportStatements"),c8=o(t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},"verifyParameterDescriptors"),f8=o(t=>{if(!y8e(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},"verifyProcessorCtor"),_8e=o((t,e,n,r,i,s,a,l,u,c,f,h,d)=>{let p=0;return(m,y,_={credentials:"omit"})=>{const b=f.get(m);if(b!==void 0&&b.has(y))return Promise.resolve();const S=c.get(m);if(S!==void 0){const C=S.get(y);if(C!==void 0)return C}const v=s(m),k=v.audioWorklet===void 0?i(y).then(([C,R])=>{const[x,E]=u8(C,R),T=`${x};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${E}
})})(window,'_AWGS')`;return n(T)}).then(()=>{const C=d._AWGS.pop();if(C===void 0)throw new SyntaxError;r(v.currentTime,v.sampleRate,()=>C(class{static{o(this,"AudioWorkletProcessor")}},void 0,(R,x)=>{if(R.trim()==="")throw e();const E=NC.get(v);if(E!==void 0){if(E.has(R))throw e();f8(x),c8(x.parameterDescriptors),E.set(R,x)}else f8(x),c8(x.parameterDescriptors),NC.set(v,new Map([[R,x]]))},v.sampleRate,void 0,void 0))}):Promise.all([i(y),Promise.resolve(t(h,h))]).then(([[C,R],x])=>{const E=p+1;p=E;const[T,O]=u8(C,R),V=`${T};((AudioWorkletProcessor,registerProcessor)=>{${O}
})(${x?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${x?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${x?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${E}',class extends AudioWorkletProcessor{process(){return !1}})`,j=new Blob([V],{type:"application/javascript; charset=utf-8"}),H=URL.createObjectURL(j);return v.audioWorklet.addModule(H,_).then(()=>{if(l(v))return v;const q=a(v);return q.audioWorklet.addModule(H,_).then(()=>q)}).then(q=>{if(u===null)throw new SyntaxError;try{new u(q,`__sac${E}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(H))});return S===void 0?c.set(m,new Map([[y,k]])):S.set(y,k),k.then(()=>{const C=f.get(m);C===void 0?f.set(m,new Set([y])):C.add(y)}).finally(()=>{const C=c.get(m);C!==void 0&&C.delete(y)}),k}},"createAddAudioWorkletModule"),Ao=o((t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},"getValueForKey"),Gx=o((t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return t.delete(r),r},"pickElementFromSet"),ZK=o((t,e,n,r)=>{const i=Ao(t,e),s=Gx(i,a=>a[0]===n&&a[1]===r);return i.size===0&&t.delete(e),s},"deletePassiveInputConnectionToAudioNode"),m1=o(t=>Ao(XK,t),"getEventListenersOfAudioNode"),Jv=o(t=>{if(Ap.has(t))throw new Error("The AudioNode is already stored.");Ap.add(t),m1(t).forEach(e=>e(!0))},"setInternalStateToActive"),QK=o(t=>"port"in t,"isAudioWorkletNode"),sN=o(t=>{if(!Ap.has(t))throw new Error("The AudioNode is not stored.");Ap.delete(t),m1(t).forEach(e=>e(!1))},"setInternalStateToPassive"),DC=o((t,e)=>{!QK(t)&&e.every(n=>n.size===0)&&sN(t)},"setInternalStateToPassiveWhenNecessary"),b8e=o((t,e,n,r,i,s,a,l,u,c,f,h,d)=>{const p=new WeakMap;return(m,y,_,b,S)=>{const{activeInputs:v,passiveInputs:k}=s(y),{outputs:C}=s(m),R=l(m),x=o(E=>{const T=u(y),O=u(m);if(E){const N=ZK(k,m,_,b);t(v,m,N,!1),!S&&!h(m)&&n(O,T,_,b),d(y)&&Jv(y)}else{const N=r(v,m,_,b);e(k,b,N,!1),!S&&!h(m)&&i(O,T,_,b);const I=a(y);if(I===0)f(y)&&DC(y,v);else{const M=p.get(y);M!==void 0&&clearTimeout(M),p.set(y,setTimeout(()=>{f(y)&&DC(y,v)},I*1e3))}}},"eventListener");return c(C,[y,_,b],E=>E[0]===y&&E[1]===_&&E[2]===b,!0)?(R.add(x),f(m)?t(v,m,[_,b,x],!0):e(k,b,[m,_,x],!0),!0):!1}},"createAddConnectionToAudioNode"),w8e=o(t=>(e,n,[r,i,s],a)=>{const l=e.get(r);l===void 0?e.set(r,new Set([[i,n,s]])):t(l,[i,n,s],u=>u[0]===i&&u[1]===n,a)},"createAddPassiveInputConnectionToAudioNode"),v8e=o(t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const i=o(()=>{n.removeEventListener("ended",i),n.disconnect(r),r.disconnect()},"disconnect");n.addEventListener("ended",i)},"createAddSilentConnection"),E8e=o(t=>(e,n)=>{t(e).add(n)},"createAddUnrenderedAudioWorkletNode"),eY=o((t,e)=>t.context===e,"isOwnedByContext"),h8=o(t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},"testAudioBufferCopyChannelMethodsOutOfBoundsSupport"),bh=o(()=>new DOMException("","IndexSizeError"),"createIndexSizeError"),x8e=o(t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){throw r.code===12?bh():r}})(t.getChannelData)},"wrapAudioBufferGetChannelDataMethod"),T8e={numberOfChannels:1},S8e=o((t,e,n,r,i,s,a,l)=>{let u=null;return class tY{static{o(this,"AudioBuffer")}constructor(f){if(i===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:h,numberOfChannels:d,sampleRate:p}={...T8e,...f};u===null&&(u=new i(1,1,44100));const m=r!==null&&e(s,s)?new r({length:h,numberOfChannels:d,sampleRate:p}):u.createBuffer(d,h,p);if(m.numberOfChannels===0)throw n();return typeof m.copyFromChannel!="function"?(a(m),x8e(m)):e(h8,()=>h8(m))||l(m),t.add(m),m}static[Symbol.hasInstance](f){return f!==null&&typeof f=="object"&&Object.getPrototypeOf(f)===tY.prototype||t.has(f)}}},"createAudioBufferConstructor"),qx=-34028234663852886e22,oN=-qx,hf=o(t=>Ap.has(t),"isActiveAudioNode"),k8e={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},A8e=o((t,e,n,r,i,s,a,l)=>class extends t{static{o(this,"AudioBufferSourceNode")}constructor(c,f){const h=s(c),d={...k8e,...f},p=i(h,d),m=a(h),y=m?e():null;super(c,!1,p,y),this._audioBufferSourceNodeRenderer=y,this._isBufferNullified=!1,this._isBufferSet=d.buffer!==null,this._nativeAudioBufferSourceNode=p,this._onended=null,this._playbackRate=n(this,m,p.playbackRate,oN,qx)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(c){if(this._nativeAudioBufferSourceNode.buffer=c,c!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(c){this._nativeAudioBufferSourceNode.loop=c}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(c){this._nativeAudioBufferSourceNode.loopEnd=c}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(c){this._nativeAudioBufferSourceNode.loopStart=c}get onended(){return this._onended}set onended(c){const f=typeof c=="function"?l(this,c):null;this._nativeAudioBufferSourceNode.onended=f;const h=this._nativeAudioBufferSourceNode.onended;this._onended=h!==null&&h===f?c:h}get playbackRate(){return this._playbackRate}start(c=0,f=0,h){if(this._nativeAudioBufferSourceNode.start(c,f,h),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=h===void 0?[c,f]:[c,f,h]),this.context.state!=="closed"){Jv(this);const d=o(()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",d),hf(this)&&sN(this)},"resetInternalStateToPassive");this._nativeAudioBufferSourceNode.addEventListener("ended",d)}}stop(c=0){this._nativeAudioBufferSourceNode.stop(c),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=c)}},"createAudioBufferSourceNodeConstructor"),C8e=o((t,e,n,r,i)=>()=>{const s=new WeakMap;let a=null,l=null;const u=o(async(c,f)=>{let h=n(c);const d=eY(h,f);if(!d){const p={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value};h=e(f,p),a!==null&&h.start(...a),l!==null&&h.stop(l)}return s.set(f,h),d?await t(f,c.playbackRate,h.playbackRate):await r(f,c.playbackRate,h.playbackRate),await i(c,f,h),h},"createAudioBufferSourceNode");return{set start(c){a=c},set stop(c){l=c},render(c,f){const h=s.get(f);return h!==void 0?Promise.resolve(h):u(c,f)}}},"createAudioBufferSourceNodeRendererFactory"),I8e=o(t=>"playbackRate"in t,"isAudioBufferSourceNode"),R8e=o(t=>"frequency"in t&&"gain"in t,"isBiquadFilterNode"),O8e=o(t=>"offset"in t,"isConstantSourceNode"),N8e=o(t=>!("frequency"in t)&&"gain"in t,"isGainNode"),M8e=o(t=>"detune"in t&&"frequency"in t&&!("gain"in t),"isOscillatorNode"),D8e=o(t=>"pan"in t,"isStereoPannerNode"),pi=o(t=>Ao(HK,t),"getAudioNodeConnections"),g1=o(t=>Ao(qK,t),"getAudioParamConnections"),PC=o((t,e)=>{const{activeInputs:n}=pi(t);n.forEach(i=>i.forEach(([s])=>{e.includes(t)||PC(s,[...e,t])}));const r=I8e(t)?[t.playbackRate]:QK(t)?Array.from(t.parameters.values()):R8e(t)?[t.Q,t.detune,t.frequency,t.gain]:O8e(t)?[t.offset]:N8e(t)?[t.gain]:M8e(t)?[t.detune,t.frequency]:D8e(t)?[t.pan]:[];for(const i of r){const s=g1(i);s!==void 0&&s.activeInputs.forEach(([a])=>PC(a,e))}hf(t)&&sN(t)},"deactivateActiveAudioNodeInputConnections"),P8e=o(t=>{PC(t.destination,[])},"deactivateAudioGraph"),$8e=o(t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),"isValidLatencyHint"),L8e=o((t,e,n,r,i,s,a,l)=>class extends t{static{o(this,"AudioDestinationNode")}constructor(c,f){const h=s(c),d=a(h),p=i(h,f,d),m=d?e(l):null;super(c,!1,p,m),this._isNodeOfNativeOfflineAudioContext=d,this._nativeAudioDestinationNode=p}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(c){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(c>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=c}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(c){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=c}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},"createAudioDestinationNodeConstructor"),F8e=o(t=>{const e=new WeakMap,n=o(async(r,i)=>{const s=i.destination;return e.set(i,s),await t(r,i,s),s},"createAudioDestinationNode");return{render(r,i){const s=e.get(i);return s!==void 0?Promise.resolve(s):n(r,i)}}},"createAudioDestinationNodeRenderer"),B8e=o((t,e,n,r,i,s,a,l)=>(u,c)=>{const f=c.listener,h=o(()=>{const C=new Float32Array(1),R=e(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),x=a(c);let E=!1,T=[0,0,-1,0,1,0],O=[0,0,0];const N=o(()=>{if(E)return;E=!0;const j=r(c,256,9,0);j.onaudioprocess=({inputBuffer:H})=>{const q=[s(H,C,0),s(H,C,1),s(H,C,2),s(H,C,3),s(H,C,4),s(H,C,5)];q.some((Z,ue)=>Z!==T[ue])&&(f.setOrientation(...q),T=q);const te=[s(H,C,6),s(H,C,7),s(H,C,8)];te.some((Z,ue)=>Z!==O[ue])&&(f.setPosition(...te),O=te)},R.connect(j)},"createScriptProcessorNode"),I=o(j=>H=>{H!==T[j]&&(T[j]=H,f.setOrientation(...T))},"createSetOrientation"),M=o(j=>H=>{H!==O[j]&&(O[j]=H,f.setPosition(...O))},"createSetPosition"),V=o((j,H,q)=>{const te=n(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:H});te.connect(R,0,j),te.start(),Object.defineProperty(te.offset,"defaultValue",{get(){return H}});const Z=t({context:u},x,te.offset,oN,qx);return l(Z,"value",ue=>()=>ue.call(Z),ue=>ce=>{try{ue.call(Z,ce)}catch(ge){if(ge.code!==9)throw ge}N(),x&&q(ce)}),Z.cancelAndHoldAtTime=(ue=>x?()=>{throw i()}:(...ce)=>{const ge=ue.apply(Z,ce);return N(),ge})(Z.cancelAndHoldAtTime),Z.cancelScheduledValues=(ue=>x?()=>{throw i()}:(...ce)=>{const ge=ue.apply(Z,ce);return N(),ge})(Z.cancelScheduledValues),Z.exponentialRampToValueAtTime=(ue=>x?()=>{throw i()}:(...ce)=>{const ge=ue.apply(Z,ce);return N(),ge})(Z.exponentialRampToValueAtTime),Z.linearRampToValueAtTime=(ue=>x?()=>{throw i()}:(...ce)=>{const ge=ue.apply(Z,ce);return N(),ge})(Z.linearRampToValueAtTime),Z.setTargetAtTime=(ue=>x?()=>{throw i()}:(...ce)=>{const ge=ue.apply(Z,ce);return N(),ge})(Z.setTargetAtTime),Z.setValueAtTime=(ue=>x?()=>{throw i()}:(...ce)=>{const ge=ue.apply(Z,ce);return N(),ge})(Z.setValueAtTime),Z.setValueCurveAtTime=(ue=>x?()=>{throw i()}:(...ce)=>{const ge=ue.apply(Z,ce);return N(),ge})(Z.setValueCurveAtTime),Z},"createFakeAudioParam");return{forwardX:V(0,0,I(0)),forwardY:V(1,0,I(1)),forwardZ:V(2,-1,I(2)),positionX:V(6,0,M(0)),positionY:V(7,0,M(1)),positionZ:V(8,0,M(2)),upX:V(3,0,I(3)),upY:V(4,1,I(4)),upZ:V(5,0,I(5))}},"createFakeAudioParams"),{forwardX:d,forwardY:p,forwardZ:m,positionX:y,positionY:_,positionZ:b,upX:S,upY:v,upZ:k}=f.forwardX===void 0?h():f;return{get forwardX(){return d},get forwardY(){return p},get forwardZ(){return m},get positionX(){return y},get positionY(){return _},get positionZ(){return b},get upX(){return S},get upY(){return v},get upZ(){return k}}},"createAudioListenerFactory"),Zv=o(t=>"context"in t,"isAudioNode"),y1=o(t=>Zv(t[0]),"isAudioNodeOutputConnection"),wh=o((t,e,n,r)=>{for(const i of t)if(n(i)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},"insertElementInSet"),d8=o((t,e,[n,r],i)=>{wh(t,[e,n,r],s=>s[0]===e&&s[1]===n,i)},"addActiveInputConnectionToAudioParam"),p8=o((t,[e,n,r],i)=>{const s=t.get(e);s===void 0?t.set(e,new Set([[n,r]])):wh(s,[n,r],a=>a[0]===n,i)},"addPassiveInputConnectionToAudioParam"),nY=o(t=>"inputs"in t,"isNativeAudioNodeFaker"),$C=o((t,e,n,r)=>{if(nY(e)){const i=e.inputs[r];return t.connect(i,n,0),[i,n,0]}return t.connect(e,n,r),[e,n,r]},"connectNativeAudioNodeToNativeAudioNode"),rY=o((t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},"deleteActiveInputConnection"),U8e=o((t,e,n)=>Gx(t,r=>r[0]===e&&r[1]===n),"deleteActiveInputConnectionToAudioParam"),iY=o((t,e)=>{if(!m1(t).delete(e))throw new Error("Missing the expected event listener.")},"deleteEventListenerOfAudioNode"),sY=o((t,e,n)=>{const r=Ao(t,e),i=Gx(r,s=>s[0]===n);return r.size===0&&t.delete(e),i},"deletePassiveInputConnectionToAudioParam"),LC=o((t,e,n,r)=>{nY(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},"disconnectNativeAudioNodeFromNativeAudioNode"),yo=o(t=>Ao(GK,t),"getNativeAudioNode"),ay=o(t=>Ao(KK,t),"getNativeAudioParam"),Gf=o(t=>OC.has(t),"isPartOfACycle"),Rb=o(t=>!Ap.has(t),"isPassiveAudioNode"),m8=o((t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const r=t.createScriptProcessor(256,1,1),i=t.createGain(),s=t.createBuffer(1,2,44100),a=s.getChannelData(0);a[0]=1,a[1]=1;const l=t.createBufferSource();l.buffer=s,l.loop=!0,l.connect(r).connect(t.destination),l.connect(i),l.disconnect(i),r.onaudioprocess=u=>{const c=u.inputBuffer.getChannelData(0);Array.prototype.some.call(c,f=>f===1)?n(!0):n(!1),l.stop(),r.onaudioprocess=null,l.disconnect(r),r.disconnect(t.destination)},l.start()}}),"testAudioNodeDisconnectMethodSupport"),gS=o((t,e)=>{const n=new Map;for(const r of t)for(const i of r){const s=n.get(i);n.set(i,s===void 0?1:s+1)}n.forEach((r,i)=>e(i,r))},"visitEachAudioNodeOnce"),Qv=o(t=>"context"in t,"isNativeAudioNode$1"),z8e=o(t=>{const e=new Map;t.connect=(n=>(r,i=0,s=0)=>{const a=Qv(r)?n(r,i,s):n(r,i),l=e.get(r);return l===void 0?e.set(r,[{input:s,output:i}]):l.every(u=>u.input!==s||u.output!==i)&&l.push({input:s,output:i}),a})(t.connect.bind(t)),t.disconnect=(n=>(r,i,s)=>{if(n.apply(t),r===void 0)e.clear();else if(typeof r=="number")for(const[a,l]of e){const u=l.filter(c=>c.output!==r);u.length===0?e.delete(a):e.set(a,u)}else if(e.has(r))if(i===void 0)e.delete(r);else{const a=e.get(r);if(a!==void 0){const l=a.filter(u=>u.output!==i&&(u.input!==s||s===void 0));l.length===0?e.delete(r):e.set(r,l)}}for(const[a,l]of e)l.forEach(u=>{Qv(a)?t.connect(a,u.output,u.input):t.connect(a,u.output)})})(t.disconnect)},"wrapAudioNodeDisconnectMethod"),V8e=o((t,e,n,r)=>{const{activeInputs:i,passiveInputs:s}=g1(e),{outputs:a}=pi(t),l=m1(t),u=o(c=>{const f=yo(t),h=ay(e);if(c){const d=sY(s,t,n);d8(i,t,d,!1),!r&&!Gf(t)&&f.connect(h,n)}else{const d=U8e(i,t,n);p8(s,d,!1),!r&&!Gf(t)&&f.disconnect(h,n)}},"eventListener");return wh(a,[e,n],c=>c[0]===e&&c[1]===n,!0)?(l.add(u),hf(t)?d8(i,t,[n,u],!0):p8(s,[t,n,u],!0),!0):!1},"addConnectionToAudioParamOfAudioContext"),j8e=o((t,e,n,r)=>{const{activeInputs:i,passiveInputs:s}=pi(e),a=rY(i[r],t,n);return a===null?[ZK(s,t,n,r)[2],!1]:[a[2],!0]},"deleteInputConnectionOfAudioNode"),W8e=o((t,e,n)=>{const{activeInputs:r,passiveInputs:i}=g1(e),s=rY(r,t,n);return s===null?[sY(i,t,n)[1],!1]:[s[2],!0]},"deleteInputConnectionOfAudioParam"),aN=o((t,e,n,r,i)=>{const[s,a]=j8e(t,n,r,i);if(s!==null&&(iY(t,s),a&&!e&&!Gf(t)&&LC(yo(t),yo(n),r,i)),hf(n)){const{activeInputs:l}=pi(n);DC(n,l)}},"deleteInputsOfAudioNode"),lN=o((t,e,n,r)=>{const[i,s]=W8e(t,n,r);i!==null&&(iY(t,i),s&&!e&&!Gf(t)&&yo(t).disconnect(ay(n),r))},"deleteInputsOfAudioParam"),H8e=o((t,e)=>{const n=pi(t),r=[];for(const i of n.outputs)y1(i)?aN(t,e,...i):lN(t,e,...i),r.push(i[0]);return n.outputs.clear(),r},"deleteAnyConnection"),G8e=o((t,e,n)=>{const r=pi(t),i=[];for(const s of r.outputs)s[1]===n&&(y1(s)?aN(t,e,...s):lN(t,e,...s),i.push(s[0]),r.outputs.delete(s));return i},"deleteConnectionAtOutput"),q8e=o((t,e,n,r,i)=>{const s=pi(t);return Array.from(s.outputs).filter(a=>a[0]===n&&(r===void 0||a[1]===r)&&(i===void 0||a[2]===i)).map(a=>(y1(a)?aN(t,e,...a):lN(t,e,...a),s.outputs.delete(a),a[0]))},"deleteConnectionToDestination"),K8e=o((t,e,n,r,i,s,a,l,u,c,f,h,d,p,m,y)=>class extends c{static{o(this,"AudioNode")}constructor(b,S,v,k){super(v),this._context=b,this._nativeAudioNode=v;const C=f(b);h(C)&&n(m8,()=>m8(C,y))!==!0&&z8e(v),GK.set(this,v),XK.set(this,new Set),b.state!=="closed"&&S&&Jv(this),t(this,k,v)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(b){this._nativeAudioNode.channelCount=b}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(b){this._nativeAudioNode.channelCountMode=b}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(b){this._nativeAudioNode.channelInterpretation=b}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(b,S=0,v=0){if(S<0||S>=this._nativeAudioNode.numberOfOutputs)throw i();const k=f(this._context),C=m(k);if(d(b)||p(b))throw s();if(Zv(b)){const E=yo(b);try{const O=$C(this._nativeAudioNode,E,S,v),N=Rb(this);(C||N)&&this._nativeAudioNode.disconnect(...O),this.context.state!=="closed"&&!N&&Rb(b)&&Jv(b)}catch(O){throw O.code===12?s():O}if(e(this,b,S,v,C)){const O=u([this],b);gS(O,r(C))}return b}const R=ay(b);if(R.name==="playbackRate"&&R.maxValue===1024)throw a();try{this._nativeAudioNode.connect(R,S),(C||Rb(this))&&this._nativeAudioNode.disconnect(R,S)}catch(E){throw E.code===12?s():E}if(V8e(this,b,S,C)){const E=u([this],b);gS(E,r(C))}}disconnect(b,S,v){let k;const C=f(this._context),R=m(C);if(b===void 0)k=H8e(this,R);else if(typeof b=="number"){if(b<0||b>=this.numberOfOutputs)throw i();k=G8e(this,R,b)}else{if(S!==void 0&&(S<0||S>=this.numberOfOutputs)||Zv(b)&&v!==void 0&&(v<0||v>=b.numberOfInputs))throw i();if(k=q8e(this,R,b,S,v),k.length===0)throw s()}for(const x of k){const E=u([this],x);gS(E,l)}}},"createAudioNodeConstructor"),Y8e=o((t,e,n,r,i,s,a,l,u,c,f,h,d)=>(p,m,y,_=null,b=null)=>{const S=y.value,v=new a8e(S),k=m?r(v):null,C={get defaultValue(){return S},get maxValue(){return _===null?y.maxValue:_},get minValue(){return b===null?y.minValue:b},get value(){return y.value},set value(R){y.value=R,C.setValueAtTime(R,p.context.currentTime)},cancelAndHoldAtTime(R){if(typeof y.cancelAndHoldAtTime=="function")k===null&&v.flush(p.context.currentTime),v.add(i(R)),y.cancelAndHoldAtTime(R);else{const x=Array.from(v).pop();k===null&&v.flush(p.context.currentTime),v.add(i(R));const E=Array.from(v).pop();y.cancelScheduledValues(R),x!==E&&E!==void 0&&(E.type==="exponentialRampToValue"?y.exponentialRampToValueAtTime(E.value,E.endTime):E.type==="linearRampToValue"?y.linearRampToValueAtTime(E.value,E.endTime):E.type==="setValue"?y.setValueAtTime(E.value,E.startTime):E.type==="setValueCurve"&&y.setValueCurveAtTime(E.values,E.startTime,E.duration))}return C},cancelScheduledValues(R){return k===null&&v.flush(p.context.currentTime),v.add(s(R)),y.cancelScheduledValues(R),C},exponentialRampToValueAtTime(R,x){if(R===0)throw new RangeError;if(!Number.isFinite(x)||x<0)throw new RangeError;const E=p.context.currentTime;return k===null&&v.flush(E),Array.from(v).length===0&&(v.add(c(S,E)),y.setValueAtTime(S,E)),v.add(a(R,x)),y.exponentialRampToValueAtTime(R,x),C},linearRampToValueAtTime(R,x){const E=p.context.currentTime;return k===null&&v.flush(E),Array.from(v).length===0&&(v.add(c(S,E)),y.setValueAtTime(S,E)),v.add(l(R,x)),y.linearRampToValueAtTime(R,x),C},setTargetAtTime(R,x,E){return k===null&&v.flush(p.context.currentTime),v.add(u(R,x,E)),y.setTargetAtTime(R,x,E),C},setValueAtTime(R,x){return k===null&&v.flush(p.context.currentTime),v.add(c(R,x)),y.setValueAtTime(R,x),C},setValueCurveAtTime(R,x,E){const T=R instanceof Float32Array?R:new Float32Array(R);if(h!==null&&h.name==="webkitAudioContext"){const O=x+E,N=p.context.sampleRate,I=Math.ceil(x*N),M=Math.floor(O*N),V=M-I,j=new Float32Array(V);for(let q=0;q<V;q+=1){const te=(T.length-1)/E*((I+q)/N-x),Z=Math.floor(te),ue=Math.ceil(te);j[q]=Z===ue?T[Z]:(1-(te-Z))*T[Z]+(1-(ue-te))*T[ue]}k===null&&v.flush(p.context.currentTime),v.add(f(j,x,E)),y.setValueCurveAtTime(j,x,E);const H=M/N;H<O&&d(C,j[j.length-1],H),d(C,T[T.length-1],O)}else k===null&&v.flush(p.context.currentTime),v.add(f(T,x,E)),y.setValueCurveAtTime(T,x,E);return C}};return n.set(C,y),e.set(C,p),t(C,k),C},"createAudioParamFactory"),X8e=o(t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:r,value:i}=n;e.exponentialRampToValueAtTime(i,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:i}=n;e.linearRampToValueAtTime(i,r)}else if(n.type==="setTarget"){const{startTime:r,target:i,timeConstant:s}=n;e.setTargetAtTime(i,r,s)}else if(n.type==="setValue"){const{startTime:r,value:i}=n;e.setValueAtTime(i,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:i,values:s}=n;e.setValueCurveAtTime(s,i,r)}else throw new Error("Can't apply an unknown automation.")}}),"createAudioParamRenderer");class oY{static{o(this,"ReadOnlyMap")}constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,i)=>e.call(n,r,i,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const J8e={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Z8e=o((t,e,n,r,i,s,a,l,u,c,f,h,d,p)=>class extends e{static{o(this,"AudioWorkletNode")}constructor(y,_,b){var S;const v=l(y),k=u(v),C=f({...J8e,...b});d(C);const R=NC.get(v),x=R?.get(_),E=k||v.state!=="closed"?v:(S=a(v))!==null&&S!==void 0?S:v,T=i(E,k?null:y.baseLatency,c,_,x,C),O=k?r(_,C,x):null;super(y,!0,T,O);const N=[];T.parameters.forEach((M,V)=>{const j=n(this,k,M);N.push([V,j])}),this._nativeAudioWorkletNode=T,this._onprocessorerror=null,this._parameters=new oY(N),k&&t(v,this);const{activeInputs:I}=s(this);h(T,I)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(y){const _=typeof y=="function"?p(this,y):null;this._nativeAudioWorkletNode.onprocessorerror=_;const b=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=b!==null&&b===_?y:b}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}},"createAudioWorkletNodeConstructor");function eE(t,e,n,r,i){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,i);else{const s=t.getChannelData(r);if(e[n].byteLength===0)e[n]=s.slice(i,i+128);else{const a=new Float32Array(s.buffer,i*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(a)}}}o(eE,"copyFromChannel");const aY=o((t,e,n,r,i)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],r,i):e[n].byteLength!==0&&t.getChannelData(r).set(e[n],i)},"copyToChannel"),tE=o((t,e)=>{const n=[];for(let r=0;r<t;r+=1){const i=[],s=typeof e=="number"?e:e[r];for(let a=0;a<s;a+=1)i.push(new Float32Array(128));n.push(i)}return n},"createNestedArrays"),Q8e=o((t,e)=>{const n=Ao(MC,t),r=yo(e);return Ao(n,r)},"getAudioWorkletProcessor"),e5e=o(async(t,e,n,r,i,s,a)=>{const l=e===null?Math.ceil(t.context.length/128)*128:e.length,u=r.channelCount*r.numberOfInputs,c=i.reduce((_,b)=>_+b,0),f=c===0?null:n.createBuffer(c,l,n.sampleRate);if(s===void 0)throw new Error("Missing the processor constructor.");const h=pi(t),d=await Q8e(n,t),p=tE(r.numberOfInputs,r.channelCount),m=tE(r.numberOfOutputs,i),y=Array.from(t.parameters.keys()).reduce((_,b)=>({..._,[b]:new Float32Array(128)}),{});for(let _=0;_<l;_+=128){if(r.numberOfInputs>0&&e!==null)for(let b=0;b<r.numberOfInputs;b+=1)for(let S=0;S<r.channelCount;S+=1)eE(e,p[b],S,S,_);s.parameterDescriptors!==void 0&&e!==null&&s.parameterDescriptors.forEach(({name:b},S)=>{eE(e,y,b,u+S,_)});for(let b=0;b<r.numberOfInputs;b+=1)for(let S=0;S<i[b];S+=1)m[b][S].byteLength===0&&(m[b][S]=new Float32Array(128));try{const b=p.map((v,k)=>h.activeInputs[k].size===0?[]:v),S=a(_/n.sampleRate,n.sampleRate,()=>d.process(b,m,y));if(f!==null)for(let v=0,k=0;v<r.numberOfOutputs;v+=1){for(let C=0;C<i[v];C+=1)aY(f,m[v],C,k+C,_);k+=i[v]}if(!S)break}catch(b){t.dispatchEvent(new ErrorEvent("processorerror",{colno:b.colno,filename:b.filename,lineno:b.lineno,message:b.message}));break}}return f},"processBuffer"),t5e=o((t,e,n,r,i,s,a,l,u,c,f,h,d,p,m,y)=>(_,b,S)=>{const v=new WeakMap;let k=null;const C=o(async(R,x)=>{let E=f(R),T=null;const O=eY(E,x),N=Array.isArray(b.outputChannelCount)?b.outputChannelCount:Array.from(b.outputChannelCount);if(h===null){const I=N.reduce((H,q)=>H+q,0),M=i(x,{channelCount:Math.max(1,I),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,I)}),V=[];for(let H=0;H<R.numberOfOutputs;H+=1)V.push(r(x,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:N[H]}));const j=a(x,{channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,gain:1});j.connect=e.bind(null,V),j.disconnect=u.bind(null,V),T=[M,V,j]}else O||(E=new h(x,_));if(v.set(x,T===null?E:T[2]),T!==null){if(k===null){if(S===void 0)throw new Error("Missing the processor constructor.");if(d===null)throw new Error("Missing the native OfflineAudioContext constructor.");const q=R.channelCount*R.numberOfInputs,te=S.parameterDescriptors===void 0?0:S.parameterDescriptors.length,Z=q+te;k=e5e(R,Z===0?null:await o(async()=>{const ce=new d(Z,Math.ceil(R.context.length/128)*128,x.sampleRate),ge=[],Te=[];for(let Ge=0;Ge<b.numberOfInputs;Ge+=1)ge.push(a(ce,{channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,gain:1})),Te.push(i(ce,{channelCount:b.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:b.channelCount}));const Ct=await Promise.all(Array.from(R.parameters.values()).map(async Ge=>{const Dt=s(ce,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Ge.value});return await p(ce,Ge,Dt.offset),Dt})),Oe=r(ce,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,q+te)});for(let Ge=0;Ge<b.numberOfInputs;Ge+=1){ge[Ge].connect(Te[Ge]);for(let Dt=0;Dt<b.channelCount;Dt+=1)Te[Ge].connect(Oe,Dt,Ge*b.channelCount+Dt)}for(const[Ge,Dt]of Ct.entries())Dt.connect(Oe,0,q+Ge),Dt.start(0);return Oe.connect(ce.destination),await Promise.all(ge.map(Ge=>m(R,ce,Ge))),y(ce)},"renderBuffer")(),x,b,N,S,c)}const I=await k,M=n(x,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[V,j,H]=T;I!==null&&(M.buffer=I,M.start(0)),M.connect(V);for(let q=0,te=0;q<R.numberOfOutputs;q+=1){const Z=j[q];for(let ue=0;ue<N[q];ue+=1)V.connect(Z,te+ue,ue);te+=N[q]}return H}if(O)for(const[I,M]of R.parameters.entries())await t(x,M,E.parameters.get(I));else for(const[I,M]of R.parameters.entries())await p(x,M,E.parameters.get(I));return await m(R,x,E),E},"createAudioNode");return{render(R,x){l(x,R);const E=v.get(x);return E!==void 0?Promise.resolve(E):C(R,x)}}},"createAudioWorkletNodeRendererFactory"),n5e=o((t,e)=>(n,r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t.get(n);if(s!==void 0)return s;try{const a=r();return a instanceof Promise?(t.set(n,a),a.catch(()=>!1).then(l=>(t.delete(n),e.set(n,l),l))):(e.set(n,a),a)}catch{return e.set(n,!1),!1}},"createCacheTestResult"),r5e=o(t=>(e,n,r)=>t(n,e,r),"createConnectAudioParam"),i5e=o(t=>(e,n,r=0,i=0)=>{const s=e[r];if(s===void 0)throw t();return Qv(n)?s.connect(n,0,i):s.connect(n,0)},"createConnectMultipleOutputs"),s5e=o(t=>e=>(t[0]=e,t[0]),"createConvertNumberToUnsignedLong"),o5e=o((t,e,n,r,i,s,a,l)=>(u,c)=>{const f=e.get(u);if(f===void 0)throw new Error("Missing the expected cycle count.");const h=s(u.context),d=l(h);if(f===c){if(e.delete(u),!d&&a(u)){const p=r(u),{outputs:m}=n(u);for(const y of m)if(y1(y)){const _=r(y[0]);t(p,_,y[1],y[2])}else{const _=i(y[0]);p.connect(_,y[1])}}}else e.set(u,f-c)},"createDecrementCycleCounter"),a5e=o(t=>(e,n,r,i)=>t(e[i],s=>s[0]===n&&s[1]===r),"createDeleteActiveInputConnectionToAudioNode"),l5e=o(t=>(e,n)=>{t(e).delete(n)},"createDeleteUnrenderedAudioWorkletNode"),u5e=o(t=>"delayTime"in t,"isDelayNode"),c5e=o((t,e,n)=>o(function r(i,s){const a=Zv(s)?s:n(t,s);if(u5e(a))return[];if(i[0]===a)return[i];if(i.includes(a))return[];const{outputs:l}=e(a);return Array.from(l).map(u=>r([...i,a],u[0])).reduce((u,c)=>u.concat(c),[])},"detectCycles"),"createDetectCycles"),H_=o((t,e,n)=>{const r=e[n];if(r===void 0)throw t();return r},"getOutputAudioNodeAtIndex"),f5e=o(t=>(e,n=void 0,r=void 0,i=0)=>n===void 0?e.forEach(s=>s.disconnect()):typeof n=="number"?H_(t,e,n).disconnect():Qv(n)?r===void 0?e.forEach(s=>s.disconnect(n)):i===void 0?H_(t,e,r).disconnect(n,0):H_(t,e,r).disconnect(n,0,i):r===void 0?e.forEach(s=>s.disconnect(n)):H_(t,e,r).disconnect(n,0),"createDisconnectMultipleOutputs"),h5e=o(t=>e=>new Promise((n,r)=>{if(t===null){r(new SyntaxError);return}const i=t.document.head;if(i===null)r(new SyntaxError);else{const s=t.document.createElement("script"),a=new Blob([e],{type:"application/javascript"}),l=URL.createObjectURL(a),u=t.onerror,c=o(()=>{t.onerror=u,URL.revokeObjectURL(l)},"removeErrorEventListenerAndRevokeUrl");t.onerror=(f,h,d,p,m)=>{if(h===l||h===t.location.href&&d===1&&p===1)return c(),r(m),!1;if(u!==null)return u(f,h,d,p,m)},s.onerror=()=>{c(),r(new SyntaxError)},s.onload=()=>{c(),n()},s.src=l,s.type="module",i.appendChild(s)}}),"createEvaluateSource"),d5e=o(t=>class{static{o(this,"EventTarget")}constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,i){if(r!==null){let s=this._listeners.get(r);s===void 0&&(s=t(this,r),typeof r=="function"&&this._listeners.set(r,s)),this._nativeEventTarget.addEventListener(n,s,i)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,i){const s=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,s===void 0?null:s,i)}},"createEventTargetConstructor"),p5e=o(t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},"createExposeCurrentFrameAndCurrentTime"),m5e=o(t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},"createFetchSource"),g5e=o((t,e)=>n=>e(t,n),"createGetActiveAudioWorkletNodeInputs"),y5e=o(t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},"createGetAudioNodeRenderer"),_5e=o(t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},"createGetAudioNodeTailTime"),b5e=o(t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},"createGetAudioParamRenderer"),w5e=o(t=>e=>t.get(e),"createGetBackupOfflineAudioContext"),_o=o(()=>new DOMException("","InvalidStateError"),"createInvalidStateError"),v5e=o(t=>e=>{const n=t.get(e);if(n===void 0)throw _o();return n},"createGetNativeContext"),E5e=o((t,e)=>n=>{let r=t.get(n);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r},"createGetOrCreateBackupOfflineAudioContext"),x5e=o(t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},"createGetUnrenderedAudioWorkletNodes"),T5e=o(()=>new DOMException("","InvalidAccessError"),"createInvalidAccessError"),S5e=o((t,e,n,r,i,s)=>a=>(l,u)=>{const c=t.get(l);if(c===void 0){if(!a&&s(l)){const f=r(l),{outputs:h}=n(l);for(const d of h)if(y1(d)){const p=r(d[0]);e(f,p,d[1],d[2])}else{const p=i(d[0]);f.disconnect(p,d[1])}}t.set(l,u)}else t.set(l,c+u)},"createIncrementCycleCounterFactory"),k5e=o(t=>e=>t!==null&&e instanceof t,"createIsNativeAudioContext"),A5e=o(t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,"createIsNativeAudioNode"),C5e=o(t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,"createIsNativeAudioParam"),I5e=o(t=>e=>t!==null&&e instanceof t,"createIsNativeOfflineAudioContext"),R5e=o(t=>t!==null&&t.isSecureContext,"createIsSecureContext"),O5e=o((t,e,n,r)=>class extends t{static{o(this,"MediaStreamAudioSourceNode")}constructor(s,a){const l=n(s),u=e(l,a);if(r(l))throw new TypeError;super(s,!0,u,null),this._nativeMediaStreamAudioSourceNode=u}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},"createMediaStreamAudioSourceNodeConstructor"),N5e=o((t,e,n,r,i)=>class extends r{static{o(this,"MinimalAudioContext")}constructor(a={}){if(i===null)throw new Error("Missing the native AudioContext constructor.");let l;try{l=new i(a)}catch(f){throw f.code===12&&f.message==="sampleRate is not in range"?e():f}if(l===null)throw n();if(!$8e(a.latencyHint))throw new TypeError(`The provided value '${a.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(a.sampleRate!==void 0&&l.sampleRate!==a.sampleRate)throw e();super(l,2);const{latencyHint:u}=a,{sampleRate:c}=l;if(this._baseLatency=typeof l.baseLatency=="number"?l.baseLatency:u==="balanced"?512/c:u==="interactive"||u===void 0?256/c:u==="playback"?1024/c:Math.max(2,Math.min(128,Math.round(u*c/128)))*128/c,this._nativeAudioContext=l,i.name==="webkitAudioContext"?(this._nativeGainNode=l.createGain(),this._nativeOscillatorNode=l.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(l.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,l.state==="running"){this._state="suspended";const f=o(()=>{this._state==="suspended"&&(this._state=null),l.removeEventListener("statechange",f)},"revokeState");l.addEventListener("statechange",f)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw t()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),P8e(this)}))}resume(){return this._state==="suspended"?new Promise((a,l)=>{const u=o(()=>{this._nativeAudioContext.removeEventListener("statechange",u),this._nativeAudioContext.state==="running"?a():this.resume().then(a,l)},"resolvePromise");this._nativeAudioContext.addEventListener("statechange",u)}):this._nativeAudioContext.resume().catch(a=>{throw a===void 0||a.code===15?t():a})}suspend(){return this._nativeAudioContext.suspend().catch(a=>{throw a===void 0?t():a})}},"createMinimalAudioContextConstructor"),M5e=o((t,e,n,r,i,s)=>class extends n{static{o(this,"MinimalBaseAudioContext")}constructor(l,u){super(l),this._nativeContext=l,YK.set(this,l),r(l)&&i.set(l,new Set),this._destination=new t(this,u),this._listener=e(this,l),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(l){const u=typeof l=="function"?s(this,l):null;this._nativeContext.onstatechange=u;const c=this._nativeContext.onstatechange;this._onstatechange=c!==null&&c===u?l:c}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},"createMinimalBaseAudioContextConstructor"),g8=o(t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},"testPromiseSupport"),D5e=o((t,e)=>(n,r,i)=>{const s=new Set;return n.connect=(a=>(l,u=0,c=0)=>{const f=s.size===0;if(e(l))return a.call(n,l,u,c),t(s,[l,u,c],h=>h[0]===l&&h[1]===u&&h[2]===c,!0),f&&r(),l;a.call(n,l,u),t(s,[l,u],h=>h[0]===l&&h[1]===u,!0),f&&r()})(n.connect),n.disconnect=(a=>(l,u,c)=>{const f=s.size>0;if(l===void 0)a.apply(n),s.clear();else if(typeof l=="number"){a.call(n,l);for(const d of s)d[1]===l&&s.delete(d)}else{e(l)?a.call(n,l,u,c):a.call(n,l,u);for(const d of s)d[0]===l&&(u===void 0||d[1]===u)&&(c===void 0||d[2]===c)&&s.delete(d)}const h=s.size===0;f&&h&&i()})(n.disconnect),n},"createMonitorConnections"),Zc=o((t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n]&&(t[n]=r)},"assignNativeAudioNodeOption"),_1=o((t,e)=>{Zc(t,e,"channelCount"),Zc(t,e,"channelCountMode"),Zc(t,e,"channelInterpretation")},"assignNativeAudioNodeOptions"),P5e=o(t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,"createNativeAudioBufferConstructor"),uN=o((t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n].value&&(t[n].value=r)},"assignNativeAudioNodeAudioParamValue"),$5e=o(t=>{t.start=(e=>{let n=!1;return(r=0,i=0,s)=>{if(n)throw _o();e.call(t,r,i,s),n=!0}})(t.start)},"wrapAudioBufferSourceNodeStartMethodConsecutiveCalls"),lY=o(t=>{t.start=(e=>(n=0,r=0,i)=>{if(typeof i=="number"&&i<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,i)})(t.start)},"wrapAudioScheduledSourceNodeStartMethodNegativeParameters"),uY=o(t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},"wrapAudioScheduledSourceNodeStopMethodNegativeParameters"),L5e=o((t,e,n,r,i,s,a,l,u,c,f)=>(h,d)=>{const p=h.createBufferSource();return _1(p,d),uN(p,d,"playbackRate"),Zc(p,d,"buffer"),Zc(p,d,"loop"),Zc(p,d,"loopEnd"),Zc(p,d,"loopStart"),e(n,()=>n(h))||$5e(p),e(r,()=>r(h))||u(p),e(i,()=>i(h))||c(p,h),e(s,()=>s(h))||lY(p),e(a,()=>a(h))||f(p,h),e(l,()=>l(h))||uY(p),t(h,p),p},"createNativeAudioBufferSourceNodeFactory"),F5e=o(t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,"createNativeAudioContextConstructor"),B5e=o((t,e)=>(n,r,i)=>{const s=n.destination;if(s.channelCount!==r)try{s.channelCount=r}catch{}i&&s.channelCountMode!=="explicit"&&(s.channelCountMode="explicit"),s.maxChannelCount===0&&Object.defineProperty(s,"maxChannelCount",{value:r});const a=t(n,{channelCount:r,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,gain:1});return e(a,"channelCount",l=>()=>l.call(a),l=>u=>{l.call(a,u);try{s.channelCount=u}catch(c){if(u>s.maxChannelCount)throw c}}),e(a,"channelCountMode",l=>()=>l.call(a),l=>u=>{l.call(a,u),s.channelCountMode=u}),e(a,"channelInterpretation",l=>()=>l.call(a),l=>u=>{l.call(a,u),s.channelInterpretation=u}),Object.defineProperty(a,"maxChannelCount",{get:o(()=>s.maxChannelCount,"get")}),a.connect(s),a},"createNativeAudioDestinationNodeFactory"),U5e=o(t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,"createNativeAudioWorkletNodeConstructor"),z5e=o(t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},"testClonabilityOfAudioWorkletNodeOptions"),V5e=o((t,e,n,r,i)=>(s,a,l,u,c,f)=>{if(l!==null)try{const h=new l(s,u,f),d=new Map;let p=null;if(Object.defineProperties(h,{channelCount:{get:o(()=>f.channelCount,"get"),set:o(()=>{throw t()},"set")},channelCountMode:{get:o(()=>"explicit","get"),set:o(()=>{throw t()},"set")},onprocessorerror:{get:o(()=>p,"get"),set:o(m=>{typeof p=="function"&&h.removeEventListener("processorerror",p),p=typeof m=="function"?m:null,typeof p=="function"&&h.addEventListener("processorerror",p)},"set")}}),h.addEventListener=(m=>(...y)=>{if(y[0]==="processorerror"){const _=typeof y[1]=="function"?y[1]:typeof y[1]=="object"&&y[1]!==null&&typeof y[1].handleEvent=="function"?y[1].handleEvent:null;if(_!==null){const b=d.get(y[1]);b!==void 0?y[1]=b:(y[1]=S=>{S.type==="error"?(Object.defineProperties(S,{type:{value:"processorerror"}}),_(S)):_(new ErrorEvent(y[0],{...S}))},d.set(_,y[1]))}}return m.call(h,"error",y[1],y[2]),m.call(h,...y)})(h.addEventListener),h.removeEventListener=(m=>(...y)=>{if(y[0]==="processorerror"){const _=d.get(y[1]);_!==void 0&&(d.delete(y[1]),y[1]=_)}return m.call(h,"error",y[1],y[2]),m.call(h,y[0],y[1],y[2])})(h.removeEventListener),f.numberOfOutputs!==0){const m=n(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return h.connect(m).connect(s.destination),i(h,o(()=>m.disconnect(),"whenConnected"),o(()=>m.connect(s.destination),"whenDisconnected"))}return h}catch(h){throw h.code===11?r():h}if(c===void 0)throw r();return z5e(f),e(s,a,c,f)},"createNativeAudioWorkletNodeFactory"),j5e=o((t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),"computeBufferSize"),W5e=o(t=>new Promise((e,n)=>{const{port1:r,port2:i}=new MessageChannel;r.onmessage=({data:s})=>{r.close(),i.close(),e(s)},r.onmessageerror=({data:s})=>{r.close(),i.close(),n(s)},i.postMessage(t)}),"cloneAudioWorkletNodeOptions"),H5e=o(async(t,e)=>{const n=await W5e(e);return new t(n)},"createAudioWorkletProcessorPromise"),G5e=o((t,e,n,r)=>{let i=MC.get(t);i===void 0&&(i=new WeakMap,MC.set(t,i));const s=H5e(n,r);return i.set(e,s),s},"createAudioWorkletProcessor"),q5e=o((t,e,n,r,i,s,a,l,u,c,f,h,d)=>(p,m,y,_)=>{if(_.numberOfInputs===0&&_.numberOfOutputs===0)throw u();const b=Array.isArray(_.outputChannelCount)?_.outputChannelCount:Array.from(_.outputChannelCount);if(b.some(B=>B<1))throw u();if(b.length!==_.numberOfOutputs)throw e();if(_.channelCountMode!=="explicit")throw u();const S=_.channelCount*_.numberOfInputs,v=b.reduce((B,K)=>B+K,0),k=y.parameterDescriptors===void 0?0:y.parameterDescriptors.length;if(S+k>6||v>6)throw u();const C=new MessageChannel,R=[],x=[];for(let B=0;B<_.numberOfInputs;B+=1)R.push(a(p,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1})),x.push(i(p,{channelCount:_.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:_.channelCount}));const E=[];if(y.parameterDescriptors!==void 0)for(const{defaultValue:B,maxValue:K,minValue:J,name:Q}of y.parameterDescriptors){const ie=s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:_.parameterData[Q]!==void 0?_.parameterData[Q]:B===void 0?0:B});Object.defineProperties(ie.offset,{defaultValue:{get:o(()=>B===void 0?0:B,"get")},maxValue:{get:o(()=>K===void 0?oN:K,"get")},minValue:{get:o(()=>J===void 0?qx:J,"get")}}),E.push(ie)}const T=r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,S+k)}),O=j5e(m,p.sampleRate),N=l(p,O,S+k,Math.max(1,v)),I=i(p,{channelCount:Math.max(1,v),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,v)}),M=[];for(let B=0;B<_.numberOfOutputs;B+=1)M.push(r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:b[B]}));for(let B=0;B<_.numberOfInputs;B+=1){R[B].connect(x[B]);for(let K=0;K<_.channelCount;K+=1)x[B].connect(T,K,B*_.channelCount+K)}const V=new oY(y.parameterDescriptors===void 0?[]:y.parameterDescriptors.map(({name:B},K)=>{const J=E[K];return J.connect(T,0,S+K),J.start(0),[B,J.offset]}));T.connect(N);let j=_.channelInterpretation,H=null;const q=_.numberOfOutputs===0?[N]:M,te={get bufferSize(){return O},get channelCount(){return _.channelCount},set channelCount(B){throw n()},get channelCountMode(){return _.channelCountMode},set channelCountMode(B){throw n()},get channelInterpretation(){return j},set channelInterpretation(B){for(const K of R)K.channelInterpretation=B;j=B},get context(){return N.context},get inputs(){return R},get numberOfInputs(){return _.numberOfInputs},get numberOfOutputs(){return _.numberOfOutputs},get onprocessorerror(){return H},set onprocessorerror(B){typeof H=="function"&&te.removeEventListener("processorerror",H),H=typeof B=="function"?B:null,typeof H=="function"&&te.addEventListener("processorerror",H)},get parameters(){return V},get port(){return C.port2},addEventListener(...B){return N.addEventListener(B[0],B[1],B[2])},connect:t.bind(null,q),disconnect:c.bind(null,q),dispatchEvent(...B){return N.dispatchEvent(B[0])},removeEventListener(...B){return N.removeEventListener(B[0],B[1],B[2])}},Z=new Map;C.port1.addEventListener=(B=>(...K)=>{if(K[0]==="message"){const J=typeof K[1]=="function"?K[1]:typeof K[1]=="object"&&K[1]!==null&&typeof K[1].handleEvent=="function"?K[1].handleEvent:null;if(J!==null){const Q=Z.get(K[1]);Q!==void 0?K[1]=Q:(K[1]=ie=>{f(p.currentTime,p.sampleRate,()=>J(ie))},Z.set(J,K[1]))}}return B.call(C.port1,K[0],K[1],K[2])})(C.port1.addEventListener),C.port1.removeEventListener=(B=>(...K)=>{if(K[0]==="message"){const J=Z.get(K[1]);J!==void 0&&(Z.delete(K[1]),K[1]=J)}return B.call(C.port1,K[0],K[1],K[2])})(C.port1.removeEventListener);let ue=null;Object.defineProperty(C.port1,"onmessage",{get:o(()=>ue,"get"),set:o(B=>{typeof ue=="function"&&C.port1.removeEventListener("message",ue),ue=typeof B=="function"?B:null,typeof ue=="function"&&(C.port1.addEventListener("message",ue),C.port1.start())},"set")}),y.prototype.port=C.port1;let ce=null;G5e(p,te,y,_).then(B=>ce=B);const Te=tE(_.numberOfInputs,_.channelCount),Ct=tE(_.numberOfOutputs,b),Oe=y.parameterDescriptors===void 0?[]:y.parameterDescriptors.reduce((B,{name:K})=>({...B,[K]:new Float32Array(128)}),{});let Ge=!0;const Dt=o(()=>{_.numberOfOutputs>0&&N.disconnect(I);for(let B=0,K=0;B<_.numberOfOutputs;B+=1){const J=M[B];for(let Q=0;Q<b[B];Q+=1)I.disconnect(J,K+Q,Q);K+=b[B]}},"disconnectOutputsGraph"),Jr=new Map;N.onaudioprocess=({inputBuffer:B,outputBuffer:K})=>{if(ce!==null){const J=h(te);for(let Q=0;Q<O;Q+=128){for(let ie=0;ie<_.numberOfInputs;ie+=1)for(let D=0;D<_.channelCount;D+=1)eE(B,Te[ie],D,D,Q);y.parameterDescriptors!==void 0&&y.parameterDescriptors.forEach(({name:ie},D)=>{eE(B,Oe,ie,S+D,Q)});for(let ie=0;ie<_.numberOfInputs;ie+=1)for(let D=0;D<b[ie];D+=1)Ct[ie][D].byteLength===0&&(Ct[ie][D]=new Float32Array(128));try{const ie=Te.map(($,F)=>{if(J[F].size>0)return Jr.set(F,O/128),$;const ae=Jr.get(F);return ae===void 0?[]:($.every(he=>he.every(_e=>_e===0))&&(ae===1?Jr.delete(F):Jr.set(F,ae-1)),$)});Ge=f(p.currentTime+Q/p.sampleRate,p.sampleRate,()=>ce.process(ie,Ct,Oe));for(let $=0,F=0;$<_.numberOfOutputs;$+=1){for(let re=0;re<b[$];re+=1)aY(K,Ct[$],re,F+re,Q);F+=b[$]}}catch(ie){Ge=!1,te.dispatchEvent(new ErrorEvent("processorerror",{colno:ie.colno,filename:ie.filename,lineno:ie.lineno,message:ie.message}))}if(!Ge){for(let ie=0;ie<_.numberOfInputs;ie+=1){R[ie].disconnect(x[ie]);for(let D=0;D<_.channelCount;D+=1)x[Q].disconnect(T,D,ie*_.channelCount+D)}if(y.parameterDescriptors!==void 0){const ie=y.parameterDescriptors.length;for(let D=0;D<ie;D+=1){const $=E[D];$.disconnect(T,0,S+D),$.stop()}}T.disconnect(N),N.onaudioprocess=null,Ci?Dt():er();break}}}};let Ci=!1;const Fn=a(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Zr=o(()=>N.connect(Fn).connect(p.destination),"connectFakeGraph"),er=o(()=>{N.disconnect(Fn),Fn.disconnect()},"disconnectFakeGraph"),L=o(()=>{if(Ge){er(),_.numberOfOutputs>0&&N.connect(I);for(let B=0,K=0;B<_.numberOfOutputs;B+=1){const J=M[B];for(let Q=0;Q<b[B];Q+=1)I.connect(J,K+Q,Q);K+=b[B]}}Ci=!0},"whenConnected"),U=o(()=>{Ge&&(Zr(),Dt()),Ci=!1},"whenDisconnected");return Zr(),d(te,L,U)},"createNativeAudioWorkletNodeFakerFactory"),K5e=o((t,e)=>(n,r)=>{const i=n.createChannelMerger(r.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,i),_1(i,r),i},"createNativeChannelMergerNodeFactory"),Y5e=o(t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:o(()=>e,"get"),set:o(n=>{if(n!==e)throw _o()},"set")}),Object.defineProperty(t,"channelCountMode",{get:o(()=>"explicit","get"),set:o(n=>{if(n!=="explicit")throw _o()},"set")}),Object.defineProperty(t,"channelInterpretation",{get:o(()=>"discrete","get"),set:o(n=>{if(n!=="discrete")throw _o()},"set")})},"wrapChannelSplitterNode"),cY=o((t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return _1(n,e),Y5e(n),n},"createNativeChannelSplitterNode"),X5e=o((t,e,n,r,i)=>(s,a)=>{if(s.createConstantSource===void 0)return n(s,a);const l=s.createConstantSource();return _1(l,a),uN(l,a,"offset"),e(r,()=>r(s))||lY(l),e(i,()=>i(s))||uY(l),t(s,l),l},"createNativeConstantSourceNodeFactory"),fY=o((t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),"interceptConnections"),J5e=o((t,e,n,r)=>(i,{offset:s,...a})=>{const l=i.createBuffer(1,2,44100),u=e(i,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=n(i,{...a,gain:s}),f=l.getChannelData(0);f[0]=1,f[1]=1,u.buffer=l,u.loop=!0;const h={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(m){c.channelCount=m},get channelCountMode(){return c.channelCountMode},set channelCountMode(m){c.channelCountMode=m},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(m){c.channelInterpretation=m},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return u.onended},set onended(m){u.onended=m},addEventListener(...m){return u.addEventListener(m[0],m[1],m[2])},dispatchEvent(...m){return u.dispatchEvent(m[0])},removeEventListener(...m){return u.removeEventListener(m[0],m[1],m[2])},start(m=0){u.start.call(u,m)},stop(m=0){u.stop.call(u,m)}},d=o(()=>u.connect(c),"whenConnected"),p=o(()=>u.disconnect(c),"whenDisconnected");return t(i,u),r(fY(h,c),d,p)},"createNativeConstantSourceNodeFakerFactory"),rc=o((t,e)=>{const n=t.createGain();return _1(n,e),uN(n,e,"gain"),n},"createNativeGainNode"),Z5e=o((t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((s,a)=>s.id<a.id?-1:s.id>a.id?1:0);const r=n.slice(0,1),i=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(i,"mediaStream",{value:e}),i},"createNativeMediaStreamAudioSourceNode"),Q5e=o(t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,"createNativeOfflineAudioContextConstructor"),cN=o((t,e,n,r)=>t.createScriptProcessor(e,n,r),"createNativeScriptProcessorNode"),vh=o(()=>new DOMException("","NotSupportedError"),"createNotSupportedError"),eBe=o((t,e)=>(n,r,i)=>(t(r).replay(i),e(r,n,i)),"createRenderAutomation"),tBe=o((t,e,n)=>async(r,i,s)=>{const a=t(r);await Promise.all(a.activeInputs.map((l,u)=>Array.from(l).map(async([c,f])=>{const d=await e(c).render(c,i),p=r.context.destination;!n(c)&&(r!==p||!n(r))&&d.connect(s,f,u)})).reduce((l,u)=>[...l,...u],[]))},"createRenderInputsOfAudioNode"),nBe=o((t,e,n)=>async(r,i,s)=>{const a=e(r);await Promise.all(Array.from(a.activeInputs).map(async([l,u])=>{const f=await t(l).render(l,i);n(l)||f.connect(s,u)}))},"createRenderInputsOfAudioParam"),rBe=o((t,e,n,r)=>i=>t(g8,()=>g8(i))?Promise.resolve(t(r,r)).then(s=>{if(!s){const a=n(i,512,0,1);i.oncomplete=()=>{a.onaudioprocess=null,a.disconnect()},a.onaudioprocess=()=>i.currentTime,a.connect(i.destination)}return i.startRendering()}):new Promise(s=>{const a=e(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.oncomplete=l=>{a.disconnect(),s(l.renderedBuffer)},a.connect(i.destination),i.startRendering()}),"createRenderNativeOfflineAudioContext"),iBe=o(t=>(e,n)=>{t.set(e,n)},"createSetActiveAudioWorkletNodeInputs"),sBe=o(t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},"createTestAudioBufferConstructorSupport"),oBe=o((t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),i=URL.createObjectURL(n);let s=!1,a=!1;try{await r.audioWorklet.addModule(i);const l=new t(r,"a",{numberOfOutputs:0}),u=r.createOscillator();l.port.onmessage=()=>s=!0,l.onprocessorerror=()=>a=!0,u.connect(l),u.start(0),await r.startRendering(),await new Promise(c=>setTimeout(c))}catch{}finally{URL.revokeObjectURL(i)}return s&&!a},"createTestAudioWorkletProcessorPostMessageSupport"),aBe=o((t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(i=>{n.oncomplete=()=>{r.disconnect(),i(n.currentTime!==0)},n.startRendering()})},"createTestOfflineAudioContextCurrentTimeSupport"),lBe=o(()=>new DOMException("","UnknownError"),"createUnknownError"),uBe=o(()=>typeof window>"u"?null:window,"createWindow$1"),cBe=o((t,e)=>n=>{n.copyFromChannel=(r,i,s=0)=>{const a=t(s),l=t(i);if(l>=n.numberOfChannels)throw e();const u=n.length,c=n.getChannelData(l),f=r.length;for(let h=a<0?-a:0;h+a<u&&h<f;h+=1)r[h]=c[h+a]},n.copyToChannel=(r,i,s=0)=>{const a=t(s),l=t(i);if(l>=n.numberOfChannels)throw e();const u=n.length,c=n.getChannelData(l),f=r.length;for(let h=a<0?-a:0;h+a<u&&h<f;h+=1)c[h+a]=r[h]}},"createWrapAudioBufferCopyChannelMethods"),fBe=o(t=>e=>{e.copyFromChannel=(n=>(r,i,s=0)=>{const a=t(s),l=t(i);if(a<e.length)return n.call(e,r,l,a)})(e.copyFromChannel),e.copyToChannel=(n=>(r,i,s=0)=>{const a=t(s),l=t(i);if(a<e.length)return n.call(e,r,l,a)})(e.copyToChannel)},"createWrapAudioBufferCopyChannelMethodsOutOfBounds"),hBe=o(t=>(e,n)=>{const r=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),t(e,"buffer",i=>()=>{const s=i.call(e);return s===r?null:s},i=>s=>i.call(e,s===null?r:s))},"createWrapAudioBufferSourceNodeStopMethodNullifiedBuffer"),dBe=o((t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:o(()=>1,"get"),set:o(()=>{throw t()},"set")}),Object.defineProperty(r,"channelCountMode",{get:o(()=>"explicit","get"),set:o(()=>{throw t()},"set")});const i=n.createBufferSource();e(r,o(()=>{const l=r.numberOfInputs;for(let u=0;u<l;u+=1)i.connect(r,0,u)},"whenConnected"),o(()=>i.disconnect(r),"whenDisconnected"))},"createWrapChannelMergerNode"),pBe=o((t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),"getFirstSample"),fN=o((t,e,n,r)=>{let i=t;for(;!i.hasOwnProperty(e);)i=Object.getPrototypeOf(i);const{get:s,set:a}=Object.getOwnPropertyDescriptor(i,e);Object.defineProperty(t,e,{get:n(s),set:r(a)})},"overwriteAccessors"),mBe=o(t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),"sanitizeAudioWorkletNodeOptions"),hY=o((t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(r.code!==9)throw r;hY(t,e,n+1e-7)}},"setValueAtTimeUntilPossible"),gBe=o(t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},"testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport"),yBe=o(t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},"testAudioBufferSourceNodeStartMethodOffsetClampingSupport"),_Be=o(t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},"testAudioBufferSourceNodeStopMethodNullifiedBufferSupport"),dY=o(t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},"testAudioScheduledSourceNodeStartMethodNegativeParametersSupport"),bBe=o(t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},"testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport"),pY=o(t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},"testAudioScheduledSourceNodeStopMethodNegativeParametersSupport"),wBe=o(t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},"testAudioWorkletNodeOptionsClonability"),vBe=o(t=>{t.start=(e=>(n=0,r=0,i)=>{const s=t.buffer,a=s===null?r:Math.min(s.duration,r);s!==null&&a>s.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,a,i)})(t.start)},"wrapAudioBufferSourceNodeStartMethodOffsetClamping"),EBe=o((t,e)=>{const n=e.createGain();t.connect(n);const r=(i=>()=>{i.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),fY(t,n),t.stop=(i=>{let s=!1;return(a=0)=>{if(s)try{i.call(t,a)}catch{n.gain.setValueAtTime(0,a)}else i.call(t,a),s=!0}})(t.stop)},"wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls"),Kx=o((t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},"wrapEventListener$1"),xBe=p8e(wh),TBe=w8e(wh),SBe=a5e(Gx),kBe=new WeakMap,ABe=_5e(kBe),am=n5e(new Map,new WeakMap),Ca=uBe(),mY=y5e(pi),hN=tBe(pi,mY,Gf),qf=v5e(YK),lm=Q5e(Ca),Rl=I5e(lm),gY=new WeakMap,yY=d5e(Kx),Yx=F5e(Ca),CBe=k5e(Yx),_Y=A5e(Ca),IBe=C5e(Ca),ly=U5e(Ca),Xx=K8e(m8e(HK),b8e(xBe,TBe,$C,SBe,LC,pi,ABe,m1,yo,wh,hf,Gf,Rb),am,S5e(OC,LC,pi,yo,ay,hf),bh,T5e,vh,o5e($C,OC,pi,yo,ay,qf,hf,Rl),c5e(gY,pi,Ao),yY,qf,CBe,_Y,IBe,Rl,ly),RBe=new WeakSet,y8=P5e(Ca),bY=s5e(new Uint32Array(1)),OBe=cBe(bY,bh),NBe=fBe(bY),MBe=S8e(RBe,am,vh,y8,lm,sBe(y8),OBe,NBe),dN=v8e(rc),wY=nBe(mY,g1,Gf),vY=r5e(wY),Jx=L5e(dN,am,gBe,yBe,_Be,dY,bBe,pY,vBe,hBe(fN),EBe),EY=eBe(b5e(g1),wY),DBe=C8e(vY,Jx,yo,EY,hN),pN=Y8e(g8e(qK),gY,KK,X8e,l8e,u8e,c8e,f8e,h8e,CC,jK,Yx,hY),PBe=A8e(Xx,DBe,pN,_o,Jx,qf,Rl,Kx),$Be=L8e(Xx,F8e,bh,_o,B5e(rc,fN),qf,Rl,hN),Zx=D5e(wh,_Y),LBe=dBe(_o,Zx),mN=K5e(Yx,LBe),FBe=J5e(dN,Jx,rc,Zx),gN=X5e(dN,am,FBe,dY,pY),BBe=rBe(am,rc,cN,aBe(rc,lm)),UBe=B8e(pN,mN,gN,cN,vh,pBe,Rl,fN),xY=new WeakMap,zBe=M5e($Be,UBe,yY,Rl,xY,Kx),TY=R5e(Ca),yN=p5e(Ca),SY=new WeakMap,VBe=E5e(SY,lm),_8=TY?_8e(am,vh,h5e(Ca),yN,m5e(d8e),qf,VBe,Rl,ly,new WeakMap,new WeakMap,oBe(ly,lm),Ca):void 0,jBe=O5e(Xx,Z5e,qf,Rl),kY=x5e(xY),WBe=E8e(kY),AY=i5e(bh),HBe=l5e(kY),CY=f5e(bh),IY=new WeakMap,GBe=g5e(IY,Ao),qBe=q5e(AY,bh,_o,mN,cY,gN,rc,cN,vh,CY,yN,GBe,Zx),KBe=V5e(_o,qBe,rc,vh,Zx),YBe=t5e(vY,AY,Jx,mN,cY,gN,rc,HBe,CY,yN,yo,ly,lm,EY,hN,BBe),XBe=w5e(SY),JBe=iBe(IY),b8=TY?Z8e(WBe,Xx,pN,YBe,KBe,pi,XBe,qf,Rl,ly,mBe,JBe,wBe,Kx):void 0,ZBe=N5e(_o,vh,lBe,zBe,Yx),RY="Missing AudioWorklet support. Maybe this is not running in a secure context.",QBe=o(async(t,e,n,r,i)=>{const{encoderInstanceId:s,port:a}=await zK(i,e.sampleRate);if(b8===void 0)throw new Error(RY);const l=t===null?null:new PBe(e,{buffer:t}),u=new jBe(e,{mediaStream:r}),c=i8e(b8,e,{channelCount:n});return{audioBufferSourceNode:l,encoderInstanceId:s,mediaStreamAudioSourceNode:u,port:a,recorderAudioWorkletNode:c}},"createPromisedAudioNodesEncoderInstanceIdAndPort"),eUe=o((t,e,n,r)=>(i,s,a)=>{var l;const u=(l=s.getAudioTracks()[0])===null||l===void 0?void 0:l.getSettings().sampleRate,c=new ZBe({latencyHint:"playback",sampleRate:u}),f=MediaRecorder.isTypeSupported("audio/mp4")?new MBe({length:2688,sampleRate:c.sampleRate}):null,h=[],d=r8e(x=>{if(_8===void 0)throw new Error(RY);return _8(c,x)});let p=null,m=null,y=null,_=null,b=!0;const S=o(x=>{i.dispatchEvent(t("dataavailable",{data:new Blob(x,{type:a})}))},"dispatchDataAvailableEvent"),v=o(async(x,E)=>{const T=await Kv(x,E);y===null?h.push(...T):(S(T),_=v(x,E))},"requestNextPartialRecording"),k=o(()=>(b=!0,c.resume()),"resume"),C=o(()=>{y!==null&&(p!==null&&(s.removeEventListener("addtrack",p),s.removeEventListener("removetrack",p)),m!==null&&clearTimeout(m),y.then(async({encoderInstanceId:x,mediaStreamAudioSourceNode:E,recorderAudioWorkletNode:T})=>{_!==null&&(_.catch(()=>{}),_=null),await T.stop(),E.disconnect(T);const O=await Kv(x,null);y===null&&await R(),S([...h,...O]),h.length=0,i.dispatchEvent(new Event("stop"))}),y=null)},"stop"),R=o(()=>(b=!1,c.suspend()),"suspend");return R(),{get mimeType(){return a},get state(){return y===null?"inactive":b?"recording":"paused"},pause(){if(y===null)throw n();b&&(R(),i.dispatchEvent(new Event("pause")))},resume(){if(y===null)throw n();b||(k(),i.dispatchEvent(new Event("resume")))},start(x){var E;if(y!==null)throw n();if(s.getVideoTracks().length>0)throw r();i.dispatchEvent(new Event("start"));const T=s.getAudioTracks(),O=T.length===0?2:(E=T[0].getSettings().channelCount)!==null&&E!==void 0?E:2;y=Promise.all([k(),d.then(()=>QBe(f,c,O,s,a))]).then(async([,{audioBufferSourceNode:I,encoderInstanceId:M,mediaStreamAudioSourceNode:V,port:j,recorderAudioWorkletNode:H}])=>(V.connect(H),I!==null&&(await new Promise(q=>{I.onended=q,I.connect(H),I.start()}),I.disconnect(H)),await H.record(j),x!==void 0&&(_=v(M,x)),{encoderInstanceId:M,mediaStreamAudioSourceNode:V,recorderAudioWorkletNode:H}));const N=s.getTracks();p=o(()=>{C(),i.dispatchEvent(new ErrorEvent("error",{error:e()}))},"abortRecording"),s.addEventListener("addtrack",p),s.addEventListener("removetrack",p),m=setInterval(()=>{const I=s.getTracks();(I.length!==N.length||I.some((M,V)=>M!==N[V]))&&p!==null&&p()},1e3)},stop:C}},"createWebAudioMediaRecorderFactory");class yS{static{o(this,"MultiBufferDataView")}constructor(e,n=0,r){if(n<0||r!==void 0&&r<0)throw new RangeError;const i=e.reduce((f,h)=>f+h.byteLength,0);if(n>i||r!==void 0&&n+r>i)throw new RangeError;const s=[],a=r===void 0?i-n:r,l=[];let u=0,c=n;for(const f of e)if(l.length===0)if(f.byteLength>c){u=f.byteLength-c;const h=u>a?a:u;s.push(new DataView(f,c,h)),l.push(f)}else c-=f.byteLength;else if(u<a){u+=f.byteLength;const h=u>a?f.byteLength-u+a:f.byteLength;s.push(new DataView(f,0,h)),l.push(f)}this._buffers=l,this._byteLength=a,this._byteOffset=c,this._dataViews=s,this._internalBuffer=new DataView(new ArrayBuffer(8))}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get byteOffset(){return this._byteOffset}getFloat32(e,n){return this._internalBuffer.setUint8(0,this.getUint8(e+0)),this._internalBuffer.setUint8(1,this.getUint8(e+1)),this._internalBuffer.setUint8(2,this.getUint8(e+2)),this._internalBuffer.setUint8(3,this.getUint8(e+3)),this._internalBuffer.getFloat32(0,n)}getFloat64(e,n){return this._internalBuffer.setUint8(0,this.getUint8(e+0)),this._internalBuffer.setUint8(1,this.getUint8(e+1)),this._internalBuffer.setUint8(2,this.getUint8(e+2)),this._internalBuffer.setUint8(3,this.getUint8(e+3)),this._internalBuffer.setUint8(4,this.getUint8(e+4)),this._internalBuffer.setUint8(5,this.getUint8(e+5)),this._internalBuffer.setUint8(6,this.getUint8(e+6)),this._internalBuffer.setUint8(7,this.getUint8(e+7)),this._internalBuffer.getFloat64(0,n)}getInt16(e,n){return this._internalBuffer.setUint8(0,this.getUint8(e+0)),this._internalBuffer.setUint8(1,this.getUint8(e+1)),this._internalBuffer.getInt16(0,n)}getInt32(e,n){return this._internalBuffer.setUint8(0,this.getUint8(e+0)),this._internalBuffer.setUint8(1,this.getUint8(e+1)),this._internalBuffer.setUint8(2,this.getUint8(e+2)),this._internalBuffer.setUint8(3,this.getUint8(e+3)),this._internalBuffer.getInt32(0,n)}getInt8(e){const[n,r]=this._findDataViewWithOffset(e);return n.getInt8(e-r)}getUint16(e,n){return this._internalBuffer.setUint8(0,this.getUint8(e+0)),this._internalBuffer.setUint8(1,this.getUint8(e+1)),this._internalBuffer.getUint16(0,n)}getUint32(e,n){return this._internalBuffer.setUint8(0,this.getUint8(e+0)),this._internalBuffer.setUint8(1,this.getUint8(e+1)),this._internalBuffer.setUint8(2,this.getUint8(e+2)),this._internalBuffer.setUint8(3,this.getUint8(e+3)),this._internalBuffer.getUint32(0,n)}getUint8(e){const[n,r]=this._findDataViewWithOffset(e);return n.getUint8(e-r)}setFloat32(e,n,r){this._internalBuffer.setFloat32(0,n,r),this.setUint8(e,this._internalBuffer.getUint8(0)),this.setUint8(e+1,this._internalBuffer.getUint8(1)),this.setUint8(e+2,this._internalBuffer.getUint8(2)),this.setUint8(e+3,this._internalBuffer.getUint8(3))}setFloat64(e,n,r){this._internalBuffer.setFloat64(0,n,r),this.setUint8(e,this._internalBuffer.getUint8(0)),this.setUint8(e+1,this._internalBuffer.getUint8(1)),this.setUint8(e+2,this._internalBuffer.getUint8(2)),this.setUint8(e+3,this._internalBuffer.getUint8(3)),this.setUint8(e+4,this._internalBuffer.getUint8(4)),this.setUint8(e+5,this._internalBuffer.getUint8(5)),this.setUint8(e+6,this._internalBuffer.getUint8(6)),this.setUint8(e+7,this._internalBuffer.getUint8(7))}setInt16(e,n,r){this._internalBuffer.setInt16(0,n,r),this.setUint8(e,this._internalBuffer.getUint8(0)),this.setUint8(e+1,this._internalBuffer.getUint8(1))}setInt32(e,n,r){this._internalBuffer.setInt32(0,n,r),this.setUint8(e,this._internalBuffer.getUint8(0)),this.setUint8(e+1,this._internalBuffer.getUint8(1)),this.setUint8(e+2,this._internalBuffer.getUint8(2)),this.setUint8(e+3,this._internalBuffer.getUint8(3))}setInt8(e,n){const[r,i]=this._findDataViewWithOffset(e);r.setInt8(e-i,n)}setUint16(e,n,r){this._internalBuffer.setUint16(0,n,r),this.setUint8(e,this._internalBuffer.getUint8(0)),this.setUint8(e+1,this._internalBuffer.getUint8(1))}setUint32(e,n,r){this._internalBuffer.setUint32(0,n,r),this.setUint8(e,this._internalBuffer.getUint8(0)),this.setUint8(e+1,this._internalBuffer.getUint8(1)),this.setUint8(e+2,this._internalBuffer.getUint8(2)),this.setUint8(e+3,this._internalBuffer.getUint8(3))}setUint8(e,n){const[r,i]=this._findDataViewWithOffset(e);r.setUint8(e-i,n)}_findDataViewWithOffset(e){let n=0;for(const r of this._dataViews){const i=n+r.byteLength;if(e>=n&&e<i)return[r,n];n=i}throw new RangeError}}const tUe=o((t,e,n)=>(r,i,s,a)=>{const l=[],u=new i(s,{mimeType:"audio/webm; codecs=pcm"});let c=null,f=o(()=>{},"stopRecording");const h=o(m=>{r.dispatchEvent(t("dataavailable",{data:new Blob(m,{type:a})}))},"dispatchDataAvailableEvent"),d=o(async(m,y)=>{const _=await Kv(m,y);u.state==="inactive"?l.push(..._):(h(_),c=d(m,y))},"requestNextPartialRecording"),p=o(()=>{u.state!=="inactive"&&(c!==null&&(c.catch(()=>{}),c=null),f(),f=o(()=>{},"stopRecording"),u.stop())},"stop");return u.addEventListener("error",m=>{p(),r.dispatchEvent(new ErrorEvent("error",{error:m.error}))}),u.addEventListener("pause",()=>r.dispatchEvent(new Event("pause"))),u.addEventListener("resume",()=>r.dispatchEvent(new Event("resume"))),u.addEventListener("start",()=>r.dispatchEvent(new Event("start"))),{get mimeType(){return a},get state(){return u.state},pause(){return u.pause()},resume(){return u.resume()},start(m){const[y]=s.getAudioTracks();if(y!==void 0&&u.state==="inactive"){const{channelCount:_,sampleRate:b}=y.getSettings();if(_===void 0)throw new Error("The channelCount is not defined.");if(b===void 0)throw new Error("The sampleRate is not defined.");let S=!1,v=!1,k=0,C=zK(a,b);f=o(()=>{v=!0},"stopRecording");const R=VK(u,"dataavailable")(({data:x})=>{k+=1;const E=x.arrayBuffer();C=C.then(async({dataView:T=null,elementType:O=null,encoderInstanceId:N,port:I})=>{const M=await E;k-=1;const V=T===null?new yS([M]):new yS([...T.buffers,M],T.byteOffset);if(!S&&u.state==="recording"&&!v){const Z=n(V,0);if(Z===null)return{dataView:V,elementType:O,encoderInstanceId:N,port:I};const{value:ue}=Z;if(ue!==172351395)return{dataView:T,elementType:O,encoderInstanceId:N,port:I};S=!0}const{currentElementType:j,offset:H,contents:q}=e(V,O,_),te=H<V.byteLength?new yS(V.buffers,V.byteOffset+H):null;return q.forEach(Z=>I.postMessage(Z,Z.map(({buffer:ue})=>ue))),k===0&&(u.state==="inactive"||v)&&(Kv(N,null).then(Z=>{h([...l,...Z]),l.length=0,r.dispatchEvent(new Event("stop"))}),I.postMessage([]),I.close(),R()),{dataView:te,elementType:j,encoderInstanceId:N,port:I}})});m!==void 0&&C.then(({encoderInstanceId:x})=>{v||(c=d(x,m))})}u.start(100)},stop:p}},"createWebmPcmMediaRecorderFactory"),nUe=o(()=>typeof window>"u"?null:window,"createWindow"),OY=o((t,e)=>{if(e>=t.byteLength)return null;const n=t.getUint8(e);if(n>127)return 1;if(n>63)return 2;if(n>31)return 3;if(n>15)return 4;if(n>7)return 5;if(n>3)return 6;if(n>1)return 7;if(n>0)return 8;const r=OY(t,e+1);return r===null?null:r+8},"readVariableSizeIntegerLength"),rUe=o((t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},"wrapEventListener"),NY=[],_N=nUe(),iUe=UFe(_N),MY=MFe(iUe),sUe=eUe(MY,LFe,FFe,AC),bN=HFe(OY),oUe=jFe(bN),aUe=WFe(bN),lUe=DFe(oUe,aUe),uUe=tUe(MY,lUe,bN),cUe=$Fe(_N),fUe=zFe(_N),eje=BFe(VFe(AC),AC,sUe,uUe,NY,PFe(cUe,rUe),fUe),hUe=new WeakMap,tje=o(async t=>{const e=await NFe(t);NY.push(e),hUe.set(t,e)},"register"),dUe=BK({characterize:o(({call:t})=>()=>t("characterize"),"characterize"),encode:o(({call:t})=>(e,n)=>t("encode",{recordingId:e,timeslice:n}),"encode"),record:o(({call:t})=>async(e,n,r)=>{await t("record",{recordingId:e,sampleRate:n,typedArrays:r},r.map(({buffer:i})=>i))},"record")}),pUe=o(t=>{const e=new Worker(t);return dUe(e)},"load"),mUe=`(()=>{var e={455:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,s=536870912,a=2*s,o=function(e,t){return function(r){var o=t.get(r),i=void 0===o?r.size:o<a?o+1:0;if(!r.has(i))return e(r,i);if(r.size<s){for(;r.has(i);)i=Math.floor(Math.random()*a);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,c=r(i),l=o(c,i),u=t(l);e.addUniqueNumber=u,e.generateUniqueNumber=l}(t)}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}(()=>{"use strict";const e=-32603,t=-32602,n=-32601,s=(e,t)=>Object.assign(new Error(e),{status:t}),a=t=>s('The handler of the method called "'.concat(t,'" returned an unexpected result.'),e),o=(t,r)=>async({data:{id:o,method:i,params:c}})=>{const l=r[i];try{if(void 0===l)throw(e=>s('The requested method called "'.concat(e,'" is not supported.'),n))(i);const r=void 0===c?l():l(c);if(void 0===r)throw(t=>s('The handler of the method called "'.concat(t,'" returned no required result.'),e))(i);const u=r instanceof Promise?await r:r;if(null===o){if(void 0!==u.result)throw a(i)}else{if(void 0===u.result)throw a(i);const{result:e,transferables:r=[]}=u;t.postMessage({id:o,result:e},r)}}catch(e){const{message:r,status:n=-32603}=e;t.postMessage({error:{code:n,message:r},id:o})}};var i=r(455);const c=new Map,l=(e,r,n)=>({...r,connect:({port:t})=>{t.start();const n=e(t,r),s=(0,i.generateUniqueNumber)(c);return c.set(s,(()=>{n(),t.close(),c.delete(s)})),{result:s}},disconnect:({portId:e})=>{const r=c.get(e);if(void 0===r)throw(e=>s('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),t))(e);return r(),{result:null}},isSupported:async()=>{if(await new Promise((e=>{const t=new ArrayBuffer(0),{port1:r,port2:n}=new MessageChannel;r.onmessage=({data:t})=>e(null!==t),n.postMessage(t,[t])}))){const e=n();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),u=(e,t,r=()=>!0)=>{const n=l(u,t,r),s=o(e,n);return e.addEventListener("message",s),()=>e.removeEventListener("message",s)},d=e=>e.reduce(((e,t)=>e+t.length),0),h=(e,t)=>{const r=[];let n=0;e:for(;n<t;){const t=e.length;for(let s=0;s<t;s+=1){const t=e[s];void 0===r[s]&&(r[s]=[]);const a=t.shift();if(void 0===a)break e;r[s].push(a),0===s&&(n+=a.length)}}if(n>t){const s=n-t;r.forEach(((t,r)=>{const n=t.pop(),a=n.length-s;t.push(n.subarray(0,a)),e[r].unshift(n.subarray(a))}))}return r},f=new Map,m=(e=>(t,r,n)=>{const s=e.get(t);if(void 0===s){const s={channelDataArrays:n.map((e=>[e])),isComplete:!0,sampleRate:r};return e.set(t,s),s}return s.channelDataArrays.forEach(((e,t)=>e.push(n[t]))),s})(f),p=((e,t)=>(r,n,s,a)=>{const o=s>>3,i="subsequent"===n?0:44,c=r.length,l=e(r[0]),u=new ArrayBuffer(l*c*o+i),d=new DataView(u);return"subsequent"!==n&&t(d,s,c,"complete"===n?l:Number.POSITIVE_INFINITY,a),r.forEach(((e,t)=>{let r=i+t*o;e.forEach((e=>{const t=e.length;for(let n=0;n<t;n+=1){const t=e[n];d.setInt16(r,t<0?32768*Math.max(-1,t):32767*Math.min(1,t),!0),r+=c*o}}))})),[u]})(d,((e,t,r,n,s)=>{const a=t>>3,o=Math.min(n*r*a,4294967251);e.setUint32(0,1380533830),e.setUint32(4,o+36,!0),e.setUint32(8,1463899717),e.setUint32(12,1718449184),e.setUint32(16,16,!0),e.setUint16(20,1,!0),e.setUint16(22,r,!0),e.setUint32(24,s,!0),e.setUint32(28,s*r*a,!0),e.setUint16(32,r*a,!0),e.setUint16(34,t,!0),e.setUint32(36,1684108385),e.setUint32(40,o,!0)})),v=new Map;u(self,{characterize:()=>({result:/^audio\\/wav$/}),encode:({recordingId:e,timeslice:t})=>{const r=v.get(e);void 0!==r&&(v.delete(e),r.reject(new Error("Another request was made to initiate an encoding.")));const n=f.get(e);if(null!==t){if(void 0===n||d(n.channelDataArrays[0])*(1e3/n.sampleRate)<t)return new Promise(((r,n)=>{v.set(e,{reject:n,resolve:r,timeslice:t})}));const r=h(n.channelDataArrays,Math.ceil(t*(n.sampleRate/1e3))),s=p(r,n.isComplete?"initial":"subsequent",16,n.sampleRate);return n.isComplete=!1,{result:s,transferables:s}}if(void 0!==n){const t=p(n.channelDataArrays,n.isComplete?"complete":"subsequent",16,n.sampleRate);return f.delete(e),{result:t,transferables:t}}return{result:[],transferables:[]}},record:({recordingId:e,sampleRate:t,typedArrays:r})=>{const n=m(e,t,r),s=v.get(e);if(void 0!==s&&d(n.channelDataArrays[0])*(1e3/t)>=s.timeslice){const r=h(n.channelDataArrays,Math.ceil(s.timeslice*(t/1e3))),a=p(r,n.isComplete?"initial":"subsequent",16,t);n.isComplete=!1,v.delete(e),s.resolve({result:a,transferables:a})}return{result:null}}})})()})();`,gUe=new Blob([mUe],{type:"application/javascript; charset=utf-8"}),DY=URL.createObjectURL(gUe),yUe=pUe(DY),nje=yUe.connect;URL.revokeObjectURL(DY);function PY(t,e=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY){return Math.min(n,Math.max(e,t))}o(PY,"clamp");function wN(t,e){const n=typeof t=="string"&&!e?`${t}Context`:e,r=Symbol(n);return[o(a=>{const l=Td(r,a);if(l||l===null)return l;throw new Error(`Injection \`${r.toString()}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`)},"injectContext"),o(a=>(EI(r,a),a),"provideContext")]}o(wN,"createContext");function $Y(t){return t?t.flatMap(e=>e.type===cr?$Y(e.children):[e]):[]}o($Y,"renderSlotFragments");const[_Ue,rje]=wN("ConfigProvider");typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const bUe=o(t=>typeof t<"u","isDef"),wUe=Ho;function Qx(t){var e;const n=Ho(t);return(e=n?.$el)!=null?e:n}o(Qx,"unrefElement");function vUe(){const t=s0(!1),e=Ui();return e&&ac(()=>{t.value=!0},e),t}o(vUe,"useMounted");function EUe(t){return JSON.parse(JSON.stringify(t))}o(EUe,"cloneFnJSON");function xUe(t,e,n,r={}){var i,s,a;const{clone:l=!1,passive:u=!1,eventName:c,deep:f=!1,defaultValue:h,shouldEmit:d}=r,p=Ui(),m=n||p?.emit||((i=p?.$emit)==null?void 0:i.bind(p))||((a=(s=p?.proxy)==null?void 0:s.$emit)==null?void 0:a.bind(p?.proxy));let y=c;y=y||`update:${e.toString()}`;const _=o(v=>l?typeof l=="function"?l(v):EUe(v):v,"cloneFn"),b=o(()=>bUe(t[e])?_(t[e]):h,"getValue2"),S=o(v=>{d?d(v)&&m(y,v):m(y,v)},"triggerEmit");if(u){const v=b(),k=Ce(v);let C=!1;return Zt(()=>t[e],R=>{C||(C=!0,k.value=_(R),bf(()=>C=!1))}),Zt(k,R=>{!C&&(R!==t[e]||f)&&S(R)},{deep:f}),k}else return We({get(){return b()},set(v){S(v)}})}o(xUe,"useVModel");function TUe(t){const e=_Ue({dir:Ce("ltr")});return We(()=>t?.value||e.dir?.value||"ltr")}o(TUe,"useDirection");function SUe(t){const e=Ui(),n=e?.type.emits,r={};return n?.length||console.warn(`No emitted event found. Please check component: ${e?.type.__name}`),n?.forEach(i=>{r[mg(gi(i))]=(...s)=>t(i,...s)}),r}o(SUe,"useEmitAsProps");function kUe(t){return We(()=>wUe(t)?!!Qx(t)?.closest("form"):!0)}o(kUe,"useFormControl");function Eh(){const t=Ui(),e=Ce(),n=We(()=>["#text","#comment"].includes(e.value?.$el.nodeName)?e.value?.$el.nextElementSibling:Qx(e)),r=Object.assign({},t.exposed),i={};for(const a in t.props)Object.defineProperty(i,a,{enumerable:!0,configurable:!0,get:o(()=>t.props[a],"get")});if(Object.keys(r).length>0)for(const a in r)Object.defineProperty(i,a,{enumerable:!0,configurable:!0,get:o(()=>r[a],"get")});Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:o(()=>t.vnode.el,"get")}),t.exposed=i;function s(a){e.value=a,a&&(Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:o(()=>a instanceof Element?a:a.$el,"get")}),t.exposed=i)}return o(s,"forwardRef"),{forwardRef:s,currentRef:e,currentElement:n}}o(Eh,"useForwardExpose");function AUe(t){const e=Ui(),n=Object.keys(e?.type.props??{}).reduce((i,s)=>{const a=(e?.type.props[s]).default;return a!==void 0&&(i[s]=a),i},{}),r=nB(t);return We(()=>{const i={},s=e?.vnode.props??{};return Object.keys(s).forEach(a=>{i[gi(a)]=s[a]}),Object.keys({...n,...i}).reduce((a,l)=>(r.value[l]!==void 0&&(a[l]=r.value[l]),a),{})})}o(AUe,"useForwardProps");function ije(t,e){const n=AUe(t),r=e?SUe(e):{};return We(()=>({...n.value,...r}))}o(ije,"useForwardPropsEmits");function CUe(t){const e=Ce(),n=We(()=>e.value?.width??0),r=We(()=>e.value?.height??0);return ac(()=>{const i=Qx(t);if(i){e.value={width:i.offsetWidth,height:i.offsetHeight};const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let u,c;if("borderBoxSize"in l){const f=l.borderBoxSize,h=Array.isArray(f)?f[0]:f;u=h.inlineSize,c=h.blockSize}else u=i.offsetWidth,c=i.offsetHeight;e.value={width:u,height:c}});return s.observe(i,{box:"border-box"}),()=>s.unobserve(i)}else e.value=void 0}),{width:n,height:r}}o(CUe,"useSize");const FC=Hr({name:"PrimitiveSlot",inheritAttrs:!1,setup(t,{attrs:e,slots:n}){return()=>{if(!n.default)return null;const r=$Y(n.default()),i=r.findIndex(u=>u.type!==fr);if(i===-1)return r;const s=r[i];delete s.props?.ref;const a=s.props?El(e,s.props):e,l=vl({...s,props:{}},a);return r.length===1?l:(r[i]=l,r)}}}),IUe=["area","img","input"],b1=Hr({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(t,{attrs:e,slots:n}){const r=t.asChild?"template":t.as;return typeof r=="string"&&IUe.includes(r)?()=>kd(r,e):r!=="template"?()=>kd(t.as,e,{default:n.default}):()=>kd(FC,e,{default:n.default})}});function BC(){const t=Ce(),e=We(()=>["#text","#comment"].includes(t.value?.$el.nodeName)?t.value?.$el.nextElementSibling:Qx(t));return{primitiveElement:t,currentElement:e}}o(BC,"usePrimitiveElement");const w8="data-reka-collection-item";function vN(t={}){const{key:e="",isProvider:n=!1}=t,r=`${e}CollectionProvider`;let i;if(n){const f=Ce(new Map);i={collectionRef:Ce(),itemMap:f},EI(r,i)}else i=Td(r);const s=o((f=!1)=>{const h=i.collectionRef.value;if(!h)return[];const d=Array.from(h.querySelectorAll(`[${w8}]`)),m=Array.from(i.itemMap.value.values()).sort((y,_)=>d.indexOf(y.ref)-d.indexOf(_.ref));return f?m:m.filter(y=>y.ref.dataset.disabled!=="")},"getItems"),a=Hr({name:"CollectionSlot",setup(f,{slots:h}){const{primitiveElement:d,currentElement:p}=BC();return Zt(p,()=>{i.collectionRef.value=p.value}),()=>kd(FC,{ref:d},h)}}),l=Hr({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:o(()=>!0,"validator")}},setup(f,{slots:h,attrs:d}){const{primitiveElement:p,currentElement:m}=BC();return $B(y=>{if(m.value){const _=Q5(m.value);i.itemMap.value.set(_,{ref:m.value,value:f.value}),y(()=>i.itemMap.value.delete(_))}}),()=>kd(FC,{...d,[w8]:"",ref:p},h)}}),u=We(()=>Array.from(i.itemMap.value.values())),c=We(()=>i.itemMap.value.size);return{getItems:s,reactiveItems:u,itemMapSize:c,CollectionSlot:a,CollectionItem:l}}o(vN,"useCollection");var RUe=Hr({__name:"VisuallyHidden",props:{feature:{type:String,required:!1,default:"focusable"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){return(e,n)=>(Un(),Ar(ke(b1),{as:e.as,"as-child":e.asChild,"aria-hidden":e.feature==="focusable"?"true":void 0,"data-hidden":e.feature==="fully-hidden"?"":void 0,tabindex:e.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal"}},{default:Ps(()=>[Pl(e.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}}),OUe=RUe,NUe=Hr({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(t){const e=t,{primitiveElement:n,currentElement:r}=BC(),i=We(()=>e.checked??e.value);return Zt(i,(s,a)=>{if(!r.value)return;const l=r.value,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(f&&s!==a){const h=new Event("input",{bubbles:!0}),d=new Event("change",{bubbles:!0});f.call(l,s),l.dispatchEvent(h),l.dispatchEvent(d)}}),(s,a)=>(Un(),Ar(OUe,El({ref_key:"primitiveElement",ref:n},{...e,...s.$attrs},{as:"input"}),null,16))}}),v8=NUe,MUe=Hr({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(t){const e=t,n=We(()=>typeof e.value=="object"&&Array.isArray(e.value)&&e.value.length===0&&e.required),r=We(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"||e.value===null||e.value===void 0?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((i,s)=>typeof i=="object"?Object.entries(i).map(([a,l])=>({name:`${e.name}[${s}][${a}]`,value:l})):{name:`${e.name}[${s}]`,value:i}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([i,s])=>({name:`${e.name}[${i}]`,value:s})):[]);return(i,s)=>(Un(),vD(cr,null,[GB(" We render single input if it's required "),n.value?(Un(),Ar(v8,El({key:i.name},{...e,...i.$attrs},{name:i.name,value:i.value}),null,16,["name","value"])):(Un(!0),vD(cr,{key:1},bre(r.value,a=>(Un(),Ar(v8,El({key:a.name},{ref_for:!0},{...e,...i.$attrs},{name:a.name,value:a.value}),null,16,["name","value"]))),128))],2112))}}),DUe=MUe;function PUe(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}o(PUe,"getNextSortedValues");function LY(t,e,n){const s=100/(n-e)*(t-e);return PY(s,0,100)}o(LY,"convertValueToPercentage");function $Ue(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}o($Ue,"getLabel");function LUe(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}o(LUe,"getClosestValueIndex");function FUe(t,e,n){const r=t/2,s=EN([0,50],[0,r]);return(r-s(e)*n)*n}o(FUe,"getThumbInBoundsOffset");function BUe(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}o(BUe,"getStepsBetweenValues");function UUe(t,e){if(e>0){const n=BUe(t);return Math.min(...n)>=e}return!0}o(UUe,"hasMinStepsBetweenValues");function EN(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}o(EN,"linearScale");function zUe(t){return(String(t).split(".")[1]||"").length}o(zUe,"getDecimalCount");function VUe(t,e){const n=10**e;return Math.round(t*n)/n}o(VUe,"roundValue");const FY=["PageUp","PageDown"],BY=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],UY={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageUp","ArrowUp","ArrowLeft"]},[zY,VY]=wN(["SliderVertical","SliderHorizontal"]);var jUe=Hr({__name:"SliderHorizontal",props:{dir:{type:String,required:!1},min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(t,{emit:e}){const n=t,r=e,{max:i,min:s,dir:a,inverted:l}=Kd(n),{forwardRef:u,currentElement:c}=Eh(),f=um(),h=Ce(),d=Ce(),p=We(()=>a?.value!=="rtl"&&!l.value||a?.value!=="ltr"&&l.value);function m(S,v){const k=d.value||c.value.getBoundingClientRect(),C=[...f.thumbElements.value][f.valueIndexToChangeRef.value],R=f.thumbAlignment.value==="contain"?C.clientWidth:0;!h.value&&!v&&f.thumbAlignment.value==="contain"&&(h.value=S.clientX-C.getBoundingClientRect().left);const x=[0,k.width-R],E=p.value?[s.value,i.value]:[i.value,s.value],T=EN(x,E);d.value=k;const O=v?S.clientX-k.left-R/2:S.clientX-k.left-(h.value??0);return T(O)}o(m,"getValueFromPointerEvent");const y=We(()=>p.value?"left":"right"),_=We(()=>p.value?"right":"left"),b=We(()=>p.value?1:-1);return VY({startEdge:y,endEdge:_,direction:b,size:"width"}),(S,v)=>(Un(),Ar(jY,{ref:ke(u),dir:ke(a),"data-orientation":"horizontal",style:Qf({"--reka-slider-thumb-transform":!p.value&&ke(f).thumbAlignment.value==="overflow"?"translateX(50%)":"translateX(-50%)"}),onSlideStart:v[0]||(v[0]=k=>{const C=m(k,!0);r("slideStart",C)}),onSlideMove:v[1]||(v[1]=k=>{const C=m(k);r("slideMove",C)}),onSlideEnd:v[2]||(v[2]=()=>{d.value=void 0,h.value=void 0,r("slideEnd")}),onStepKeyDown:v[3]||(v[3]=k=>{const C=p.value?"from-left":"from-right",R=ke(UY)[C].includes(k.key);r("stepKeyDown",k,R?-1:1)}),onEndKeyDown:v[4]||(v[4]=k=>r("endKeyDown",k)),onHomeKeyDown:v[5]||(v[5]=k=>r("homeKeyDown",k))},{default:Ps(()=>[Pl(S.$slots,"default")]),_:3},8,["dir","style"]))}}),WUe=jUe,HUe=Hr({__name:"SliderVertical",props:{min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(t,{emit:e}){const n=t,r=e,{max:i,min:s,inverted:a}=Kd(n),l=um(),{forwardRef:u,currentElement:c}=Eh(),f=Ce(),h=Ce(),d=We(()=>!a.value);function p(b,S){const v=h.value||c.value.getBoundingClientRect(),k=[...l.thumbElements.value][l.valueIndexToChangeRef.value],C=l.thumbAlignment.value==="contain"?k.clientHeight:0;!f.value&&!S&&l.thumbAlignment.value==="contain"&&(f.value=b.clientY-k.getBoundingClientRect().top);const R=[0,v.height-C],x=d.value?[i.value,s.value]:[s.value,i.value],E=EN(R,x),T=S?b.clientY-v.top-C/2:b.clientY-v.top-(f.value??0);return h.value=v,E(T)}o(p,"getValueFromPointerEvent");const m=We(()=>d.value?"bottom":"top"),y=We(()=>d.value?"top":"bottom"),_=We(()=>d.value?1:-1);return VY({startEdge:m,endEdge:y,direction:_,size:"height"}),(b,S)=>(Un(),Ar(jY,{ref:ke(u),"data-orientation":"vertical",style:Qf({"--reka-slider-thumb-transform":!d.value&&ke(l).thumbAlignment.value==="overflow"?"translateY(-50%)":"translateY(50%)"}),onSlideStart:S[0]||(S[0]=v=>{const k=p(v,!0);r("slideStart",k)}),onSlideMove:S[1]||(S[1]=v=>{const k=p(v);r("slideMove",k)}),onSlideEnd:S[2]||(S[2]=()=>{h.value=void 0,f.value=void 0,r("slideEnd")}),onStepKeyDown:S[3]||(S[3]=v=>{const k=d.value?"from-bottom":"from-top",C=ke(UY)[k].includes(v.key);r("stepKeyDown",v,C?-1:1)}),onEndKeyDown:S[4]||(S[4]=v=>r("endKeyDown",v)),onHomeKeyDown:S[5]||(S[5]=v=>r("homeKeyDown",v))},{default:Ps(()=>[Pl(b.$slots,"default")]),_:3},8,["style"]))}}),GUe=HUe;const[um,qUe]=wN("SliderRoot");var KUe=Hr({inheritAttrs:!1,__name:"SliderRoot",props:{defaultValue:{type:Array,required:!1,default:o(()=>[0],"default")},modelValue:{type:[Array,null],required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:"horizontal"},dir:{type:String,required:!1},inverted:{type:Boolean,required:!1,default:!1},min:{type:Number,required:!1,default:0},max:{type:Number,required:!1,default:100},step:{type:Number,required:!1,default:1},minStepsBetweenThumbs:{type:Number,required:!1,default:0},thumbAlignment:{type:String,required:!1,default:"contain"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","valueCommit"],setup(t,{emit:e}){const n=t,r=e,{min:i,max:s,step:a,minStepsBetweenThumbs:l,orientation:u,disabled:c,thumbAlignment:f,dir:h}=Kd(n),d=TUe(h),{forwardRef:p,currentElement:m}=Eh(),y=kUe(m),{CollectionSlot:_}=vN({isProvider:!0}),b=xUe(n,"modelValue",r,{defaultValue:n.defaultValue,passive:n.modelValue===void 0}),S=We(()=>Array.isArray(b.value)?[...b.value]:[]),v=Ce(0),k=Ce(S.value);function C(O){const N=LUe(S.value,O);E(O,N)}o(C,"handleSlideStart");function R(O){E(O,v.value)}o(R,"handleSlideMove");function x(){const O=k.value[v.value];S.value[v.value]!==O&&r("valueCommit",yt(S.value))}o(x,"handleSlideEnd");function E(O,N,{commit:I}={commit:!1}){const M=zUe(a.value),V=VUe(Math.round((O-i.value)/a.value)*a.value+i.value,M),j=PY(V,i.value,s.value),H=PUe(S.value,j,N);if(UUe(H,l.value*a.value)){v.value=H.indexOf(j);const q=String(H)!==String(b.value);q&&I&&r("valueCommit",H),q&&(T.value[v.value]?.focus(),b.value=H)}}o(E,"updateValues");const T=Ce([]);return qUe({modelValue:b,currentModelValue:S,valueIndexToChangeRef:v,thumbElements:T,orientation:u,min:i,max:s,disabled:c,thumbAlignment:f}),(O,N)=>(Un(),Ar(ke(_),null,{default:Ps(()=>[(Un(),Ar(_re(ke(u)==="horizontal"?WUe:GUe),El(O.$attrs,{ref:ke(p),"as-child":O.asChild,as:O.as,min:ke(i),max:ke(s),dir:ke(d),inverted:O.inverted,"aria-disabled":ke(c),"data-disabled":ke(c)?"":void 0,onPointerdown:N[0]||(N[0]=()=>{ke(c)||(k.value=S.value)}),onSlideStart:N[1]||(N[1]=I=>!ke(c)&&C(I)),onSlideMove:N[2]||(N[2]=I=>!ke(c)&&R(I)),onSlideEnd:N[3]||(N[3]=I=>!ke(c)&&x()),onHomeKeyDown:N[4]||(N[4]=I=>!ke(c)&&E(ke(i),0,{commit:!0})),onEndKeyDown:N[5]||(N[5]=I=>!ke(c)&&E(ke(s),S.value.length-1,{commit:!0})),onStepKeyDown:N[6]||(N[6]=(I,M)=>{if(!ke(c)){const H=ke(FY).includes(I.key)||I.shiftKey&&ke(BY).includes(I.key)?10:1,q=v.value,te=S.value[q],Z=ke(a)*H*M;E(te+Z,q,{commit:!0})}})}),{default:Ps(()=>[Pl(O.$slots,"default",{modelValue:ke(b)}),ke(y)&&O.name?(Un(),Ar(ke(DUe),{key:0,type:"number",value:ke(b),name:O.name,required:O.required,disabled:ke(c),step:ke(a)},null,8,["value","name","required","disabled","step"])):GB("v-if",!0)]),_:3},16,["as-child","as","min","max","dir","inverted","aria-disabled","data-disabled"]))]),_:3}))}}),sje=KUe,YUe=Hr({__name:"SliderImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},emits:["slideStart","slideMove","slideEnd","homeKeyDown","endKeyDown","stepKeyDown"],setup(t,{emit:e}){const n=t,r=e,i=um();return(s,a)=>(Un(),Ar(ke(b1),El({"data-slider-impl":""},n,{onKeydown:a[0]||(a[0]=l=>{l.key==="Home"?(r("homeKeyDown",l),l.preventDefault()):l.key==="End"?(r("endKeyDown",l),l.preventDefault()):ke(FY).concat(ke(BY)).includes(l.key)&&(r("stepKeyDown",l),l.preventDefault())}),onPointerdown:a[1]||(a[1]=l=>{const u=l.target;u.setPointerCapture(l.pointerId),l.preventDefault(),ke(i).thumbElements.value.includes(u)?u.focus():r("slideStart",l)}),onPointermove:a[2]||(a[2]=l=>{l.target.hasPointerCapture(l.pointerId)&&r("slideMove",l)}),onPointerup:a[3]||(a[3]=l=>{const u=l.target;u.hasPointerCapture(l.pointerId)&&(u.releasePointerCapture(l.pointerId),r("slideEnd",l))})}),{default:Ps(()=>[Pl(s.$slots,"default")]),_:3},16))}}),jY=YUe,XUe=Hr({__name:"SliderRange",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const e=um(),n=zY();Eh();const r=We(()=>e.currentModelValue.value.map(a=>LY(a,e.min.value,e.max.value))),i=We(()=>e.currentModelValue.value.length>1?Math.min(...r.value):0),s=We(()=>100-Math.max(...r.value,0));return(a,l)=>(Un(),Ar(ke(b1),{"data-disabled":ke(e).disabled.value?"":void 0,"data-orientation":ke(e).orientation.value,"as-child":a.asChild,as:a.as,style:Qf({[ke(n).startEdge.value]:`${i.value}%`,[ke(n).endEdge.value]:`${s.value}%`})},{default:Ps(()=>[Pl(a.$slots,"default")]),_:3},8,["data-disabled","data-orientation","as-child","as","style"]))}}),oje=XUe,JUe=Hr({inheritAttrs:!1,__name:"SliderThumbImpl",props:{index:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,n=um(),r=zY(),{forwardRef:i,currentElement:s}=Eh(),{CollectionItem:a}=vN(),l=We(()=>n.modelValue?.value?.[e.index]),u=We(()=>l.value===void 0?0:LY(l.value,n.min.value??0,n.max.value??100)),c=We(()=>$Ue(e.index,n.modelValue?.value?.length??0)),f=CUe(s),h=We(()=>f[r.size].value),d=We(()=>n.thumbAlignment.value==="overflow"||!h.value?0:FUe(h.value,u.value,r.direction.value)),p=vUe();return ac(()=>{n.thumbElements.value.push(s.value)}),wE(()=>{const m=n.thumbElements.value.findIndex(y=>y===s.value)??-1;n.thumbElements.value.splice(m,1)}),(m,y)=>(Un(),Ar(ke(a),null,{default:Ps(()=>[An(ke(b1),El(m.$attrs,{ref:ke(i),role:"slider",tabindex:ke(n).disabled.value?void 0:0,"aria-label":m.$attrs["aria-label"]||c.value,"data-disabled":ke(n).disabled.value?"":void 0,"data-orientation":ke(n).orientation.value,"aria-valuenow":l.value,"aria-valuemin":ke(n).min.value,"aria-valuemax":ke(n).max.value,"aria-orientation":ke(n).orientation.value,"as-child":m.asChild,as:m.as,style:{transform:"var(--reka-slider-thumb-transform)",position:"absolute",[ke(r).startEdge.value]:`calc(${u.value}% + ${d.value}px)`,display:!ke(p)&&l.value===void 0?"none":void 0},onFocus:y[0]||(y[0]=()=>{ke(n).valueIndexToChangeRef.value=m.index})}),{default:Ps(()=>[Pl(m.$slots,"default")]),_:3},16,["tabindex","aria-label","data-disabled","data-orientation","aria-valuenow","aria-valuemin","aria-valuemax","aria-orientation","as-child","as","style"])]),_:3}))}}),ZUe=JUe,QUe=Hr({__name:"SliderThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const e=t,{getItems:n}=vN(),{forwardRef:r,currentElement:i}=Eh(),s=We(()=>i.value?n(!0).findIndex(a=>a.ref===i.value):-1);return(a,l)=>(Un(),Ar(ZUe,El({ref:ke(r)},e,{index:s.value}),{default:Ps(()=>[Pl(a.$slots,"default")]),_:3},16,["index"]))}}),aje=QUe,e9e=Hr({__name:"SliderTrack",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const e=um();return Eh(),(n,r)=>(Un(),Ar(ke(b1),{"as-child":n.asChild,as:n.as,"data-disabled":ke(e).disabled.value?"":void 0,"data-orientation":ke(e).orientation.value},{default:Ps(()=>[Pl(n.$slots,"default")]),_:3},8,["as-child","as","data-disabled","data-orientation"]))}}),lje=e9e;/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function w1(t){return t+.5|0}o(w1,"round");const Au=o((t,e,n)=>Math.max(Math.min(t,n),e),"lim");function hg(t){return Au(w1(t*2.55),0,255)}o(hg,"p2b");function Lu(t){return Au(w1(t*255),0,255)}o(Lu,"n2b");function ol(t){return Au(w1(t/2.55)/100,0,1)}o(ol,"b2n");function E8(t){return Au(w1(t*100),0,100)}o(E8,"n2p");const gs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},UC=[..."0123456789ABCDEF"],t9e=o(t=>UC[t&15],"h1"),n9e=o(t=>UC[(t&240)>>4]+UC[t&15],"h2"),G_=o(t=>(t&240)>>4===(t&15),"eq"),r9e=o(t=>G_(t.r)&&G_(t.g)&&G_(t.b)&&G_(t.a),"isShort");function i9e(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&gs[t[1]]*17,g:255&gs[t[2]]*17,b:255&gs[t[3]]*17,a:e===5?gs[t[4]]*17:255}:(e===7||e===9)&&(n={r:gs[t[1]]<<4|gs[t[2]],g:gs[t[3]]<<4|gs[t[4]],b:gs[t[5]]<<4|gs[t[6]],a:e===9?gs[t[7]]<<4|gs[t[8]]:255})),n}o(i9e,"hexParse");const s9e=o((t,e)=>t<255?e(t):"","alpha");function o9e(t){var e=r9e(t)?t9e:n9e;return t?"#"+e(t.r)+e(t.g)+e(t.b)+s9e(t.a,e):void 0}o(o9e,"hexString");const a9e=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function WY(t,e,n){const r=e*Math.min(n,1-n),i=o((s,a=(s+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1),"f");return[i(0),i(8),i(4)]}o(WY,"hsl2rgbn");function l9e(t,e,n){const r=o((i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0),"f");return[r(5),r(3),r(1)]}o(l9e,"hsv2rgbn");function u9e(t,e,n){const r=WY(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}o(u9e,"hwb2rgbn");function c9e(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}o(c9e,"hueValue");function xN(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),a=Math.min(n,r,i),l=(s+a)/2;let u,c,f;return s!==a&&(f=s-a,c=l>.5?f/(2-s-a):f/(s+a),u=c9e(n,r,i,f,s),u=u*60+.5),[u|0,c||0,l]}o(xN,"rgb2hsl");function TN(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Lu)}o(TN,"calln");function SN(t,e,n){return TN(WY,t,e,n)}o(SN,"hsl2rgb");function f9e(t,e,n){return TN(u9e,t,e,n)}o(f9e,"hwb2rgb");function h9e(t,e,n){return TN(l9e,t,e,n)}o(h9e,"hsv2rgb");function HY(t){return(t%360+360)%360}o(HY,"hue");function d9e(t){const e=a9e.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?hg(+e[5]):Lu(+e[5]));const i=HY(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=f9e(i,s,a):e[1]==="hsv"?r=h9e(i,s,a):r=SN(i,s,a),{r:r[0],g:r[1],b:r[2],a:n}}o(d9e,"hueParse");function p9e(t,e){var n=xN(t);n[0]=HY(n[0]+e),n=SN(n),t.r=n[0],t.g=n[1],t.b=n[2]}o(p9e,"rotate");function m9e(t){if(!t)return;const e=xN(t),n=e[0],r=E8(e[1]),i=E8(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${ol(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}o(m9e,"hslString");const x8={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},T8={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function g9e(){const t={},e=Object.keys(T8),n=Object.keys(x8);let r,i,s,a,l;for(r=0;r<e.length;r++){for(a=l=e[r],i=0;i<n.length;i++)s=n[i],l=l.replace(s,x8[s]);s=parseInt(T8[a],16),t[l]=[s>>16&255,s>>8&255,s&255]}return t}o(g9e,"unpack");let q_;function y9e(t){q_||(q_=g9e(),q_.transparent=[0,0,0,0]);const e=q_[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}o(y9e,"nameParse");const _9e=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function b9e(t){const e=_9e.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const a=+e[7];n=e[8]?hg(a):Au(a*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?hg(r):Au(r,0,255)),i=255&(e[4]?hg(i):Au(i,0,255)),s=255&(e[6]?hg(s):Au(s,0,255)),{r,g:i,b:s,a:n}}}o(b9e,"rgbParse");function w9e(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ol(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}o(w9e,"rgbString");const _S=o(t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,"to"),Jh=o(t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4),"from");function v9e(t,e,n){const r=Jh(ol(t.r)),i=Jh(ol(t.g)),s=Jh(ol(t.b));return{r:Lu(_S(r+n*(Jh(ol(e.r))-r))),g:Lu(_S(i+n*(Jh(ol(e.g))-i))),b:Lu(_S(s+n*(Jh(ol(e.b))-s))),a:t.a+n*(e.a-t.a)}}o(v9e,"interpolate");function K_(t,e,n){if(t){let r=xN(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=SN(r),t.r=r[0],t.g=r[1],t.b=r[2]}}o(K_,"modHSL");function GY(t,e){return t&&Object.assign(e||{},t)}o(GY,"clone");function S8(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Lu(t[3]))):(e=GY(t,{r:0,g:0,b:0,a:1}),e.a=Lu(e.a)),e}o(S8,"fromObject");function E9e(t){return t.charAt(0)==="r"?b9e(t):d9e(t)}o(E9e,"functionParse");class zC{static{o(this,"Color")}constructor(e){if(e instanceof zC)return e;const n=typeof e;let r;n==="object"?r=S8(e):n==="string"&&(r=i9e(e)||y9e(e)||E9e(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=GY(this._rgb);return e&&(e.a=ol(e.a)),e}set rgb(e){this._rgb=S8(e)}rgbString(){return this._valid?w9e(this._rgb):void 0}hexString(){return this._valid?o9e(this._rgb):void 0}hslString(){return this._valid?m9e(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const a=n===s?.5:n,l=2*a-1,u=r.a-i.a,c=((l*u===-1?l:(l+u)/(1+l*u))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=a*r.a+(1-a)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=v9e(this._rgb,e._rgb,n)),this}clone(){return new zC(this.rgb)}alpha(e){return this._rgb.a=Lu(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=w1(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return K_(this._rgb,2,e),this}darken(e){return K_(this._rgb,2,-e),this}saturate(e){return K_(this._rgb,1,e),this}desaturate(e){return K_(this._rgb,1,-e),this}rotate(e){return p9e(this._rgb,e),this}}export{NVe as $,An as A,I9e as B,zC as C,F9e as D,Z9e as E,cr as F,Qf as G,We as H,B9e as I,Q9e as J,X9e as K,Ho as L,Ky as M,Ue as N,Gj as O,em as P,qy as Q,rW as R,Ye as S,q9e as T,Gy as U,$Ve as V,lt as W,TVe as X,PVe as Y,le as Z,OVe as _,Dp as a,T9e as a$,SVe as a0,IVe as a1,Jj as a2,kVe as a3,AVe as a4,MVe as a5,LVe as a6,WVe as a7,DVe as a8,CVe as a9,ZVe as aA,QVe as aB,e7e as aC,o7e as aD,t7e as aE,n7e as aF,JR as aG,i7e as aH,r7e as aI,s7e as aJ,GCe as aK,hn as aL,a7e as aM,l7e as aN,u7e as aO,c7e as aP,DIe as aQ,PIe as aR,f7e as aS,Fs as aT,h7e as aU,p7e as aV,IOe as aW,rZ as aX,Yf as aY,De as aZ,S9e as a_,RVe as aa,FVe as ab,UVe as ac,BVe as ad,VVe as ae,HVe as af,Yj as ag,we as ah,zVe as ai,jVe as aj,lf as ak,qSe as al,Fj as am,Er as an,Ir as ao,EVe as ap,og as aq,Qp as ar,xVe as as,qVe as at,KVe as au,tH as av,GVe as aw,YVe as ax,XVe as ay,JVe as az,yf as b,jye as b$,oo as b0,kS as b1,k9e as b2,XC as b3,kt as b4,Qc as b5,Cee as b6,A9e as b7,kne as b8,Q5 as b9,ui as bA,Wze as bB,H2 as bC,My as bD,zze as bE,Lk as bF,fo as bG,cn as bH,CP as bI,ur as bJ,tVe as bK,Uze as bL,Kye as bM,Gye as bN,U3 as bO,wE as bP,hre as bQ,Vze as bR,Hc as bS,eVe as bT,oVe as bU,lVe as bV,ra as bW,uV as bX,Jze as bY,Qze as bZ,W3 as b_,yt as ba,an as bb,vd as bc,nB as bd,j9e as be,F5 as bf,Ane as bg,Kd as bh,uze as bi,C9e as bj,rze as bk,gze as bl,pze as bm,dze as bn,Wse as bo,s0 as bp,ke as bq,qne as br,Hr as bs,kd as bt,EI as bu,Wp as bv,li as bw,Je as bx,qr as by,$n as bz,Un as c,Oze as c$,iVe as c0,qze as c1,qye as c2,sVe as c3,Yye as c4,aVe as c5,y0 as c6,Ys as c7,Gze as c8,Kze as c9,Lze as cA,hu as cB,du as cC,lze as cD,cze as cE,Ia as cF,nze as cG,aze as cH,hze as cI,oze as cJ,sze as cK,mze as cL,fze as cM,ize as cN,sfe as cO,yi as cP,Yn as cQ,_ze as cR,Tze as cS,Jp as cT,V9e as cU,W9e as cV,_Ve as cW,yVe as cX,oz as cY,ime as cZ,zz as c_,Yze as ca,Xze as cb,Hze as cc,xE as cd,Zze as ce,rVe as cf,nVe as cg,jze as ch,Zn as ci,ts as cj,afe as ck,uVe as cl,Rze as cm,cVe as cn,hVe as co,op as cp,mp as cq,dVe as cr,Vy as cs,_E as ct,pVe as cu,mVe as cv,N3 as cw,The as cx,At as cy,p0 as cz,vD as d,bw as d$,ife as d0,Nze as d1,Pze as d2,_I as d3,J9e as d4,sz as d5,U9e as d6,Cze as d7,xo as d8,P9e as d9,Me as dA,IDe as dB,B7e as dC,O7e as dD,b7e as dE,U7e as dF,xhe as dG,bze as dH,lme as dI,z7e as dJ,ohe as dK,dfe as dL,ude as dM,JE as dN,Nme as dO,Jfe as dP,H9e as dQ,Y9e as dR,Aze as dS,kze as dT,M9e as dU,o0e as dV,V7e as dW,sme as dX,vz as dY,nhe as dZ,gz as d_,$ze as da,vze as db,wVe as dc,cz as dd,m7e as de,g7e as df,y7e as dg,PNe as dh,G9e as di,gre as dj,Tl as dk,D9e as dl,$B as dm,Bt as dn,_7e as dp,Dv as dq,eme as dr,eze as ds,xze as dt,R9e as du,JG as dv,fC as dw,Rr as dx,ne as dy,Ht as dz,HB as e,jhe as e0,Mze as e1,tne as e2,tze as e3,z9e as e4,bVe as e5,Mz as e6,Dze as e7,Ize as e8,uz as e9,wB as ea,Lhe as eb,efe as ec,Sze as ed,yfe as ee,Fze as ef,Gce as eg,yze as eh,Bze as ei,wze as ej,ije as ek,oje as el,lje as em,aje as en,sje as eo,Gz as ep,eV as eq,eje as er,Eze as es,tje as et,nje as eu,hde as ev,Pl as f,Ui as g,nie as h,Td as i,$9e as j,L9e as k,O9e as l,El as m,bf as n,ac as o,Ar as p,Ps as q,Ce as r,GB as s,Sne as t,mE as u,_re as v,Zt as w,K9e as x,N9e as y,bre as z};
//# sourceMappingURL=vendor-other-CcUSxTdr.js.map
